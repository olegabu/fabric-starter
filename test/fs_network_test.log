NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel4827 sberbank ; ./verify/test-channel-exists.sh testchannel4827 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel4827 sberbank VERIFY: test-channel-exists.sh testchannel4827 sberbank
[1;36m
Creating the <testchannel4827> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4827[m[m[m
example.net

Create channel sberbank testchannel4827
--2020-02-18 22:07:30--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:07:30--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:07:30--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:07:30--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:07:30.253 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:07:30.343 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:07:30.343 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:07:30.343 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:07:30.343 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:07:30.343 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:07:30.343 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:07:30.343 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:07:30.343 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:07:30.421 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:07:30.421 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:07:30.421 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:07:30.421 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:07:30.421 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:07:30.421 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:07:30.421 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:07:30.422 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:07:30.422 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:07:30.423 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:07:30.423 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:07:30.423 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:07:30.423 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:07:30.424 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:07:30.495 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:07:30.532 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel4827.pb -o orderer.example.net:7050 -c testchannel4827 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:07:30.610 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:07:30.612 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:07:30.613 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:07:30.613 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel4827
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4827 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:07:31.037 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:07:31.046 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel4827> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel4827> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:07:33.130 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:07:33.132 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-18 22:07:33.133 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-18 22:07:33.133 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel4827",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T22:07:31Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel4827> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
./verify/test-channel-does-not-exist.sh testchannel4827 vtb
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel4827 vtb
[1;34m
Verifing if the <testchannel4827> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:07:33.627 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:07:33.629 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel4827> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh ^^^^^^testchannel4827 sberbank ; ./verify/test-channel-does-not-exist.sh ^^^^^^testchannel4827 sberbank
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel4827 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel4827 sberbank
[1;36m
Creating the <^^^^^^testchannel4827> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel4827[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel4827
--2020-02-18 22:07:35--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:07:35--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:07:35--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:07:35--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:07:35.901 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:07:35.947 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:07:35.947 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:07:35.947 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:07:35.947 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:07:35.947 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:07:35.947 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:07:35.947 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:07:35.947 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:07:35.997 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:07:35.997 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:07:35.997 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:07:35.997 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:07:35.997 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:07:35.997 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:07:35.998 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:07:35.998 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:07:35.998 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:07:35.998 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:07:35.998 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:07:35.999 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:07:35.999 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:07:35.999 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:07:36.060 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel4827' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel4827.pb -o orderer.example.net:7050 -c ^^^^^^testchannel4827 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:07:36.123 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:07:36.125 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel4827.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel4827.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel4827
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel4827 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:07:36.283 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel4827' != '^^^^^^testchannel4827'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel4827> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:07:37.178 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:07:37.179 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel4827> does not exist and in not visible to sberbank[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel4827 vtb ; ./verify/test-channel-does-not-exist.sh testchannel4827 vtb
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel4827 vtb VERIFY: test-channel-does-not-exist.sh testchannel4827 vtb
[1;36m
Creating the <testchannel4827> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4827[m[m[m
example.net

Create channel vtb testchannel4827
--2020-02-18 22:07:39--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:07:39--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:07:39--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:07:39--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:07:39.540 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:07:39.612 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:07:39.612 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:07:39.612 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:07:39.612 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:07:39.612 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:07:39.612 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:07:39.612 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:07:39.612 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:07:39.676 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:07:39.676 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:07:39.676 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:07:39.676 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:07:39.676 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:07:39.676 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:07:39.676 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:07:39.677 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:07:39.677 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-18 22:07:39.677 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:07:39.677 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:07:39.678 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:07:39.678 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-18 22:07:39.678 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:07:39.793 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel4827.pb -o orderer.example.net:7050 -c testchannel4827 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:07:39.956 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:07:39.960 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel4827.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel4827.json: No such file or directory
>> Prepare config update from vtb for channel testchannel4827
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4827 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:07:40.200 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel4827> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:07:41.220 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:07:41.222 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel4827> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel4827-02 vtb ; ./verify/test-channel-exists.sh testchannel4827-02 vtb
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel4827-02 vtb VERIFY: test-channel-exists.sh testchannel4827-02 vtb
[1;36m
Creating the <testchannel4827-02> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4827-02[m[m[m
example.net

Create channel vtb testchannel4827-02
--2020-02-18 22:07:43--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:07:43--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:07:43--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:07:43--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:07:43.448 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:07:43.495 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:07:43.495 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:07:43.495 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:07:43.495 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:07:43.495 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:07:43.495 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:07:43.495 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:07:43.495 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:07:43.541 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:07:43.541 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:07:43.541 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:07:43.541 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:07:43.541 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:07:43.541 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:07:43.541 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:07:43.542 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:07:43.542 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-18 22:07:43.542 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:07:43.542 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:07:43.542 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:07:43.543 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-18 22:07:43.543 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:07:43.597 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:07:43.631 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel4827-02.pb -o orderer.example.net:7050 -c testchannel4827-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:07:43.705 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:07:43.707 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:07:43.709 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:07:43.709 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel4827-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4827-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:07:44.017 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:07:44.026 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel4827-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel4827-02> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:07:46.076 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:07:46.078 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-18 22:07:46.079 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-18 22:07:46.079 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel4827-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T22:07:44Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel4827-02> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
./verify/test-channel-does-not-exist.sh testchannel4827-02 sberbank
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel4827-02 sberbank
[1;34m
Verifing if the <testchannel4827-02> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:07:46.549 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:07:46.550 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel4827-02> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel29095 sberbank ; ./verify/test-channel-exists.sh testchannel29095 sberbank
Step: 7_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel29095 sberbank VERIFY: test-channel-exists.sh testchannel29095 sberbank
[1;36mCreating testchannel29095 channel in sberbank.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2MzY2Nn0.VP6n7nWgsKz5EQuh-qvZgjjuTdT8yU5u05gicyXApuQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.net:7051","name":"peer0.sberbank.example.net:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.net:7051","grpc.default_authority":"peer0.sberbank.example.net:7051"}}}] 200
[1;32mOK: Channel <testchannel29095> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel29095> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:07:50.901 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:07:50.902 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:07:50.903 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:07:50.903 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel29095",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T22:07:47Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel29095> exists and visible to sberbank[m[m[m
Step 7_api: exit code 0
./verify/test-channel-does-not-exist.sh testchannel29095 vtb
Step: 8_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel29095 vtb
[1;34m
Verifing if the <testchannel29095> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:07:51.381 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:07:51.382 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel29095> does not exist and in not visible to vtb[m[m[m
Step 8_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh ^^^^^^testchannel29095 sberbank ; ./verify/test-channel-does-not-exist.sh ^^^^^^testchannel29095 sberbank
Step: 9_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel29095 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel29095 sberbank
[1;36mCreating ^^^^^^testchannel29095 channel in sberbank.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2MzY3MX0.PzoqiMd7TkKNu3bHwM44DcEF2cGQ9XRRlQgTZL2cUzk
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel29095\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel29095> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:07:53.267 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:07:53.268 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel29095> does not exist and in not visible to sberbank[m[m[m
Step 9_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh testchannel29095 vtb ; ./verify/test-channel-does-not-exist.sh testchannel29095 vtb
Step: 10_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel29095 vtb VERIFY: test-channel-does-not-exist.sh testchannel29095 vtb
[1;36mCreating testchannel29095 channel in vtb.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4001
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2MzY3M30.NyevfpWp-lgoe5EjQyuQPj2LKgADBKKhYM3W83ZRWwM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel29095> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:07:55.315 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:07:55.317 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel29095> does not exist and in not visible to vtb[m[m[m
Step 10_api: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel29095-02 vtb ; ./verify/test-channel-exists.sh testchannel29095-02 vtb
Step: 11_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel29095-02 vtb VERIFY: test-channel-exists.sh testchannel29095-02 vtb
[1;36mCreating testchannel29095-02 channel in vtb.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4001
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2MzY3NX0.dkCXBaxmbIRXBkeUWPpI6bs0JqrexJ3L2nIygVpFhRQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.net:8051","name":"peer0.vtb.example.net:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.net:8051","grpc.default_authority":"peer0.vtb.example.net:8051"}}}] 200
[1;32mOK: Channel <testchannel29095-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel29095-02> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:07:57.616 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:07:57.618 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:07:57.619 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:07:57.619 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel29095-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T22:07:56Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel29095-02> exists and visible to vtb[m[m[m
Step 11_api: exit code 0
./verify/test-channel-does-not-exist.sh testchannel29095-02 sberbank
Step: 12_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel29095-02 sberbank
[1;34m
Verifing if the <testchannel29095-02> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:07:58.164 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:07:58.166 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel29095-02> does not exist and in not visible to sberbank[m[m[m
Step 12_api: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel5441 sberbank ; ./verify/test-channel-exists.sh testchannel5441 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel5441 sberbank VERIFY: test-channel-exists.sh testchannel5441 sberbank
[1;36m
Creating the <testchannel5441> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel5441[m[m[m
example.net

Create channel sberbank testchannel5441
--2020-02-18 22:08:36--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:08:36--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:08:36--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:08:36--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:08:36.124 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:08:36.170 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:08:36.170 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:08:36.170 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:08:36.170 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:08:36.170 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:08:36.170 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:08:36.170 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:08:36.170 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:08:36.217 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:08:36.217 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:08:36.217 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:08:36.217 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:08:36.217 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:08:36.217 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:08:36.217 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:08:36.217 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:08:36.218 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:08:36.218 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:08:36.218 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:08:36.218 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:08:36.218 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:08:36.219 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:08:36.271 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:08:36.313 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel5441.pb -o orderer.example.net:7050 -c testchannel5441 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:08:36.393 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:08:36.395 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:08:36.396 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:08:36.396 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel5441
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel5441 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:08:36.673 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:08:36.681 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel5441> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel5441> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:08:38.990 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:08:38.993 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-18 22:08:38.999 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-18 22:08:38.999 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel5441",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T22:08:36Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel5441> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
./verify/test-channel-does-not-exist.sh testchannel5441 vtb
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel5441 vtb
[1;34m
Verifing if the <testchannel5441> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:08:40.078 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:08:40.081 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel5441> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh ^^^^^^testchannel5441 sberbank ; ./verify/test-channel-does-not-exist.sh ^^^^^^testchannel5441 sberbank
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel5441 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel5441 sberbank
[1;36m
Creating the <^^^^^^testchannel5441> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel5441[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel5441
--2020-02-18 22:08:42--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:08:42--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:08:42--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:08:42--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:08:42.610 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:08:42.658 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:08:42.658 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:08:42.658 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:08:42.658 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:08:42.658 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:08:42.658 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:08:42.658 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:08:42.658 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:08:42.704 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:08:42.704 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:08:42.704 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:08:42.704 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:08:42.704 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:08:42.704 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:08:42.704 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:08:42.704 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:08:42.705 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:08:42.705 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:08:42.705 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:08:42.705 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:08:42.705 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:08:42.705 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:08:42.765 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel5441' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel5441.pb -o orderer.example.net:7050 -c ^^^^^^testchannel5441 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:08:42.832 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:08:42.834 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel5441.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel5441.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel5441
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel5441 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:08:42.997 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel5441' != '^^^^^^testchannel5441'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel5441> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:08:43.899 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:08:43.901 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel5441> does not exist and in not visible to sberbank[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel5441 vtb ; ./verify/test-channel-does-not-exist.sh testchannel5441 vtb
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel5441 vtb VERIFY: test-channel-does-not-exist.sh testchannel5441 vtb
[1;36m
Creating the <testchannel5441> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel5441[m[m[m
example.net

Create channel vtb testchannel5441
--2020-02-18 22:08:46--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:08:46--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:08:46--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:08:46--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:08:46.084 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:08:46.131 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:08:46.131 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:08:46.131 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:08:46.131 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:08:46.131 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:08:46.131 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:08:46.131 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:08:46.131 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:08:46.177 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:08:46.177 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:08:46.177 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:08:46.177 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:08:46.177 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:08:46.177 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:08:46.177 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:08:46.178 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:08:46.178 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-18 22:08:46.178 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:08:46.178 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:08:46.178 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:08:46.179 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-18 22:08:46.179 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:08:46.233 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel5441.pb -o orderer.example.net:7050 -c testchannel5441 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:08:46.295 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:08:46.297 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel5441.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel5441.json: No such file or directory
>> Prepare config update from vtb for channel testchannel5441
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel5441 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:08:46.454 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel5441> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:08:47.414 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:08:47.416 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel5441> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel5441-02 vtb ; ./verify/test-channel-exists.sh testchannel5441-02 vtb
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel5441-02 vtb VERIFY: test-channel-exists.sh testchannel5441-02 vtb
[1;36m
Creating the <testchannel5441-02> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel5441-02[m[m[m
example.net

Create channel vtb testchannel5441-02
--2020-02-18 22:08:49--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:08:49--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:08:49--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:08:49--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:08:49.845 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:08:49.956 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:08:49.956 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:08:49.957 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:08:49.957 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:08:49.957 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:08:49.957 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:08:49.957 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:08:49.957 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:08:50.066 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:08:50.066 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:08:50.066 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:08:50.067 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:08:50.067 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:08:50.067 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:08:50.067 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:08:50.067 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:08:50.068 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-18 22:08:50.068 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:08:50.068 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:08:50.068 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:08:50.068 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-18 22:08:50.069 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:08:50.153 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:08:50.187 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel5441-02.pb -o orderer.example.net:7050 -c testchannel5441-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:08:50.272 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:08:50.274 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:08:50.275 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:08:50.275 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel5441-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel5441-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:08:50.641 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:08:50.655 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel5441-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel5441-02> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:08:52.838 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:08:52.840 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-18 22:08:52.841 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-18 22:08:52.841 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel5441-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T22:08:50Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel5441-02> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
./verify/test-channel-does-not-exist.sh testchannel5441-02 sberbank
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel5441-02 sberbank
[1;34m
Verifing if the <testchannel5441-02> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:08:53.359 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:08:53.360 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel5441-02> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel6425 sberbank ; ./verify/test-channel-exists.sh testchannel6425 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel6425 sberbank VERIFY: test-channel-exists.sh testchannel6425 sberbank
[1;36m
Creating the <testchannel6425> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel6425[m[m[m
example.net

Create channel sberbank testchannel6425
--2020-02-18 22:10:42--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:10:42--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:10:42--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:10:42--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:10:42.468 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:10:42.515 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:10:42.515 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:10:42.515 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:10:42.515 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:10:42.515 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:10:42.515 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:10:42.515 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:10:42.515 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:10:42.561 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:10:42.561 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:10:42.561 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:10:42.561 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:10:42.561 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:10:42.561 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:10:42.561 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:10:42.561 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:10:42.562 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:10:42.562 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:10:42.562 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:10:42.562 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:10:42.562 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:10:42.563 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:10:42.615 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:10:42.653 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel6425.pb -o orderer.example.net:7050 -c testchannel6425 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:10:42.744 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:10:42.745 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:10:42.746 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:10:42.746 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel6425
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel6425 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:10:43.026 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:10:43.033 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel6425> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel6425> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:10:45.123 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:10:45.125 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-18 22:10:45.126 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-18 22:10:45.126 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel6425",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T22:10:43Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel6425> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
./verify/test-channel-does-not-exist.sh testchannel6425 vtb
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel6425 vtb
[1;34m
Verifing if the <testchannel6425> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:10:45.612 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:10:45.613 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel6425> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh ^^^^^^testchannel6425 sberbank ; ./verify/test-channel-does-not-exist.sh ^^^^^^testchannel6425 sberbank
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel6425 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel6425 sberbank
[1;36m
Creating the <^^^^^^testchannel6425> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel6425[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel6425
--2020-02-18 22:10:47--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:10:47--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:10:47--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:10:47--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:10:47.903 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:10:47.951 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:10:47.951 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:10:47.951 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:10:47.951 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:10:47.951 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:10:47.951 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:10:47.951 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:10:47.951 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:10:47.997 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:10:47.997 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:10:47.998 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:10:47.998 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:10:47.998 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:10:47.998 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:10:47.998 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:10:47.998 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:10:47.998 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:10:47.999 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:10:47.999 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:10:47.999 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:10:47.999 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:10:47.999 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:10:48.052 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel6425' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel6425.pb -o orderer.example.net:7050 -c ^^^^^^testchannel6425 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:10:48.116 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:10:48.117 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel6425.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel6425.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel6425
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel6425 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:10:48.281 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel6425' != '^^^^^^testchannel6425'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel6425> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:10:49.748 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:10:49.754 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel6425> does not exist and in not visible to sberbank[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel6425 vtb ; ./verify/test-channel-does-not-exist.sh testchannel6425 vtb
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel6425 vtb VERIFY: test-channel-does-not-exist.sh testchannel6425 vtb
[1;36m
Creating the <testchannel6425> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel6425[m[m[m
example.net

Create channel vtb testchannel6425
--2020-02-18 22:10:52--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:10:52--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:10:52--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:10:52--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:10:52.496 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:10:52.543 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:10:52.543 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:10:52.543 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:10:52.543 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:10:52.543 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:10:52.543 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:10:52.543 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:10:52.543 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:10:52.591 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:10:52.591 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:10:52.591 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:10:52.591 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:10:52.591 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:10:52.591 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:10:52.591 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:10:52.591 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:10:52.592 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-18 22:10:52.592 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:10:52.592 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:10:52.592 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:10:52.593 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-18 22:10:52.593 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:10:52.644 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel6425.pb -o orderer.example.net:7050 -c testchannel6425 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:10:52.705 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:10:52.707 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel6425.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel6425.json: No such file or directory
>> Prepare config update from vtb for channel testchannel6425
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel6425 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:10:52.896 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel6425> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:10:53.941 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:10:53.943 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel6425> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel6425-02 vtb ; ./verify/test-channel-exists.sh testchannel6425-02 vtb
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel6425-02 vtb VERIFY: test-channel-exists.sh testchannel6425-02 vtb
[1;36m
Creating the <testchannel6425-02> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel6425-02[m[m[m
example.net

Create channel vtb testchannel6425-02
--2020-02-18 22:10:56--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:10:56--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:10:56--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:10:56--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:10:56.067 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:10:56.116 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:10:56.116 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:10:56.116 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:10:56.116 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:10:56.116 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:10:56.116 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:10:56.116 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:10:56.116 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:10:56.163 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:10:56.163 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:10:56.164 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:10:56.164 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:10:56.164 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:10:56.164 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:10:56.164 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:10:56.164 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:10:56.164 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-18 22:10:56.164 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:10:56.164 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:10:56.165 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:10:56.165 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-18 22:10:56.165 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:10:56.216 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:10:56.254 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel6425-02.pb -o orderer.example.net:7050 -c testchannel6425-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:10:56.327 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:10:56.330 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:10:56.331 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:10:56.331 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel6425-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel6425-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:10:56.619 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:10:56.627 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel6425-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel6425-02> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:10:58.661 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:10:58.664 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-18 22:10:58.665 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-18 22:10:58.665 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel6425-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T22:10:56Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel6425-02> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
./verify/test-channel-does-not-exist.sh testchannel6425-02 sberbank
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel6425-02 sberbank
[1;34m
Verifing if the <testchannel6425-02> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:10:59.628 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:10:59.632 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel6425-02> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel6425-02 sberbank ; ./verify/test-channel-does-not-exist.sh testchannel6425-02 sberbank
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel6425-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel6425-02 sberbank
[1;36m
Creating the <testchannel6425-02> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel6425-02[m[m[m
example.net

Create channel sberbank testchannel6425-02
--2020-02-18 22:11:02--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:11:02--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:11:02--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:11:02--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:11:02.459 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:11:02.505 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:11:02.505 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:11:02.505 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:11:02.505 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:11:02.505 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:11:02.505 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:11:02.505 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:11:02.505 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:11:02.556 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:11:02.556 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:11:02.556 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:11:02.556 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:11:02.556 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:11:02.556 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:11:02.556 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:11:02.556 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:11:02.557 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:11:02.557 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:11:02.557 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:11:02.557 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:11:02.557 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:11:02.557 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:11:02.608 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel6425-02.pb -o orderer.example.net:7050 -c testchannel6425-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:11:02.671 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:11:02.673 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel6425-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel6425-02.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel6425-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel6425-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:11:02.856 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel6425-02> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:11:03.838 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:11:03.840 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel6425-02> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel11977 sberbank ; ./verify/test-channel-exists.sh testchannel11977 sberbank
Step: 8_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel11977 sberbank VERIFY: test-channel-exists.sh testchannel11977 sberbank
[1;36mCreating testchannel11977 channel in sberbank.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2Mzg2NH0.cwfoIj7oudvMb3SeUV0oKryX4egJVVELXuJo5KpzdKI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.net:7051","name":"peer0.sberbank.example.net:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.net:7051","grpc.default_authority":"peer0.sberbank.example.net:7051"}}}] 200
[1;32mOK: Channel <testchannel11977> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel11977> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:11:06.122 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:11:06.124 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:11:06.125 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:11:06.125 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel11977",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T22:11:05Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel11977> exists and visible to sberbank[m[m[m
Step 8_api: exit code 0
./verify/test-channel-does-not-exist.sh testchannel11977 vtb
Step: 9_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel11977 vtb
[1;34m
Verifing if the <testchannel11977> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:11:06.609 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:11:06.611 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel11977> does not exist and in not visible to vtb[m[m[m
Step 9_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh ^^^^^^testchannel11977 sberbank ; ./verify/test-channel-does-not-exist.sh ^^^^^^testchannel11977 sberbank
Step: 10_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel11977 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel11977 sberbank
[1;36mCreating ^^^^^^testchannel11977 channel in sberbank.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2Mzg2Nn0.gguicMnbP7rYzucUdwgZ7TNEkTTDsFouFAyiSEexWeY
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel11977\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel11977> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:11:08.592 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:11:08.593 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel11977> does not exist and in not visible to sberbank[m[m[m
Step 10_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh testchannel11977 vtb ; ./verify/test-channel-does-not-exist.sh testchannel11977 vtb
Step: 11_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel11977 vtb VERIFY: test-channel-does-not-exist.sh testchannel11977 vtb
[1;36mCreating testchannel11977 channel in vtb.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4001
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2Mzg3MH0.3xN3ESk4Wy25nqf-Gq64mWSuBvoA4E_HdPCw7_Vrzk8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel11977> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:11:11.990 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:11:11.992 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel11977> does not exist and in not visible to vtb[m[m[m
Step 11_api: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel11977-02 vtb ; ./verify/test-channel-exists.sh testchannel11977-02 vtb
Step: 12_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel11977-02 vtb VERIFY: test-channel-exists.sh testchannel11977-02 vtb
[1;36mCreating testchannel11977-02 channel in vtb.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4001
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2Mzg3Mn0.exnCoIzpJBbYg-hMIF9NJdyHIp_y1MYQbw57ZbPKU_4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.net:8051","name":"peer0.vtb.example.net:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.net:8051","grpc.default_authority":"peer0.vtb.example.net:8051"}}}] 200
[1;32mOK: Channel <testchannel11977-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel11977-02> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:11:14.200 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:11:14.202 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:11:14.203 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:11:14.203 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel11977-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T22:11:13Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel11977-02> exists and visible to vtb[m[m[m
Step 12_api: exit code 0
./verify/test-channel-does-not-exist.sh testchannel11977-02 sberbank
Step: 13_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel11977-02 sberbank
[1;34m
Verifing if the <testchannel11977-02> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:11:14.723 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:11:14.724 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel11977-02> does not exist and in not visible to sberbank[m[m[m
Step 13_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh testchannel11977-02 sberbank ; ./verify/test-channel-does-not-exist.sh testchannel11977-02 sberbank
Step: 14_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel11977-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel11977-02 sberbank
[1;36mCreating testchannel11977-02 channel in sberbank.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2Mzg3NX0.0VYuI7gC51gEz1JiMeDo_a-fylBZFExVqBts2ADcrGM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel11977-02> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:11:16.669 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:11:16.671 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel11977-02> does not exist and in not visible to sberbank[m[m[m
Step 14_api: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel25815 sberbank ; ./verify/test-channel-exists.sh testchannel258156 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel25815 sberbank VERIFY: test-channel-exists.sh testchannel258156 sberbank
[1;36m
Creating the <testchannel25815> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel25815[m[m[m
example.net

Create channel sberbank testchannel25815
--2020-02-18 22:11:50--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:11:50--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:11:50--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:11:50--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:11:50.763 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:11:50.826 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:11:50.826 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:11:50.827 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:11:50.827 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:11:50.827 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:11:50.827 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:11:50.827 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:11:50.827 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:11:50.886 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:11:50.886 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:11:50.886 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:11:50.886 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:11:50.886 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:11:50.887 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:11:50.887 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:11:50.887 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:11:50.887 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:11:50.887 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:11:50.887 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:11:50.888 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:11:50.888 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:11:50.888 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:11:50.973 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:11:51.011 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel25815.pb -o orderer.example.net:7050 -c testchannel25815 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:11:51.096 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:11:51.097 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:11:51.098 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:11:51.098 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel25815
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel25815 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:11:51.420 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:11:51.428 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel25815> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel258156> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:11:53.494 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:11:53.495 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 1_cli: exit code 1
./verify/test-channel-does-not-exist.sh testchannel25815 vtb
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel25815 vtb
[1;34m
Verifing if the <testchannel25815> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:11:53.982 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:11:53.984 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel25815> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh ^^^^^^testchannel25815 sberbank ; ./verify/test-channel-does-not-exist.sh ^^^^^^testchannel25815 sberbank
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel25815 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel25815 sberbank
[1;36m
Creating the <^^^^^^testchannel25815> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel25815[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel25815
--2020-02-18 22:11:56--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:11:56--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:11:56--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:11:56--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:11:56.323 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:11:56.371 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:11:56.371 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:11:56.371 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:11:56.371 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:11:56.371 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:11:56.371 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:11:56.371 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:11:56.371 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:11:56.417 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:11:56.417 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:11:56.417 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:11:56.417 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:11:56.417 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:11:56.417 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:11:56.418 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:11:56.418 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:11:56.418 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:11:56.418 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:11:56.418 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:11:56.419 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:11:56.419 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:11:56.419 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:11:56.471 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel25815' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel25815.pb -o orderer.example.net:7050 -c ^^^^^^testchannel25815 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:11:56.537 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:11:56.538 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel25815.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel25815.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel25815
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel25815 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:11:56.696 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel25815' != '^^^^^^testchannel25815'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel25815> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:11:57.629 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:11:57.630 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel25815> does not exist and in not visible to sberbank[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel25815 vtb ; ./verify/test-channel-does-not-exist.sh testchannel25815 vtb
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel25815 vtb VERIFY: test-channel-does-not-exist.sh testchannel25815 vtb
[1;36m
Creating the <testchannel25815> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel25815[m[m[m
example.net

Create channel vtb testchannel25815
--2020-02-18 22:12:00--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:12:00--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:12:00--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:12:00--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:12:00.163 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:12:00.264 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:12:00.264 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:12:00.264 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:12:00.264 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:12:00.264 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:12:00.264 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:12:00.264 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:12:00.264 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:12:00.329 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:12:00.329 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:12:00.329 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:12:00.329 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:12:00.329 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:12:00.329 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:12:00.330 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:12:00.330 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:12:00.331 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-18 22:12:00.331 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:12:00.331 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:12:00.331 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:12:00.332 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-18 22:12:00.332 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:12:00.416 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel25815.pb -o orderer.example.net:7050 -c testchannel25815 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:12:00.489 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:12:00.491 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel25815.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel25815.json: No such file or directory
>> Prepare config update from vtb for channel testchannel25815
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel25815 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:12:00.711 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel25815> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:12:01.807 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:12:01.808 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel25815> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel25815-02 vtb ; ./verify/test-channel-exists.sh testchannel25815-02 vtb
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel25815-02 vtb VERIFY: test-channel-exists.sh testchannel25815-02 vtb
[1;36m
Creating the <testchannel25815-02> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel25815-02[m[m[m
example.net

Create channel vtb testchannel25815-02
--2020-02-18 22:12:03--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:12:03--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:12:03--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:12:03--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:12:04.006 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:12:04.054 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:12:04.054 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:12:04.054 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:12:04.054 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:12:04.054 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:12:04.054 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:12:04.054 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:12:04.054 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:12:04.101 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:12:04.101 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:12:04.101 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:12:04.101 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:12:04.101 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:12:04.101 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:12:04.102 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:12:04.102 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:12:04.102 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-18 22:12:04.102 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:12:04.102 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:12:04.103 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:12:04.103 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-18 22:12:04.103 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:12:04.155 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:12:04.197 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel25815-02.pb -o orderer.example.net:7050 -c testchannel25815-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:12:04.281 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:12:04.283 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:12:04.284 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:12:04.284 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel25815-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel25815-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:12:04.586 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:12:04.595 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel25815-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel25815-02> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:12:06.709 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:12:06.711 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-18 22:12:06.712 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-18 22:12:06.712 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel25815-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T22:12:04Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel25815-02> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
./verify/test-channel-does-not-exist.sh testchannel25815-02 sberbank
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel25815-02 sberbank
[1;34m
Verifing if the <testchannel25815-02> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:12:07.216 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:12:07.218 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel25815-02> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel25815-02 sberbank ; ./verify/test-channel-does-not-exist.sh testchannel25815-02 sberbank
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel25815-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel25815-02 sberbank
[1;36m
Creating the <testchannel25815-02> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel25815-02[m[m[m
example.net

Create channel sberbank testchannel25815-02
--2020-02-18 22:12:09--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:12:09--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:12:09--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:12:09--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:12:09.589 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:12:09.695 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:12:09.695 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:12:09.695 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:12:09.695 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:12:09.695 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:12:09.695 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:12:09.695 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:12:09.695 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:12:09.888 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:12:09.888 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:12:09.888 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:12:09.888 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:12:09.888 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:12:09.888 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:12:09.888 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:12:09.889 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:12:09.889 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:12:09.889 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:12:09.889 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:12:09.889 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:12:09.890 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:12:09.890 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:12:10.003 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel25815-02.pb -o orderer.example.net:7050 -c testchannel25815-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:12:10.145 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:12:10.148 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel25815-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel25815-02.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel25815-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel25815-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:12:10.431 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel25815-02> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:12:11.525 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:12:11.527 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel25815-02> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel3318 sberbank ; ./verify/test-channel-exists.sh testchannel33186 sberbank
Step: 8_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel3318 sberbank VERIFY: test-channel-exists.sh testchannel33186 sberbank
[1;36mCreating testchannel3318 channel in sberbank.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2MzkzMX0.D0AWPIUz8vnkFiKInsg8z6F_Hd4UHGqLEpd83a43-Qo
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.net:7051","name":"peer0.sberbank.example.net:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.net:7051","grpc.default_authority":"peer0.sberbank.example.net:7051"}}}] 200
[1;32mOK: Channel <testchannel3318> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel33186> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:12:13.864 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:12:13.865 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 8_api: exit code 1
./verify/test-channel-does-not-exist.sh testchannel3318 vtb
Step: 9_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel3318 vtb
[1;34m
Verifing if the <testchannel3318> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:12:14.352 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:12:14.354 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel3318> does not exist and in not visible to vtb[m[m[m
Step 9_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh ^^^^^^testchannel3318 sberbank ; ./verify/test-channel-does-not-exist.sh ^^^^^^testchannel3318 sberbank
Step: 10_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel3318 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel3318 sberbank
[1;36mCreating ^^^^^^testchannel3318 channel in sberbank.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2MzkzNH0.oLC_0I84UY_rb16KGrtoHxwdH2T102MBxETifOjjUWc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel3318\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel3318> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:12:16.253 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:12:16.254 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel3318> does not exist and in not visible to sberbank[m[m[m
Step 10_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh testchannel3318 vtb ; ./verify/test-channel-does-not-exist.sh testchannel3318 vtb
Step: 11_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel3318 vtb VERIFY: test-channel-does-not-exist.sh testchannel3318 vtb
[1;36mCreating testchannel3318 channel in vtb.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4001
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2MzkzNn0.JrqSizU5DZJhRcoDAalGCjKo9wFMHQFllxbW33o5drk
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel3318> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:12:18.311 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:12:18.313 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel3318> does not exist and in not visible to vtb[m[m[m
Step 11_api: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel3318-02 vtb ; ./verify/test-channel-exists.sh testchannel3318-02 vtb
Step: 12_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel3318-02 vtb VERIFY: test-channel-exists.sh testchannel3318-02 vtb
[1;36mCreating testchannel3318-02 channel in vtb.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4001
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2MzkzOH0.G-wfADGLX0P2LnsuazJPr6cOHkelfMu2Qlv3p3y9rjc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.net:8051","name":"peer0.vtb.example.net:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.net:8051","grpc.default_authority":"peer0.vtb.example.net:8051"}}}] 200
[1;32mOK: Channel <testchannel3318-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel3318-02> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:12:22.049 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:12:22.051 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:12:22.052 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:12:22.052 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel3318-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T22:12:20Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel3318-02> exists and visible to vtb[m[m[m
Step 12_api: exit code 0
./verify/test-channel-does-not-exist.sh testchannel3318-02 sberbank
Step: 13_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel3318-02 sberbank
[1;34m
Verifing if the <testchannel3318-02> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:12:22.513 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:12:22.515 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel3318-02> does not exist and in not visible to sberbank[m[m[m
Step 13_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh testchannel3318-02 sberbank ; ./verify/test-channel-does-not-exist.sh testchannel3318-02 sberbank
Step: 14_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel3318-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel3318-02 sberbank
[1;36mCreating testchannel3318-02 channel in sberbank.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2Mzk0Mn0.UYB_KzO1CjFZYSvx_WdRYnMmN9ozXftdYBGTIgD6UvQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel3318-02> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:12:24.435 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:12:24.436 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel3318-02> does not exist and in not visible to sberbank[m[m[m
Step 14_api: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel4298 sberbank ; ./verify/test-channel-exists.sh testchannel42986 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel4298 sberbank VERIFY: test-channel-exists.sh testchannel42986 sberbank
[1;36m
Creating the <testchannel4298> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4298[m[m[m
example.net

Create channel sberbank testchannel4298
--2020-02-18 22:13:13--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:13:13--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:13:13--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:13:13--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:13:13.922 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:13:13.970 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:13:13.970 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:13:13.970 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:13:13.970 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:13:13.970 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:13:13.970 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:13:13.970 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:13:13.970 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:13:14.018 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:13:14.018 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:13:14.018 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:13:14.018 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:13:14.018 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:13:14.018 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:13:14.018 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:13:14.019 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:13:14.019 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:13:14.019 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:13:14.019 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:13:14.019 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:13:14.020 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:13:14.020 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:13:14.071 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:13:14.104 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel4298.pb -o orderer.example.net:7050 -c testchannel4298 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:13:14.164 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:13:14.165 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:13:14.166 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:13:14.166 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel4298
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4298 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:13:14.478 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:13:14.486 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel4298> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel42986> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:13:16.505 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:13:16.506 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 1_cli: exit code 1
./verify/test-channel-does-not-exist.sh testchannel4298 vtb
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel4298 vtb
[1;34m
Verifing if the <testchannel4298> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:13:16.965 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:13:16.966 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel4298> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh ^^^^^^testchannel4298 sberbank ; ./verify/test-channel-does-not-exist.sh ^^^^^^testchannel4298 sberbank
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel4298 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel4298 sberbank
[1;36m
Creating the <^^^^^^testchannel4298> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel4298[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel4298
--2020-02-18 22:13:19--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:13:19--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:13:19--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:13:19--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:13:19.267 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:13:19.350 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:13:19.350 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:13:19.350 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:13:19.350 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:13:19.350 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:13:19.350 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:13:19.350 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:13:19.350 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:13:19.408 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:13:19.408 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:13:19.408 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:13:19.408 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:13:19.408 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:13:19.408 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:13:19.408 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:13:19.408 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:13:19.409 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:13:19.409 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:13:19.409 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:13:19.409 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:13:19.410 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:13:19.410 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:13:19.506 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel4298' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel4298.pb -o orderer.example.net:7050 -c ^^^^^^testchannel4298 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:13:19.701 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:13:19.703 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel4298.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel4298.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel4298
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel4298 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:13:20.159 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel4298' != '^^^^^^testchannel4298'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel4298> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:13:21.380 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:13:21.382 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel4298> does not exist and in not visible to sberbank[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel4298 vtb ; ./verify/test-channel-does-not-exist.sh testchannel4298 vtb
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel4298 vtb VERIFY: test-channel-does-not-exist.sh testchannel4298 vtb
[1;36m
Creating the <testchannel4298> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4298[m[m[m
example.net

Create channel vtb testchannel4298
--2020-02-18 22:13:23--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:13:23--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:13:23--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:13:23--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:13:23.621 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:13:23.669 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:13:23.669 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:13:23.669 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:13:23.669 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:13:23.669 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:13:23.669 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:13:23.669 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:13:23.669 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:13:23.716 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:13:23.716 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:13:23.716 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:13:23.716 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:13:23.716 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:13:23.716 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:13:23.716 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:13:23.717 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:13:23.717 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-18 22:13:23.718 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:13:23.718 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:13:23.718 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:13:23.718 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-18 22:13:23.719 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:13:23.783 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel4298.pb -o orderer.example.net:7050 -c testchannel4298 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:13:23.849 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:13:23.850 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel4298.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel4298.json: No such file or directory
>> Prepare config update from vtb for channel testchannel4298
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4298 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:13:24.010 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel4298> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:13:24.996 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:13:24.997 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel4298> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel4298-02 vtb ; ./verify/test-channel-exists.sh testchannel4298-02 vtb
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel4298-02 vtb VERIFY: test-channel-exists.sh testchannel4298-02 vtb
[1;36m
Creating the <testchannel4298-02> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4298-02[m[m[m
example.net

Create channel vtb testchannel4298-02
--2020-02-18 22:13:27--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:13:27--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:13:27--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:13:27--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:13:27.090 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:13:27.136 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:13:27.136 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:13:27.136 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:13:27.136 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:13:27.136 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:13:27.136 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:13:27.136 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:13:27.136 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:13:27.187 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:13:27.187 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:13:27.187 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:13:27.187 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:13:27.187 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:13:27.188 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:13:27.188 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:13:27.189 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:13:27.189 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-18 22:13:27.189 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:13:27.189 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:13:27.190 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:13:27.190 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-18 22:13:27.190 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:13:27.282 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:13:27.320 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel4298-02.pb -o orderer.example.net:7050 -c testchannel4298-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:13:27.442 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:13:27.444 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:13:27.445 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:13:27.445 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel4298-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4298-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:13:27.747 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:13:27.763 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel4298-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel4298-02> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:13:30.206 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:13:30.216 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-18 22:13:30.219 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-18 22:13:30.219 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel4298-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T22:13:27Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel4298-02> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
./verify/test-channel-does-not-exist.sh testchannel4298-02 sberbank
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel4298-02 sberbank
[1;34m
Verifing if the <testchannel4298-02> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:13:30.973 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:13:30.976 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel4298-02> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel4298-02 sberbank ; ./verify/test-channel-does-not-exist.sh testchannel4298-02 sberbank
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel4298-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel4298-02 sberbank
[1;36m
Creating the <testchannel4298-02> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4298-02[m[m[m
example.net

Create channel sberbank testchannel4298-02
--2020-02-18 22:13:33--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:13:33--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:13:33--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:13:33--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:13:33.400 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:13:33.447 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:13:33.447 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:13:33.447 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:13:33.447 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:13:33.447 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:13:33.448 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:13:33.448 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:13:33.448 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:13:33.494 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:13:33.494 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:13:33.494 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:13:33.494 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:13:33.494 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:13:33.494 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:13:33.494 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:13:33.495 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:13:33.495 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:13:33.495 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:13:33.495 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:13:33.495 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:13:33.496 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:13:33.496 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:13:33.548 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel4298-02.pb -o orderer.example.net:7050 -c testchannel4298-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:13:33.610 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:13:33.612 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel4298-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel4298-02.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel4298-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4298-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:13:33.789 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel4298-02> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:13:34.751 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:13:34.754 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel4298-02> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel27871 sberbank ; ./verify/test-channel-exists.sh testchannel278716 sberbank
Step: 8_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel27871 sberbank VERIFY: test-channel-exists.sh testchannel278716 sberbank
[1;36mCreating testchannel27871 channel in sberbank.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2NDAxNX0.vau0-AW6-sdoo9ooFKwt33-SHq2TQeSCnquG7GfUyig
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.net:7051","name":"peer0.sberbank.example.net:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.net:7051","grpc.default_authority":"peer0.sberbank.example.net:7051"}}}] 200
[1;32mOK: Channel <testchannel27871> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel278716> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:13:37.031 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:13:37.032 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 8_api: exit code 1
./verify/test-channel-does-not-exist.sh testchannel27871 vtb
Step: 9_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel27871 vtb
[1;34m
Verifing if the <testchannel27871> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:13:37.542 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:13:37.544 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel27871> does not exist and in not visible to vtb[m[m[m
Step 9_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh ^^^^^^testchannel27871 sberbank ; ./verify/test-channel-does-not-exist.sh ^^^^^^testchannel27871 sberbank
Step: 10_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel27871 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel27871 sberbank
[1;36mCreating ^^^^^^testchannel27871 channel in sberbank.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2NDAxN30.XGxW_8LLmrk7pH5v2sXP6wSi-fox7UMDY2znbdJXQyo
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel27871\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel27871> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:13:40.664 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:13:40.665 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel27871> does not exist and in not visible to sberbank[m[m[m
Step 10_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh testchannel27871 vtb ; ./verify/test-channel-does-not-exist.sh testchannel27871 vtb
Step: 11_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel27871 vtb VERIFY: test-channel-does-not-exist.sh testchannel27871 vtb
[1;36mCreating testchannel27871 channel in vtb.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4001
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2NDAyMX0.2LS17QzlF8kwRAKWDxocaBviPBPkIllrsQ4-f3YzVx4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel27871> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:13:42.896 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:13:42.897 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel27871> does not exist and in not visible to vtb[m[m[m
Step 11_api: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel27871-02 vtb ; ./verify/test-channel-exists.sh testchannel27871-02 vtb
Step: 12_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel27871-02 vtb VERIFY: test-channel-exists.sh testchannel27871-02 vtb
[1;36mCreating testchannel27871-02 channel in vtb.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4001
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2NDAyM30.AOvdkcE9UidSIYQk92QSKqP_3Z6qBJP3eFXoMxH_NmQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.net:8051","name":"peer0.vtb.example.net:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.net:8051","grpc.default_authority":"peer0.vtb.example.net:8051"}}}] 200
[1;32mOK: Channel <testchannel27871-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel27871-02> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:13:45.093 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:13:45.095 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:13:45.096 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:13:45.096 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel27871-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T22:13:44Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel27871-02> exists and visible to vtb[m[m[m
Step 12_api: exit code 0
./verify/test-channel-does-not-exist.sh testchannel27871-02 sberbank
Step: 13_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel27871-02 sberbank
[1;34m
Verifing if the <testchannel27871-02> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:13:45.575 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:13:45.576 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel27871-02> does not exist and in not visible to sberbank[m[m[m
Step 13_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh testchannel27871-02 sberbank ; ./verify/test-channel-does-not-exist.sh testchannel27871-02 sberbank
Step: 14_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel27871-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel27871-02 sberbank
[1;36mCreating testchannel27871-02 channel in sberbank.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2NDAyNX0.sP0WT7Vik5IEbMyTpnmbtx3zywznxNXpywqOw7TkURo
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel27871-02> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:13:47.505 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:13:47.507 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel27871-02> does not exist and in not visible to sberbank[m[m[m
Step 14_api: exit code 0
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4001
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel32643 sberbank ; ./verify/test-channel-exists.sh testchannel326436 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel32643 sberbank VERIFY: test-channel-exists.sh testchannel326436 sberbank
[1;36m
Creating the <testchannel32643> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32643[m[m[m
example.net

Create channel sberbank testchannel32643
--2020-02-18 22:15:35--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:15:35--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:15:35--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:15:35--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:15:35.782 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:15:35.830 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:15:35.830 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:15:35.830 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:15:35.830 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:15:35.830 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:15:35.830 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:15:35.830 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:15:35.830 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:15:35.877 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:15:35.877 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:15:35.877 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:15:35.877 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:15:35.877 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:15:35.877 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:15:35.877 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:15:35.877 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:15:35.878 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:15:35.878 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:15:35.878 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:15:35.878 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:15:35.878 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:15:35.879 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:15:35.930 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:15:35.966 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel32643.pb -o orderer.example.net:7050 -c testchannel32643 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:15:36.047 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:15:36.049 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:15:36.049 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:15:36.049 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel32643
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32643 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:15:36.325 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:15:36.335 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel32643> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel326436> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:15:38.346 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:15:38.347 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 1_cli: exit code 1
./verify/test-channel-does-not-exist.sh testchannel32643 vtb
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel32643 vtb
[1;34m
Verifing if the <testchannel32643> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:15:38.803 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:15:38.804 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel32643> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh ^^^^^^testchannel32643 sberbank ; ./verify/test-channel-does-not-exist.sh ^^^^^^testchannel32643 sberbank
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel32643 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel32643 sberbank
[1;36m
Creating the <^^^^^^testchannel32643> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel32643[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel32643
--2020-02-18 22:15:41--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:15:41--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:15:41--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:15:41--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:15:41.551 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:15:41.613 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:15:41.613 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:15:41.613 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:15:41.613 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:15:41.613 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:15:41.613 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:15:41.613 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:15:41.614 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:15:41.679 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:15:41.679 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:15:41.679 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:15:41.679 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:15:41.679 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:15:41.679 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:15:41.680 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:15:41.680 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:15:41.681 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:15:41.681 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:15:41.681 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:15:41.681 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:15:41.682 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:15:41.682 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:15:41.767 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel32643' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel32643.pb -o orderer.example.net:7050 -c ^^^^^^testchannel32643 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:15:41.866 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:15:41.868 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel32643.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel32643.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel32643
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel32643 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:15:42.077 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel32643' != '^^^^^^testchannel32643'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel32643> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:15:43.012 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:15:43.015 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel32643> does not exist and in not visible to sberbank[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel32643 vtb ; ./verify/test-channel-does-not-exist.sh testchannel32643 vtb
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel32643 vtb VERIFY: test-channel-does-not-exist.sh testchannel32643 vtb
[1;36m
Creating the <testchannel32643> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32643[m[m[m
example.net

Create channel vtb testchannel32643
--2020-02-18 22:15:45--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:15:45--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:15:45--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:15:45--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:15:45.165 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:15:45.212 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:15:45.212 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:15:45.212 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:15:45.212 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:15:45.212 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:15:45.212 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:15:45.212 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:15:45.212 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:15:45.258 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:15:45.258 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:15:45.258 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:15:45.258 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:15:45.258 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:15:45.258 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:15:45.258 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:15:45.258 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:15:45.259 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-18 22:15:45.259 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:15:45.259 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:15:45.259 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:15:45.259 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-18 22:15:45.260 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:15:45.314 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel32643.pb -o orderer.example.net:7050 -c testchannel32643 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:15:45.377 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:15:45.379 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel32643.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel32643.json: No such file or directory
>> Prepare config update from vtb for channel testchannel32643
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32643 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:15:45.536 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel32643> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:15:46.463 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:15:46.465 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel32643> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel32643-02 vtb ; ./verify/test-channel-exists.sh testchannel32643-02 vtb
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel32643-02 vtb VERIFY: test-channel-exists.sh testchannel32643-02 vtb
[1;36m
Creating the <testchannel32643-02> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32643-02[m[m[m
example.net

Create channel vtb testchannel32643-02
--2020-02-18 22:15:48--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:15:48--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:15:48--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:15:48--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:15:48.688 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:15:48.742 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:15:48.742 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:15:48.742 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:15:48.742 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:15:48.742 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:15:48.743 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:15:48.743 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:15:48.743 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:15:48.793 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:15:48.793 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:15:48.793 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:15:48.793 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:15:48.793 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:15:48.794 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:15:48.794 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:15:48.794 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:15:48.794 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-18 22:15:48.794 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:15:48.794 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:15:48.795 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:15:48.795 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-18 22:15:48.795 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:15:48.848 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:15:48.882 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel32643-02.pb -o orderer.example.net:7050 -c testchannel32643-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:15:48.962 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:15:48.965 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:15:48.966 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:15:48.966 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel32643-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32643-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:15:49.329 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:15:49.340 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel32643-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel32643-02> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:15:51.560 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:15:51.562 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-18 22:15:51.563 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-18 22:15:51.564 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel32643-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T22:15:49Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel32643-02> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
./verify/test-channel-does-not-exist.sh testchannel32643-02 sberbank
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel32643-02 sberbank
[1;34m
Verifing if the <testchannel32643-02> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:15:52.224 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:15:52.226 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel32643-02> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel32643-02 sberbank ; ./verify/test-channel-does-not-exist.sh testchannel32643-02 sberbank
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel32643-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel32643-02 sberbank
[1;36m
Creating the <testchannel32643-02> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32643-02[m[m[m
example.net

Create channel sberbank testchannel32643-02
--2020-02-18 22:15:54--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:15:54--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:15:54--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:15:54--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:15:54.411 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:15:54.460 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:15:54.460 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:15:54.460 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:15:54.460 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:15:54.460 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:15:54.460 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:15:54.460 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:15:54.460 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:15:54.505 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:15:54.506 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:15:54.506 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:15:54.506 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:15:54.506 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:15:54.506 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:15:54.506 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:15:54.506 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:15:54.506 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:15:54.506 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:15:54.506 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:15:54.507 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:15:54.507 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:15:54.507 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:15:54.558 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel32643-02.pb -o orderer.example.net:7050 -c testchannel32643-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:15:54.621 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:15:54.623 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel32643-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel32643-02.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel32643-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32643-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:15:54.790 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel32643-02> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:15:55.727 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:15:55.729 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel32643-02> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel17496 sberbank ; ./verify/test-channel-exists.sh testchannel174966 sberbank
Step: 8_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel17496 sberbank VERIFY: test-channel-exists.sh testchannel174966 sberbank
[1;36mCreating testchannel17496 channel in sberbank.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2NDE1Nn0.pPMrnGQElzsad4NCJxiXmxJQZ7Cz_Nntg_5Yv2kiTBc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.net:7051","name":"peer0.sberbank.example.net:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.net:7051","grpc.default_authority":"peer0.sberbank.example.net:7051"}}}] 200
[1;32mOK: Channel <testchannel17496> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel174966> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:15:58.050 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:15:58.051 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 8_api: exit code 1
./verify/test-channel-does-not-exist.sh testchannel17496 vtb
Step: 9_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel17496 vtb
[1;34m
Verifing if the <testchannel17496> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:15:58.509 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:15:58.511 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel17496> does not exist and in not visible to vtb[m[m[m
Step 9_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh ^^^^^^testchannel17496 sberbank ; ./verify/test-channel-does-not-exist.sh ^^^^^^testchannel17496 sberbank
Step: 10_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel17496 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel17496 sberbank
[1;36mCreating ^^^^^^testchannel17496 channel in sberbank.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2NDE1OH0.JHuaQqwfh2mwn5unS416GJWUnmfkzYJDjKcB5Mv35ag
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel17496\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel17496> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:16:02.225 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:16:02.226 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel17496> does not exist and in not visible to sberbank[m[m[m
Step 10_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh testchannel17496 vtb ; ./verify/test-channel-does-not-exist.sh testchannel17496 vtb
Step: 11_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel17496 vtb VERIFY: test-channel-does-not-exist.sh testchannel17496 vtb
[1;36mCreating testchannel17496 channel in vtb.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4001
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2NDE2Mn0.9I_yzer7RAWVgBWhmC48AJNhUbnGiNaWkjNkXDC7gg4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel17496> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:16:04.297 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:16:04.298 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel17496> does not exist and in not visible to vtb[m[m[m
Step 11_api: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel17496-02 vtb ; ./verify/test-channel-exists.sh testchannel17496-02 vtb
Step: 12_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel17496-02 vtb VERIFY: test-channel-exists.sh testchannel17496-02 vtb
[1;36mCreating testchannel17496-02 channel in vtb.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4001
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2NDE2NH0.voAqOdMzL6-XWfjAIkmQVjV4Y9Jna16ppYHhXbxWi9g
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.net:8051","name":"peer0.vtb.example.net:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.net:8051","grpc.default_authority":"peer0.vtb.example.net:8051"}}}] 200
[1;32mOK: Channel <testchannel17496-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel17496-02> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:16:06.538 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:16:06.541 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:16:06.542 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:16:06.542 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel17496-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T22:16:05Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel17496-02> exists and visible to vtb[m[m[m
Step 12_api: exit code 0
./verify/test-channel-does-not-exist.sh testchannel17496-02 sberbank
Step: 13_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel17496-02 sberbank
[1;34m
Verifing if the <testchannel17496-02> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:16:07.047 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:16:07.049 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel17496-02> does not exist and in not visible to sberbank[m[m[m
Step 13_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh testchannel17496-02 sberbank ; ./verify/test-channel-does-not-exist.sh testchannel17496-02 sberbank
Step: 14_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel17496-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel17496-02 sberbank
[1;36mCreating testchannel17496-02 channel in sberbank.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2NDE2N30.5IX_w1_w9NbTy5qFRrUF7u2UiSO357eKIJ9v8-fkOPo
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel17496-02> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:16:09.050 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:16:09.053 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel17496-02> does not exist and in not visible to sberbank[m[m[m
Step 14_api: exit code 0
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4001
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel13497 sberbank ; ./verify/test-channel-exists.sh testchannel134976 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel13497 sberbank VERIFY: test-channel-exists.sh testchannel134976 sberbank
[1;36m
Creating the <testchannel13497> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel13497[m[m[m
example.net

Create channel sberbank testchannel13497
--2020-02-18 22:31:40--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:31:40--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:31:40--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:31:40--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:31:40.077 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:31:40.130 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:31:40.130 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:31:40.130 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:31:40.130 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:31:40.130 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:31:40.130 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:31:40.130 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:31:40.130 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:31:40.176 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:31:40.176 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:31:40.176 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:31:40.176 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:31:40.176 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:31:40.176 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:31:40.176 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:31:40.177 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:31:40.177 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:31:40.177 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:31:40.177 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:31:40.177 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:31:40.178 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:31:40.178 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:31:40.232 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:31:40.264 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel13497.pb -o orderer.example.net:7050 -c testchannel13497 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:31:40.333 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:31:40.335 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:31:40.336 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:31:40.336 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel13497
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel13497 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:31:40.616 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:31:40.626 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel13497> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel134976> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:31:42.987 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:31:42.988 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 1_cli: exit code 1
./verify/test-channel-does-not-exist.sh testchannel13497 vtb
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel13497 vtb
[1;34m
Verifing if the <testchannel13497> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:31:43.664 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:31:43.666 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel13497> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
SCIPCLI: ; NO_RED_OUTPUT=true ./cli/create-channel.sh ^^^^^^testchannel13497 sberbank ; ./verify/test-channel-does-not-exist.sh ^^^^^^testchannel13497 sberbank
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
SCIPCLI: RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel13497 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel13497 sberbank
[1;36m
Creating the <^^^^^^testchannel13497> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel13497[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel13497
--2020-02-18 22:31:45--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:31:45--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:31:45--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:31:45--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:31:45.981 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:31:46.031 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:31:46.031 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:31:46.031 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:31:46.031 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:31:46.032 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:31:46.032 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:31:46.032 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:31:46.032 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:31:46.079 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:31:46.079 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:31:46.079 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:31:46.079 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:31:46.079 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:31:46.079 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:31:46.079 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:31:46.080 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:31:46.080 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:31:46.080 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:31:46.080 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:31:46.080 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:31:46.081 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:31:46.081 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:31:46.135 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel13497' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel13497.pb -o orderer.example.net:7050 -c ^^^^^^testchannel13497 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:31:46.199 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:31:46.200 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel13497.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel13497.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel13497
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel13497 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:31:46.360 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel13497' != '^^^^^^testchannel13497'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel13497> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:31:47.324 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:31:47.326 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel13497> does not exist and in not visible to sberbank[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel13497 vtb ; ./verify/test-channel-does-not-exist.sh testchannel13497 vtb
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel13497 vtb VERIFY: test-channel-does-not-exist.sh testchannel13497 vtb
[1;36m
Creating the <testchannel13497> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel13497[m[m[m
example.net

Create channel vtb testchannel13497
--2020-02-18 22:31:49--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:31:49--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:31:49--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:31:49--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:31:49.671 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:31:49.720 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:31:49.720 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:31:49.720 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:31:49.720 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:31:49.720 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:31:49.721 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:31:49.721 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:31:49.721 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:31:49.775 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:31:49.775 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:31:49.775 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:31:49.775 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:31:49.775 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:31:49.775 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:31:49.775 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:31:49.776 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:31:49.776 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-18 22:31:49.776 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:31:49.776 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:31:49.776 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:31:49.777 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-18 22:31:49.777 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:31:49.833 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel13497.pb -o orderer.example.net:7050 -c testchannel13497 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:31:49.894 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:31:49.897 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel13497.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel13497.json: No such file or directory
>> Prepare config update from vtb for channel testchannel13497
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel13497 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:31:50.066 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel13497> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:31:51.280 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:31:51.285 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel13497> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel13497-02 vtb ; ./verify/test-channel-exists.sh testchannel13497-02 vtb
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel13497-02 vtb VERIFY: test-channel-exists.sh testchannel13497-02 vtb
[1;36m
Creating the <testchannel13497-02> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel13497-02[m[m[m
^C[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel13497-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4001
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel15550 sberbank ; ./verify/test-channel-exists.sh testchannel155506 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel15550 sberbank VERIFY: test-channel-exists.sh testchannel155506 sberbank
[1;36m
Creating the <testchannel15550> channel for sberbank.example.net...[m[m[m
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel4307 sberbank ; ./verify/test-channel-exists.sh testchannel43076 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel4307 sberbank VERIFY: test-channel-exists.sh testchannel43076 sberbank
[1;36m
Creating the <testchannel4307> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4307[m[m[m
example.net

Create channel sberbank testchannel4307
--2020-02-18 22:34:47--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:34:47--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:34:47--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:34:47--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:34:47.666 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:34:47.714 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:34:47.714 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:34:47.714 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:34:47.714 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:34:47.714 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:34:47.714 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:34:47.714 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:34:47.714 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:34:47.774 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:34:47.774 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:34:47.774 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:34:47.774 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:34:47.774 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:34:47.774 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:34:47.774 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:34:47.775 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:34:47.776 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:34:47.776 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:34:47.776 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:34:47.777 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:34:47.777 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:34:47.778 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:34:47.832 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:34:47.865 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel4307.pb -o orderer.example.net:7050 -c testchannel4307 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:34:47.928 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:34:47.930 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:34:47.931 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:34:47.931 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel4307
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4307 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:34:48.213 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:34:48.221 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update

[1;31mError occurred. See console output above.[m[1;33m[m
[34m2020-02-18 22:34:49.189 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:34:49.190 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
Step 1_cli: exit code 1
./verify/test-channel-does-not-exist.sh testchannel4307 vtb
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel4307 vtb
[1;34m
Verifing if the <testchannel4307> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:34:49.648 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:34:49.649 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel4307> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
SCIPCLI: ; NO_RED_OUTPUT=true ./cli/create-channel.sh ^^^^^^testchannel4307 sberbank ; ./verify/test-channel-does-not-exist.sh ^^^^^^testchannel4307 sberbank
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
SCIPCLI: RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel4307 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel4307 sberbank
[1;36m
Creating the <^^^^^^testchannel4307> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel4307[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel29160 sberbank ; ./verify/test-channel-exists.sh testchannel291606 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel29160 sberbank VERIFY: test-channel-exists.sh testchannel291606 sberbank
[1;36m
Creating the <testchannel29160> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel29160[m[m[m
example.net

Create channel sberbank testchannel29160
--2020-02-18 22:37:31--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:37:31--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:37:31--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:37:31--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:37:31.414 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:37:31.517 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:37:31.517 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:37:31.517 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:37:31.517 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:37:31.517 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:37:31.517 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:37:31.517 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:37:31.517 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:37:31.615 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:37:31.615 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:37:31.615 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:37:31.615 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:37:31.615 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:37:31.615 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:37:31.615 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:37:31.615 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:37:31.616 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:37:31.616 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:37:31.616 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:37:31.616 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:37:31.620 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:37:31.620 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:37:31.757 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:37:31.812 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel29160.pb -o orderer.example.net:7050 -c testchannel29160 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:37:31.934 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:37:31.940 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:37:31.941 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:37:31.941 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel29160
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel29160 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:37:32.760 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:37:32.794 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel29160> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel291606> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:37:34.875 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:37:34.876 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 1_cli: exit code 1
./verify/test-channel-does-not-exist.sh testchannel29160 vtb
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel29160 vtb
[1;34m
Verifing if the <testchannel29160> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:37:35.380 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:37:35.381 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel29160> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
SCIPCLI: ; NO_RED_OUTPUT=true ./cli/create-channel.sh ^^^^^^testchannel29160 sberbank ; ./verify/test-channel-does-not-exist.sh ^^^^^^testchannel29160 sberbank
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
SCIPCLI: RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel29160 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel29160 sberbank
[1;36m
Creating the <^^^^^^testchannel29160> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel29160[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel29160
--2020-02-18 22:37:37--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:37:37--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:37:37--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:37:37--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:37:37.557 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:37:37.609 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:37:37.609 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:37:37.609 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:37:37.609 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:37:37.609 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:37:37.609 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:37:37.609 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:37:37.609 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:37:37.656 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:37:37.656 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:37:37.656 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:37:37.656 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:37:37.656 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:37:37.656 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:37:37.656 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:37:37.657 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:37:37.657 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:37:37.657 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:37:37.657 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:37:37.657 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:37:37.658 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:37:37.658 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:37:37.716 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel29160' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel29160.pb -o orderer.example.net:7050 -c ^^^^^^testchannel29160 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:37:37.792 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:37:37.793 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel29160.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel29160.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel29160
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel29160 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:37:37.964 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel29160' != '^^^^^^testchannel29160'
[1;31mError occurred. See console output above.[m[1;33m[m
[34m2020-02-18 22:37:38.993 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:37:38.995 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
Step 3_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel29160 vtb ; ./verify/test-channel-does-not-exist.sh testchannel29160 vtb
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel29160 vtb VERIFY: test-channel-does-not-exist.sh testchannel29160 vtb
[1;36m
Creating the <testchannel29160> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel29160[m[m[m
^C
[1;31mError occurred. See console output above.[m[1;33m[m
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel28420 sberbank ; ./verify/test-channel-exists.sh testchannel284206 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel28420 sberbank VERIFY: test-channel-exists.sh testchannel284206 sberbank
[1;36m
Creating the <testchannel28420> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel28420[m[m[m
example.net

Create channel sberbank testchannel28420
--2020-02-18 22:37:45--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:37:45--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:37:45--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:37:45--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:37:45.403 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:37:45.452 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:37:45.452 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:37:45.452 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:37:45.452 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:37:45.452 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:37:45.452 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:37:45.453 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:37:45.453 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:37:45.506 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:37:45.506 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:37:45.506 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:37:45.506 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:37:45.506 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:37:45.506 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:37:45.506 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:37:45.506 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:37:45.507 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:37:45.507 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:37:45.507 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:37:45.507 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:37:45.507 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:37:45.508 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:37:45.560 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:37:45.599 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel28420.pb -o orderer.example.net:7050 -c testchannel28420 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:37:45.674 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:37:45.676 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:37:45.677 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:37:45.677 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel28420
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel28420 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:37:45.994 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:37:46.003 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel28420> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel284206> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:37:48.103 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:37:48.104 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 1_cli: exit code 1
./verify/test-channel-does-not-exist.sh testchannel28420 vtb
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel28420 vtb
[1;34m
Verifing if the <testchannel28420> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:37:48.565 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:37:48.567 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel28420> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
SCIPCLI: ; NO_RED_OUTPUT=true ./cli/create-channel.sh ^^^^^^testchannel28420 sberbank ; ./verify/test-channel-does-not-exist.sh ^^^^^^testchannel28420 sberbank
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
SCIPCLI: RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel28420 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel28420 sberbank
[1;36m
Creating the <^^^^^^testchannel28420> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel28420[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel28420
--2020-02-18 22:37:50--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:37:50--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:37:50--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:37:50--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:37:50.937 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:37:50.988 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:37:50.988 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:37:50.988 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:37:50.988 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:37:50.988 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:37:50.988 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:37:50.988 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:37:50.988 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:37:51.037 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:37:51.038 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:37:51.038 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:37:51.038 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:37:51.038 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:37:51.038 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:37:51.038 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:37:51.038 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:37:51.039 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:37:51.039 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:37:51.039 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:37:51.039 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:37:51.039 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:37:51.039 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:37:51.096 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel28420' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel28420.pb -o orderer.example.net:7050 -c ^^^^^^testchannel28420 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:37:51.176 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:37:51.180 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel28420.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel28420.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel28420
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel28420 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:37:51.451 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel28420' != '^^^^^^testchannel28420'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel28420> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:37:53.193 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:37:53.197 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel28420> does not exist and in not visible to sberbank[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel28420 vtb ; ./verify/test-channel-does-not-exist.sh testchannel28420 vtb
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel28420 vtb VERIFY: test-channel-does-not-exist.sh testchannel28420 vtb
[1;36m
Creating the <testchannel28420> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel28420[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel5744 sberbank ; ./verify/test-channel-exists.sh testchannel57446 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel5744 sberbank VERIFY: test-channel-exists.sh testchannel57446 sberbank
[1;36m
Creating the <testchannel5744> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel5744[m[m[m
example.net

Create channel sberbank testchannel5744
--2020-02-18 22:38:24--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:38:24--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:38:24--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:38:24--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:38:24.625 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:38:24.680 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:38:24.680 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:38:24.680 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:38:24.680 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:38:24.680 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:38:24.680 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:38:24.680 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:38:24.680 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:38:24.736 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:38:24.736 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:38:24.736 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:38:24.736 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:38:24.736 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:38:24.736 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:38:24.736 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:38:24.737 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:38:24.737 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:38:24.738 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:38:24.738 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:38:24.738 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:38:24.738 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:38:24.739 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:38:24.801 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:38:24.843 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel5744.pb -o orderer.example.net:7050 -c testchannel5744 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:38:24.906 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:38:24.908 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:38:24.909 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:38:24.909 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel5744
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel5744 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:38:25.195 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:38:25.205 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel5744> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel57446> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:38:27.329 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:38:27.332 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 1_cli: exit code 1
./verify/test-channel-does-not-exist.sh testchannel5744 vtb
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel5744 vtb
[1;34m
Verifing if the <testchannel5744> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:38:27.803 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:38:27.805 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel5744> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
SKIPCLI: ; NO_RED_OUTPUT=true ./cli/create-channel.sh ^^^^^^testchannel5744 sberbank ; ./verify/test-channel-does-not-exist.sh ^^^^^^testchannel5744 sberbank
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
SKIPCLI: RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel5744 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel5744 sberbank
[1;36m
Creating the <^^^^^^testchannel5744> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel5744[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel5744
--2020-02-18 22:38:29--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:38:29--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:38:29--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:38:29--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:38:30.031 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:38:30.083 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:38:30.083 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:38:30.083 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:38:30.083 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:38:30.083 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:38:30.083 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:38:30.083 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:38:30.083 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:38:30.130 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:38:30.131 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:38:30.131 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:38:30.131 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:38:30.131 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:38:30.131 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:38:30.131 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:38:30.131 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:38:30.131 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:38:30.132 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:38:30.132 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:38:30.132 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:38:30.132 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:38:30.132 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:38:30.183 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel5744' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel5744.pb -o orderer.example.net:7050 -c ^^^^^^testchannel5744 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:38:30.252 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:38:30.253 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel5744.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel5744.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel5744
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel5744 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:38:30.425 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel5744' != '^^^^^^testchannel5744'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel5744> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:38:31.525 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:38:31.542 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel5744> does not exist and in not visible to sberbank[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel5744 vtb ; ./verify/test-channel-does-not-exist.sh testchannel5744 vtb
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel5744 vtb VERIFY: test-channel-does-not-exist.sh testchannel5744 vtb
[1;36m
Creating the <testchannel5744> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel5744[m[m[m
example.net

Create channel vtb testchannel5744
--2020-02-18 22:38:34--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:38:34--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:38:34--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:38:34--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:38:34.821 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:38:34.872 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:38:34.872 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:38:34.872 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:38:34.872 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:38:34.872 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:38:34.872 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:38:34.872 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:38:34.872 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:38:34.918 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:38:34.918 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:38:34.918 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:38:34.918 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:38:34.918 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:38:34.918 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:38:34.918 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:38:34.919 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:38:34.919 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-18 22:38:34.919 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:38:34.919 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:38:34.919 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:38:34.920 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-18 22:38:34.920 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:38:34.973 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel5744.pb -o orderer.example.net:7050 -c testchannel5744 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:38:35.083 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:38:35.084 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel5744.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel5744.json: No such file or directory
>> Prepare config update from vtb for channel testchannel5744
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel5744 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:38:35.249 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel5744> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:38:36.321 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:38:36.324 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel5744> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel5744-02 vtb ; ./verify/test-channel-exists.sh testchannel5744-02 vtb
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel5744-02 vtb VERIFY: test-channel-exists.sh testchannel5744-02 vtb
[1;36m
Creating the <testchannel5744-02> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel5744-02[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[34m2020-02-18 22:38:37.199 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:38:37.201 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
Step 5_cli: exit code 1
./verify/test-channel-does-not-exist.sh testchannel5744-02 sberbank
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel5744-02 sberbank
[1;34m
Verifing if the <testchannel5744-02> channel exists in sberbank.example.net...[m[m[m
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel27209 sberbank ; ./verify/test-channel-exists.sh testchannel272096 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel27209 sberbank VERIFY: test-channel-exists.sh testchannel272096 sberbank
[1;36m
Creating the <testchannel27209> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel27209[m[m[m
example.net

Create channel sberbank testchannel27209
--2020-02-18 22:40:57--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:40:57--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:40:57--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:40:57--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:40:57.635 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:40:57.687 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:40:57.687 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:40:57.687 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:40:57.687 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:40:57.687 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:40:57.687 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:40:57.687 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:40:57.687 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:40:57.752 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:40:57.752 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:40:57.752 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:40:57.752 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:40:57.752 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:40:57.752 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:40:57.753 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:40:57.753 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:40:57.753 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:40:57.753 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:40:57.753 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:40:57.754 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:40:57.754 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:40:57.754 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:40:57.817 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:40:57.863 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel27209.pb -o orderer.example.net:7050 -c testchannel27209 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:40:57.965 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:40:57.967 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:40:57.968 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:40:57.968 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel27209
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel27209 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:40:58.259 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:40:58.268 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel27209> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel272096> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:41:00.336 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:41:00.338 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 1_cli: exit code 1
./verify/test-channel-does-not-exist.sh testchannel27209 vtb
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel27209 vtb
[1;34m
Verifing if the <testchannel27209> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:41:00.843 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:41:00.845 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel27209> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel27209 vtb ; ./verify/test-channel-does-not-exist.sh testchannel27209 vtb
Step: 3_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel27209 vtb VERIFY: test-channel-does-not-exist.sh testchannel27209 vtb
[1;36m
Creating the <testchannel27209> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel27209[m[m[m
example.net

Create channel vtb testchannel27209
--2020-02-18 22:41:03--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:41:03--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:41:03--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:41:03--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:41:03.444 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:41:03.511 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:41:03.511 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:41:03.512 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:41:03.512 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:41:03.512 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:41:03.512 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:41:03.512 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:41:03.512 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:41:03.586 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:41:03.586 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:41:03.586 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:41:03.586 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:41:03.586 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:41:03.586 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:41:03.586 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:41:03.587 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:41:03.587 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-18 22:41:03.587 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:41:03.587 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:41:03.588 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:41:03.588 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-18 22:41:03.589 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:41:03.656 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel27209.pb -o orderer.example.net:7050 -c testchannel27209 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:41:03.804 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:41:03.807 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel27209.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel27209.json: No such file or directory
>> Prepare config update from vtb for channel testchannel27209
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel27209 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:41:04.097 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel27209> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:41:05.155 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:41:05.158 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel27209> does not exist and in not visible to vtb[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel27209-02 vtb ; ./verify/test-channel-exists.sh testchannel27209-02 vtb
Step: 4_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel27209-02 vtb VERIFY: test-channel-exists.sh testchannel27209-02 vtb
[1;36m
Creating the <testchannel27209-02> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel27209-02[m[m[m
example.net

Create channel vtb testchannel27209-02
--2020-02-18 22:41:07--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:41:07--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:41:07--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:41:07--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:41:07.374 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:41:07.423 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:41:07.423 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:41:07.423 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:41:07.423 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:41:07.423 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:41:07.423 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:41:07.423 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:41:07.423 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:41:07.471 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:41:07.471 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:41:07.471 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:41:07.471 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:41:07.471 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:41:07.471 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:41:07.472 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:41:07.472 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:41:07.472 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-18 22:41:07.472 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:41:07.472 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:41:07.473 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:41:07.473 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-18 22:41:07.473 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:41:07.525 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:41:07.557 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel27209-02.pb -o orderer.example.net:7050 -c testchannel27209-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:41:07.622 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:41:07.624 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:41:07.624 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:41:07.624 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel27209-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel27209-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:41:07.943 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:41:07.954 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel27209-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel27209-02> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:41:10.131 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:41:10.133 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-18 22:41:10.135 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-18 22:41:10.135 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel27209-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T22:41:07Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel27209-02> exists and visible to vtb[m[m[m
Step 4_cli: exit code 0
./verify/test-channel-does-not-exist.sh testchannel27209-02 sberbank
Step: 5_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel27209-02 sberbank
[1;34m
Verifing if the <testchannel27209-02> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:41:10.635 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:41:10.637 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel27209-02> does not exist and in not visible to sberbank[m[m[m
Step 5_cli: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel23547 sberbank ; ./verify/test-channel-exists.sh testchannel235476 sberbank
Step: 6_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel23547 sberbank VERIFY: test-channel-exists.sh testchannel235476 sberbank
[1;36mCreating testchannel23547 channel in sberbank.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2NTY3MX0.Dg3mAj_DwFua1pKyQoGohzh9miH1nuCSIksYe62LcPI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.net:7051","name":"peer0.sberbank.example.net:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.net:7051","grpc.default_authority":"peer0.sberbank.example.net:7051"}}}] 200
[1;32mOK: Channel <testchannel23547> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel235476> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:41:15.333 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:41:15.334 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 6_api: exit code 1
./verify/test-channel-does-not-exist.sh testchannel23547 vtb
Step: 7_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel23547 vtb
[1;34m
Verifing if the <testchannel23547> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:41:15.798 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:41:15.800 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel23547> does not exist and in not visible to vtb[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh testchannel23547 vtb ; ./verify/test-channel-does-not-exist.sh testchannel23547 vtb
Step: 8_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel23547 vtb VERIFY: test-channel-does-not-exist.sh testchannel23547 vtb
[1;36mCreating testchannel23547 channel in vtb.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4001
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2NTY3Nn0.KbjGIbtiOdtS0RKqUsbG2OHdQkMI9jp5suAniV4UcR8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel23547> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:41:17.936 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:41:17.938 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel23547> does not exist and in not visible to vtb[m[m[m
Step 8_api: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel23547-02 vtb ; ./verify/test-channel-exists.sh testchannel23547-02 vtb
Step: 9_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel23547-02 vtb VERIFY: test-channel-exists.sh testchannel23547-02 vtb
[1;36mCreating testchannel23547-02 channel in vtb.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4001
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2NTY3OH0.f6X28_yHXqnmWddl4gSH-aa5TskW3_erTsPsyA70Z7g
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.net:8051","name":"peer0.vtb.example.net:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.net:8051","grpc.default_authority":"peer0.vtb.example.net:8051"}}}] 200
[1;32mOK: Channel <testchannel23547-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel23547-02> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:41:20.364 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:41:20.366 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:41:20.367 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:41:20.367 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel23547-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T22:41:19Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel23547-02> exists and visible to vtb[m[m[m
Step 9_api: exit code 0
./verify/test-channel-does-not-exist.sh testchannel23547-02 sberbank
Step: 10_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel23547-02 sberbank
[1;34m
Verifing if the <testchannel23547-02> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:41:20.892 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:41:20.893 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel23547-02> does not exist and in not visible to sberbank[m[m[m
Step 10_api: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel13081 sberbank ; ./verify/test-channel-exists.sh testchannel13081 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel13081 sberbank VERIFY: test-channel-exists.sh testchannel13081 sberbank
[1;36m
Creating the <testchannel13081> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel13081[m[m[m
^C[1;31mError occurred. See console output above.[m[1;33m[m
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel2172 sberbank ; ./verify/test-channel-exists.sh testchannel2172 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel2172 sberbank VERIFY: test-channel-exists.sh testchannel2172 sberbank
[1;36m
Creating the <testchannel2172> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel2172[m[m[m
example.net

Create channel sberbank testchannel2172
--2020-02-18 22:50:03--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:50:03--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:50:03--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:50:03--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:50:03.944 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:50:04.037 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:50:04.037 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:50:04.037 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:50:04.037 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:50:04.037 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:50:04.037 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:50:04.037 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:50:04.038 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:50:04.129 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:50:04.129 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:50:04.129 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:50:04.130 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:50:04.130 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:50:04.130 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:50:04.130 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:50:04.130 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:50:04.130 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:50:04.130 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:50:04.130 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:50:04.131 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:50:04.131 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:50:04.131 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:50:04.194 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:50:04.227 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel2172.pb -o orderer.example.net:7050 -c testchannel2172 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:50:04.329 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:50:04.331 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:50:04.333 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:50:04.333 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel2172
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel2172 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:50:04.737 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:50:04.756 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel2172> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel2172> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:50:06.888 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:50:06.891 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-18 22:50:06.892 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-18 22:50:06.892 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel2172",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T22:50:04Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel2172> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
./verify/test-channel-does-not-exist.sh testchannel2172 vtb
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel2172 vtb
[1;34m
Verifing if the <testchannel2172> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:50:07.394 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:50:07.396 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel2172> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
SKIPCI: ; NO_RED_OUTPUT=true ./cli/create-channel.sh ^^^^^^testchannel2172 sberbank ; ./verify/test-channel-does-not-exist.sh ^^^^^^testchannel2172 sberbank
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
SKIPCI: RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel2172 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel2172 sberbank
[1;36m
Creating the <^^^^^^testchannel2172> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel2172[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel2172
--2020-02-18 22:50:09--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:50:09--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:50:09--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:50:09--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:50:09.783 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:50:09.834 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:50:09.834 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:50:09.834 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:50:09.834 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:50:09.834 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:50:09.834 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:50:09.834 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:50:09.834 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:50:09.883 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:50:09.883 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:50:09.883 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:50:09.883 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:50:09.883 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:50:09.883 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:50:09.883 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:50:09.883 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:50:09.884 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:50:09.884 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:50:09.884 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:50:09.884 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:50:09.884 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:50:09.885 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:50:09.937 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel2172' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel2172.pb -o orderer.example.net:7050 -c ^^^^^^testchannel2172 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:50:10.004 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:50:10.007 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel2172.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel2172.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel2172
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel2172 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:50:10.178 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel2172' != '^^^^^^testchannel2172'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel2172> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:50:11.205 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:50:11.206 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel2172> does not exist and in not visible to sberbank[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel2172 vtb ; ./verify/test-channel-does-not-exist.sh testchannel2172 vtb
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel2172 vtb VERIFY: test-channel-does-not-exist.sh testchannel2172 vtb
[1;36m
Creating the <testchannel2172> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel2172[m[m[m
example.net

Create channel vtb testchannel2172
--2020-02-18 22:50:13--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:50:13--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:50:13--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:50:13--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:50:13.850 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:50:13.949 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:50:13.949 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:50:13.949 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:50:13.949 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:50:13.949 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:50:13.949 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:50:13.949 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:50:13.949 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:50:14.012 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:50:14.012 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:50:14.012 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:50:14.012 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:50:14.013 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:50:14.013 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:50:14.013 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:50:14.013 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:50:14.014 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-18 22:50:14.014 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:50:14.014 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:50:14.014 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:50:14.015 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-18 22:50:14.015 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:50:14.135 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel2172.pb -o orderer.example.net:7050 -c testchannel2172 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:50:14.264 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:50:14.268 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel2172.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel2172.json: No such file or directory
>> Prepare config update from vtb for channel testchannel2172
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel2172 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:50:14.494 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
^C[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel2172> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:50:15.655 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:50:15.657 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel2172> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel2172-02 vtb ; ./verify/test-channel-exists.sh testchannel2172-02 vtb
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel2172-02 vtb VERIFY: test-channel-exists.sh testchannel2172-02 vtb
[1;36m
Creating the <testchannel2172-02> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel2172-02[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel27253 sberbank ; ./verify/test-channel-exists.sh testchannel27253 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel27253 sberbank VERIFY: test-channel-exists.sh testchannel27253 sberbank
[1;36m
Creating the <testchannel27253> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel27253[m[m[m
example.net

Create channel sberbank testchannel27253
--2020-02-18 22:51:09--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:51:09--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:51:09--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:51:09--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:51:10.041 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:51:10.092 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:51:10.092 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:51:10.092 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:51:10.092 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:51:10.092 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:51:10.092 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:51:10.092 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:51:10.093 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:51:10.141 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:51:10.141 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:51:10.141 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:51:10.141 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:51:10.141 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:51:10.141 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:51:10.141 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:51:10.142 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:51:10.142 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:51:10.142 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:51:10.142 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:51:10.142 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:51:10.143 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:51:10.143 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:51:10.194 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:51:10.226 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel27253.pb -o orderer.example.net:7050 -c testchannel27253 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:51:10.296 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:51:10.297 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:51:10.298 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:51:10.298 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel27253
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel27253 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:51:10.585 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:51:10.593 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel27253> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel27253> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:51:12.925 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:51:12.930 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-18 22:51:12.931 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-18 22:51:12.931 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel27253",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T22:51:10Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel27253> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
./verify/test-channel-does-not-exist.sh testchannel27253 vtb
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel27253 vtb
[1;34m
Verifing if the <testchannel27253> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:51:14.062 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:51:14.065 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel27253> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel27253 vtb ; ./verify/test-channel-does-not-exist.sh testchannel27253 vtb
Step: 3_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel27253 vtb VERIFY: test-channel-does-not-exist.sh testchannel27253 vtb
[1;36m
Creating the <testchannel27253> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel27253[m[m[m
example.net

Create channel vtb testchannel27253
--2020-02-18 22:51:16--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:51:16--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:51:16--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:51:16--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:51:16.839 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:51:16.889 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:51:16.889 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:51:16.889 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:51:16.889 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:51:16.889 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:51:16.889 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:51:16.889 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:51:16.889 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:51:16.936 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:51:16.936 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:51:16.936 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:51:16.936 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:51:16.936 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:51:16.936 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:51:16.937 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:51:16.937 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:51:16.937 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-18 22:51:16.937 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:51:16.937 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:51:16.938 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:51:16.938 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-18 22:51:16.938 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:51:16.992 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel27253.pb -o orderer.example.net:7050 -c testchannel27253 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:51:17.062 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:51:17.063 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel27253.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel27253.json: No such file or directory
>> Prepare config update from vtb for channel testchannel27253
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel27253 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:51:17.242 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel27253> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:51:18.223 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:51:18.226 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel27253> does not exist and in not visible to vtb[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel27253-02 vtb ; ./verify/test-channel-exists.sh testchannel27253-02 vtb
Step: 4_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel27253-02 vtb VERIFY: test-channel-exists.sh testchannel27253-02 vtb
[1;36m
Creating the <testchannel27253-02> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel27253-02[m[m[m
example.net

Create channel vtb testchannel27253-02
--2020-02-18 22:51:20--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:51:20--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:51:20--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:51:20--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:51:20.575 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:51:20.622 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:51:20.622 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:51:20.622 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:51:20.622 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:51:20.622 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:51:20.622 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:51:20.622 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:51:20.622 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:51:20.673 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:51:20.673 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:51:20.673 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:51:20.673 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:51:20.673 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:51:20.673 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:51:20.673 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:51:20.673 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:51:20.674 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-18 22:51:20.674 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:51:20.674 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:51:20.674 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:51:20.674 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-18 22:51:20.675 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:51:20.735 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:51:20.772 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel27253-02.pb -o orderer.example.net:7050 -c testchannel27253-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:51:20.840 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:51:20.842 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:51:20.843 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:51:20.843 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel27253-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel27253-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:51:21.137 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:51:21.148 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel27253-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel27253-02> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:51:23.763 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:51:23.785 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-18 22:51:23.787 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-18 22:51:23.787 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel27253-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T22:51:21Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel27253-02> exists and visible to vtb[m[m[m
Step 4_cli: exit code 0
./verify/test-channel-does-not-exist.sh testchannel27253-02 sberbank
Step: 5_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel27253-02 sberbank
[1;34m
Verifing if the <testchannel27253-02> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:51:24.798 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:51:24.800 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel27253-02> does not exist and in not visible to sberbank[m[m[m
Step 5_cli: exit code 0
SKIPAPI: ; NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel27253-02 sberbank ; ./verify/test-channel-does-not-exist.sh testchannel27253-02 sberbank
Step: 6_cli Test 'Can not create channel in ORG1 with the same name'
SKIPAPI: RUNTESTNOERRPRINT: create-channel.sh testchannel27253-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel27253-02 sberbank
[1;36m
Creating the <testchannel27253-02> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel27253-02[m[m[m
example.net

Create channel sberbank testchannel27253-02
--2020-02-18 22:51:27--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:51:27--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:51:27--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:51:27--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:51:27.214 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:51:27.264 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:51:27.264 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:51:27.264 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:51:27.264 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:51:27.264 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:51:27.264 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:51:27.264 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:51:27.264 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:51:27.314 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:51:27.314 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:51:27.314 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:51:27.314 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:51:27.314 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:51:27.314 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:51:27.314 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:51:27.315 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:51:27.315 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:51:27.315 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:51:27.315 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:51:27.315 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:51:27.316 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:51:27.316 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:51:27.370 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel27253-02.pb -o orderer.example.net:7050 -c testchannel27253-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:51:27.442 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:51:27.444 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel27253-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel27253-02.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel27253-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel27253-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:51:27.604 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel27253-02> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:51:28.658 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:51:28.660 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel27253-02> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel1973 sberbank ; ./verify/test-channel-exists.sh testchannel1973 sberbank
Step: 7_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel1973 sberbank VERIFY: test-channel-exists.sh testchannel1973 sberbank
[1;36mCreating testchannel1973 channel in sberbank.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2NjI4OX0.XKfKi0XP6sUFifOwF8Hz67NnGE5FOa7sJrpvvNq3ikI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.net:7051","name":"peer0.sberbank.example.net:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.net:7051","grpc.default_authority":"peer0.sberbank.example.net:7051"}}}] 200
[1;32mOK: Channel <testchannel1973> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel1973> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:51:31.161 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:51:31.165 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:51:31.166 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:51:31.166 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel1973",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T22:51:29Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel1973> exists and visible to sberbank[m[m[m
Step 7_api: exit code 0
./verify/test-channel-does-not-exist.sh testchannel1973 vtb
Step: 8_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel1973 vtb
[1;34m
Verifing if the <testchannel1973> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:51:31.676 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:51:31.677 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel1973> does not exist and in not visible to vtb[m[m[m
Step 8_api: exit code 0
SKIPCLI: ; NO_RED_OUTPUT=true ./api/create-channel.sh ^^^^^^testchannel1973 sberbank ; ./verify/test-channel-does-not-exist.sh ^^^^^^testchannel1973 sberbank
Step: 9_api Test 'Can not create the channel with incorrect name in ORG1'
SKIPCLI: RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel1973 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel1973 sberbank
[1;36mCreating ^^^^^^testchannel1973 channel in sberbank.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2NjI5Mn0.BW3YnvIfKTFGk3q74c1NA3ilCYb1v0yZIQw4AG7re-4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel1973\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel1973> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:51:35.461 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:51:35.463 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel1973> does not exist and in not visible to sberbank[m[m[m
Step 9_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh testchannel1973 vtb ; ./verify/test-channel-does-not-exist.sh testchannel1973 vtb
Step: 10_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel1973 vtb VERIFY: test-channel-does-not-exist.sh testchannel1973 vtb
[1;36mCreating testchannel1973 channel in vtb.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4001
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2NjI5NX0.GjHKT5YJV0cmmM0YbPQfnYNl3FRL_ujd05YH940gX8E
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel4120 sberbank ; ./verify/test-channel-exists.sh testchannel4120 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel4120 sberbank VERIFY: test-channel-exists.sh testchannel4120 sberbank
[1;36m
Creating the <testchannel4120> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4120[m[m[m
example.net

Create channel sberbank testchannel4120
--2020-02-18 22:53:11--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:53:11--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:53:11--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:53:11--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:53:11.909 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:53:11.956 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:53:11.956 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:53:11.956 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:53:11.956 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:53:11.956 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:53:11.956 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:53:11.956 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:53:11.956 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:53:12.004 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:53:12.004 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:53:12.004 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:53:12.004 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:53:12.004 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:53:12.004 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:53:12.004 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:53:12.005 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:53:12.006 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:53:12.006 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:53:12.006 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:53:12.006 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:53:12.006 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:53:12.007 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:53:12.061 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:53:12.099 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel4120.pb -o orderer.example.net:7050 -c testchannel4120 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:53:12.167 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:53:12.168 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:53:12.169 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:53:12.169 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel4120
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4120 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:53:12.473 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:53:12.481 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel4120> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel4120> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:53:14.942 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:53:14.945 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-18 22:53:14.946 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-18 22:53:14.946 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel4120",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T22:53:12Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel4120> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
./verify/test-channel-does-not-exist.sh testchannel4120 vtb
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel4120 vtb
[1;34m
Verifing if the <testchannel4120> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:53:15.640 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:53:15.643 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel4120> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel4120 vtb ; ./verify/test-channel-does-not-exist.sh testchannel4120 vtb
Step: 3_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel4120 vtb VERIFY: test-channel-does-not-exist.sh testchannel4120 vtb
[1;36m
Creating the <testchannel4120> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4120[m[m[m
example.net

Create channel vtb testchannel4120
--2020-02-18 22:53:18--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:53:18--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:53:18--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:53:18--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:53:18.055 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:53:18.104 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:53:18.104 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:53:18.104 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:53:18.104 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:53:18.104 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:53:18.104 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:53:18.104 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:53:18.104 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:53:18.151 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:53:18.151 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:53:18.151 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:53:18.151 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:53:18.151 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:53:18.151 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:53:18.151 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:53:18.151 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:53:18.152 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-18 22:53:18.152 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:53:18.152 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:53:18.152 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:53:18.152 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-18 22:53:18.153 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:53:18.204 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel4120.pb -o orderer.example.net:7050 -c testchannel4120 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:53:18.274 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:53:18.276 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel4120.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel4120.json: No such file or directory
>> Prepare config update from vtb for channel testchannel4120
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4120 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:53:18.449 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel4120> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:53:19.462 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:53:19.464 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel4120> does not exist and in not visible to vtb[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel4120-02 vtb ; ./verify/test-channel-exists.sh testchannel4120-02 vtb
Step: 4_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel4120-02 vtb VERIFY: test-channel-exists.sh testchannel4120-02 vtb
[1;36m
Creating the <testchannel4120-02> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4120-02[m[m[m
example.net

Create channel vtb testchannel4120-02
--2020-02-18 22:53:21--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:53:21--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:53:21--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:53:21--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:53:21.822 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:53:21.879 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:53:21.879 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:53:21.879 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:53:21.879 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:53:21.879 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:53:21.879 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:53:21.879 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:53:21.879 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:53:21.927 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:53:21.927 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:53:21.927 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:53:21.927 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:53:21.927 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:53:21.927 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:53:21.927 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:53:21.928 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:53:21.928 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-18 22:53:21.928 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:53:21.928 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:53:21.928 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:53:21.929 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-18 22:53:21.929 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:53:21.990 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:53:22.022 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel4120-02.pb -o orderer.example.net:7050 -c testchannel4120-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:53:22.085 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:53:22.087 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:53:22.088 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:53:22.088 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel4120-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4120-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:53:22.377 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:53:22.386 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel4120-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel4120-02> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:53:24.638 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:53:24.641 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-18 22:53:24.643 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-18 22:53:24.644 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel4120-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T22:53:22Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel4120-02> exists and visible to vtb[m[m[m
Step 4_cli: exit code 0
./verify/test-channel-does-not-exist.sh testchannel4120-02 sberbank
Step: 5_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel4120-02 sberbank
[1;34m
Verifing if the <testchannel4120-02> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:53:25.397 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:53:25.402 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel4120-02> does not exist and in not visible to sberbank[m[m[m
Step 5_cli: exit code 0
SKIPAPI: ; NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel4120-02 sberbank ; ./verify/test-channel-does-not-exist.sh testchannel4120-02 sberbank
Step: 6_cli Test 'Can not create channel in ORG1 with the same name'
SKIPAPI: RUNTESTNOERRPRINT: create-channel.sh testchannel4120-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel4120-02 sberbank
[1;36m
Creating the <testchannel4120-02> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4120-02[m[m[m
example.net

Create channel sberbank testchannel4120-02
--2020-02-18 22:53:27--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:53:27--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:53:27--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:53:27--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:53:27.757 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:53:27.810 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:53:27.810 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:53:27.810 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:53:27.810 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:53:27.810 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:53:27.810 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:53:27.810 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:53:27.810 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:53:27.858 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:53:27.858 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:53:27.858 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:53:27.858 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:53:27.858 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:53:27.858 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:53:27.858 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:53:27.858 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:53:27.859 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:53:27.859 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:53:27.859 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:53:27.859 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:53:27.860 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:53:27.860 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:53:27.917 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel4120-02.pb -o orderer.example.net:7050 -c testchannel4120-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:53:27.983 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:53:27.984 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel4120-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel4120-02.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel4120-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4120-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:53:28.150 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel4120-02> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:53:29.373 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:53:29.374 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel4120-02> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel19546 sberbank ; ./verify/test-channel-exists.sh testchannel19546 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel19546 sberbank VERIFY: test-channel-exists.sh testchannel19546 sberbank
[1;36m
Creating the <testchannel19546> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel19546[m[m[m
example.net

Create channel sberbank testchannel19546
--2020-02-18 22:56:10--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:56:10--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:56:10--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:56:10--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:56:10.569 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:56:10.619 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:56:10.619 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:56:10.619 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:56:10.619 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:56:10.619 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:56:10.619 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:56:10.619 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:56:10.619 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:56:10.665 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:56:10.666 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:56:10.666 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:56:10.666 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:56:10.666 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:56:10.666 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:56:10.666 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:56:10.666 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:56:10.666 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:56:10.667 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:56:10.667 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:56:10.667 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:56:10.667 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:56:10.667 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:56:10.727 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:56:10.767 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel19546.pb -o orderer.example.net:7050 -c testchannel19546 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:56:10.841 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:56:10.842 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:56:10.843 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:56:10.843 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel19546
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel19546 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:56:11.137 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:56:11.146 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel19546> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel19546> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:56:13.576 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:56:13.579 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-18 22:56:13.581 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-18 22:56:13.581 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel19546",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T22:56:11Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel19546> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
./verify/test-channel-does-not-exist.sh testchannel19546 vtb
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel19546 vtb
[1;34m
Verifing if the <testchannel19546> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:56:14.697 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:56:14.699 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel19546> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel19546 vtb ; ./verify/test-channel-does-not-exist.sh testchannel19546 vtb
Step: 3_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel19546 vtb VERIFY: test-channel-does-not-exist.sh testchannel19546 vtb
[1;36m
Creating the <testchannel19546> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel19546[m[m[m
example.net

Create channel vtb testchannel19546
--2020-02-18 22:56:17--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:56:17--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:56:17--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:56:17--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:56:17.158 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:56:17.208 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:56:17.208 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:56:17.208 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:56:17.208 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:56:17.208 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:56:17.208 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:56:17.208 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:56:17.208 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:56:17.256 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:56:17.256 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:56:17.256 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:56:17.256 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:56:17.256 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:56:17.256 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:56:17.256 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:56:17.256 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:56:17.257 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-18 22:56:17.257 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:56:17.257 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:56:17.257 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:56:17.257 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-18 22:56:17.258 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:56:17.312 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel19546.pb -o orderer.example.net:7050 -c testchannel19546 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:56:17.380 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:56:17.382 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel19546.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel19546.json: No such file or directory
>> Prepare config update from vtb for channel testchannel19546
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel19546 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:56:17.546 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel19546> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:56:18.534 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:56:18.536 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel19546> does not exist and in not visible to vtb[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel19546-02 vtb ; ./verify/test-channel-exists.sh testchannel19546-02 vtb
Step: 4_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel19546-02 vtb VERIFY: test-channel-exists.sh testchannel19546-02 vtb
[1;36m
Creating the <testchannel19546-02> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel19546-02[m[m[m
example.net

Create channel vtb testchannel19546-02
--2020-02-18 22:56:20--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:56:20--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:56:20--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:56:20--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:56:20.854 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:56:20.904 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:56:20.904 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:56:20.904 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:56:20.904 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:56:20.904 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:56:20.904 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:56:20.904 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:56:20.904 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:56:20.954 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:56:20.955 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:56:20.955 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:56:20.955 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:56:20.955 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:56:20.955 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:56:20.955 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:56:20.955 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:56:20.955 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-18 22:56:20.956 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:56:20.956 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:56:20.956 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:56:20.956 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-18 22:56:20.956 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:56:21.011 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:56:21.043 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel19546-02.pb -o orderer.example.net:7050 -c testchannel19546-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:56:21.107 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:56:21.109 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:56:21.110 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:56:21.110 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel19546-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel19546-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:56:21.402 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:56:21.411 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel19546-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel19546-02> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:56:23.997 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:56:24.000 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-18 22:56:24.003 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-18 22:56:24.003 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel19546-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T22:56:21Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel19546-02> exists and visible to vtb[m[m[m
Step 4_cli: exit code 0
./verify/test-channel-does-not-exist.sh testchannel19546-02 sberbank
Step: 5_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel19546-02 sberbank
[1;34m
Verifing if the <testchannel19546-02> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:56:25.107 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:56:25.110 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel19546-02> does not exist and in not visible to sberbank[m[m[m
Step 5_cli: exit code 0
; NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel19546-02 sberbank ; ./verify/test-channel-does-not-exist.sh testchannel19546-02 sberbank
Step: 6_cli Test 'Can not create channel in ORG1 with the same name'
SKIPAPI: RUNTESTNOERRPRINT: create-channel.sh testchannel19546-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel19546-02 sberbank
Step 6_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel5621 sberbank ; ./verify/test-channel-exists.sh testchannel5621 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel5621 sberbank VERIFY: test-channel-exists.sh testchannel5621 sberbank
[1;36m
Creating the <testchannel5621> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel5621[m[m[m
example.net

Create channel sberbank testchannel5621
--2020-02-18 22:59:30--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:59:30--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:59:30--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:59:30--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:59:30.570 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:59:30.617 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:59:30.618 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:59:30.618 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:59:30.618 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:59:30.618 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:59:30.618 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:59:30.618 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:59:30.618 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:59:30.665 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:59:30.665 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:59:30.665 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:59:30.665 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:59:30.665 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:59:30.665 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:59:30.666 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:59:30.666 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:59:30.666 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 22:59:30.666 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:59:30.666 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:59:30.667 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:59:30.667 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 22:59:30.667 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:59:30.725 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:59:30.771 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel5621.pb -o orderer.example.net:7050 -c testchannel5621 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:59:30.907 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:59:30.909 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:59:30.910 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:59:30.910 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel5621
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel5621 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:59:31.201 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:59:31.209 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel5621> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel5621> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:59:33.253 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:59:33.256 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-18 22:59:33.258 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-18 22:59:33.258 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel5621",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T22:59:31Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel5621> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
./verify/test-channel-does-not-exist.sh testchannel5621 vtb
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel5621 vtb
[1;34m
Verifing if the <testchannel5621> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:59:34.300 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:59:34.305 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel5621> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel5621 vtb ; ./verify/test-channel-does-not-exist.sh testchannel5621 vtb
Step: 3_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel5621 vtb VERIFY: test-channel-does-not-exist.sh testchannel5621 vtb
[1;36m
Creating the <testchannel5621> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel5621[m[m[m
example.net

Create channel vtb testchannel5621
--2020-02-18 22:59:37--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:59:37--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:59:37--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:59:37--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:59:37.093 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:59:37.159 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:59:37.159 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:59:37.159 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:59:37.159 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:59:37.159 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:59:37.159 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:59:37.159 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:59:37.159 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:59:37.208 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:59:37.208 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:59:37.208 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:59:37.208 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:59:37.208 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:59:37.208 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:59:37.209 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:59:37.209 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:59:37.209 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-18 22:59:37.209 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:59:37.209 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:59:37.210 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:59:37.210 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-18 22:59:37.210 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:59:37.273 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel5621.pb -o orderer.example.net:7050 -c testchannel5621 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:59:37.338 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:59:37.340 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel5621.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel5621.json: No such file or directory
>> Prepare config update from vtb for channel testchannel5621
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel5621 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:59:37.503 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel5621> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:59:38.482 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:59:38.483 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel5621> does not exist and in not visible to vtb[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel5621-02 vtb ; ./verify/test-channel-exists.sh testchannel5621-02 vtb
Step: 4_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel5621-02 vtb VERIFY: test-channel-exists.sh testchannel5621-02 vtb
[1;36m
Creating the <testchannel5621-02> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel5621-02[m[m[m
example.net

Create channel vtb testchannel5621-02
--2020-02-18 22:59:40--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:59:40--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:59:40--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 22:59:40--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 22:59:40.805 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 22:59:40.856 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:59:40.856 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:59:40.856 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 22:59:40.856 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 22:59:40.856 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 22:59:40.856 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 22:59:40.856 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 22:59:40.856 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:59:40.905 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 22:59:40.905 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 22:59:40.905 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 22:59:40.905 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 22:59:40.905 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 22:59:40.905 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:59:40.905 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:59:40.906 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:59:40.906 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-18 22:59:40.906 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 22:59:40.906 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 22:59:40.906 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 22:59:40.907 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-18 22:59:40.907 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 22:59:40.963 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:59:41.000 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel5621-02.pb -o orderer.example.net:7050 -c testchannel5621-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:59:41.074 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:59:41.079 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 22:59:41.080 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 22:59:41.080 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel5621-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel5621-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 22:59:41.372 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:59:41.383 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel5621-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel5621-02> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 22:59:43.461 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:59:43.467 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-18 22:59:43.478 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-18 22:59:43.478 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel5621-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T22:59:41Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel5621-02> exists and visible to vtb[m[m[m
Step 4_cli: exit code 0
./verify/test-channel-does-not-exist.sh testchannel5621-02 sberbank
Step: 5_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel5621-02 sberbank
[1;34m
Verifing if the <testchannel5621-02> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 22:59:44.550 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 22:59:44.554 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel5621-02> does not exist and in not visible to sberbank[m[m[m
Step 5_cli: exit code 0
; NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel5621-02 sberbank ; ./verify/test-channel-does-not-exist.sh testchannel5621-02 sberbank
Step: 6_cli Test 'Can not create channel in ORG1 with the same name'
SKIPAPI: RUNTESTNOERRPRINT: create-channel.sh testchannel5621-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel5621-02 sberbank
Step 6_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel5845 sberbank ; ./verify/test-channel-exists.sh testchannel5845 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel5845 sberbank VERIFY: test-channel-exists.sh testchannel5845 sberbank
[1;36m
Creating the <testchannel5845> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel5845[m[m[m
example.net

Create channel sberbank testchannel5845
--2020-02-18 23:00:20--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:00:20--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:00:20--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:00:20--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 23:00:20.068 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 23:00:20.123 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 23:00:20.123 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 23:00:20.123 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 23:00:20.123 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 23:00:20.123 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 23:00:20.123 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 23:00:20.123 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 23:00:20.123 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 23:00:20.171 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 23:00:20.171 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 23:00:20.171 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 23:00:20.171 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 23:00:20.171 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 23:00:20.171 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 23:00:20.171 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 23:00:20.171 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 23:00:20.172 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 23:00:20.172 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 23:00:20.172 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 23:00:20.172 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 23:00:20.173 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 23:00:20.173 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 23:00:20.241 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:00:20.274 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel5845.pb -o orderer.example.net:7050 -c testchannel5845 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 23:00:20.336 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:00:20.338 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 23:00:20.339 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 23:00:20.340 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel5845
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel5845 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 23:00:20.624 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:00:20.633 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel5845> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel5845> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 23:00:22.736 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:00:22.739 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-18 23:00:22.741 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-18 23:00:22.741 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel5845",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T23:00:20Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel5845> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
./verify/test-channel-does-not-exist.sh testchannel5845 vtb
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel5845 vtb
[1;34m
Verifing if the <testchannel5845> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 23:00:23.263 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:00:23.265 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel5845> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel5845 vtb ; ./verify/test-channel-does-not-exist.sh testchannel5845 vtb
Step: 3_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel5845 vtb VERIFY: test-channel-does-not-exist.sh testchannel5845 vtb
[1;36m
Creating the <testchannel5845> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel5845[m[m[m
example.net

Create channel vtb testchannel5845
--2020-02-18 23:00:26--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:00:26--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:00:26--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:00:26--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 23:00:26.209 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 23:00:26.297 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 23:00:26.297 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 23:00:26.297 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 23:00:26.297 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 23:00:26.297 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 23:00:26.297 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 23:00:26.297 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 23:00:26.297 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 23:00:26.356 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 23:00:26.356 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 23:00:26.356 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 23:00:26.356 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 23:00:26.356 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 23:00:26.356 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 23:00:26.356 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 23:00:26.356 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 23:00:26.357 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-18 23:00:26.358 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 23:00:26.358 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 23:00:26.358 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 23:00:26.358 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-18 23:00:26.359 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 23:00:26.422 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel5845.pb -o orderer.example.net:7050 -c testchannel5845 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 23:00:26.513 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:00:26.516 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel5845.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel5845.json: No such file or directory
>> Prepare config update from vtb for channel testchannel5845
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel5845 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 23:00:26.688 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel5845> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 23:00:27.672 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:00:27.673 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel5845> does not exist and in not visible to vtb[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel5845-02 vtb ; ./verify/test-channel-exists.sh testchannel5845-02 vtb
Step: 4_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel5845-02 vtb VERIFY: test-channel-exists.sh testchannel5845-02 vtb
[1;36m
Creating the <testchannel5845-02> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel5845-02[m[m[m
example.net

Create channel vtb testchannel5845-02
--2020-02-18 23:00:29--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:00:29--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:00:29--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:00:29--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 23:00:29.983 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 23:00:30.036 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 23:00:30.036 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 23:00:30.036 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 23:00:30.036 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 23:00:30.036 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 23:00:30.036 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 23:00:30.036 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 23:00:30.036 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 23:00:30.085 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 23:00:30.086 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 23:00:30.086 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 23:00:30.086 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 23:00:30.086 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 23:00:30.086 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 23:00:30.086 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 23:00:30.086 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 23:00:30.087 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-18 23:00:30.087 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 23:00:30.087 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 23:00:30.087 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 23:00:30.087 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-18 23:00:30.087 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 23:00:30.140 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:00:30.179 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel5845-02.pb -o orderer.example.net:7050 -c testchannel5845-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 23:00:30.248 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:00:30.251 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 23:00:30.252 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 23:00:30.252 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel5845-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel5845-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 23:00:30.543 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:00:30.551 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel5845-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel5845-02> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 23:00:32.579 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:00:32.582 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-18 23:00:32.583 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-18 23:00:32.583 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel5845-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T23:00:30Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel5845-02> exists and visible to vtb[m[m[m
Step 4_cli: exit code 0
./verify/test-channel-does-not-exist.sh testchannel5845-02 sberbank
Step: 5_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel5845-02 sberbank
[1;34m
Verifing if the <testchannel5845-02> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 23:00:33.125 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:00:33.127 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel5845-02> does not exist and in not visible to sberbank[m[m[m
Step 5_cli: exit code 0
: ; ; NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel5845-02 sberbank ; ./verify/test-channel-does-not-exist.sh testchannel5845-02 sberbank
Step: 6_cli Test 'Can not create channel in ORG1 with the same name'
SKIPAPI: RUNTESTNOERRPRINT: create-channel.sh testchannel5845-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel5845-02 sberbank
Step 6_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel24060 sberbank ; ./verify/test-channel-exists.sh testchannel24060 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel24060 sberbank VERIFY: test-channel-exists.sh testchannel24060 sberbank
[1;36m
Creating the <testchannel24060> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel24060[m[m[m
example.net

Create channel sberbank testchannel24060
--2020-02-18 23:01:13--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:01:13--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:01:13--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:01:13--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 23:01:13.613 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 23:01:13.674 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 23:01:13.674 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 23:01:13.675 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 23:01:13.675 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 23:01:13.675 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 23:01:13.675 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 23:01:13.675 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 23:01:13.675 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 23:01:13.772 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 23:01:13.772 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 23:01:13.772 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 23:01:13.772 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 23:01:13.772 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 23:01:13.772 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 23:01:13.772 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 23:01:13.772 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 23:01:13.773 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 23:01:13.773 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 23:01:13.773 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 23:01:13.773 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 23:01:13.774 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 23:01:13.774 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 23:01:13.904 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:01:13.960 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel24060.pb -o orderer.example.net:7050 -c testchannel24060 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 23:01:14.148 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:01:14.152 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 23:01:14.154 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 23:01:14.154 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel24060
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel24060 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 23:01:14.872 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:01:14.892 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel24060> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel24060> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 23:01:17.084 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:01:17.086 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-18 23:01:17.087 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-18 23:01:17.087 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel24060",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T23:01:14Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel24060> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
./verify/test-channel-does-not-exist.sh testchannel24060 vtb
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel24060 vtb
[1;34m
Verifing if the <testchannel24060> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 23:01:17.634 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:01:17.636 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel24060> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel24060 vtb ; ./verify/test-channel-does-not-exist.sh testchannel24060 vtb
Step: 3_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel24060 vtb VERIFY: test-channel-does-not-exist.sh testchannel24060 vtb
[1;36m
Creating the <testchannel24060> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel24060[m[m[m
example.net

Create channel vtb testchannel24060
--2020-02-18 23:01:19--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:01:19--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:01:19--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:01:19--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 23:01:19.982 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 23:01:20.038 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 23:01:20.038 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 23:01:20.038 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 23:01:20.038 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 23:01:20.038 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 23:01:20.038 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 23:01:20.038 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 23:01:20.038 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 23:01:20.088 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 23:01:20.088 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 23:01:20.088 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 23:01:20.088 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 23:01:20.088 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 23:01:20.088 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 23:01:20.088 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 23:01:20.089 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 23:01:20.089 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-18 23:01:20.089 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 23:01:20.089 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 23:01:20.089 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 23:01:20.090 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-18 23:01:20.090 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 23:01:20.149 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel24060.pb -o orderer.example.net:7050 -c testchannel24060 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 23:01:20.217 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:01:20.218 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel24060.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel24060.json: No such file or directory
>> Prepare config update from vtb for channel testchannel24060
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel24060 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 23:01:20.380 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel24060> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 23:01:21.333 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:01:21.334 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel24060> does not exist and in not visible to vtb[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel24060-02 vtb ; ./verify/test-channel-exists.sh testchannel24060-02 vtb
Step: 4_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel24060-02 vtb VERIFY: test-channel-exists.sh testchannel24060-02 vtb
[1;36m
Creating the <testchannel24060-02> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel24060-02[m[m[m
example.net

Create channel vtb testchannel24060-02
--2020-02-18 23:01:23--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:01:23--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:01:23--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:01:23--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 23:01:23.712 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 23:01:23.869 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 23:01:23.869 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 23:01:23.869 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 23:01:23.869 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 23:01:23.869 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 23:01:23.870 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 23:01:23.870 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 23:01:23.870 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 23:01:23.996 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 23:01:23.996 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 23:01:23.996 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 23:01:23.996 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 23:01:23.996 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 23:01:23.996 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 23:01:23.996 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 23:01:23.997 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 23:01:23.997 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-18 23:01:23.998 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 23:01:23.998 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 23:01:23.998 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 23:01:23.999 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-18 23:01:23.999 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 23:01:24.133 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:01:24.191 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel24060-02.pb -o orderer.example.net:7050 -c testchannel24060-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 23:01:24.332 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:01:24.336 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 23:01:24.349 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 23:01:24.350 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel24060-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel24060-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 23:01:25.068 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:01:25.081 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel24060-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel24060-02> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 23:01:27.201 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:01:27.204 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-18 23:01:27.205 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-18 23:01:27.205 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel24060-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T23:01:25Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel24060-02> exists and visible to vtb[m[m[m
Step 4_cli: exit code 0
./verify/test-channel-does-not-exist.sh testchannel24060-02 sberbank
Step: 5_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel24060-02 sberbank
[1;34m
Verifing if the <testchannel24060-02> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 23:01:27.718 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:01:27.720 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel24060-02> does not exist and in not visible to sberbank[m[m[m
Step 5_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel24060-02 sberbank ; ./verify/test-channel-does-not-exist.sh testchannel24060-02 sberbank
Step: 6_cli Test 'Can not create channel in ORG1 with the same name'
SKIPAPI: RUNTESTNOERRPRINT: create-channel.sh testchannel24060-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel24060-02 sberbank
[1;36m
Creating the <testchannel24060-02> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel24060-02[m[m[m
example.net

Create channel sberbank testchannel24060-02
--2020-02-18 23:01:30--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:01:30--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:01:30--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:01:30--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 23:01:30.059 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 23:01:30.109 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 23:01:30.109 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 23:01:30.109 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 23:01:30.109 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 23:01:30.109 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 23:01:30.109 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 23:01:30.109 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 23:01:30.109 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 23:01:30.159 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 23:01:30.159 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 23:01:30.159 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 23:01:30.159 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 23:01:30.159 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 23:01:30.159 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 23:01:30.159 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 23:01:30.159 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 23:01:30.160 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 23:01:30.160 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 23:01:30.160 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 23:01:30.160 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 23:01:30.161 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 23:01:30.161 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 23:01:30.213 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel24060-02.pb -o orderer.example.net:7050 -c testchannel24060-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 23:01:30.284 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:01:30.286 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel24060-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel24060-02.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel24060-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel24060-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 23:01:30.452 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel24060-02> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 23:01:31.370 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:01:31.372 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel24060-02> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel18209 sberbank ; ./verify/test-channel-exists.sh testchannel18209 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel18209 sberbank VERIFY: test-channel-exists.sh testchannel18209 sberbank
[1;36mCreating testchannel18209 channel in sberbank.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2NjkwMn0.jAVrWWedRbGqF2dxhzuhiD277B54H-w49iwShl0pFq0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.net:7051","name":"peer0.sberbank.example.net:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.net:7051","grpc.default_authority":"peer0.sberbank.example.net:7051"}}}] 200
[1;32mOK: Channel <testchannel18209> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel18209> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 23:01:46.934 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:01:46.935 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 23:01:46.936 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 23:01:46.936 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel18209",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T23:01:43Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel18209> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
./verify/test-channel-does-not-exist.sh testchannel18209 vtb
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel18209 vtb
[1;34m
Verifing if the <testchannel18209> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 23:01:47.423 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:01:47.425 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel18209> does not exist and in not visible to vtb[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh ^^^^^^testchannel18209 sberbank ; ./verify/test-channel-does-not-exist.sh ^^^^^^testchannel18209 sberbank
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
SKIPCLI: RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel18209 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel18209 sberbank
[1;36mCreating ^^^^^^testchannel18209 channel in sberbank.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2NjkwN30.usQ8foBeQzmWwY-Fxtd9siVKVGMbTuYhsm7ZDliamOA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel18209\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel18209> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 23:01:49.479 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:01:49.480 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel18209> does not exist and in not visible to sberbank[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh testchannel18209 vtb ; ./verify/test-channel-does-not-exist.sh testchannel18209 vtb
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel18209 vtb VERIFY: test-channel-does-not-exist.sh testchannel18209 vtb
[1;36mCreating testchannel18209 channel in vtb.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4001
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2NjkwOX0.4wjlAVfA6BJKycj7Klk4DcUEJ4q2l2ArYE-U76I2PHI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel18209> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 23:01:51.495 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:01:51.498 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel18209> does not exist and in not visible to vtb[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel18209-02 vtb ; ./verify/test-channel-exists.sh testchannel18209-02 vtb
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel18209-02 vtb VERIFY: test-channel-exists.sh testchannel18209-02 vtb
[1;36mCreating testchannel18209-02 channel in vtb.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4001
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2NjkxMX0.qYoHpawz1kTYZnmI4GmpdZlEUmmWhTB9rHbnX3xDG2I
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.net:8051","name":"peer0.vtb.example.net:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.net:8051","grpc.default_authority":"peer0.vtb.example.net:8051"}}}] 200
[1;32mOK: Channel <testchannel18209-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel18209-02> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 23:01:55.251 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:01:55.253 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 23:01:55.255 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 23:01:55.255 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel18209-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T23:01:52Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel18209-02> exists and visible to vtb[m[m[m
Step 5_api: exit code 0
./verify/test-channel-does-not-exist.sh testchannel18209-02 sberbank
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel18209-02 sberbank
[1;34m
Verifing if the <testchannel18209-02> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 23:01:55.983 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:01:55.986 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel18209-02> does not exist and in not visible to sberbank[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel1344 sberbank ; ./verify/test-channel-exists.sh testchannel1344 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel1344 sberbank VERIFY: test-channel-exists.sh testchannel1344 sberbank
[1;36mCreating testchannel1344 channel in sberbank.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2NzA0Nn0.Romb97l0toBao6g_pe1zpCV3kwKiVpOJ0k9RIl1lz7E
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.net:7051","name":"peer0.sberbank.example.net:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.net:7051","grpc.default_authority":"peer0.sberbank.example.net:7051"}}}] 200
[1;32mOK: Channel <testchannel1344> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel1344> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 23:04:08.483 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:04:08.485 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 23:04:08.486 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 23:04:08.486 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel1344",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T23:04:07Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel1344> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
./verify/test-channel-does-not-exist.sh testchannel1344 vtb
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel1344 vtb
[1;34m
Verifing if the <testchannel1344> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 23:04:08.998 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:04:09.000 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel1344> does not exist and in not visible to vtb[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh ^^^^^^testchannel1344 sberbank ; ./verify/test-channel-does-not-exist.sh ^^^^^^testchannel1344 sberbank
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
SKIPCLI: RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel1344 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel1344 sberbank
[1;36mCreating ^^^^^^testchannel1344 channel in sberbank.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2NzA0OX0.zAhaIVJwYwCGN6DwUQSSnmUWQpoFtCkP4g1qG4tCH38
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel1344\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel1344> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 23:04:11.038 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:04:11.039 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel1344> does not exist and in not visible to sberbank[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh testchannel1344 vtb ; ./verify/test-channel-does-not-exist.sh testchannel1344 vtb
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel1344 vtb VERIFY: test-channel-does-not-exist.sh testchannel1344 vtb
[1;36mCreating testchannel1344 channel in vtb.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4001
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2NzA1MX0.TcpUUd95e-t47APRb_yq7O4vcC-QYT6YC-RK-KrwE94
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel1344> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 23:04:13.070 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:04:13.072 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel1344> does not exist and in not visible to vtb[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel1344-02 vtb ; ./verify/test-channel-exists.sh testchannel1344-02 vtb
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel1344-02 vtb VERIFY: test-channel-exists.sh testchannel1344-02 vtb
[1;36mCreating testchannel1344-02 channel in vtb.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4001
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjA2NzA1M30.nUelbArHFrfeeJLttSefQ0dCFT4Anm010qolyTwCuyc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.net:8051","name":"peer0.vtb.example.net:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.net:8051","grpc.default_authority":"peer0.vtb.example.net:8051"}}}] 200
[1;32mOK: Channel <testchannel1344-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel1344-02> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 23:04:17.017 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:04:17.019 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 23:04:17.020 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 23:04:17.020 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel1344-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T23:04:15Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel1344-02> exists and visible to vtb[m[m[m
Step 5_api: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel18015 sberbank ; ./verify/test-channel-exists.sh testchannel18015 sberbank
Step: 6_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel18015 sberbank VERIFY: test-channel-exists.sh testchannel18015 sberbank
[1;36m
Creating the <testchannel18015> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel18015[m[m[m
example.net

Create channel sberbank testchannel18015
--2020-02-18 23:04:19--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:04:19--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:04:19--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:04:19--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 23:04:19.341 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 23:04:19.391 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 23:04:19.391 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 23:04:19.391 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 23:04:19.391 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 23:04:19.391 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 23:04:19.391 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 23:04:19.391 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 23:04:19.391 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 23:04:19.442 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 23:04:19.442 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 23:04:19.442 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 23:04:19.442 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 23:04:19.442 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 23:04:19.442 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 23:04:19.442 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 23:04:19.443 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 23:04:19.443 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 23:04:19.443 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 23:04:19.443 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 23:04:19.443 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 23:04:19.444 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 23:04:19.444 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 23:04:19.496 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:04:19.530 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel18015.pb -o orderer.example.net:7050 -c testchannel18015 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 23:04:19.597 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:04:19.598 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 23:04:19.599 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 23:04:19.599 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel18015
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel18015 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 23:04:19.936 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:04:19.944 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel18015> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel18015> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 23:04:22.195 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:04:22.196 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-18 23:04:22.197 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-18 23:04:22.197 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel18015",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T23:04:19Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel18015> exists and visible to sberbank[m[m[m
Step 6_cli: exit code 0
./verify/test-channel-does-not-exist.sh testchannel18015 vtb
Step: 7_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel18015 vtb
[1;34m
Verifing if the <testchannel18015> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 23:04:22.710 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:04:22.713 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel18015> does not exist and in not visible to vtb[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel18015 vtb ; ./verify/test-channel-does-not-exist.sh testchannel18015 vtb
Step: 8_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel18015 vtb VERIFY: test-channel-does-not-exist.sh testchannel18015 vtb
[1;36m
Creating the <testchannel18015> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel18015[m[m[m
example.net

Create channel vtb testchannel18015
--2020-02-18 23:04:25--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:04:25--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:04:25--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:04:25--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 23:04:25.132 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 23:04:25.279 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 23:04:25.280 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 23:04:25.280 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 23:04:25.280 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 23:04:25.280 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 23:04:25.280 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 23:04:25.280 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 23:04:25.280 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 23:04:25.415 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 23:04:25.415 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 23:04:25.416 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 23:04:25.416 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 23:04:25.416 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 23:04:25.416 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 23:04:25.416 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 23:04:25.416 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 23:04:25.416 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-18 23:04:25.417 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 23:04:25.417 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 23:04:25.417 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 23:04:25.417 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-18 23:04:25.417 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 23:04:25.489 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel18015.pb -o orderer.example.net:7050 -c testchannel18015 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 23:04:25.578 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:04:25.580 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel18015.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel18015.json: No such file or directory
>> Prepare config update from vtb for channel testchannel18015
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel18015 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 23:04:25.852 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel18015> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 23:04:27.181 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:04:27.183 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel18015> does not exist and in not visible to vtb[m[m[m
Step 8_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel18015-02 vtb ; ./verify/test-channel-exists.sh testchannel18015-02 vtb
Step: 9_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel18015-02 vtb VERIFY: test-channel-exists.sh testchannel18015-02 vtb
[1;36m
Creating the <testchannel18015-02> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel18015-02[m[m[m
example.net

Create channel vtb testchannel18015-02
--2020-02-18 23:04:29--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:04:29--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:04:29--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:04:29--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 23:04:29.604 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 23:04:29.667 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 23:04:29.667 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 23:04:29.667 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 23:04:29.667 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 23:04:29.667 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 23:04:29.667 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 23:04:29.667 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 23:04:29.668 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 23:04:29.727 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 23:04:29.727 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 23:04:29.728 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 23:04:29.728 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 23:04:29.728 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 23:04:29.728 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 23:04:29.728 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 23:04:29.728 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 23:04:29.728 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-18 23:04:29.728 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 23:04:29.728 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 23:04:29.729 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 23:04:29.729 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-18 23:04:29.729 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 23:04:29.792 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:04:29.830 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel18015-02.pb -o orderer.example.net:7050 -c testchannel18015-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 23:04:29.927 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:04:29.929 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 23:04:29.930 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 23:04:29.930 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel18015-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel18015-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 23:04:30.225 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:04:30.235 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel18015-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel18015-02> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 23:04:32.389 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:04:32.391 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-18 23:04:32.392 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-18 23:04:32.392 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel18015-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T23:04:30Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel18015-02> exists and visible to vtb[m[m[m
Step 9_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel18015-02 sberbank ; ./verify/test-channel-does-not-exist.sh testchannel18015-02 sberbank
Step: 10_cli Test 'Can not create channel in ORG1 with the same name'
SKIPAPI: RUNTESTNOERRPRINT: create-channel.sh testchannel18015-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel18015-02 sberbank
[1;36m
Creating the <testchannel18015-02> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel18015-02[m[m[m
example.net

Create channel sberbank testchannel18015-02
--2020-02-18 23:04:34--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:04:34--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:04:34--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:04:34--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 23:04:34.806 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 23:04:34.923 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 23:04:34.923 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 23:04:34.923 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 23:04:34.924 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 23:04:34.924 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 23:04:34.924 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 23:04:34.924 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 23:04:34.924 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 23:04:35.057 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 23:04:35.057 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 23:04:35.057 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 23:04:35.057 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 23:04:35.057 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 23:04:35.057 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 23:04:35.058 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 23:04:35.058 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 23:04:35.059 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 23:04:35.059 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 23:04:35.059 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 23:04:35.059 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 23:04:35.059 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 23:04:35.060 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 23:04:35.202 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel18015-02.pb -o orderer.example.net:7050 -c testchannel18015-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 23:04:35.388 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:04:35.395 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel18015-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel18015-02.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel18015-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel18015-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 23:04:35.638 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel18015-02> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 23:04:36.924 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:04:36.926 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel18015-02> does not exist and in not visible to sberbank[m[m[m
Step 10_cli: exit code 0
RUNTEST: create-channel.sh testchannel31634 sberbank VERIFY: test-channel-exists.sh testchannel31634 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel31634 sberbank VERIFY: test-channel-exists.sh testchannel31634 sberbank
Step 1_api: exit code 127
VERIFY: test-channel-does-not-exist.sh testchannel31634 vtb
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel31634 vtb
Step 2_api: exit code 127
SKIPCLI: RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel31634 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel31634 sberbank
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
SKIPCLI: RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel31634 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel31634 sberbank
Step 3_api: exit code 127
RUNTESTNOERRPRINT: create-channel.sh testchannel31634 vtb VERIFY: test-channel-does-not-exist.sh testchannel31634 vtb
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel31634 vtb VERIFY: test-channel-does-not-exist.sh testchannel31634 vtb
Step 4_api: exit code 127
RUNTEST: create-channel.sh testchannel31634-02 vtb VERIFY: test-channel-exists.sh testchannel31634-02 vtb
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel31634-02 vtb VERIFY: test-channel-exists.sh testchannel31634-02 vtb
Step 5_api: exit code 127
SKIP: VERIFY: test-channel-does-not-exist.sh testchannel31634-02 sberbank [1;37m Step x_api: Test 'This new channel is not visible in ORG1' -- SKIPPING (due to SKIP: command)[m[m[m [1;32mExit code: 0[m[m[m
Step: 6_api Test 'This new channel is not visible in ORG1'
SKIP: VERIFY: test-channel-does-not-exist.sh testchannel31634-02 sberbank
Step 6_api: exit code 1
SKIPAPI: RUNTESTNOERRPRINT: create-channel.sh testchannel31634-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel31634-02 sberbank [1;37m Step x_api: Test 'Can not create channel in ORG1 with the same name' -- SKIPPING (due to SKIPAPI: command)[m[m[m [1;32mExit code: 0[m[m[m
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
SKIPAPI: RUNTESTNOERRPRINT: create-channel.sh testchannel31634-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel31634-02 sberbank
Step 7_api: exit code 1
RUNTEST: create-channel.sh testchannel19455 sberbank VERIFY: test-channel-exists.sh testchannel19455 sberbank
Step: 8_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel19455 sberbank VERIFY: test-channel-exists.sh testchannel19455 sberbank
Step 8_cli: exit code 127
VERIFY: test-channel-does-not-exist.sh testchannel19455 vtb
Step: 9_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel19455 vtb
Step 9_cli: exit code 127
SKIPCLI: RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel19455 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel19455 sberbank [1;37m Step x_cli: Test 'Can not create the channel with incorrect name in ORG1' -- SKIPPING (due to SKIPCLI: command)[m[m[m [1;32mExit code: 0[m[m[m
Step: 10_cli Test 'Can not create the channel with incorrect name in ORG1'
SKIPCLI: RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel19455 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel19455 sberbank
Step 10_cli: exit code 1
RUNTESTNOERRPRINT: create-channel.sh testchannel19455 vtb VERIFY: test-channel-does-not-exist.sh testchannel19455 vtb
Step: 11_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel19455 vtb VERIFY: test-channel-does-not-exist.sh testchannel19455 vtb
Step 11_cli: exit code 127
RUNTEST: create-channel.sh testchannel19455-02 vtb VERIFY: test-channel-exists.sh testchannel19455-02 vtb
Step: 12_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel19455-02 vtb VERIFY: test-channel-exists.sh testchannel19455-02 vtb
Step 12_cli: exit code 127
SKIP: VERIFY: test-channel-does-not-exist.sh testchannel19455-02 sberbank [1;37m Step x_cli: Test 'This new channel is not visible in ORG1' -- SKIPPING (due to SKIP: command)[m[m[m [1;32mExit code: 0[m[m[m
Step: 13_cli Test 'This new channel is not visible in ORG1'
SKIP: VERIFY: test-channel-does-not-exist.sh testchannel19455-02 sberbank
Step 13_cli: exit code 1
SKIPAPI: RUNTESTNOERRPRINT: create-channel.sh testchannel19455-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel19455-02 sberbank
Step: 14_cli Test 'Can not create channel in ORG1 with the same name'
SKIPAPI: RUNTESTNOERRPRINT: create-channel.sh testchannel19455-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel19455-02 sberbank
Step 14_cli: exit code 127
RUNTEST: create-channel.sh testchannel18859 sberbank VERIFY: test-channel-exists.sh testchannel18859 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel18859 sberbank VERIFY: test-channel-exists.sh testchannel18859 sberbank
Step 1_cli: exit code 127
VERIFY: test-channel-does-not-exist.sh testchannel18859 vtb
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel18859 vtb
Step 2_cli: exit code 127
SKIPCLI: RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel18859 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel18859 sberbank [1;37m Step x_cli: Test 'Can not create the channel with incorrect name in ORG1' -- SKIPPING (due to SKIPCLI: command)[m[m[m [1;32mExit code: 0[m[m[m
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
SKIPCLI: RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel18859 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel18859 sberbank
Step 3_cli: exit code 1
RUNTESTNOERRPRINT: create-channel.sh testchannel18859 vtb VERIFY: test-channel-does-not-exist.sh testchannel18859 vtb
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel18859 vtb VERIFY: test-channel-does-not-exist.sh testchannel18859 vtb
Step 4_cli: exit code 127
RUNTEST: create-channel.sh testchannel18859-02 vtb VERIFY: test-channel-exists.sh testchannel18859-02 vtb
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel18859-02 vtb VERIFY: test-channel-exists.sh testchannel18859-02 vtb
Step 5_cli: exit code 127
SKIP: VERIFY: test-channel-does-not-exist.sh testchannel18859-02 sberbank [1;37m Step x_cli: Test 'This new channel is not visible in ORG1' -- SKIPPING (due to SKIP: command)[m[m[m [1;32mExit code: 0[m[m[m
Step: 6_cli Test 'This new channel is not visible in ORG1'
SKIP: VERIFY: test-channel-does-not-exist.sh testchannel18859-02 sberbank
Step 6_cli: exit code 1
SKIPAPI: RUNTESTNOERRPRINT: create-channel.sh testchannel18859-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel18859-02 sberbank
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
SKIPAPI: RUNTESTNOERRPRINT: create-channel.sh testchannel18859-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel18859-02 sberbank
Step 7_cli: exit code 127
Channel in ORG1' cli RUNTEST: create-channel.sh testchannel11556 sberbank VERIFY: test-channel-exists.sh testchannel11556 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel11556 sberbank VERIFY: test-channel-exists.sh testchannel11556 sberbank
Step 1_cli: exit code 1
channel is not visible in ORG2' cli VERIFY: test-channel-does-not-exist.sh testchannel11556 vtb
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel11556 vtb
Step 2_cli: exit code 1
not create the channel with incorrect name in ORG1' cli SKIPCLI: RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel11556 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel11556 sberbank
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
SKIPCLI: RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel11556 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel11556 sberbank
Step 3_cli: exit code 1
not create channel in ORG2 with the same name' cli RUNTESTNOERRPRINT: create-channel.sh testchannel11556 vtb VERIFY: test-channel-does-not-exist.sh testchannel11556 vtb
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel11556 vtb VERIFY: test-channel-does-not-exist.sh testchannel11556 vtb
Step 4_cli: exit code 1
another channel in ORG2 cli RUNTEST: create-channel.sh testchannel11556-02 vtb VERIFY: test-channel-exists.sh testchannel11556-02 vtb
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel11556-02 vtb VERIFY: test-channel-exists.sh testchannel11556-02 vtb
Step 5_cli: exit code 127
new channel is not visible in ORG1' cli SKIP: VERIFY: test-channel-does-not-exist.sh testchannel11556-02 sberbank [1;37m Step x_'This: Test -- SKIPPING (due to SKIP: command)[m[m[m [1;32mExit code: 0[m[m[m
Step: 6_cli Test 'This new channel is not visible in ORG1'
SKIP: VERIFY: test-channel-does-not-exist.sh testchannel11556-02 sberbank
Step 6_cli: exit code 1
not create channel in ORG1 with the same name' cli SKIPAPI: RUNTESTNOERRPRINT: create-channel.sh testchannel11556-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel11556-02 sberbank
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
SKIPAPI: RUNTESTNOERRPRINT: create-channel.sh testchannel11556-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel11556-02 sberbank
Step 7_cli: exit code 1
Channel in ORG1' cli RUNTEST: create-channel.sh testchannel13649 sberbank VERIFY: test-channel-exists.sh testchannel13649 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel13649 sberbank VERIFY: test-channel-exists.sh testchannel13649 sberbank
Step 1_cli: exit code 1
channel is not visible in ORG2' cli VERIFY: test-channel-does-not-exist.sh testchannel13649 vtb
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel13649 vtb
Step 2_cli: exit code 1
not create the channel with incorrect name in ORG1' cli SKIPCLI: RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel13649 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel13649 sberbank
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
SKIPCLI: RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel13649 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel13649 sberbank
Step 3_cli: exit code 1
not create channel in ORG2 with the same name' cli RUNTESTNOERRPRINT: create-channel.sh testchannel13649 vtb VERIFY: test-channel-does-not-exist.sh testchannel13649 vtb
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel13649 vtb VERIFY: test-channel-does-not-exist.sh testchannel13649 vtb
Step 4_cli: exit code 1
create-channel.sh testchannel30739 sberbank VERIFY: test-channel-exists.sh testchannel30739 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel30739 sberbank VERIFY: test-channel-exists.sh testchannel30739 sberbank
Step 1_cli: exit code 127
test-channel-does-not-exist.sh testchannel30739 vtb
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel30739 vtb
Step 2_cli: exit code 127
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel30739 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel30739 sberbank
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
SKIPCLI: RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel30739 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel30739 sberbank
Step 3_cli: exit code 127
create-channel.sh testchannel30739 vtb VERIFY: test-channel-does-not-exist.sh testchannel30739 vtb
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel30739 vtb VERIFY: test-channel-does-not-exist.sh testchannel30739 vtb
Step 4_cli: exit code 127
create-channel.sh testchannel32120 sberbank VERIFY: test-channel-exists.sh testchannel32120 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel32120 sberbank VERIFY: test-channel-exists.sh testchannel32120 sberbank
Step 1_cli: exit code 127
testchannel20255 sberbank VERIFY: test-channel-exists.sh testchannel20255 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel20255 sberbank VERIFY: test-channel-exists.sh testchannel20255 sberbank
Step 1_cli: exit code 127
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel32572 sberbank ; ./verify/test-channel-exists.sh testchannel32572 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel32572 sberbank VERIFY: test-channel-exists.sh testchannel32572 sberbank
[1;36m
Creating the <testchannel32572> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32572[m[m[m
example.net

Create channel sberbank testchannel32572
--2020-02-18 23:26:04--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:26:04--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:26:04--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-18 23:26:04--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.9
Connecting to www.example.net (www.example.net)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-18 23:26:05.033 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-18 23:26:05.083 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 23:26:05.083 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 23:26:05.083 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-18 23:26:05.083 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-18 23:26:05.083 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-18 23:26:05.083 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-18 23:26:05.083 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-18 23:26:05.083 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 23:26:05.133 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-18 23:26:05.133 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-18 23:26:05.133 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-18 23:26:05.133 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-18 23:26:05.133 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-18 23:26:05.133 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 23:26:05.133 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 23:26:05.133 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 23:26:05.134 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-18 23:26:05.134 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-18 23:26:05.134 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-18 23:26:05.134 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-18 23:26:05.134 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-18 23:26:05.135 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-18 23:26:05.189 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:26:05.229 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel32572.pb -o orderer.example.net:7050 -c testchannel32572 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 23:26:05.318 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:26:05.322 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-18 23:26:05.323 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-18 23:26:05.323 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel32572
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32572 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-18 23:26:05.662 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:26:05.691 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel32572> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel32572> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-18 23:26:08.041 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:26:08.044 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-18 23:26:08.046 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-18 23:26:08.046 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel32572",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-18T23:26:05Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel32572> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
./verify/test-channel-does-not-exist.sh testchannel32572 vtb
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel32572 vtb
[1;34m
Verifing if the <testchannel32572> channel exists in vtb.example.net...[m[m[m
[34m2020-02-18 23:26:08.705 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:26:08.707 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel32572> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel32572 vtb ; ./verify/test-channel-does-not-exist.sh testchannel32572 vtb
Step: 3_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel32572 vtb VERIFY: test-channel-does-not-exist.sh testchannel32572 vtb
[1;36m
Creating the <testchannel32572> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32572[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[34m2020-02-18 23:26:10.159 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-18 23:26:10.162 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel32572-02 vtb ; ./verify/test-channel-exists.sh testchannel32572-02 vtb
Step: 4_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel32572-02 vtb VERIFY: test-channel-exists.sh testchannel32572-02 vtb
[1;36m
Creating the <testchannel32572-02> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32572-02[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
