Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel26401 sberbank VERIFY: test-channel-exists.sh testchannel26401 sberbank
[1;36m
Creating the <testchannel26401> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel26401[m[m[m
example.net

Create channel sberbank testchannel26401
--2020-02-13 14:47:01--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:47:01--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:47:01--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:47:01--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:47:01.426 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:47:01.532 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:47:01.532 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:47:01.532 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:47:01.532 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:47:01.532 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:47:01.532 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:47:01.532 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:47:01.532 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:47:01.635 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:47:01.635 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:47:01.635 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:47:01.635 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:47:01.635 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:47:01.635 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:47:01.636 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:47:01.636 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:47:01.637 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-13 14:47:01.637 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:47:01.637 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:47:01.637 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:47:01.638 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-13 14:47:01.638 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:47:01.758 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:47:01.818 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel26401.pb -o orderer.example.net:7050 -c testchannel26401 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:47:01.960 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:47:01.977 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-13 14:47:01.979 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-13 14:47:01.979 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel26401
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel26401 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:47:02.633 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:47:02.649 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel26401> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel26401> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-13 14:47:04.934 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:47:04.937 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-13 14:47:04.938 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-13 14:47:04.938 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel26401",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-13T14:47:02Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel26401> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel26401 vtb
[1;34m
Verifing if the <testchannel26401> channel exists in vtb.example.net...[m[m[m
[34m2020-02-13 14:47:05.546 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:47:05.548 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel26401> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel26401 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel26401> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel26401[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel26401
--2020-02-13 14:47:07--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:47:07--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:47:07--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:47:07--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:47:07.947 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:47:08.009 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:47:08.010 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:47:08.010 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:47:08.010 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:47:08.010 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:47:08.010 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:47:08.010 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:47:08.010 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:47:08.070 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:47:08.070 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:47:08.070 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:47:08.070 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:47:08.070 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:47:08.070 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:47:08.070 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:47:08.071 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:47:08.071 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-13 14:47:08.071 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:47:08.071 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:47:08.071 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:47:08.072 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-13 14:47:08.072 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:47:08.137 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel26401' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel26401.pb -o orderer.example.net:7050 -c ^^^^^^testchannel26401 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:47:08.220 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:47:08.222 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel26401.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel26401.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel26401
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel26401 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:47:08.419 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel26401' != '^^^^^^testchannel26401'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel26401 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel26401 vtb
[1;36m
Creating the <testchannel26401> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel26401[m[m[m
example.net

Create channel vtb testchannel26401
--2020-02-13 14:47:12--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:47:12--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:47:12--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:47:12--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:47:12.111 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:47:12.187 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:47:12.187 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:47:12.187 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:47:12.187 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:47:12.187 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:47:12.187 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:47:12.187 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:47:12.187 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:47:12.259 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:47:12.259 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:47:12.259 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:47:12.259 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:47:12.259 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:47:12.259 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:47:12.259 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:47:12.260 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:47:12.261 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-13 14:47:12.261 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:47:12.261 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:47:12.262 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:47:12.262 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-13 14:47:12.262 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:47:12.335 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel26401.pb -o orderer.example.net:7050 -c testchannel26401 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:47:12.429 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:47:12.431 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel26401.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel26401.json: No such file or directory
>> Prepare config update from vtb for channel testchannel26401
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel26401 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:47:12.667 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel26401> channel exists in vtb.example.net...[m[m[m
[34m2020-02-13 14:47:13.963 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:47:13.965 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel26401> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel264010 vtb VERIFY: test-channel-exists.sh testchannel264010 vtb
[1;36m
Creating the <testchannel264010> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel264010[m[m[m
example.net

Create channel vtb testchannel264010
--2020-02-13 14:47:16--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:47:16--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:47:16--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:47:16--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:47:16.519 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:47:16.574 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:47:16.574 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:47:16.574 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:47:16.574 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:47:16.575 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:47:16.575 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:47:16.575 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:47:16.575 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:47:16.629 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:47:16.629 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:47:16.629 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:47:16.629 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:47:16.629 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:47:16.629 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:47:16.629 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:47:16.630 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:47:16.630 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-13 14:47:16.630 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:47:16.630 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:47:16.630 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:47:16.631 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-13 14:47:16.631 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:47:16.711 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:47:16.746 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel264010.pb -o orderer.example.net:7050 -c testchannel264010 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:47:16.829 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:47:16.831 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-13 14:47:16.833 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-13 14:47:16.833 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel264010
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel264010 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:47:17.199 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:47:17.219 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel264010> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel264010> channel exists in vtb.example.net...[m[m[m
[34m2020-02-13 14:47:19.454 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:47:19.456 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-13 14:47:19.457 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-13 14:47:19.457 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel264010",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-13T14:47:17Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel264010> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel264010 sberbank
[1;34m
Verifing if the <testchannel264010> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-13 14:47:20.785 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:47:20.788 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel264010> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel264010 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel264010 sberbank
[1;36m
Creating the <testchannel264010> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel264010[m[m[m
example.net

Create channel sberbank testchannel264010
--2020-02-13 14:47:24--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:47:24--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:47:24--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:47:24--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:47:24.262 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:47:24.334 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:47:24.334 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:47:24.334 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:47:24.334 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:47:24.334 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:47:24.334 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:47:24.334 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:47:24.334 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:47:24.408 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:47:24.408 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:47:24.408 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:47:24.408 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:47:24.408 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:47:24.408 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:47:24.409 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:47:24.409 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:47:24.410 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-13 14:47:24.410 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:47:24.410 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:47:24.410 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:47:24.411 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-13 14:47:24.411 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:47:24.473 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel264010.pb -o orderer.example.net:7050 -c testchannel264010 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:47:24.548 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:47:24.550 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel264010.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel264010.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel264010
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel264010 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:47:24.765 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel264010> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-13 14:47:25.913 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:47:25.914 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel264010> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel11058 sberbank VERIFY: test-channel-exists.sh testchannel11058 sberbank
[1;36m
Creating the <testchannel11058> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel11058[m[m[m
example.net

Create channel sberbank testchannel11058
--2020-02-13 14:50:19--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:50:19--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:50:19--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:50:19--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:50:19.210 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:50:19.268 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:50:19.268 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:50:19.268 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:50:19.268 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:50:19.268 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:50:19.268 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:50:19.268 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:50:19.268 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:50:19.323 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:50:19.323 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:50:19.323 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:50:19.323 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:50:19.323 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:50:19.323 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:50:19.323 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:50:19.323 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:50:19.324 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-13 14:50:19.324 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:50:19.324 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:50:19.324 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:50:19.325 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-13 14:50:19.325 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:50:19.385 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:50:19.422 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel11058.pb -o orderer.example.net:7050 -c testchannel11058 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:50:19.514 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:50:19.516 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-13 14:50:19.517 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-13 14:50:19.517 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel11058
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel11058 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:50:20.104 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:50:20.130 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel11058> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel11058> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-13 14:50:22.610 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:50:22.612 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-13 14:50:22.615 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-13 14:50:22.615 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel11058",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-13T14:50:20Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel11058> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel11058 vtb
[1;34m
Verifing if the <testchannel11058> channel exists in vtb.example.net...[m[m[m
[34m2020-02-13 14:50:23.423 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:50:23.425 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel11058> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel11058 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel11058> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel11058[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel11058
--2020-02-13 14:50:25--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:50:25--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:50:25--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:50:25--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:50:26.012 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:50:26.072 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:50:26.072 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:50:26.072 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:50:26.072 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:50:26.072 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:50:26.072 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:50:26.072 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:50:26.072 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:50:26.128 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:50:26.128 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:50:26.128 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:50:26.128 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:50:26.128 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:50:26.128 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:50:26.128 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:50:26.128 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:50:26.129 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-13 14:50:26.129 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:50:26.129 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:50:26.129 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:50:26.129 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-13 14:50:26.130 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:50:26.195 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel11058' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel11058.pb -o orderer.example.net:7050 -c ^^^^^^testchannel11058 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:50:26.277 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:50:26.278 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel11058.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel11058.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel11058
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel11058 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:50:26.470 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel11058' != '^^^^^^testchannel11058'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel11058 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel11058 vtb
[1;36m
Creating the <testchannel11058> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel11058[m[m[m
example.net

Create channel vtb testchannel11058
--2020-02-13 14:50:29--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:50:29--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:50:29--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:50:29--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:50:29.418 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:50:29.494 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:50:29.494 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:50:29.494 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:50:29.494 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:50:29.494 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:50:29.494 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:50:29.494 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:50:29.494 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:50:29.558 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:50:29.558 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:50:29.558 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:50:29.558 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:50:29.558 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:50:29.558 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:50:29.558 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:50:29.559 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:50:29.560 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-13 14:50:29.560 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:50:29.560 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:50:29.561 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:50:29.561 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-13 14:50:29.562 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:50:29.663 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel11058.pb -o orderer.example.net:7050 -c testchannel11058 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:50:29.815 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:50:29.819 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel11058.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel11058.json: No such file or directory
>> Prepare config update from vtb for channel testchannel11058
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel11058 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:50:30.217 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel11058> channel exists in vtb.example.net...[m[m[m
[34m2020-02-13 14:50:32.197 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:50:32.201 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel11058> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel110580 vtb VERIFY: test-channel-exists.sh testchannel110580 vtb
[1;36m
Creating the <testchannel110580> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel110580[m[m[m
example.net

Create channel vtb testchannel110580
--2020-02-13 14:50:34--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:50:34--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:50:34--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:50:34--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:50:34.932 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:50:34.994 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:50:34.994 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:50:34.994 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:50:34.994 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:50:34.994 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:50:34.994 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:50:34.994 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:50:34.994 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:50:35.054 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:50:35.054 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:50:35.054 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:50:35.054 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:50:35.054 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:50:35.054 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:50:35.054 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:50:35.055 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:50:35.055 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-13 14:50:35.055 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:50:35.055 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:50:35.056 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:50:35.056 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-13 14:50:35.056 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:50:35.118 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:50:35.157 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel110580.pb -o orderer.example.net:7050 -c testchannel110580 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:50:35.229 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:50:35.233 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-13 14:50:35.234 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-13 14:50:35.234 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel110580
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel110580 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:50:35.602 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:50:35.612 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel110580> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel110580> channel exists in vtb.example.net...[m[m[m
[34m2020-02-13 14:50:37.821 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:50:37.823 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-13 14:50:37.825 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-13 14:50:37.825 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel110580",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-13T14:50:35Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel110580> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel110580 sberbank
[1;34m
Verifing if the <testchannel110580> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-13 14:50:38.467 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:50:38.468 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel110580> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel110580 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel110580 sberbank
[1;36m
Creating the <testchannel110580> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel110580[m[m[m
example.net

Create channel sberbank testchannel110580
--2020-02-13 14:50:41--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:50:41--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:50:41--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:50:41--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:50:41.331 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:50:41.431 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:50:41.431 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:50:41.431 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:50:41.431 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:50:41.432 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:50:41.432 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:50:41.432 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:50:41.432 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:50:41.520 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:50:41.520 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:50:41.520 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:50:41.520 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:50:41.520 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:50:41.520 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:50:41.520 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:50:41.521 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:50:41.522 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-13 14:50:41.522 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:50:41.522 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:50:41.522 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:50:41.526 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-13 14:50:41.527 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:50:41.722 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel110580.pb -o orderer.example.net:7050 -c testchannel110580 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:50:41.883 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:50:41.886 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel110580.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel110580.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel110580
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel110580 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:50:42.197 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel110580> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-13 14:50:43.663 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:50:43.665 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel110580> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel9891 sberbank VERIFY: test-channel-exists.sh testchannel9891 sberbank
[1;36m
Creating the <testchannel9891> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel9891[m[m[m
example.net

Create channel sberbank testchannel9891
--2020-02-13 14:51:46--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:51:46--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:51:46--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:51:46--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:51:47.043 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:51:47.102 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:51:47.103 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:51:47.103 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:51:47.103 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:51:47.103 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:51:47.103 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:51:47.103 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:51:47.103 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:51:47.160 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:51:47.160 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:51:47.160 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:51:47.160 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:51:47.160 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:51:47.160 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:51:47.160 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:51:47.160 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:51:47.161 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-13 14:51:47.161 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:51:47.161 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:51:47.161 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:51:47.161 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-13 14:51:47.162 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:51:47.224 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:51:47.257 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel9891.pb -o orderer.example.net:7050 -c testchannel9891 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:51:47.330 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:51:47.334 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-13 14:51:47.335 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-13 14:51:47.335 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel9891
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel9891 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:51:47.675 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:51:47.687 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel9891> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel9891> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-13 14:51:50.112 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:51:50.127 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-13 14:51:50.132 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-13 14:51:50.132 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel9891",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-13T14:51:47Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel9891> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel9891 vtb
[1;34m
Verifing if the <testchannel9891> channel exists in vtb.example.net...[m[m[m
[34m2020-02-13 14:51:51.268 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:51:51.270 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel9891> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel9891 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel9891> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel9891[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel9891
--2020-02-13 14:51:54--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:51:54--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:51:54--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:51:54--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:51:54.298 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:51:54.388 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:51:54.388 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:51:54.388 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:51:54.388 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:51:54.388 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:51:54.388 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:51:54.388 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:51:54.388 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:51:54.443 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:51:54.444 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:51:54.444 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:51:54.444 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:51:54.444 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:51:54.444 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:51:54.444 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:51:54.444 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:51:54.444 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-13 14:51:54.445 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:51:54.445 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:51:54.445 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:51:54.445 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-13 14:51:54.445 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:51:54.505 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel9891' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel9891.pb -o orderer.example.net:7050 -c ^^^^^^testchannel9891 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:51:54.591 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:51:54.593 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel9891.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel9891.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel9891
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel9891 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:51:54.801 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel9891' != '^^^^^^testchannel9891'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel9891 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel9891 vtb
[1;36m
Creating the <testchannel9891> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel9891[m[m[m
example.net

Create channel vtb testchannel9891
--2020-02-13 14:51:57--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:51:57--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:51:57--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:51:57--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:51:57.805 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:51:57.863 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:51:57.863 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:51:57.863 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:51:57.863 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:51:57.863 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:51:57.863 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:51:57.863 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:51:57.863 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:51:57.920 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:51:57.920 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:51:57.920 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:51:57.920 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:51:57.920 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:51:57.920 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:51:57.920 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:51:57.921 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:51:57.921 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-13 14:51:57.921 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:51:57.921 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:51:57.922 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:51:57.922 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-13 14:51:57.922 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:51:57.990 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel9891.pb -o orderer.example.net:7050 -c testchannel9891 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:51:58.074 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:51:58.076 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel9891.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel9891.json: No such file or directory
>> Prepare config update from vtb for channel testchannel9891
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel9891 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:51:58.302 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel9891> channel exists in vtb.example.net...[m[m[m
[34m2020-02-13 14:51:59.385 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:51:59.387 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel9891> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel98910 vtb VERIFY: test-channel-exists.sh testchannel98910 vtb
[1;36m
Creating the <testchannel98910> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel98910[m[m[m
example.net

Create channel vtb testchannel98910
--2020-02-13 14:52:02--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:52:02--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:52:02--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:52:02--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:52:02.607 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:52:02.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:52:02.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:52:02.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:52:02.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:52:02.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:52:02.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:52:02.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:52:02.685 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:52:02.760 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:52:02.760 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:52:02.760 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:52:02.760 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:52:02.760 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:52:02.760 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:52:02.760 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:52:02.761 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:52:02.761 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-13 14:52:02.761 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:52:02.762 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:52:02.762 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:52:02.762 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-13 14:52:02.763 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:52:02.833 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:52:02.874 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel98910.pb -o orderer.example.net:7050 -c testchannel98910 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:52:02.971 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:52:02.974 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-13 14:52:02.976 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-13 14:52:02.976 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel98910
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel98910 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:52:03.493 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:52:03.506 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel98910> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel98910> channel exists in vtb.example.net...[m[m[m
[34m2020-02-13 14:52:05.797 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:52:05.801 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-13 14:52:05.802 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-13 14:52:05.802 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel98910",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-13T14:52:03Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel98910> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel98910 sberbank
[1;34m
Verifing if the <testchannel98910> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-13 14:52:06.404 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:52:06.405 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel98910> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel98910 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel98910 sberbank
[1;36m
Creating the <testchannel98910> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel98910[m[m[m
example.net

Create channel sberbank testchannel98910
--2020-02-13 14:52:08--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:52:08--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:52:08--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:52:08--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:52:08.850 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:52:08.906 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:52:08.906 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:52:08.906 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:52:08.906 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:52:08.906 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:52:08.906 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:52:08.906 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:52:08.906 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:52:08.962 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:52:08.962 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:52:08.962 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:52:08.962 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:52:08.962 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:52:08.962 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:52:08.962 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:52:08.962 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:52:08.963 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-13 14:52:08.963 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:52:08.963 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:52:08.963 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:52:08.963 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-13 14:52:08.964 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:52:09.025 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel98910.pb -o orderer.example.net:7050 -c testchannel98910 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:52:09.112 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:52:09.115 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel98910.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel98910.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel98910
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel98910 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:52:09.308 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel98910> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-13 14:52:10.865 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:52:10.867 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel98910> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel26468 sberbank VERIFY: test-channel-exists.sh testchannel26468 sberbank
[1;36m
Creating the <testchannel26468> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel26468[m[m[m
example.net

Create channel sberbank testchannel26468
--2020-02-13 14:53:30--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:53:30--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:53:30--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:53:30--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:53:30.591 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:53:30.741 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:53:30.741 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:53:30.741 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:53:30.741 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:53:30.741 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:53:30.741 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:53:30.741 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:53:30.741 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:53:30.844 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:53:30.844 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:53:30.844 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:53:30.844 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:53:30.844 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:53:30.845 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:53:30.845 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:53:30.846 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:53:30.847 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-13 14:53:30.847 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:53:30.847 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:53:30.848 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:53:30.849 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-13 14:53:30.849 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:53:30.989 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:53:31.043 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel26468.pb -o orderer.example.net:7050 -c testchannel26468 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:53:31.288 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:53:31.299 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-13 14:53:31.301 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-13 14:53:31.301 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel26468
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel26468 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:53:32.142 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:53:32.170 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel26468> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel26468> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-13 14:53:34.411 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:53:34.414 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-13 14:53:34.415 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-13 14:53:34.415 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel26468",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-13T14:53:32Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel26468> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel26468 vtb
[1;34m
Verifing if the <testchannel26468> channel exists in vtb.example.net...[m[m[m
[34m2020-02-13 14:53:35.023 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:53:35.025 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel26468> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel26468 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel26468> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel26468[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel26468
--2020-02-13 14:53:37--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:53:37--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:53:37--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:53:37--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:53:37.502 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:53:37.565 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:53:37.565 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:53:37.565 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:53:37.566 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:53:37.566 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:53:37.566 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:53:37.566 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:53:37.566 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:53:37.628 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:53:37.628 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:53:37.628 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:53:37.628 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:53:37.628 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:53:37.628 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:53:37.628 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:53:37.629 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:53:37.629 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-13 14:53:37.629 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:53:37.629 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:53:37.630 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:53:37.630 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-13 14:53:37.630 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:53:37.698 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel26468' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel26468.pb -o orderer.example.net:7050 -c ^^^^^^testchannel26468 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:53:37.785 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:53:37.786 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel26468.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel26468.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel26468
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel26468 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:53:38.017 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel26468' != '^^^^^^testchannel26468'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel26468 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel26468 vtb
[1;36m
Creating the <testchannel26468> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel26468[m[m[m
example.net

Create channel vtb testchannel26468
--2020-02-13 14:53:41--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:53:41--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:53:41--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:53:41--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:53:41.466 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:53:41.585 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:53:41.585 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:53:41.589 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:53:41.589 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:53:41.589 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:53:41.590 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:53:41.590 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:53:41.590 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:53:41.713 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:53:41.713 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:53:41.714 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:53:41.714 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:53:41.714 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:53:41.714 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:53:41.714 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:53:41.714 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:53:41.715 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-13 14:53:41.715 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:53:41.715 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:53:41.715 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:53:41.716 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-13 14:53:41.716 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:53:41.867 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel26468.pb -o orderer.example.net:7050 -c testchannel26468 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:53:41.958 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:53:41.966 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel26468.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel26468.json: No such file or directory
>> Prepare config update from vtb for channel testchannel26468
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel26468 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:53:42.242 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel26468> channel exists in vtb.example.net...[m[m[m
[34m2020-02-13 14:53:43.715 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:53:43.717 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel26468> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel264680 vtb VERIFY: test-channel-exists.sh testchannel264680 vtb
[1;36m
Creating the <testchannel264680> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel264680[m[m[m
example.net

Create channel vtb testchannel264680
--2020-02-13 14:53:46--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:53:46--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:53:46--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:53:46--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:53:46.126 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:53:46.184 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:53:46.184 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:53:46.184 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:53:46.184 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:53:46.184 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:53:46.184 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:53:46.184 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:53:46.184 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:53:46.239 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:53:46.239 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:53:46.239 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:53:46.239 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:53:46.239 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:53:46.239 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:53:46.239 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:53:46.240 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:53:46.241 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-13 14:53:46.242 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:53:46.242 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:53:46.242 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:53:46.243 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-13 14:53:46.244 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:53:46.304 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:53:46.338 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel264680.pb -o orderer.example.net:7050 -c testchannel264680 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:53:46.411 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:53:46.414 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-13 14:53:46.415 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-13 14:53:46.415 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel264680
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel264680 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:53:46.756 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:53:46.765 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel264680> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel264680> channel exists in vtb.example.net...[m[m[m
[34m2020-02-13 14:53:49.032 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:53:49.034 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-13 14:53:49.035 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-13 14:53:49.035 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel264680",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-13T14:53:46Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel264680> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel264680 sberbank
[1;34m
Verifing if the <testchannel264680> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-13 14:53:49.702 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:53:49.704 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel264680> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel264680 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel264680 sberbank
[1;36m
Creating the <testchannel264680> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel264680[m[m[m
example.net

Create channel sberbank testchannel264680
--2020-02-13 14:53:53--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:53:53--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:53:53--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:53:53--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:53:53.228 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:53:53.298 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:53:53.298 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:53:53.298 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:53:53.298 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:53:53.298 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:53:53.298 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:53:53.298 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:53:53.298 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:53:53.377 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:53:53.377 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:53:53.377 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:53:53.377 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:53:53.377 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:53:53.377 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:53:53.377 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:53:53.377 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:53:53.378 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-13 14:53:53.378 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:53:53.378 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:53:53.378 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:53:53.379 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-13 14:53:53.379 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:53:53.456 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel264680.pb -o orderer.example.net:7050 -c testchannel264680 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:53:53.552 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:53:53.554 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel264680.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel264680.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel264680
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel264680 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:53:53.785 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel264680> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-13 14:53:55.018 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:53:55.020 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel264680> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel30062 sberbank VERIFY: test-channel-exists.sh testchannel30062 sberbank
[1;36m
Creating the <testchannel30062> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel30062[m[m[m
example.net

Create channel sberbank testchannel30062
--2020-02-13 14:55:05--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:55:05--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:55:05--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:55:05--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:55:05.888 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:55:05.946 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:55:05.947 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:55:05.947 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:55:05.947 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:55:05.947 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:55:05.947 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:55:05.947 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:55:05.947 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:55:06.004 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:55:06.004 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:55:06.004 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:55:06.004 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:55:06.004 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:55:06.004 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:55:06.004 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:55:06.005 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:55:06.005 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-13 14:55:06.005 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:55:06.005 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:55:06.005 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:55:06.006 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-13 14:55:06.006 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:55:06.071 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:55:06.110 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel30062.pb -o orderer.example.net:7050 -c testchannel30062 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:55:06.195 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:55:06.198 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-13 14:55:06.206 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-13 14:55:06.206 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel30062
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel30062 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:55:06.528 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:55:06.539 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel30062> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel30062> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-13 14:55:08.696 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:55:08.699 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-13 14:55:08.700 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-13 14:55:08.700 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel30062",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-13T14:55:06Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel30062> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel30062 vtb
[1;34m
Verifing if the <testchannel30062> channel exists in vtb.example.net...[m[m[m
[34m2020-02-13 14:55:09.371 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:55:09.381 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel30062> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel30062 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel30062> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel30062[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel30062
--2020-02-13 14:55:12--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:55:12--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:55:12--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:55:12--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:55:12.772 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:55:12.860 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:55:12.860 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:55:12.860 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:55:12.861 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:55:12.861 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:55:12.861 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:55:12.861 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:55:12.861 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:55:12.934 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:55:12.934 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:55:12.934 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:55:12.934 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:55:12.934 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:55:12.934 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:55:12.934 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:55:12.934 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:55:12.935 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-13 14:55:12.935 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:55:12.935 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:55:12.935 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:55:12.936 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-13 14:55:12.936 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:55:13.008 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel30062' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel30062.pb -o orderer.example.net:7050 -c ^^^^^^testchannel30062 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:55:13.150 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:55:13.153 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel30062.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel30062.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel30062
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel30062 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:55:13.471 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel30062' != '^^^^^^testchannel30062'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel30062 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel30062 vtb
[1;36m
Creating the <testchannel30062> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel30062[m[m[m
example.net

Create channel vtb testchannel30062
--2020-02-13 14:55:16--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:55:16--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:55:16--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:55:16--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:55:16.568 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:55:16.634 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:55:16.634 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:55:16.634 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:55:16.634 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:55:16.634 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:55:16.634 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:55:16.634 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:55:16.634 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:55:16.690 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:55:16.690 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:55:16.690 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:55:16.690 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:55:16.690 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:55:16.690 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:55:16.690 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:55:16.690 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:55:16.691 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-13 14:55:16.691 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:55:16.691 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:55:16.691 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:55:16.691 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-13 14:55:16.692 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:55:16.757 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel30062.pb -o orderer.example.net:7050 -c testchannel30062 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:55:16.838 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:55:16.840 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel30062.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel30062.json: No such file or directory
>> Prepare config update from vtb for channel testchannel30062
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel30062 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:55:17.033 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel30062> channel exists in vtb.example.net...[m[m[m
[34m2020-02-13 14:55:18.135 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:55:18.137 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel30062> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel300620 vtb VERIFY: test-channel-exists.sh testchannel300620 vtb
[1;36m
Creating the <testchannel300620> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel300620[m[m[m
example.net

Create channel vtb testchannel300620
--2020-02-13 14:55:20--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:55:20--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:55:20--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:55:20--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:55:20.662 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:55:20.728 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:55:20.728 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:55:20.728 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:55:20.728 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:55:20.728 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:55:20.728 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:55:20.728 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:55:20.728 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:55:20.823 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:55:20.824 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:55:20.824 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:55:20.824 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:55:20.824 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:55:20.824 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:55:20.824 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:55:20.825 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:55:20.826 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-13 14:55:20.827 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:55:20.827 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:55:20.827 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:55:20.828 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-13 14:55:20.829 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:55:20.932 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:55:20.974 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel300620.pb -o orderer.example.net:7050 -c testchannel300620 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:55:21.193 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:55:21.196 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-13 14:55:21.208 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-13 14:55:21.208 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel300620
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel300620 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:55:21.987 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:55:22.007 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel300620> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel300620> channel exists in vtb.example.net...[m[m[m
[34m2020-02-13 14:55:24.226 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:55:24.228 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-13 14:55:24.230 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-13 14:55:24.230 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel300620",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-13T14:55:22Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel300620> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel300620 sberbank
[1;34m
Verifing if the <testchannel300620> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-13 14:55:24.858 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:55:24.861 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel300620> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel300620 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel300620 sberbank
[1;36m
Creating the <testchannel300620> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel300620[m[m[m
example.net

Create channel sberbank testchannel300620
--2020-02-13 14:55:27--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:55:27--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:55:27--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:55:27--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:55:27.219 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:55:27.282 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:55:27.282 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:55:27.282 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:55:27.282 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:55:27.282 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:55:27.282 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:55:27.282 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:55:27.282 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:55:27.335 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:55:27.335 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:55:27.336 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:55:27.336 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:55:27.336 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:55:27.336 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:55:27.336 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:55:27.336 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:55:27.337 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-13 14:55:27.337 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:55:27.337 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:55:27.337 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:55:27.337 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-13 14:55:27.338 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:55:27.396 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel300620.pb -o orderer.example.net:7050 -c testchannel300620 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:55:27.472 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:55:27.477 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel300620.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel300620.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel300620
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel300620 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:55:27.670 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel300620> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-13 14:55:28.850 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:55:28.852 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel300620> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
