NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel25261 sberbank ; ./verify/test-channel-exists.sh testchannel25261 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel25261 sberbank VERIFY: test-channel-exists.sh testchannel25261 sberbank
[1;36m
Creating the <testchannel25261> channel for sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel25261[m[m[m
example.network

Create channel sberbank testchannel25261
--2020-02-26 13:57:09--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.18.0.4
Connecting to www.example.network (www.example.network)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 13:57:09--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.18.0.4
Connecting to www.example.network (www.example.network)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 13:57:09--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.18.0.4
Connecting to www.example.network (www.example.network)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 13:57:09--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.18.0.4
Connecting to www.example.network (www.example.network)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crt' not modified on server. Omitting download.

[34m2020-02-26 13:57:09.499 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-26 13:57:09.527 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 13:57:09.528 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 13:57:09.528 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-26 13:57:09.529 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-26 13:57:09.529 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-26 13:57:09.530 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-26 13:57:09.530 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-26 13:57:09.531 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 13:57:09.560 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 13:57:09.561 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 13:57:09.561 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-26 13:57:09.562 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 13:57:09.562 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-26 13:57:09.563 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 13:57:09.563 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 13:57:09.564 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 13:57:09.566 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-26 13:57:09.567 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 13:57:09.568 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 13:57:09.569 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 13:57:09.570 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-26 13:57:09.570 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-26 13:57:09.629 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:57:09.653 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel25261.pb -o orderer.example.network:7050 -c testchannel25261 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 13:57:09.730 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:57:09.733 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 13:57:09.734 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
>> Prepare config update from sberbank for channel testchannel25261
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel25261 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 13:57:10.091 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:57:10.106 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel25261> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel25261> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 13:57:13.445 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:57:13.448 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-26 13:57:13.449 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
{
"channel_id": "testchannel25261",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T13:57:10Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel25261> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
./verify/test-channel-does-not-exist.sh testchannel25261 vtb
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel25261 vtb
[1;34m
Verifing if the <testchannel25261> channel exists in vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 13:57:16.401 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:57:16.405 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel25261> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh ^^^^^^testchannel25261 sberbank ; ./verify/test-channel-does-not-exist.sh ^^^^^^testchannel25261 sberbank
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel25261 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel25261 sberbank
[1;36m
Creating the <^^^^^^testchannel25261> channel for sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel25261[m[m[m
example.network

Create channel sberbank ^^^^^^testchannel25261
--2020-02-26 13:57:19--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.18.0.4
Connecting to www.example.network (www.example.network)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 13:57:19--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.18.0.4
Connecting to www.example.network (www.example.network)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 13:57:19--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.18.0.4
Connecting to www.example.network (www.example.network)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 13:57:19--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.18.0.4
Connecting to www.example.network (www.example.network)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crt' not modified on server. Omitting download.

[34m2020-02-26 13:57:19.535 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-26 13:57:19.559 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 13:57:19.560 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 13:57:19.560 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-26 13:57:19.560 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-26 13:57:19.561 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-26 13:57:19.561 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-26 13:57:19.562 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-26 13:57:19.562 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 13:57:19.585 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 13:57:19.586 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 13:57:19.586 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-26 13:57:19.587 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 13:57:19.587 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-26 13:57:19.587 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 13:57:19.588 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 13:57:19.589 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 13:57:19.590 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-26 13:57:19.591 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 13:57:19.592 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 13:57:19.593 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 13:57:19.594 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-26 13:57:19.595 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-26 13:57:19.655 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel25261' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel25261.pb -o orderer.example.network:7050 -c ^^^^^^testchannel25261 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 13:57:19.743 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:57:19.745 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel25261.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel25261.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel25261
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel25261 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 13:57:19.941 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel25261' != '^^^^^^testchannel25261'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel25261> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 13:57:22.317 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:57:22.319 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel25261> does not exist and in not visible to sberbank[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel25261 vtb ; ./verify/test-channel-does-not-exist.sh testchannel25261 vtb
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel25261 vtb VERIFY: test-channel-does-not-exist.sh testchannel25261 vtb
[1;36m
Creating the <testchannel25261> channel for vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel25261[m[m[m
example.network

Create channel vtb testchannel25261
--2020-02-26 13:57:25--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 192.168.99.100
Connecting to www.example.network (www.example.network)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 13:57:25--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 192.168.99.100
Connecting to www.example.network (www.example.network)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 13:57:25--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 192.168.99.100
Connecting to www.example.network (www.example.network)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 13:57:25--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 192.168.99.100
Connecting to www.example.network (www.example.network)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crt' not modified on server. Omitting download.

[34m2020-02-26 13:57:25.325 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-26 13:57:25.351 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 13:57:25.352 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 13:57:25.353 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-26 13:57:25.353 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-26 13:57:25.353 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-26 13:57:25.354 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-26 13:57:25.354 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-26 13:57:25.354 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 13:57:25.380 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 13:57:25.381 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 13:57:25.381 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-26 13:57:25.382 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 13:57:25.382 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-26 13:57:25.383 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 13:57:25.383 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 13:57:25.384 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 13:57:25.386 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-26 13:57:25.387 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 13:57:25.388 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 13:57:25.389 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 13:57:25.390 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-26 13:57:25.391 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-26 13:57:25.458 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel25261.pb -o orderer.example.network:7050 -c testchannel25261 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 13:57:25.576 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:57:25.588 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel25261.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel25261.json: No such file or directory
>> Prepare config update from vtb for channel testchannel25261
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
cat: crypto-config/configtx/update.json: No such file or directory
parse error: Unmatched '}' at line 1, column 108
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel25261 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 13:57:25.889 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: Invalid channel create transaction : bad header
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel25261> channel exists in vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 13:57:28.529 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:57:28.535 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel25261> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/add-org-to-consortium.sh testchannel25261 sberbank vtb
Step: 5_cli Test 'Add vtb to the default consortium'
RUNTEST: add-org-to-consortium.sh testchannel25261 sberbank vtb
[1;36m
Add vtb to the default consortium...[m[m[m
queryContainerNetworkSettings returns: 7051
Add vtb to consortium SampleConsortium
[1;32mExecute: docker-compose -f docker-compose-orderer.yaml -fdocker-compose-orderer-multihost.yaml   run --no-deps --rm cli.orderer bash -c container-scripts/orderer/consortium-add-org.sh vtb example.network[m[m[m
--2020-02-26 13:57:31--  http://www.vtb.example.network/msp/admincerts/Admin@vtb.example.network-cert.pem
Resolving www.vtb.example.network (www.vtb.example.network)... failed: Name or service not known.
wget: unable to resolve host address 'www.vtb.example.network'
--2020-02-26 13:57:31--  http://www.vtb.example.network/msp/cacerts/ca.vtb.example.network-cert.pem
Resolving www.vtb.example.network (www.vtb.example.network)... failed: Name or service not known.
wget: unable to resolve host address 'www.vtb.example.network'
--2020-02-26 13:57:31--  http://www.vtb.example.network/msp/tlscacerts/tlsca.vtb.example.network-cert.pem
Resolving www.vtb.example.network (www.vtb.example.network)... failed: Name or service not known.
wget: unable to resolve host address 'www.vtb.example.network'
Execute: channel fetch config crypto-config/configtx/orderer-system-channel.pb -o orderer.example.network:7050 -c orderer-system-channel --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 13:57:31.490 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:57:31.493 UTC [cli.common] readBlock -> INFO 002[0m Received block: 14
[34m2020-02-26 13:57:31.494 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
cat: crypto-config/peerOrganizations/vtb.example.network/msp/admincerts/Admin@vtb.example.network-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/vtb.example.network/msp/cacerts/ca.vtb.example.network-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/vtb.example.network/msp/tlscacerts/tlsca.vtb.example.network-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/vtb.example.network/msp/admincerts/Admin@vtb.example.network-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/vtb.example.network/msp/cacerts/ca.vtb.example.network-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/vtb.example.network/msp/tlscacerts/tlsca.vtb.example.network-cert.pem: No such file or directory
Execute: channel fetch config crypto-config/configtx/orderer-system-channel.pb -o orderer.example.network:7050 -c orderer-system-channel --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 13:57:31.648 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:57:31.650 UTC [cli.common] readBlock -> INFO 002[0m Received block: 14
[34m2020-02-26 13:57:31.652 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
>> Prepare config update from vtb for channel orderer-system-channel
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c orderer-system-channel -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 13:57:32.019 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'orderer-system-channel': initializing channelconfig failed: could not create channel Consortiums sub-group config: setting up the MSP manager failed: getCertFromPem error: could not decode pem bytes [[]]
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 5_cli: exit code 1
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 7051
NO_RED_OUTPUT=false ./example.network/create-channel.sh testchannel23673 sberbank ; ./verify/test-channel-exists.sh testchannel23673 sberbank
Step: 1_example.network Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel23673 sberbank VERIFY: test-channel-exists.sh testchannel23673 sberbank
[1;34m
Verifing if the <testchannel23673> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:17:58.740 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:17:58.743 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 1_example.network: exit code 1
./verify/test-channel-does-not-exist.sh testchannel23673 vtb
Step: 2_example.network Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel23673 vtb
[1;34m
Verifing if the <testchannel23673> channel exists in vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:18:01.178 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:18:01.181 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel23673> does not exist and in not visible to vtb[m[m[m
Step 2_example.network: exit code 0
NO_RED_OUTPUT=true ./example.network/create-channel.sh ^^^^^^testchannel23673 sberbank ; ./verify/test-channel-does-not-exist.sh ^^^^^^testchannel23673 sberbank
Step: 3_example.network Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel23673 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel23673 sberbank
[1;34m
Verifing if the <^^^^^^testchannel23673> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:18:03.461 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:18:03.463 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel23673> does not exist and in not visible to sberbank[m[m[m
Step 3_example.network: exit code 0
NO_RED_OUTPUT=true ./example.network/create-channel.sh testchannel23673 vtb ; ./verify/test-channel-does-not-exist.sh testchannel23673 vtb
Step: 4_example.network Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel23673 vtb VERIFY: test-channel-does-not-exist.sh testchannel23673 vtb
[1;34m
Verifing if the <testchannel23673> channel exists in vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:18:05.645 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:18:05.648 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel23673> does not exist and in not visible to vtb[m[m[m
Step 4_example.network: exit code 0
NO_RED_OUTPUT=false ./example.network/add-org-to-consortium.sh testchannel23673 sberbank vtb
Step: 5_example.network Test 'Add vtb to the default consortium'
RUNTEST: add-org-to-consortium.sh testchannel23673 sberbank vtb
Step 5_example.network: exit code 127
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 7051
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel2085 sberbank ; ./verify/test-channel-exists.sh testchannel2085 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel2085 sberbank VERIFY: test-channel-exists.sh testchannel2085 sberbank
[1;36m
Creating the <testchannel2085> channel for sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel2085[m[m[m
latest: Pulling from olegabu/fabric-tools-extended
Digest: sha256:94a99579875cf4fd61237e20b7cbfbfec0e23144231e93bbe7f39c858473babd
Status: Downloaded newer image for olegabu/fabric-tools-extended:latest
example.network

Create channel sberbank testchannel2085
--2020-02-26 14:47:46--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.18.0.3
Connecting to www.example.network (www.example.network)|172.18.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 14:47:46--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.18.0.3
Connecting to www.example.network (www.example.network)|172.18.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 14:47:46--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.18.0.3
Connecting to www.example.network (www.example.network)|172.18.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 14:47:46--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.18.0.3
Connecting to www.example.network (www.example.network)|172.18.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crt' not modified on server. Omitting download.

[34m2020-02-26 14:47:46.746 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-26 14:47:46.773 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 14:47:46.773 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 14:47:46.774 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-26 14:47:46.774 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-26 14:47:46.774 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-26 14:47:46.775 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-26 14:47:46.775 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-26 14:47:46.775 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 14:47:46.801 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 14:47:46.802 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 14:47:46.802 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-26 14:47:46.802 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 14:47:46.803 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-26 14:47:46.803 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 14:47:46.803 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 14:47:46.804 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 14:47:46.805 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-26 14:47:46.806 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 14:47:46.806 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 14:47:46.807 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 14:47:46.808 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-26 14:47:46.809 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-26 14:47:46.879 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:47:46.927 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel2085.pb -o orderer.example.network:7050 -c testchannel2085 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 14:47:47.014 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:47:47.016 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 14:47:47.018 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
>> Prepare config update from sberbank for channel testchannel2085
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel2085 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 14:47:47.441 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:47:47.459 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel2085> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel2085> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:47:51.227 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:47:51.232 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-26 14:47:51.234 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
{
"channel_id": "testchannel2085",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T14:47:47Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel2085> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
./verify/test-channel-does-not-exist.sh testchannel2085 vtb
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel2085 vtb
[1;34m
Verifing if the <testchannel2085> channel exists in vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:47:53.694 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:47:53.699 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel2085> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh ^^^^^^testchannel2085 sberbank ; ./verify/test-channel-does-not-exist.sh ^^^^^^testchannel2085 sberbank
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel2085 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel2085 sberbank
[1;36m
Creating the <^^^^^^testchannel2085> channel for sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel2085[m[m[m
example.network

Create channel sberbank ^^^^^^testchannel2085
--2020-02-26 14:47:56--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.18.0.3
Connecting to www.example.network (www.example.network)|172.18.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 14:47:56--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.18.0.3
Connecting to www.example.network (www.example.network)|172.18.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 14:47:56--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.18.0.3
Connecting to www.example.network (www.example.network)|172.18.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 14:47:56--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.18.0.3
Connecting to www.example.network (www.example.network)|172.18.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crt' not modified on server. Omitting download.

[34m2020-02-26 14:47:56.907 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-26 14:47:56.933 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 14:47:56.933 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 14:47:56.934 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-26 14:47:56.934 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-26 14:47:56.934 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-26 14:47:56.935 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-26 14:47:56.935 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-26 14:47:56.935 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 14:47:56.962 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 14:47:56.962 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 14:47:56.963 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-26 14:47:56.963 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 14:47:56.964 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-26 14:47:56.964 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 14:47:56.965 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 14:47:56.966 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 14:47:56.967 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-26 14:47:56.968 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 14:47:56.969 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 14:47:56.970 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 14:47:56.971 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-26 14:47:56.972 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-26 14:47:57.065 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel2085' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel2085.pb -o orderer.example.network:7050 -c ^^^^^^testchannel2085 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 14:47:57.156 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:47:57.158 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel2085.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel2085.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel2085
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel2085 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 14:47:57.369 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel2085' != '^^^^^^testchannel2085'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel2085> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:48:00.757 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:48:00.759 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel2085> does not exist and in not visible to sberbank[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel2085 vtb ; ./verify/test-channel-does-not-exist.sh testchannel2085 vtb
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel2085 vtb VERIFY: test-channel-does-not-exist.sh testchannel2085 vtb
[1;36m
Creating the <testchannel2085> channel for vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel2085[m[m[m
latest: Pulling from olegabu/fabric-tools-extended
Digest: sha256:94a99579875cf4fd61237e20b7cbfbfec0e23144231e93bbe7f39c858473babd
Status: Downloaded newer image for olegabu/fabric-tools-extended:latest
example.network

Create channel vtb testchannel2085
--2020-02-26 14:48:06--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 192.168.99.104
Connecting to www.example.network (www.example.network)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 14:48:06--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 192.168.99.104
Connecting to www.example.network (www.example.network)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 14:48:06--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 192.168.99.104
Connecting to www.example.network (www.example.network)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 14:48:06--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 192.168.99.104
Connecting to www.example.network (www.example.network)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crt' not modified on server. Omitting download.

[34m2020-02-26 14:48:06.386 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-26 14:48:06.413 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 14:48:06.413 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 14:48:06.414 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-26 14:48:06.414 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-26 14:48:06.414 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-26 14:48:06.415 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-26 14:48:06.415 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-26 14:48:06.416 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 14:48:06.442 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 14:48:06.443 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 14:48:06.443 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-26 14:48:06.444 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 14:48:06.444 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-26 14:48:06.445 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 14:48:06.445 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 14:48:06.446 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 14:48:06.447 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-26 14:48:06.448 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 14:48:06.448 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 14:48:06.449 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 14:48:06.450 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-26 14:48:06.451 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-26 14:48:06.523 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel2085.pb -o orderer.example.network:7050 -c testchannel2085 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 14:48:06.611 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:48:06.615 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel2085.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel2085.json: No such file or directory
>> Prepare config update from vtb for channel testchannel2085
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
cat: crypto-config/configtx/update.json: No such file or directory
parse error: Unmatched '}' at line 1, column 107
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel2085 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 14:48:06.833 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: Invalid channel create transaction : bad header
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel2085> channel exists in vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:48:09.718 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:48:09.729 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel2085> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/add-org-to-consortium.sh testchannel2085 sberbank vtb
Step: 5_cli Test 'Add vtb to the default consortium'
RUNTEST: add-org-to-consortium.sh testchannel2085 sberbank vtb
[1;36m
Add vtb to the default consortium...[m[m[m
queryContainerNetworkSettings returns: 7051
Add vtb to consortium SampleConsortium
[1;32mExecute: docker-compose -f docker-compose-orderer.yaml -fdocker-compose-orderer-multihost.yaml   run --no-deps --rm cli.orderer bash -c container-scripts/orderer/consortium-add-org.sh vtb example.network[m[m[m
--2020-02-26 14:48:12--  http://www.vtb.example.network/msp/admincerts/Admin@vtb.example.network-cert.pem
Resolving www.vtb.example.network (www.vtb.example.network)... failed: Name or service not known.
wget: unable to resolve host address 'www.vtb.example.network'
--2020-02-26 14:48:12--  http://www.vtb.example.network/msp/cacerts/ca.vtb.example.network-cert.pem
Resolving www.vtb.example.network (www.vtb.example.network)... failed: Name or service not known.
wget: unable to resolve host address 'www.vtb.example.network'
--2020-02-26 14:48:12--  http://www.vtb.example.network/msp/tlscacerts/tlsca.vtb.example.network-cert.pem
Resolving www.vtb.example.network (www.vtb.example.network)... failed: Name or service not known.
wget: unable to resolve host address 'www.vtb.example.network'
Execute: channel fetch config crypto-config/configtx/orderer-system-channel.pb -o orderer.example.network:7050 -c orderer-system-channel --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 14:48:12.890 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:48:12.893 UTC [cli.common] readBlock -> INFO 002[0m Received block: 4
[34m2020-02-26 14:48:12.895 UTC [cli.common] readBlock -> INFO 003[0m Received block: 3
Execute: channel fetch config crypto-config/configtx/orderer-system-channel.pb -o orderer.example.network:7050 -c orderer-system-channel --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 14:48:13.052 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:48:13.055 UTC [cli.common] readBlock -> INFO 002[0m Received block: 4
[34m2020-02-26 14:48:13.057 UTC [cli.common] readBlock -> INFO 003[0m Received block: 3
>> Prepare config update from vtb for channel orderer-system-channel
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c orderer-system-channel -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 14:48:13.375 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'orderer-system-channel': error authorizing update: ConfigUpdate for channel 'testchannel2085' but envelope for channel 'orderer-system-channel'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 5_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel22463 sberbank ; ./verify/test-channel-exists.sh testchannel22463 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel22463 sberbank VERIFY: test-channel-exists.sh testchannel22463 sberbank
[1;36m
Creating the <testchannel22463> channel for sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel22463[m[m[m
example.network

Create channel sberbank testchannel22463
--2020-02-26 14:48:43--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.18.0.3
Connecting to www.example.network (www.example.network)|172.18.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 14:48:43--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.18.0.3
Connecting to www.example.network (www.example.network)|172.18.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 14:48:43--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.18.0.3
Connecting to www.example.network (www.example.network)|172.18.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 14:48:43--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.18.0.3
Connecting to www.example.network (www.example.network)|172.18.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crt' not modified on server. Omitting download.

[34m2020-02-26 14:48:43.239 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-26 14:48:43.264 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 14:48:43.265 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 14:48:43.265 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-26 14:48:43.266 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-26 14:48:43.266 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-26 14:48:43.267 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-26 14:48:43.267 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-26 14:48:43.267 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 14:48:43.293 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 14:48:43.294 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 14:48:43.295 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-26 14:48:43.295 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 14:48:43.296 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-26 14:48:43.296 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 14:48:43.296 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 14:48:43.300 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 14:48:43.301 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-26 14:48:43.302 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 14:48:43.303 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 14:48:43.304 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 14:48:43.306 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-26 14:48:43.307 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-26 14:48:43.370 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:48:43.398 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel22463.pb -o orderer.example.network:7050 -c testchannel22463 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 14:48:43.481 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:48:43.483 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 14:48:43.485 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
>> Prepare config update from sberbank for channel testchannel22463
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel22463 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 14:48:43.824 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:48:43.842 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel22463> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel22463> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:48:47.969 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:48:47.973 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-26 14:48:47.976 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
{
"channel_id": "testchannel22463",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T14:48:43Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel22463> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
./verify/test-channel-does-not-exist.sh testchannel22463 vtb
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel22463 vtb
[1;34m
Verifing if the <testchannel22463> channel exists in vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:48:51.249 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:48:51.263 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel22463> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh ^^^^^^testchannel22463 sberbank ; ./verify/test-channel-does-not-exist.sh ^^^^^^testchannel22463 sberbank
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel22463 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel22463 sberbank
[1;36m
Creating the <^^^^^^testchannel22463> channel for sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel22463[m[m[m
example.network

Create channel sberbank ^^^^^^testchannel22463
--2020-02-26 14:48:55--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.18.0.3
Connecting to www.example.network (www.example.network)|172.18.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 14:48:55--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.18.0.3
Connecting to www.example.network (www.example.network)|172.18.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 14:48:55--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.18.0.3
Connecting to www.example.network (www.example.network)|172.18.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 14:48:55--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.18.0.3
Connecting to www.example.network (www.example.network)|172.18.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crt' not modified on server. Omitting download.

[34m2020-02-26 14:48:55.285 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-26 14:48:55.318 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 14:48:55.319 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 14:48:55.319 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-26 14:48:55.320 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-26 14:48:55.320 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-26 14:48:55.321 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-26 14:48:55.321 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-26 14:48:55.322 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 14:48:55.352 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 14:48:55.353 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 14:48:55.353 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-26 14:48:55.354 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 14:48:55.354 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-26 14:48:55.354 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 14:48:55.355 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 14:48:55.358 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 14:48:55.359 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-26 14:48:55.360 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 14:48:55.360 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 14:48:55.362 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 14:48:55.363 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-26 14:48:55.365 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-26 14:48:55.438 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel22463' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel22463.pb -o orderer.example.network:7050 -c ^^^^^^testchannel22463 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 14:48:55.550 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:48:55.553 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel22463.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel22463.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel22463
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel22463 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 14:48:55.798 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel22463' != '^^^^^^testchannel22463'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel22463> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:48:58.332 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:48:58.334 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel22463> does not exist and in not visible to sberbank[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel22463 vtb ; ./verify/test-channel-does-not-exist.sh testchannel22463 vtb
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel22463 vtb VERIFY: test-channel-does-not-exist.sh testchannel22463 vtb
[1;36m
Creating the <testchannel22463> channel for vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel22463[m[m[m
example.network

Create channel vtb testchannel22463
--2020-02-26 14:49:01--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 192.168.99.104
Connecting to www.example.network (www.example.network)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 14:49:01--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 192.168.99.104
Connecting to www.example.network (www.example.network)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 14:49:01--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 192.168.99.104
Connecting to www.example.network (www.example.network)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 14:49:01--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 192.168.99.104
Connecting to www.example.network (www.example.network)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crt' not modified on server. Omitting download.

[34m2020-02-26 14:49:01.786 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-26 14:49:01.810 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 14:49:01.811 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 14:49:01.811 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-26 14:49:01.812 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-26 14:49:01.812 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-26 14:49:01.813 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-26 14:49:01.813 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-26 14:49:01.813 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 14:49:01.838 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 14:49:01.838 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 14:49:01.839 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-26 14:49:01.839 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 14:49:01.839 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-26 14:49:01.840 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 14:49:01.840 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 14:49:01.841 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 14:49:01.842 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-26 14:49:01.843 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 14:49:01.844 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 14:49:01.845 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 14:49:01.846 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-26 14:49:01.847 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-26 14:49:01.919 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel22463.pb -o orderer.example.network:7050 -c testchannel22463 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 14:49:02.023 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:49:02.027 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel22463.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel22463.json: No such file or directory
>> Prepare config update from vtb for channel testchannel22463
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
cat: crypto-config/configtx/update.json: No such file or directory
parse error: Unmatched '}' at line 1, column 108
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel22463 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 14:49:02.226 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: Invalid channel create transaction : bad header
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel22463> channel exists in vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:49:04.773 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:49:04.775 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel22463> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel22463-02 vtb ; ./verify/test-channel-exists.sh testchannel22463-02 vtb
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel22463-02 vtb VERIFY: test-channel-exists.sh testchannel22463-02 vtb
[1;36m
Creating the <testchannel22463-02> channel for vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel22463-02[m[m[m
example.network

Create channel vtb testchannel22463-02
--2020-02-26 14:49:07--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 192.168.99.104
Connecting to www.example.network (www.example.network)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 14:49:07--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 192.168.99.104
Connecting to www.example.network (www.example.network)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 14:49:07--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 192.168.99.104
Connecting to www.example.network (www.example.network)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 14:49:07--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 192.168.99.104
Connecting to www.example.network (www.example.network)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crt' not modified on server. Omitting download.

[34m2020-02-26 14:49:07.973 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-26 14:49:08.008 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 14:49:08.009 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 14:49:08.009 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-26 14:49:08.009 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-26 14:49:08.010 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-26 14:49:08.010 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-26 14:49:08.011 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-26 14:49:08.011 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 14:49:08.036 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 14:49:08.037 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 14:49:08.037 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-26 14:49:08.037 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 14:49:08.038 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-26 14:49:08.038 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 14:49:08.038 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 14:49:08.039 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 14:49:08.041 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-26 14:49:08.041 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 14:49:08.041 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 14:49:08.042 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 14:49:08.043 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-26 14:49:08.044 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-26 14:49:08.111 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:49:08.138 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel22463-02.pb -o orderer.example.network:7050 -c testchannel22463-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 14:49:08.211 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:49:08.214 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 14:49:08.217 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
>> Prepare config update from vtb for channel testchannel22463-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel22463-02 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 14:49:08.554 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:49:08.574 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel22463-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel22463-02> channel exists in vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:49:12.354 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:49:12.357 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-26 14:49:12.359 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
{
"channel_id": "testchannel22463-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T14:49:08Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel22463-02> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
./verify/test-channel-does-not-exist.sh testchannel22463-02 sberbank
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel22463-02 sberbank
[1;34m
Verifing if the <testchannel22463-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:49:14.985 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:49:14.989 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel22463-02> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel22463-02 sberbank ; ./verify/test-channel-does-not-exist.sh testchannel22463-02 sberbank
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel22463-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel22463-02 sberbank
[1;36m
Creating the <testchannel22463-02> channel for sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel22463-02[m[m[m
example.network

Create channel sberbank testchannel22463-02
--2020-02-26 14:49:18--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.18.0.3
Connecting to www.example.network (www.example.network)|172.18.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 14:49:18--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.18.0.3
Connecting to www.example.network (www.example.network)|172.18.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 14:49:18--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.18.0.3
Connecting to www.example.network (www.example.network)|172.18.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 14:49:18--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.18.0.3
Connecting to www.example.network (www.example.network)|172.18.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crt' not modified on server. Omitting download.

[34m2020-02-26 14:49:18.270 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-26 14:49:18.298 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 14:49:18.300 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 14:49:18.300 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-26 14:49:18.301 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-26 14:49:18.301 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-26 14:49:18.302 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-26 14:49:18.303 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-26 14:49:18.303 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 14:49:18.329 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 14:49:18.330 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 14:49:18.330 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-26 14:49:18.330 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 14:49:18.331 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-26 14:49:18.331 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 14:49:18.331 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 14:49:18.332 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 14:49:18.333 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-26 14:49:18.334 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 14:49:18.334 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 14:49:18.335 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 14:49:18.336 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-26 14:49:18.337 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-26 14:49:18.400 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel22463-02.pb -o orderer.example.network:7050 -c testchannel22463-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 14:49:18.478 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:49:18.480 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel22463-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel22463-02.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel22463-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel22463-02 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 14:49:18.666 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel22463-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:49:21.272 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:49:21.274 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel22463-02> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel22463 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel22463 sberbank vtb
Step: 8_cli Test 'Add <vtb> to channel <testchannel22463> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel22463 sberbank vtb VERIFY: test-channel-add-org.sh testchannel22463 sberbank vtb
[1;36m
Add vtb to the testchannel22463 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel22463 vtb 7051 example.network[m[m[m
--2020-02-26 14:49:24--  http://www.vtb.example.network/msp/admincerts/Admin@vtb.example.network-cert.pem
Resolving www.vtb.example.network (www.vtb.example.network)... failed: Name or service not known.
wget: unable to resolve host address 'www.vtb.example.network'
--2020-02-26 14:49:24--  http://www.vtb.example.network/msp/cacerts/ca.vtb.example.network-cert.pem
Resolving www.vtb.example.network (www.vtb.example.network)... failed: Name or service not known.
wget: unable to resolve host address 'www.vtb.example.network'
--2020-02-26 14:49:24--  http://www.vtb.example.network/msp/tlscacerts/tlsca.vtb.example.network-cert.pem
Resolving www.vtb.example.network (www.vtb.example.network)... failed: Name or service not known.
wget: unable to resolve host address 'www.vtb.example.network'
>> Add new org 'vtb' to channel testchannel22463, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel22463.pb -o orderer.example.network:7050 -c testchannel22463 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 14:49:24.482 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:49:24.485 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-26 14:49:24.486 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
>> Prepare config update from vtb for channel testchannel22463
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel22463 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 14:49:24.812 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:49:24.831 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel22463 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:49:27.041 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:49:27.044 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-26 14:49:27.046 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNJVENDQWNpZ0F3SUJBZ0lRZEYzSDZmNDhKNXBPVmNmblZFVFBPREFLQmdncWhrak9QUVFEQWpCNU1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RWNNQm9HQTFVRUNoTVRkblJpTG1WNFlXMXdiR1V1Ym1WMGQyOXlhekVmTUIwR0ExVUVBeE1XClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WMGQyOXlhekFlRncweU1EQXlNall4TkRNNE1EQmFGdzB6TURBeU1qTXgKTkRNNE1EQmFNRjR4Q3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRApWUVFIRXcxVFlXNGdSbkpoYm1OcGMyTnZNU0l3SUFZRFZRUUREQmxCWkcxcGJrQjJkR0l1WlhoaGJYQnNaUzV1ClpYUjNiM0pyTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFRVBndm9xWHRnM1RqWTd6V0xLVGMKeWUxa0xWZlNnSitpdTlRNVlmQzd1T2prbUdtQWFmR0pHQ1JlN0NJWkl6akwzMy9UcEdDM0VsbmtrTE0yQUR1Ywo1YU5OTUVzd0RnWURWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnClo2Ni9BZGpVZVBFck45ZEVENnYxN0pSSUI4Vmxzamo2aXhvYkdsL0YzYVl3Q2dZSUtvWkl6ajBFQXdJRFJ3QXcKUkFJZ1p3cTFLZ3MxQ1FvbjRud3FzU081alhXTklTK1VTajZpUnh4bkhjUW9ySmNDSUhUTmQxSW16cXdPRTFRTAovU1Y4L0EwSTJzOTZnaDNSRFBjcEdnd21Mdi9lCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNYakNDQWdTZ0F3SUJBZ0lSQU5OQTdudEhON1luR25jWWJtTmhYRFl3Q2dZSUtvWkl6ajBFQXdJd2VURUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIREFhQmdOVkJBb1RFM1owWWk1bGVHRnRjR3hsTG01bGRIZHZjbXN4SHpBZEJnTlZCQU1UCkZtTmhMblowWWk1bGVHRnRjR3hsTG01bGRIZHZjbXN3SGhjTk1qQXdNakkyTVRRek9EQXdXaGNOTXpBd01qSXoKTVRRek9EQXdXakI1TVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRRwpBMVVFQnhNTlUyRnVJRVp5WVc1amFYTmpiekVjTUJvR0ExVUVDaE1UZG5SaUxtVjRZVzF3YkdVdWJtVjBkMjl5CmF6RWZNQjBHQTFVRUF4TVdZMkV1ZG5SaUxtVjRZVzF3YkdVdWJtVjBkMjl5YXpCWk1CTUdCeXFHU000OUFnRUcKQ0NxR1NNNDlBd0VIQTBJQUJDZ2daNGpCL1J2a0EzQnFteU1ZOWNnSVpRcmZDcWh3RDZPYVlEVSswb09mQVNJdQpwbkVrdXo1MWFMNWE0UDB0ZGIwM0NzeFRKZElXbDRmZVdITkFpV3VqYlRCck1BNEdBMVVkRHdFQi93UUVBd0lCCnBqQWRCZ05WSFNVRUZqQVVCZ2dyQmdFRkJRY0RBZ1lJS3dZQkJRVUhBd0V3RHdZRFZSMFRBUUgvQkFVd0F3RUIKL3pBcEJnTlZIUTRFSWdRZ1o2Ni9BZGpVZVBFck45ZEVENnYxN0pSSUI4Vmxzamo2aXhvYkdsL0YzYVl3Q2dZSQpLb1pJemowRUF3SURTQUF3UlFJaEFJV29LdXBqazlpYWE1YldDK1V6K00wWkJkOVB6ajhXK0xmdkdGS0d0Slc4CkFpQUgrOUp5Vy95VmNkMDhxRmZGSGsveDV2NUZZbFZ1TUV3aHRyMVducFQxY0E9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNaRENDQWdxZ0F3SUJBZ0lSQU1Sd1ZkZ2hSS25mY0VoR0ErMHNYajB3Q2dZSUtvWkl6ajBFQXdJd2ZERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIREFhQmdOVkJBb1RFM1owWWk1bGVHRnRjR3hsTG01bGRIZHZjbXN4SWpBZ0JnTlZCQU1UCkdYUnNjMk5oTG5aMFlpNWxlR0Z0Y0d4bExtNWxkSGR2Y21zd0hoY05NakF3TWpJMk1UUXpPREF3V2hjTk16QXcKTWpJek1UUXpPREF3V2pCOE1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFVwpNQlFHQTFVRUJ4TU5VMkZ1SUVaeVlXNWphWE5qYnpFY01Cb0dBMVVFQ2hNVGRuUmlMbVY0WVcxd2JHVXVibVYwCmQyOXlhekVpTUNBR0ExVUVBeE1aZEd4elkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WMGQyOXlhekJaTUJNR0J5cUcKU000OUFnRUdDQ3FHU000OUF3RUhBMElBQklmKzN6aFZ3dytwcnIwUE9SMFhISmNzcWhwemsxSWpwbnF0ZkE3cApJT1l5ek5hSmV5RnZ6L0h2QmJrWG9abk5adXVNZHNRTE1yUjg4bTBxQ3o2dUpnU2piVEJyTUE0R0ExVWREd0VCCi93UUVBd0lCcGpBZEJnTlZIU1VFRmpBVUJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC8KQkFVd0F3RUIvekFwQmdOVkhRNEVJZ1FnOHpBeitKOGkzTEhjUWQ3LzBCWk1hN1lOajd4TXFadngvMXptWDR6aApOSWN3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQVBGdE4zY3IvQWE4ZTVYZko3YkFDdjllRC8rK29VTG9tbkEwCmF3c2FzZDdaQWlBdm8ycWdWcEN2dVpZK1FzQ0VRZXg0MTUvWi9wTUJhNmZ5TDFNMzVyOWpyZz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel22463>.[m[m[m
Step 8_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel22463-02 vtb sberbank ; ./verify/test-channel-add-org.sh testchannel22463-02 vtb sberbank
Step: 9_cli Test 'Add <sberbank> to channel <testchannel22463-02> created by the <vtb> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel22463-02 vtb sberbank VERIFY: test-channel-add-org.sh testchannel22463-02 vtb sberbank
[1;36m
Add sberbank to the testchannel22463-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel22463-02 sberbank 7051 example.network[m[m[m
--2020-02-26 14:49:30--  http://www.sberbank.example.network/msp/admincerts/Admin@sberbank.example.network-cert.pem
Resolving www.sberbank.example.network (www.sberbank.example.network)... 192.168.99.104
Connecting to www.sberbank.example.network (www.sberbank.example.network)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 822 [application/x-x509-ca-cert]
Saving to: 'crypto-config/peerOrganizations/sberbank.example.network/msp/admincerts/Admin@sberbank.example.network-cert.pem'

          Admin@sbe   0%[                    ]       0  --.-KB/s               Admin@sberbank.exam 100%[===================>]     822  --.-KB/s    in 0s      

2020-02-26 14:49:30 (91.6 MB/s) - 'crypto-config/peerOrganizations/sberbank.example.network/msp/admincerts/Admin@sberbank.example.network-cert.pem' saved [822/822]

--2020-02-26 14:49:30--  http://www.sberbank.example.network/msp/cacerts/ca.sberbank.example.network-cert.pem
Resolving www.sberbank.example.network (www.sberbank.example.network)... 192.168.99.104
Connecting to www.sberbank.example.network (www.sberbank.example.network)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 912 [application/x-x509-ca-cert]
Saving to: 'crypto-config/peerOrganizations/sberbank.example.network/msp/cacerts/ca.sberbank.example.network-cert.pem'

          ca.sberba   0%[                    ]       0  --.-KB/s               ca.sberbank.example 100%[===================>]     912  --.-KB/s    in 0s      

2020-02-26 14:49:30 (87.9 MB/s) - 'crypto-config/peerOrganizations/sberbank.example.network/msp/cacerts/ca.sberbank.example.network-cert.pem' saved [912/912]

--2020-02-26 14:49:30--  http://www.sberbank.example.network/msp/tlscacerts/tlsca.sberbank.example.network-cert.pem
Resolving www.sberbank.example.network (www.sberbank.example.network)... 192.168.99.104
Connecting to www.sberbank.example.network (www.sberbank.example.network)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 920 [application/x-x509-ca-cert]
Saving to: 'crypto-config/peerOrganizations/sberbank.example.network/msp/tlscacerts/tlsca.sberbank.example.network-cert.pem'

          tlsca.sbe   0%[                    ]       0  --.-KB/s               tlsca.sberbank.exam 100%[===================>]     920  --.-KB/s    in 0s      

2020-02-26 14:49:30 (95.5 MB/s) - 'crypto-config/peerOrganizations/sberbank.example.network/msp/tlscacerts/tlsca.sberbank.example.network-cert.pem' saved [920/920]

>> Add new org 'sberbank' to channel testchannel22463-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel22463-02.pb -o orderer.example.network:7050 -c testchannel22463-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 14:49:30.812 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:49:30.814 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-26 14:49:30.817 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
>> Prepare config update from sberbank for channel testchannel22463-02
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel22463-02 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 14:49:31.145 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:49:31.168 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel22463-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:49:33.445 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:49:33.448 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-26 14:49:33.450 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNNekNDQWRtZ0F3SUJBZ0lSQU1ZQTFCbHJhYzVrRjdDMDRRbFJYQ0l3Q2dZSUtvWkl6ajBFQXdJd2dZTXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNU0V3SHdZRFZRUUtFeGh6WW1WeVltRnVheTVsZUdGdGNHeGxMbTVsZEhkdmNtc3hKREFpCkJnTlZCQU1URzJOaExuTmlaWEppWVc1ckxtVjRZVzF3YkdVdWJtVjBkMjl5YXpBZUZ3MHlNREF5TWpZeE5ETTQKTURCYUZ3MHpNREF5TWpNeE5ETTRNREJhTUdNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cApabTl5Ym1saE1SWXdGQVlEVlFRSEV3MVRZVzRnUm5KaGJtTnBjMk52TVNjd0pRWURWUVFEREI1QlpHMXBia0J6ClltVnlZbUZ1YXk1bGVHRnRjR3hsTG01bGRIZHZjbXN3V1RBVEJnY3Foa2pPUFFJQkJnZ3Foa2pPUFFNQkJ3TkMKQUFRSnppTldQSGxGWEZkOWlxYzhFR3l5amh1RGplbGhSMXpVaHQxZUgvV2NQbWlzaHVkd0pqMUdzdmg5dUpRbApOM3NSQTBGNVJhZzNuNzlCN3VlU2Y2YlhvMDB3U3pBT0JnTlZIUThCQWY4RUJBTUNCNEF3REFZRFZSMFRBUUgvCkJBSXdBREFyQmdOVkhTTUVKREFpZ0NBOFQ1d2JGVUhpSDV1bzVEanVSYnFhQVQzNUlDRFQ1ZzY5TUM4WGJRTFEKRWpBS0JnZ3Foa2pPUFFRREFnTklBREJGQWlFQW9VRDNLVXREaTVDQ2RsUGJ1ZDZzRStWOHNhVkVsWjhCQlpHNgp5NXI5dkwwQ0lDSUQzVk43NDNodCtLSHdxQUl2ZFh6REI4UFc4R2lLL3BhZ2c5d1VjVXA1Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "sberbank",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNjekNDQWhxZ0F3SUJBZ0lSQUlYVnZOQzVWWVo1NDZsc25MUWxKdFF3Q2dZSUtvWkl6ajBFQXdJd2dZTXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNU0V3SHdZRFZRUUtFeGh6WW1WeVltRnVheTVsZUdGdGNHeGxMbTVsZEhkdmNtc3hKREFpCkJnTlZCQU1URzJOaExuTmlaWEppWVc1ckxtVjRZVzF3YkdVdWJtVjBkMjl5YXpBZUZ3MHlNREF5TWpZeE5ETTQKTURCYUZ3MHpNREF5TWpNeE5ETTRNREJhTUlHRE1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGcwphV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeVlXNWphWE5qYnpFaE1COEdBMVVFQ2hNWWMySmxjbUpoCmJtc3VaWGhoYlhCc1pTNXVaWFIzYjNKck1TUXdJZ1lEVlFRREV4dGpZUzV6WW1WeVltRnVheTVsZUdGdGNHeGwKTG01bGRIZHZjbXN3V1RBVEJnY3Foa2pPUFFJQkJnZ3Foa2pPUFFNQkJ3TkNBQVIxUHR2QUhCeWhlbnR2elU1RQpKVHd3NmtrRkhMYStlUmltdWhyQnowQlFaamFIUkVVQ2ZZNTJIdmFrbml3YktpdDN3dEh1eXdJcXoxOXRlTUVzCjVDOTBvMjB3YXpBT0JnTlZIUThCQWY4RUJBTUNBYVl3SFFZRFZSMGxCQll3RkFZSUt3WUJCUVVIQXdJR0NDc0cKQVFVRkJ3TUJNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHdLUVlEVlIwT0JDSUVJRHhQbkJzVlFlSWZtNmprT081Rgp1cG9CUGZrZ0lOUG1EcjB3THhkdEF0QVNNQW9HQ0NxR1NNNDlCQU1DQTBjQU1FUUNJQWdNRjdmWTlpZjJTMTRnCmxhc3FBT0pWTy9SK0pFbWhkWm84RTBqMnFwdXNBaUFwTTFjMHhGQ0p5Y1hQOFBVVWZEWVNKS0R2b3IrdVEwNFAKT2V1dkNSZlRBdz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNlakNDQWlDZ0F3SUJBZ0lSQVB6Z2FDRXZiS3c4c3A2VHloVnlQa1V3Q2dZSUtvWkl6ajBFQXdJd2dZWXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNU0V3SHdZRFZRUUtFeGh6WW1WeVltRnVheTVsZUdGdGNHeGxMbTVsZEhkdmNtc3hKekFsCkJnTlZCQU1USG5Sc2MyTmhMbk5pWlhKaVlXNXJMbVY0WVcxd2JHVXVibVYwZDI5eWF6QWVGdzB5TURBeU1qWXgKTkRNNE1EQmFGdzB6TURBeU1qTXhORE00TURCYU1JR0dNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNSwpRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RWhNQjhHQTFVRUNoTVljMkpsCmNtSmhibXN1WlhoaGJYQnNaUzV1WlhSM2IzSnJNU2N3SlFZRFZRUURFeDUwYkhOallTNXpZbVZ5WW1GdWF5NWwKZUdGdGNHeGxMbTVsZEhkdmNtc3dXVEFUQmdjcWhrak9QUUlCQmdncWhrak9QUU1CQndOQ0FBU2l1UmVXblB3TQpSbUxCQk5RK1RuYmVaWVhNU1NtSDdKUHY2dkY2WU5kb3k4Yk1PVEtiY3VDVjlBZ0Y0MG5DYUowQmJZbzJmU0p4Ck1uN1lwUkJzR3NWWm8yMHdhekFPQmdOVkhROEJBZjhFQkFNQ0FhWXdIUVlEVlIwbEJCWXdGQVlJS3dZQkJRVUgKQXdJR0NDc0dBUVVGQndNQk1BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0tRWURWUjBPQkNJRUlEQk1RTDg4U3BhOAo5cU45bElJQlFBb01ObFNidmxqd0RKVnRrU2cwZmdIQ01Bb0dDQ3FHU000OUJBTUNBMGdBTUVVQ0lRRGVQVUZpCkpLc1p1MVNjcUtDL09LTXVxNGIyR242cndVWXZhSk0vMTg4REtBSWdVa2NsSUxRYUs2cCtYTlZWSHIwL3g2VXIKbkxwWC9peFVhbjJ1M1BlRThGOD0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
]
},
"type": 0
}
sberbank
[1;32mOK: Organization <sberbank> is in the channel <testchannel22463-02>.[m[m[m
Step 9_cli: exit code 0
NO_RED_OUTPUT=true ./cli/join-channel.sh testchannel22463 vtb ; ./verify/test-join-channel.sh testchannel22463 vtb
Step: 10_cli Test 'Join <vtb> to the <testchannel22463> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel22463 vtb VERIFY: test-join-channel.sh testchannel22463 vtb
[1;36m
Joining  vtb to the testchannel22463 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel22463[m[m[m
CORE_PEER_ADDRESS=peer0.vtb.example.network:7051
CORE_PEER_LOCALMSPID=vtb
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/vtb.example.network/users/Admin@vtb.example.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/vtb.example.network/peers/peer0.vtb.example.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/vtb.example.network/peers/peer0.vtb.example.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/vtb.example.network/peers/peer0.vtb.example.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOCACHE=off
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=88a42b99f686
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=vtb
PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-02-26 14:49:36--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 192.168.99.104
Connecting to www.example.network (www.example.network)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 14:49:36--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 192.168.99.104
Connecting to www.example.network (www.example.network)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 14:49:36--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 192.168.99.104
Connecting to www.example.network (www.example.network)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 14:49:36--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 192.168.99.104
Connecting to www.example.network (www.example.network)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crt' not modified on server. Omitting download.

Join vtb to channel testchannel22463
Execute: channel fetch 0 crypto-config/configtx/testchannel22463.pb -o orderer.example.network:7050 -c testchannel22463 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 14:49:36.595 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:49:36.602 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 14:49:36.660 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:49:36.721 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the vtb has joined the <testchannel22463> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:49:39.404 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The vtb has joined the <testchannel22463> channel[m[m[m
Step 10_cli: exit code 0
NO_RED_OUTPUT=true ./cli/join-channel.sh testchannel22463-02 sberbank ; ./verify/test-join-channel.sh testchannel22463-02 sberbank
Step: 11_cli Test 'Join <sberbank> to the <testchannel22463-02> chanel created by the <vtb> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel22463-02 sberbank VERIFY: test-join-channel.sh testchannel22463-02 sberbank
[1;36m
Joining  sberbank to the testchannel22463-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel22463-02[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.network:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/users/Admin@sberbank.example.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/peers/peer0.sberbank.example.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/peers/peer0.sberbank.example.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/peers/peer0.sberbank.example.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOCACHE=off
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=1f6ce28a8dfd
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-02-26 14:49:42--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.18.0.3
Connecting to www.example.network (www.example.network)|172.18.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 14:49:42--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.18.0.3
Connecting to www.example.network (www.example.network)|172.18.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 14:49:42--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.18.0.3
Connecting to www.example.network (www.example.network)|172.18.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem' not modified on server. Omitting download.

--2020-02-26 14:49:42--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.18.0.3
Connecting to www.example.network (www.example.network)|172.18.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File 'crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crt' not modified on server. Omitting download.

Join sberbank to channel testchannel22463-02
Execute: channel fetch 0 crypto-config/configtx/testchannel22463-02.pb -o orderer.example.network:7050 -c testchannel22463-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-02-26 14:49:42.814 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:49:42.817 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 14:49:42.879 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:49:42.937 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel22463-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:49:45.311 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel22463-02> channel[m[m[m
Step 11_cli: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel30650 sberbank ; ./verify/test-channel-exists.sh testchannel30650 sberbank
Step: 12_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel30650 sberbank VERIFY: test-channel-exists.sh testchannel30650 sberbank
[1;36mCreating testchannel30650 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyODU4OH0.mqEa8iXHgOJNeA5PLmzU7g5wnb7x_Sxnk1S0pbH0ai4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel30650> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel30650> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:49:54.438 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:49:54.440 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 14:49:54.442 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
{
"channel_id": "testchannel30650",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T14:49:51Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel30650> exists and visible to sberbank[m[m[m
Step 12_api: exit code 0
./verify/test-channel-does-not-exist.sh testchannel30650 vtb
Step: 13_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel30650 vtb
[1;34m
Verifing if the <testchannel30650> channel exists in vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:49:56.839 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:49:56.842 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel30650> does not exist and in not visible to vtb[m[m[m
Step 13_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh ^^^^^^testchannel30650 sberbank ; ./verify/test-channel-does-not-exist.sh ^^^^^^testchannel30650 sberbank
Step: 14_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel30650 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel30650 sberbank
[1;36mCreating ^^^^^^testchannel30650 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyODYwMH0.kSkUvOp0cCagLPKYSHV_gKoqCoFyDkqjO6l_dDVebKc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel30650' contains illegal characters" 500
parse error: Unfinished string at EOF at line 1, column 13
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel30650> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:50:05.102 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:50:05.104 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel30650> does not exist and in not visible to sberbank[m[m[m
Step 14_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh testchannel30650 vtb ; ./verify/test-channel-does-not-exist.sh testchannel30650 vtb
Step: 15_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel30650 vtb VERIFY: test-channel-does-not-exist.sh testchannel30650 vtb
[1;36mCreating testchannel30650 channel in vtb.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyODYwOH0.pyjKo1sp13bGsuEA1Lremg7tssNKcWcqLsUenx1X02s
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel30650> channel exists in vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:50:13.822 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:50:13.825 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel30650> does not exist and in not visible to vtb[m[m[m
Step 15_api: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel30650-02 vtb ; ./verify/test-channel-exists.sh testchannel30650-02 vtb
Step: 16_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel30650-02 vtb VERIFY: test-channel-exists.sh testchannel30650-02 vtb
[1;36mCreating testchannel30650-02 channel in vtb.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyODYxNn0.rd0npIvlMV87RZRkSrzk1yNsYliJn1rUeAoxsrA_rKM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.network:7051","name":"peer0.vtb.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.network:7051","grpc.default_authority":"peer0.vtb.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel30650-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel30650-02> channel exists in vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:50:22.565 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:50:22.569 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 14:50:22.570 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
{
"channel_id": "testchannel30650-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T14:50:19Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel30650-02> exists and visible to vtb[m[m[m
Step 16_api: exit code 0
./verify/test-channel-does-not-exist.sh testchannel30650-02 sberbank
Step: 17_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel30650-02 sberbank
[1;34m
Verifing if the <testchannel30650-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:50:24.670 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:50:24.672 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel30650-02> does not exist and in not visible to sberbank[m[m[m
Step 17_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh testchannel30650-02 sberbank ; ./verify/test-channel-does-not-exist.sh testchannel30650-02 sberbank
Step: 18_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel30650-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel30650-02 sberbank
[1;36mCreating testchannel30650-02 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyODYyN30.Y7xaDSgwhihq9ryQFWTso7TAINay8B-2NYKbKFRQcbg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel30650-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:50:32.554 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:50:32.558 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel30650-02> does not exist and in not visible to sberbank[m[m[m
Step 18_api: exit code 0
NO_RED_OUTPUT=true ./api/add-org-to-channel.sh testchannel30650 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel30650 sberbank vtb
Step: 19_api Test 'Add <vtb> to channel <testchannel30650> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel30650 sberbank vtb VERIFY: test-channel-add-org.sh testchannel30650 sberbank vtb
[1;36mAdd vtb to the testchannel30650 channel using API...[m[m[m
[1;36mAdd vtb to the testchannel30650 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyODYzNX0.7iuDs1IVLNcJ7mDOuHR1lzFhRuCxbCvmf_ciU1tIjE8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"Please provide Organization's Ip to register in DNS" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel30650 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:50:40.986 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:50:40.990 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 14:50:40.995 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 19_api: exit code 1
NO_RED_OUTPUT=true ./api/add-org-to-channel.sh testchannel30650-02 vtb sberbank ; ./verify/test-channel-add-org.sh testchannel30650-02 vtb sberbank
Step: 20_api Test 'Add <sberbank> to channel <testchannel30650-02> created by the <vtb> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel30650-02 vtb sberbank VERIFY: test-channel-add-org.sh testchannel30650-02 vtb sberbank
[1;36mAdd sberbank to the testchannel30650-02 channel using API...[m[m[m
[1;36mAdd sberbank to the testchannel30650-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyODY0M30.Aa3DnvS1aGA_1_ugjJKDRMGcd6auBe0_hr42x9SwrNk
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"ENOENT: no such file or directory, open 'crypto-config/sberbank_OrgConfig.json'" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel30650-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:50:49.248 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:50:49.253 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 14:50:49.255 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 20_api: exit code 1
NO_RED_OUTPUT=true ./api/join-channel.sh testchannel30650 vtb ; ./verify/test-join-channel.sh testchannel30650 vtb
Step: 21_api Test 'Join <vtb> to the <testchannel30650> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel30650 vtb VERIFY: test-join-channel.sh testchannel30650 vtb
[1;36mJoining vtb.example.network to the testchannel30650 channel using API...[m[m[m
[1;36mJoining vtb.example.network to the testchannel30650 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyODY1Mn0.W6XFBYJpQ8DK4U1iOXk2nRmo8bRVXABWh7PM64lcfSk
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the vtb has joined the <testchannel30650> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:50:57.420 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 21_api: exit code 1
NO_RED_OUTPUT=true ./api/join-channel.sh testchannel30650-02 sberbank ; ./verify/test-join-channel.sh testchannel30650-02 sberbank
Step: 22_api Test 'Join <sberbank> to the <testchannel30650-02> chanel created by the <vtb> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel30650-02 sberbank VERIFY: test-join-channel.sh testchannel30650-02 sberbank
[1;36mJoining sberbank.example.network to the testchannel30650-02 channel using API...[m[m[m
[1;36mJoining sberbank.example.network to the testchannel30650-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyODY2MX0._Pp8aKENIAuggk-ARRwmwctuUt4MeDLRNxv5WyO04B0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel30650-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:51:06.323 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 22_api: exit code 1
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel30935 sberbank ; ./verify/test-channel-exists.sh testchannel30935 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel30935 sberbank VERIFY: test-channel-exists.sh testchannel30935 sberbank
[1;36mCreating testchannel30935 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyODcyMX0.YbZjO5EHU4D_alUZhMs6BjdhqhMPFpS3KkljQ-HCu2k
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel30935> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel30935> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:52:07.462 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:52:07.464 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 14:52:07.466 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
{
"channel_id": "testchannel30935",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T14:52:04Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel30935> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
./verify/test-channel-does-not-exist.sh testchannel30935 vtb
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel30935 vtb
[1;34m
Verifing if the <testchannel30935> channel exists in vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:52:10.694 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:52:10.697 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel30935> does not exist and in not visible to vtb[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh ^^^^^^testchannel30935 sberbank ; ./verify/test-channel-does-not-exist.sh ^^^^^^testchannel30935 sberbank
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel30935 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel30935 sberbank
[1;36mCreating ^^^^^^testchannel30935 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyODczM30.AGUA8raK84c9DQiEZZfakUf4eNe4COxU7m5xgZ2185U
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel30935' contains illegal characters" 500
parse error: Unfinished string at EOF at line 1, column 13
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel30935> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:52:18.340 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:52:18.342 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel30935> does not exist and in not visible to sberbank[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh testchannel30935 vtb ; ./verify/test-channel-does-not-exist.sh testchannel30935 vtb
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel30935 vtb VERIFY: test-channel-does-not-exist.sh testchannel30935 vtb
[1;36mCreating testchannel30935 channel in vtb.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyODc0MX0.xpdhvX_6QtRw43CuhworBHVGrHdDMj4sA3hRgn_xoR0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel30935> channel exists in vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:52:25.895 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:52:25.898 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel30935> does not exist and in not visible to vtb[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel30935-02 vtb ; ./verify/test-channel-exists.sh testchannel30935-02 vtb
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel30935-02 vtb VERIFY: test-channel-exists.sh testchannel30935-02 vtb
[1;36mCreating testchannel30935-02 channel in vtb.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyODc0OH0.MFwgyDCC0suDmWcyT2JJoXm6eNlkmOwVUAIVyJZezpU
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.network:7051","name":"peer0.vtb.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.network:7051","grpc.default_authority":"peer0.vtb.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel30935-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel30935-02> channel exists in vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:52:34.177 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:52:34.180 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 14:52:34.182 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
{
"channel_id": "testchannel30935-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T14:52:31Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel30935-02> exists and visible to vtb[m[m[m
Step 5_api: exit code 0
./verify/test-channel-does-not-exist.sh testchannel30935-02 sberbank
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel30935-02 sberbank
[1;34m
Verifing if the <testchannel30935-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:52:36.458 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:52:36.460 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel30935-02> does not exist and in not visible to sberbank[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh testchannel30935-02 sberbank ; ./verify/test-channel-does-not-exist.sh testchannel30935-02 sberbank
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel30935-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel30935-02 sberbank
[1;36mCreating testchannel30935-02 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyODc1OH0.wB2jDLdjOi5vUNe5Q2SxbApQZMruKAtDssJfM61iJzk
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel30935-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:52:44.295 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:52:44.298 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel30935-02> does not exist and in not visible to sberbank[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=true ./api/add-org-to-channel.sh testchannel30935 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel30935 sberbank vtb
Step: 8_api Test 'Add <vtb> to channel <testchannel30935> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel30935 sberbank vtb VERIFY: test-channel-add-org.sh testchannel30935 sberbank vtb
[1;36mAdd vtb to the testchannel30935 channel using API...[m[m[m
[1;36mAdd vtb to the testchannel30935 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyODc2Nn0.jhjkXcBaUK6zlZkaJKa5IEdVj3bgdyMf6tYaD2mtn0w
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"Please provide Organization's Ip to register in DNS" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel30935 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:52:51.644 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:52:51.646 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 14:52:51.648 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 8_api: exit code 1
NO_RED_OUTPUT=true ./api/add-org-to-channel.sh testchannel30935-02 vtb sberbank ; ./verify/test-channel-add-org.sh testchannel30935-02 vtb sberbank
Step: 9_api Test 'Add <sberbank> to channel <testchannel30935-02> created by the <vtb> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel30935-02 vtb sberbank VERIFY: test-channel-add-org.sh testchannel30935-02 vtb sberbank
[1;36mAdd sberbank to the testchannel30935-02 channel using API...[m[m[m
[1;36mAdd sberbank to the testchannel30935-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyODc3NH0.nDmtr3ivVBT6pv40NB363c9MoOBT1ScaVTJu28GjWoQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"ENOENT: no such file or directory, open 'crypto-config/sberbank_OrgConfig.json'" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel30935-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:52:59.547 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 14:52:59.555 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 14:52:59.559 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 9_api: exit code 1
NO_RED_OUTPUT=true ./api/join-channel.sh testchannel30935 vtb ; ./verify/test-join-channel.sh testchannel30935 vtb
Step: 10_api Test 'Join <vtb> to the <testchannel30935> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel30935 vtb VERIFY: test-join-channel.sh testchannel30935 vtb
[1;36mJoining vtb.example.network to the testchannel30935 channel using API...[m[m[m
[1;36mJoining vtb.example.network to the testchannel30935 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyODc4Mn0.2hZmjV-wa1lUJhVdMAiPPRRIA4to7T8JtXZg7U7oyf8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the vtb has joined the <testchannel30935> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:53:08.035 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 10_api: exit code 1
NO_RED_OUTPUT=true ./api/join-channel.sh testchannel30935-02 sberbank ; ./verify/test-join-channel.sh testchannel30935-02 sberbank
Step: 11_api Test 'Join <sberbank> to the <testchannel30935-02> chanel created by the <vtb> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel30935-02 sberbank VERIFY: test-join-channel.sh testchannel30935-02 sberbank
[1;36mJoining sberbank.example.network to the testchannel30935-02 channel using API...[m[m[m
[1;36mJoining sberbank.example.network to the testchannel30935-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyODc5MH0.1rqOR5Pp8ayw-lAR_xyQ4eWYMETDANurMz6c97N7oJw
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel30935-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 14:53:15.729 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 11_api: exit code 1
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel12313 sberbank ; ./verify/test-channel-exists.sh testchannel12313 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel12313 sberbank VERIFY: test-channel-exists.sh testchannel12313 sberbank
[1;36mCreating testchannel12313 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyOTQzN30.NqZNyoZP0L-lSOGTUS84zZBr6ttaj9vVtDzU8oki8R0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel12313> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel12313> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:04:03.999 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 15:04:04.001 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 15:04:04.003 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
{
"channel_id": "testchannel12313",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T15:04:01Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel12313> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
./verify/test-channel-does-not-exist.sh testchannel12313 vtb
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel12313 vtb
[1;34m
Verifing if the <testchannel12313> channel exists in vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:04:06.696 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 15:04:06.703 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel12313> does not exist and in not visible to vtb[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh ^^^^^^testchannel12313 sberbank ; ./verify/test-channel-does-not-exist.sh ^^^^^^testchannel12313 sberbank
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel12313 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel12313 sberbank
[1;36mCreating ^^^^^^testchannel12313 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyOTQ0OX0.RZfbuhrDY7JCsWWAhhakAUKfJkZvazYKmsjKvV34mQ0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel12313' contains illegal characters" 500
parse error: Unfinished string at EOF at line 1, column 13
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel12313> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:04:14.757 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 15:04:14.759 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel12313> does not exist and in not visible to sberbank[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh testchannel12313 vtb ; ./verify/test-channel-does-not-exist.sh testchannel12313 vtb
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel12313 vtb VERIFY: test-channel-does-not-exist.sh testchannel12313 vtb
[1;36mCreating testchannel12313 channel in vtb.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyOTQ1N30._THcPuNAAZevFpxtTXLMWCxHuxSQn_beUFcReKfx2Vs
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel12313> channel exists in vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:04:23.357 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 15:04:23.360 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel12313> does not exist and in not visible to vtb[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel12313-02 vtb ; ./verify/test-channel-exists.sh testchannel12313-02 vtb
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel12313-02 vtb VERIFY: test-channel-exists.sh testchannel12313-02 vtb
[1;36mCreating testchannel12313-02 channel in vtb.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyOTQ2NX0.9bETW_sufDmLao1qQIibZ-A7AVeA6R-mJKKsvDqx3HM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.network:7051","name":"peer0.vtb.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.network:7051","grpc.default_authority":"peer0.vtb.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel12313-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel12313-02> channel exists in vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:04:32.072 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 15:04:32.075 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 15:04:32.078 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
{
"channel_id": "testchannel12313-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T15:04:29Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel12313-02> exists and visible to vtb[m[m[m
Step 5_api: exit code 0
./verify/test-channel-does-not-exist.sh testchannel12313-02 sberbank
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel12313-02 sberbank
[1;34m
Verifing if the <testchannel12313-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:04:34.283 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 15:04:34.286 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel12313-02> does not exist and in not visible to sberbank[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh testchannel12313-02 sberbank ; ./verify/test-channel-does-not-exist.sh testchannel12313-02 sberbank
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel12313-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel12313-02 sberbank
[1;36mCreating testchannel12313-02 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyOTQ3N30.JvxIMdsbgtMpD3-6CiM_ya-LRTS9E_dEsfG_ew6UAyI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel12313-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:04:43.380 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 15:04:43.385 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel12313-02> does not exist and in not visible to sberbank[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=true ./api/add-org-to-channel.sh testchannel12313 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel12313 sberbank vtb
Step: 8_api Test 'Add <vtb> to channel <testchannel12313> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel12313 sberbank vtb VERIFY: test-channel-add-org.sh testchannel12313 sberbank vtb
[1;36mAdd vtb to the testchannel12313 channel using API...[m[m[m
[1;36mAdd vtb to the testchannel12313 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyOTQ4Nn0.QT5B1QMujicl_ZNYPbAfIHcKBou2yVZFjK5TRmpXrdU
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"Please provide Organization's Ip to register in DNS" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel12313 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:04:52.689 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 15:04:52.692 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 15:04:52.693 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 8_api: exit code 1
NO_RED_OUTPUT=true ./api/add-org-to-channel.sh testchannel12313-02 vtb sberbank ; ./verify/test-channel-add-org.sh testchannel12313-02 vtb sberbank
Step: 9_api Test 'Add <sberbank> to channel <testchannel12313-02> created by the <vtb> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel12313-02 vtb sberbank VERIFY: test-channel-add-org.sh testchannel12313-02 vtb sberbank
[1;36mAdd sberbank to the testchannel12313-02 channel using API...[m[m[m
[1;36mAdd sberbank to the testchannel12313-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyOTQ5NX0.LItnfbEAUyo9fIzlaLBZJgpqZESOjWNtxBK-GY9rTyQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"ENOENT: no such file or directory, open 'crypto-config/sberbank_OrgConfig.json'" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel12313-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:05:01.775 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 15:05:01.778 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 15:05:01.780 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 9_api: exit code 1
NO_RED_OUTPUT=true ./api/join-channel.sh testchannel12313 vtb ; ./verify/test-join-channel.sh testchannel12313 vtb
Step: 10_api Test 'Join <vtb> to the <testchannel12313> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel12313 vtb VERIFY: test-join-channel.sh testchannel12313 vtb
[1;36mJoining vtb.example.network to the testchannel12313 channel using API...[m[m[m
[1;36mJoining vtb.example.network to the testchannel12313 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyOTUwNH0.iOYHhlsXyvwZOivxLdK1ONttRCTr5EXqJ-fEBHeXijM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the vtb has joined the <testchannel12313> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:05:09.662 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 10_api: exit code 1
NO_RED_OUTPUT=true ./api/join-channel.sh testchannel12313-02 sberbank ; ./verify/test-join-channel.sh testchannel12313-02 sberbank
Step: 11_api Test 'Join <sberbank> to the <testchannel12313-02> chanel created by the <vtb> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel12313-02 sberbank VERIFY: test-join-channel.sh testchannel12313-02 sberbank
[1;36mJoining sberbank.example.network to the testchannel12313-02 channel using API...[m[m[m
[1;36mJoining sberbank.example.network to the testchannel12313-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyOTUxMn0.P8zypVHhPfF3rxMSg0k1bEZFPmLhHyhaAPt-Eq9th9Q
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel12313-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:05:17.465 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 11_api: exit code 1
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel20066 sberbank ; ./verify/test-channel-exists.sh testchannel20066 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel20066 sberbank VERIFY: test-channel-exists.sh testchannel20066 sberbank
[1;36mCreating testchannel20066 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyOTgzNH0.xdE-FYMhgBEktEHyIwRXtad8EqVTAjvNnqWaDH8nKng
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel20066> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel20066> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:10:39.702 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 15:10:39.705 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 15:10:39.707 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
{
"channel_id": "testchannel20066",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T15:10:36Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel20066> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
./verify/test-channel-does-not-exist.sh testchannel20066 vtb
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel20066 vtb
[1;34m
Verifing if the <testchannel20066> channel exists in vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:10:42.424 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 15:10:42.427 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel20066> does not exist and in not visible to vtb[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh ^^^^^^testchannel20066 sberbank ; ./verify/test-channel-does-not-exist.sh ^^^^^^testchannel20066 sberbank
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel20066 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel20066 sberbank
[1;36mCreating ^^^^^^testchannel20066 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyOTg0NX0.Ee9WlwPcigKhKRGf5EzpSFdlxBOsktdyIFz8Y5l4QNk
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel20066' contains illegal characters" 500
parse error: Unfinished string at EOF at line 1, column 13
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel20066> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:10:50.104 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 15:10:50.106 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel20066> does not exist and in not visible to sberbank[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh testchannel20066 vtb ; ./verify/test-channel-does-not-exist.sh testchannel20066 vtb
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel20066 vtb VERIFY: test-channel-does-not-exist.sh testchannel20066 vtb
[1;36mCreating testchannel20066 channel in vtb.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyOTg1Mn0.-7AIWK1OEtnC3mFUBVnTKghnXGoTgfyPwfGXKyDLlA8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel20066> channel exists in vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:10:57.683 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 15:10:57.686 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel20066> does not exist and in not visible to vtb[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel20066-02 vtb ; ./verify/test-channel-exists.sh testchannel20066-02 vtb
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel20066-02 vtb VERIFY: test-channel-exists.sh testchannel20066-02 vtb
[1;36mCreating testchannel20066-02 channel in vtb.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyOTg2MH0.2GScw24Zpexgc2YCshwc3oSuqHrpBWE2BlR00Z0Z3lc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.network:7051","name":"peer0.vtb.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.network:7051","grpc.default_authority":"peer0.vtb.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel20066-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel20066-02> channel exists in vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:11:06.334 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 15:11:06.343 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 15:11:06.345 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
{
"channel_id": "testchannel20066-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T15:11:03Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel20066-02> exists and visible to vtb[m[m[m
Step 5_api: exit code 0
NO_RED_OUTPUT=true ./api/add-org-to-channel.sh testchannel20066 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel20066 sberbank vtb
Step: 6_api Test 'Add <vtb> to channel <testchannel20066> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel20066 sberbank vtb VERIFY: test-channel-add-org.sh testchannel20066 sberbank vtb
[1;36mAdd vtb to the testchannel20066 channel using API...[m[m[m
[1;36mAdd vtb to the testchannel20066 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyOTg2OX0.uW7ZMqgwqhvivRZl6Gl2S79akty4lgCAjYaITS9UmKM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"Please provide Organization's Ip to register in DNS" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel20066 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:11:14.361 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 15:11:14.363 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 15:11:14.364 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 6_api: exit code 1
NO_RED_OUTPUT=true ./api/add-org-to-channel.sh testchannel20066-02 vtb sberbank ; ./verify/test-channel-add-org.sh testchannel20066-02 vtb sberbank
Step: 7_api Test 'Add <sberbank> to channel <testchannel20066-02> created by the <vtb> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel20066-02 vtb sberbank VERIFY: test-channel-add-org.sh testchannel20066-02 vtb sberbank
[1;36mAdd sberbank to the testchannel20066-02 channel using API...[m[m[m
[1;36mAdd sberbank to the testchannel20066-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyOTg3N30.t2YdXmD1t22b308K3p736Q_yE1c1WnO-z-Dv2MbpuaY
[1;32mOK: JWT token obtained.[m[m[m
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel4872 sberbank ; ./verify/test-channel-exists.sh testchannel4872 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel4872 sberbank VERIFY: test-channel-exists.sh testchannel4872 sberbank
[1;36mCreating testchannel4872 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyOTkyOX0.BQu2kqWlD2DsOED64ypY3Td5PTi3IoRTazgsBrnGflE
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel4872> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel4872> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:12:15.365 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 15:12:15.367 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 15:12:15.368 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
{
"channel_id": "testchannel4872",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T15:12:12Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel4872> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
./verify/test-channel-does-not-exist.sh testchannel4872 vtb
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel4872 vtb
[1;34m
Verifing if the <testchannel4872> channel exists in vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:12:17.639 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 15:12:17.642 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel4872> does not exist and in not visible to vtb[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh ^^^^^^testchannel4872 sberbank ; ./verify/test-channel-does-not-exist.sh ^^^^^^testchannel4872 sberbank
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel4872 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel4872 sberbank
[1;36mCreating ^^^^^^testchannel4872 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyOTk0MH0.V9wUD5EoCL8kLoeG8HNg5bZkPEwwcV-bJWy-GIhOEBA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel4872' contains illegal characters" 500
parse error: Unfinished string at EOF at line 1, column 13
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel4872> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:12:25.173 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 15:12:25.175 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel4872> does not exist and in not visible to sberbank[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh testchannel4872 vtb ; ./verify/test-channel-does-not-exist.sh testchannel4872 vtb
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel4872 vtb VERIFY: test-channel-does-not-exist.sh testchannel4872 vtb
[1;36mCreating testchannel4872 channel in vtb.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyOTk0N30.P0K-vmOjdO5i4w6c0ESn90i5vQWsyaBBQ0O0RnXHdL0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel4872> channel exists in vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:12:32.730 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 15:12:32.732 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel4872> does not exist and in not visible to vtb[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel4872-02 vtb ; ./verify/test-channel-exists.sh testchannel4872-02 vtb
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel4872-02 vtb VERIFY: test-channel-exists.sh testchannel4872-02 vtb
[1;36mCreating testchannel4872-02 channel in vtb.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyOTk1NX0.N0SDs5PiFwGAYZhkoq1almNWtXb4U4tm3KliBcojR5Y
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.network:7051","name":"peer0.vtb.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.network:7051","grpc.default_authority":"peer0.vtb.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel4872-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel4872-02> channel exists in vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:12:40.796 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 15:12:40.801 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 15:12:40.803 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
{
"channel_id": "testchannel4872-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T15:12:38Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel4872-02> exists and visible to vtb[m[m[m
Step 5_api: exit code 0
NO_RED_OUTPUT=true ./api/add-org-to-channel.sh testchannel4872 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel4872 sberbank vtb
Step: 6_api Test 'Add <vtb> to channel <testchannel4872> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel4872 sberbank vtb VERIFY: test-channel-add-org.sh testchannel4872 sberbank vtb
[1;36mAdd vtb to the testchannel4872 channel using API...[m[m[m
[1;36mAdd vtb to the testchannel4872 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyOTk2NH0.XPNajVP6qsFbZeo6Nu5luJeJNsq7KS8gJckCseEHCuc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"Please provide Organization's Ip to register in DNS" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel4872 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:12:48.837 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 15:12:48.839 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 15:12:48.841 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 6_api: exit code 1
NO_RED_OUTPUT=true ./api/add-org-to-channel.sh testchannel4872-02 vtb sberbank ; ./verify/test-channel-add-org.sh testchannel4872-02 vtb sberbank
Step: 7_api Test 'Add <sberbank> to channel <testchannel4872-02> created by the <vtb> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel4872-02 vtb sberbank VERIFY: test-channel-add-org.sh testchannel4872-02 vtb sberbank
[1;36mAdd sberbank to the testchannel4872-02 channel using API...[m[m[m
[1;36mAdd sberbank to the testchannel4872-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyOTk3Mn0.wRM1q_j3hmTWGhVnTBDwlF7qGvUVI53NOl7-f4B0DBU
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"ENOENT: no such file or directory, open 'crypto-config/sberbank_OrgConfig.json'" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel4872-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:12:57.310 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 15:12:57.312 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 15:12:57.314 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 7_api: exit code 1
NO_RED_OUTPUT=true ./api/join-channel.sh testchannel4872 vtb ; ./verify/test-join-channel.sh testchannel4872 vtb
Step: 8_api Test 'Join <vtb> to the <testchannel4872> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel4872 vtb VERIFY: test-join-channel.sh testchannel4872 vtb
[1;36mJoining vtb.example.network to the testchannel4872 channel using API...[m[m[m
[1;36mJoining vtb.example.network to the testchannel4872 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyOTk3OX0.jt9lMCXlZi9b7NHyQVjWbrDFMArfWe6m2DjJOfLWMkI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the vtb has joined the <testchannel4872> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:13:05.012 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 8_api: exit code 1
NO_RED_OUTPUT=true ./api/join-channel.sh testchannel4872-02 sberbank ; ./verify/test-join-channel.sh testchannel4872-02 sberbank
Step: 9_api Test 'Join <sberbank> to the <testchannel4872-02> chanel created by the <vtb> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel4872-02 sberbank VERIFY: test-join-channel.sh testchannel4872-02 sberbank
[1;36mJoining sberbank.example.network to the testchannel4872-02 channel using API...[m[m[m
[1;36mJoining sberbank.example.network to the testchannel4872-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyOTk4N30.p1ljDDz57UOpGjz2Xy4gqo3d0BxuJCB8BNR0QtFrc0g
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel4872-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:13:12.951 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 9_api: exit code 1
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel23860 sberbank ; ./verify/test-channel-exists.sh testchannel23860 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel23860 sberbank VERIFY: test-channel-exists.sh testchannel23860 sberbank
[1;36mCreating testchannel23860 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjczMDEwOH0.4BpKPCnwXU9z0cuzR_kEdjo2YqgL_U8NOU81G51scxo
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel23860> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel23860> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:15:16.060 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 15:15:16.062 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 15:15:16.064 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
{
"channel_id": "testchannel23860",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T15:15:13Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel23860> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel23860-02 vtb ; ./verify/test-channel-exists.sh testchannel23860-02 vtb
Step: 2_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel23860-02 vtb VERIFY: test-channel-exists.sh testchannel23860-02 vtb
[1;36mCreating testchannel23860-02 channel in vtb.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjczMDExOX0.hiwF966hdv0yOt2BRx4SxJpYHnrRyCNpMONFADwkTjU
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.network:7051","name":"peer0.vtb.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.network:7051","grpc.default_authority":"peer0.vtb.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel23860-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel23860-02> channel exists in vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:15:26.854 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 15:15:26.857 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 15:15:26.859 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
{
"channel_id": "testchannel23860-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T15:15:23Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel23860-02> exists and visible to vtb[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true ./api/add-org-to-channel.sh testchannel23860 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel23860 sberbank vtb
Step: 3_api Test 'Add <vtb> to channel <testchannel23860> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel23860 sberbank vtb VERIFY: test-channel-add-org.sh testchannel23860 sberbank vtb
[1;36mAdd vtb to the testchannel23860 channel using API...[m[m[m
[1;36mAdd vtb to the testchannel23860 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjczMDEyOX0.HhPzoqO8SQVezCWigfuWCZo-NZ_ujprDjaB1iLrcupQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"Please provide Organization's Ip to register in DNS" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel23860 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:15:35.948 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 15:15:35.950 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 15:15:35.951 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_api: exit code 1
NO_RED_OUTPUT=true ./api/add-org-to-channel.sh testchannel23860-02 vtb sberbank ; ./verify/test-channel-add-org.sh testchannel23860-02 vtb sberbank
Step: 4_api Test 'Add <sberbank> to channel <testchannel23860-02> created by the <vtb> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel23860-02 vtb sberbank VERIFY: test-channel-add-org.sh testchannel23860-02 vtb sberbank
[1;36mAdd sberbank to the testchannel23860-02 channel using API...[m[m[m
[1;36mAdd sberbank to the testchannel23860-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjczMDEzOH0.obxZfaa1ikDG3MoqR7nPkltNhqUwHpaGM75QbAnlYew
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"ENOENT: no such file or directory, open 'crypto-config/sberbank_OrgConfig.json'" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel23860-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:15:44.855 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 15:15:44.859 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 15:15:44.860 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 4_api: exit code 1
NO_RED_OUTPUT=true ./api/join-channel.sh testchannel23860 vtb ; ./verify/test-join-channel.sh testchannel23860 vtb
Step: 5_api Test 'Join <vtb> to the <testchannel23860> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel23860 vtb VERIFY: test-join-channel.sh testchannel23860 vtb
[1;36mJoining vtb.example.network to the testchannel23860 channel using API...[m[m[m
[1;36mJoining vtb.example.network to the testchannel23860 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjczMDE0N30.XjStGSz-Lz-GaFcsyCc4-Ct2BcSXmECPB9qoDsXg0bw
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the vtb has joined the <testchannel23860> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:15:52.888 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 5_api: exit code 1
NO_RED_OUTPUT=true ./api/join-channel.sh testchannel23860-02 sberbank ; ./verify/test-join-channel.sh testchannel23860-02 sberbank
Step: 6_api Test 'Join <sberbank> to the <testchannel23860-02> chanel created by the <vtb> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel23860-02 sberbank VERIFY: test-join-channel.sh testchannel23860-02 sberbank
[1;36mJoining sberbank.example.network to the testchannel23860-02 channel using API...[m[m[m
[1;36mJoining sberbank.example.network to the testchannel23860-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjczMDE1NX0.aiEIBZlFZrYZyPtWoZBLlLeyJ_R8K7RhXllSHac6w44
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel23860-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:16:00.101 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 6_api: exit code 1
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel27625 sberbank ; ./verify/test-channel-exists.sh testchannel27625 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel27625 sberbank VERIFY: test-channel-exists.sh testchannel27625 sberbank
[1;36mCreating testchannel27625 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjczMDE4OX0.OUSAtHSM_EQckWPcFwV8-I6Y_cp2zXwQB1BEodR9pZ8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel27625> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel27625> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:16:35.693 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 15:16:35.695 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 15:16:35.696 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
{
"channel_id": "testchannel27625",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T15:16:33Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel27625> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel27625-02 vtb ; ./verify/test-channel-exists.sh testchannel27625-02 vtb
Step: 2_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel27625-02 vtb VERIFY: test-channel-exists.sh testchannel27625-02 vtb
[1;36mCreating testchannel27625-02 channel in vtb.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjczMDE5OH0.pOQWO2cuGjj8aJ1IenV3VS2Qeeu9W-z6fewphMd5OXE
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.network:7051","name":"peer0.vtb.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.network:7051","grpc.default_authority":"peer0.vtb.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel27625-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel27625-02> channel exists in vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:16:44.619 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 15:16:44.621 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 15:16:44.623 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
{
"channel_id": "testchannel27625-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T15:16:41Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel27625-02> exists and visible to vtb[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true ./api/add-org-to-channel.sh testchannel27625 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel27625 sberbank vtb
Step: 3_api Test 'Add <vtb> to channel <testchannel27625> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel27625 sberbank vtb VERIFY: test-channel-add-org.sh testchannel27625 sberbank vtb
[1;36mAdd vtb to the testchannel27625 channel using API...[m[m[m
[1;36mAdd vtb to the testchannel27625 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjczMDIwN30.tYntn5FtZ_HpnhUhDfhbNLOfkvpA4gdralqqJlgvdws
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"Please provide Organization's Ip to register in DNS" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel27625 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:16:52.588 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 15:16:52.590 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 15:16:52.592 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_api: exit code 1
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel30415 sberbank ; ./verify/test-channel-exists.sh testchannel30415 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel30415 sberbank VERIFY: test-channel-exists.sh testchannel30415 sberbank
[1;36mCreating testchannel30415 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjczMDQyOH0.dxKo1-5-BOLM603-b5wnN27UreAh6iYMkVcwakVsbpg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel30415> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel30415> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:20:33.646 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 15:20:33.648 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 15:20:33.649 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
{
"channel_id": "testchannel30415",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T15:20:30Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel30415> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel30415-02 vtb ; ./verify/test-channel-exists.sh testchannel30415-02 vtb
Step: 2_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel30415-02 vtb VERIFY: test-channel-exists.sh testchannel30415-02 vtb
[1;36mCreating testchannel30415-02 channel in vtb.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjczMDQzNn0.n1ZZ9FHdn1SY5XAFJ63l7smihH-lTSmNPVwCa0lsqbM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.network:7051","name":"peer0.vtb.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.network:7051","grpc.default_authority":"peer0.vtb.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel30415-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel30415-02> channel exists in vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:20:42.435 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 15:20:42.440 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 15:20:42.443 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
{
"channel_id": "testchannel30415-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T15:20:38Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel30415-02> exists and visible to vtb[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true ./api/add-org-to-channel.sh testchannel30415 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel30415 sberbank vtb
Step: 3_api Test 'Add <vtb> to channel <testchannel30415> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel30415 sberbank vtb VERIFY: test-channel-add-org.sh testchannel30415 sberbank vtb
[1;36mAdd vtb to the testchannel30415 channel using API...[m[m[m
[1;36mAdd vtb to the testchannel30415 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjczMDQ0NH0.XQ8Nw_gb2PYiDsWlWNRuNkKLalRuoFPPBmMiu0LDJac
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"Please provide Organization's Ip to register in DNS" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel30415 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 15:20:49.418 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 15:20:49.420 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 15:20:49.422 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_api: exit code 1
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 7051
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel6600 sberbank ; ./verify/test-channel-exists.sh testchannel6600 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel6600 sberbank VERIFY: test-channel-exists.sh testchannel6600 sberbank
[1;36mCreating testchannel6600 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjczMjk3N30.GflWVbOsCYBO94NJTCqJDKrSa-v2rLh3LiUzMDVIlT4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel6600> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel6600> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 16:03:03.019 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 16:03:03.023 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 16:03:03.025 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
{
"channel_id": "testchannel6600",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T16:03:00Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel6600> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel6600-02 vtb ; ./verify/test-channel-exists.sh testchannel6600-02 vtb
Step: 2_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel6600-02 vtb VERIFY: test-channel-exists.sh testchannel6600-02 vtb
[1;36mCreating testchannel6600-02 channel in vtb.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjczMjk4Nn0.M8yNWXnAWaxo3LynlXzgRo-jQYRZjwJ60yl9mcoh5Yk
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.network:7051","name":"peer0.vtb.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.network:7051","grpc.default_authority":"peer0.vtb.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel6600-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel6600-02> channel exists in vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 16:03:13.183 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 16:03:13.185 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 16:03:13.190 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
{
"channel_id": "testchannel6600-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T16:03:09Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel6600-02> exists and visible to vtb[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true ./api/add-org-to-channel.sh testchannel6600 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel6600 sberbank vtb
Step: 3_api Test 'Add <vtb> to channel <testchannel6600> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel6600 sberbank vtb VERIFY: test-channel-add-org.sh testchannel6600 sberbank vtb
[1;36mAdd vtb to the testchannel6600 channel using API...[m[m[m
[1;36mAdd vtb to the testchannel6600 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjczMjk5Nn0.IX1Qn3HAgWLm-QR3PkCkUWyIyBbvcohazN6OdcnKpqg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"Please provide Organization's Ip to register in DNS" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel6600 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 16:03:20.706 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 16:03:20.708 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 16:03:20.710 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_api: exit code 1
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel1223 sberbank ; ./verify/test-channel-exists.sh testchannel1223 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel1223 sberbank VERIFY: test-channel-exists.sh testchannel1223 sberbank
[1;36mCreating testchannel1223 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjczMzExMX0.NNS-jvgWXAfWvgv2ZOYAU5XYfwJiBOL-_JK5AtDu_Ds
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel1223> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel1223> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 16:05:17.260 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 16:05:17.263 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 16:05:17.265 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
{
"channel_id": "testchannel1223",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T16:05:14Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel1223> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel1223-02 vtb ; ./verify/test-channel-exists.sh testchannel1223-02 vtb
Step: 2_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel1223-02 vtb VERIFY: test-channel-exists.sh testchannel1223-02 vtb
[1;36mCreating testchannel1223-02 channel in vtb.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjczMzExOX0.MG912-JJNlf9vRuYEZ7-BTR5-PR_lTM_kbiAthpMbEw
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.network:7051","name":"peer0.vtb.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.network:7051","grpc.default_authority":"peer0.vtb.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel1223-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel1223-02> channel exists in vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 16:05:25.772 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 16:05:25.775 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 16:05:25.776 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
{
"channel_id": "testchannel1223-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T16:05:22Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel1223-02> exists and visible to vtb[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true ./api/add-org-to-channel.sh testchannel1223 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel1223 sberbank vtb
Step: 3_api Test 'Add <vtb> to channel <testchannel1223> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel1223 sberbank vtb VERIFY: test-channel-add-org.sh testchannel1223 sberbank vtb
[1;36mAdd vtb to the testchannel1223 channel using API...[m[m[m
[1;36mAdd vtb to the testchannel1223 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjczMzEyOH0.WW0OtAl86ZvYAVtFJD8SDWV9Xez7-QLP1qzUdakh_QI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"Please provide Organization's Ip to register in DNS" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel1223 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 16:05:32.963 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 16:05:32.965 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 16:05:32.967 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_api: exit code 1
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel24857 sberbank ; ./verify/test-channel-exists.sh testchannel24857 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel24857 sberbank VERIFY: test-channel-exists.sh testchannel24857 sberbank
[1;36mCreating testchannel24857 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjczMzE1OH0.OoqQTyiPZMP8bGdhUBr-B3zTIg1hfhapvr51a0g2e4s
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel24857> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel24857> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 16:06:03.304 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 16:06:03.307 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 16:06:03.308 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
{
"channel_id": "testchannel24857",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T16:06:00Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel24857> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel24857-02 vtb ; ./verify/test-channel-exists.sh testchannel24857-02 vtb
Step: 2_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel24857-02 vtb VERIFY: test-channel-exists.sh testchannel24857-02 vtb
[1;36mCreating testchannel24857-02 channel in vtb.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjczMzE2NX0.9uV7AKVDU0h-XHBVG2p9Z9xmxC6joFob3JGdNpTVIu4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.network:7051","name":"peer0.vtb.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.network:7051","grpc.default_authority":"peer0.vtb.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel24857-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel24857-02> channel exists in vtb.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 16:06:11.852 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 16:06:11.857 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 16:06:11.859 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
{
"channel_id": "testchannel24857-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T16:06:09Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel24857-02> exists and visible to vtb[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true ./api/add-org-to-channel.sh testchannel24857 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel24857 sberbank vtb
Step: 3_api Test 'Add <vtb> to channel <testchannel24857> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel24857 sberbank vtb VERIFY: test-channel-add-org.sh testchannel24857 sberbank vtb
[1;36mAdd vtb to the testchannel24857 channel using API...[m[m[m
[1;36mAdd vtb to the testchannel24857 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjczMzE3NH0.EdqsqaNHjkanMCtDw9rRfgwTbYGAzQAtRup8iX1VxVA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
"ENOENT: no such file or directory, open 'crypto-config/vtb_OrgConfig.json'" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel24857 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 16:06:27.331 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 16:06:27.333 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 16:06:27.334 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_api: exit code 1
Error: No such container: cli.sberbank.example.network
lstat /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/{: no such file or directory
Error: No such container: cli.sberbank.example.network
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4001
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 8051
NO_RED_OUTPUT=false ./example.net/create-channel.sh testchannel4502 sberbank ; ./verify/test-channel-exists.sh testchannel4502 sberbank
Step: 1_example.net Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel4502 sberbank VERIFY: test-channel-exists.sh testchannel4502 sberbank
[1;34m
Verifing if the <testchannel4502> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 08:11:16.590 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:11:16.608 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 1_example.net: exit code 1
NO_RED_OUTPUT=false ./example.net/create-channel.sh testchannel4502-02 vtb ; ./verify/test-channel-exists.sh testchannel4502-02 vtb
Step: 2_example.net Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel4502-02 vtb VERIFY: test-channel-exists.sh testchannel4502-02 vtb
[1;34m
Verifing if the <testchannel4502-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 08:11:17.502 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:11:17.505 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 2_example.net: exit code 1
NO_RED_OUTPUT=true ./example.net/add-org-to-channel.sh testchannel4502 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel4502 sberbank vtb
Step: 3_example.net Test 'Add <vtb> to channel <testchannel4502> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel4502 sberbank vtb VERIFY: test-channel-add-org.sh testchannel4502 sberbank vtb
[1;34m
Verifing if the <vtb> added to testchannel4502 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 08:11:18.359 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:11:18.361 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_example.net: exit code 1
NO_RED_OUTPUT=false ./example.net/chaincode-install.sh vtb
Step: 4_example.net Test 'Install test chaincode by  <vtb> to the <testchannel4502> chanel'
RUNTEST: chaincode-install.sh vtb
Step 4_example.net: exit code 127
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel17442 sberbank ; ./verify/test-channel-exists.sh testchannel17442 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel17442 sberbank VERIFY: test-channel-exists.sh testchannel17442 sberbank
[1;36m
Creating the <testchannel17442> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel17442[m[m[m
example.net

Create channel sberbank testchannel17442
--2020-02-27 08:11:45--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:11:45--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:11:45--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:11:45--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 08:11:45.280 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 08:11:45.333 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:11:45.333 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:11:45.333 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 08:11:45.333 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 08:11:45.333 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 08:11:45.333 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 08:11:45.334 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 08:11:45.334 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:11:45.385 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:11:45.385 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:11:45.385 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 08:11:45.385 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:11:45.385 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 08:11:45.385 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:11:45.385 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:11:45.386 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:11:45.386 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 08:11:45.386 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:11:45.386 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:11:45.386 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:11:45.387 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 08:11:45.387 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 08:11:45.467 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:11:45.501 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
[34m2020-02-27 08:11:45.504 UTC [channelCmd] InitCmdFactory -> INFO 003[0m Endorser and orderer connections initialized
[34m2020-02-27 08:11:45.715 UTC [cli.common] readBlock -> INFO 004[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel17442.pb -o orderer.example.net:7050 -c testchannel17442 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:11:45.858 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:11:45.862 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 08:11:45.864 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 08:11:45.864 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel17442
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel17442 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:11:46.284 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:11:46.299 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel17442> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel17442> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 08:11:48.674 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:11:48.677 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 08:11:48.680 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 08:11:48.680 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel17442",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T08:11:46Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel17442> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel17442-02 vtb ; ./verify/test-channel-exists.sh testchannel17442-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel17442-02 vtb VERIFY: test-channel-exists.sh testchannel17442-02 vtb
[1;36m
Creating the <testchannel17442-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel17442-02[m[m[m
example.net

Create channel vtb testchannel17442-02
--2020-02-27 08:11:51--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:11:51--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:11:51--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:11:51--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 08:11:51.726 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 08:11:51.782 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:11:51.782 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:11:51.782 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 08:11:51.782 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 08:11:51.782 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 08:11:51.782 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 08:11:51.782 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 08:11:51.782 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:11:51.843 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:11:51.843 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:11:51.843 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 08:11:51.843 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:11:51.843 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 08:11:51.843 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:11:51.843 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:11:51.843 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:11:51.844 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 08:11:51.844 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:11:51.844 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:11:51.844 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:11:51.844 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 08:11:51.845 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 08:11:51.918 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:11:52.003 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel17442-02.pb -o orderer.example.net:7050 -c testchannel17442-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:11:52.083 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:11:52.101 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 08:11:52.103 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 08:11:52.103 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel17442-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel17442-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:11:52.488 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:11:52.518 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel17442-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel17442-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 08:11:54.801 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:11:54.809 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 08:11:54.812 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 08:11:54.812 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel17442-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T08:11:52Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel17442-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel17442 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel17442 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel17442> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel17442 sberbank vtb VERIFY: test-channel-add-org.sh testchannel17442 sberbank vtb
[1;36m
Add vtb to the testchannel17442 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel17442 vtb 7051 example.net[m[m[m
--2020-02-27 08:11:57--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:11:57--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:11:57--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel17442, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel17442.pb -o orderer.example.net:7050 -c testchannel17442 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:11:57.571 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:11:57.575 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 08:11:57.579 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 08:11:57.579 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel17442
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel17442 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:11:57.994 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:11:58.030 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel17442 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 08:11:59.118 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:11:59.124 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 08:11:59.126 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 08:11:59.126 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel17442>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh vtb
Step: 4_cli Test 'Install test chaincode by  <vtb> to the <testchannel17442> chanel'
RUNTEST: chaincode-install.sh vtb
[1;36m
Installing chaincode {} to the vtb channel in ...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: .vtb.example.net
[1;32mOK: Organization  added to vtb channel[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel12262 sberbank ; ./verify/test-channel-exists.sh testchannel12262 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel12262 sberbank VERIFY: test-channel-exists.sh testchannel12262 sberbank
[1;36m
Creating the <testchannel12262> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel12262[m[m[m
example.net

Create channel sberbank testchannel12262
--2020-02-27 08:15:39--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:15:39--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:15:39--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:15:39--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 08:15:39.364 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 08:15:39.421 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:15:39.421 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:15:39.421 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 08:15:39.421 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 08:15:39.421 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 08:15:39.421 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 08:15:39.421 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 08:15:39.421 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:15:39.472 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:15:39.472 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:15:39.473 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 08:15:39.473 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:15:39.473 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 08:15:39.473 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:15:39.473 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:15:39.473 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:15:39.474 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 08:15:39.474 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:15:39.474 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:15:39.474 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:15:39.475 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 08:15:39.475 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 08:15:39.551 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:15:39.585 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel12262.pb -o orderer.example.net:7050 -c testchannel12262 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:15:39.680 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:15:39.682 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 08:15:39.684 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 08:15:39.684 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel12262
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel12262 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:15:40.580 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:15:40.605 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel12262> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel12262> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 08:15:42.960 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:15:42.962 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 08:15:42.965 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 08:15:42.965 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel12262",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T08:15:40Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel12262> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel12262-02 vtb ; ./verify/test-channel-exists.sh testchannel12262-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel12262-02 vtb VERIFY: test-channel-exists.sh testchannel12262-02 vtb
[1;36m
Creating the <testchannel12262-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel12262-02[m[m[m
example.net

Create channel vtb testchannel12262-02
--2020-02-27 08:15:45--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:15:45--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:15:45--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:15:45--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 08:15:45.367 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 08:15:45.430 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:15:45.430 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:15:45.430 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 08:15:45.430 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 08:15:45.430 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 08:15:45.430 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 08:15:45.430 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 08:15:45.430 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:15:45.483 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:15:45.483 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:15:45.483 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 08:15:45.483 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:15:45.483 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 08:15:45.483 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:15:45.483 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:15:45.483 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:15:45.484 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 08:15:45.484 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:15:45.484 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:15:45.484 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:15:45.484 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 08:15:45.484 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 08:15:45.561 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:15:45.595 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel12262-02.pb -o orderer.example.net:7050 -c testchannel12262-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:15:45.675 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:15:45.677 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 08:15:45.678 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 08:15:45.678 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel12262-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel12262-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:15:46.096 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:15:46.109 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel12262-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel12262-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 08:15:48.297 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:15:48.300 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 08:15:48.301 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 08:15:48.301 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel12262-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T08:15:46Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel12262-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel12262 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel12262 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel12262> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel12262 sberbank vtb VERIFY: test-channel-add-org.sh testchannel12262 sberbank vtb
[1;36m
Add vtb to the testchannel12262 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel12262 vtb 7051 example.net[m[m[m
--2020-02-27 08:15:50--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:15:50--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:15:50--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel12262, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel12262.pb -o orderer.example.net:7050 -c testchannel12262 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:15:50.967 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:15:50.971 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 08:15:50.977 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 08:15:50.977 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel12262
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel12262 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:15:51.550 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:15:51.561 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel12262 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 08:15:52.579 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:15:52.582 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 08:15:52.584 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 08:15:52.584 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel12262>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh vtb
Step: 4_cli Test 'Install test chaincode by <vtb> to the <testchannel12262-02> chanel'
RUNTEST: chaincode-install.sh vtb
[1;36m
Installing chaincode {} to the vtb channel in ...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: .vtb.example.net
[1;32mOK: Organization  added to vtb channel[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel6041 sberbank ; ./verify/test-channel-exists.sh testchannel6041 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel6041 sberbank VERIFY: test-channel-exists.sh testchannel6041 sberbank
[1;36m
Creating the <testchannel6041> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel6041[m[m[m
example.net

Create channel sberbank testchannel6041
--2020-02-27 08:16:33--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:16:33--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:16:33--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:16:33--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 08:16:33.353 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 08:16:33.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:16:33.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:16:33.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 08:16:33.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 08:16:33.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 08:16:33.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 08:16:33.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 08:16:33.411 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:16:33.462 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:16:33.462 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:16:33.462 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 08:16:33.462 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:16:33.462 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 08:16:33.462 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:16:33.462 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:16:33.462 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:16:33.463 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 08:16:33.463 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:16:33.463 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:16:33.463 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:16:33.463 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 08:16:33.464 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 08:16:33.529 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:16:33.612 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel6041.pb -o orderer.example.net:7050 -c testchannel6041 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:16:33.741 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:16:33.745 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 08:16:33.748 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 08:16:33.748 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel6041
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel6041 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:16:34.135 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:16:34.154 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel6041> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel6041> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 08:16:36.512 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:16:36.516 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 08:16:36.519 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 08:16:36.519 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel6041",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T08:16:34Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel6041> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel6041-02 vtb ; ./verify/test-channel-exists.sh testchannel6041-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel6041-02 vtb VERIFY: test-channel-exists.sh testchannel6041-02 vtb
[1;36m
Creating the <testchannel6041-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel6041-02[m[m[m
example.net

Create channel vtb testchannel6041-02
--2020-02-27 08:16:38--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:16:38--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:16:38--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:16:38--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 08:16:38.935 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 08:16:39.030 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:16:39.030 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:16:39.030 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 08:16:39.030 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 08:16:39.030 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 08:16:39.030 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 08:16:39.030 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 08:16:39.030 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:16:39.086 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:16:39.086 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:16:39.086 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 08:16:39.086 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:16:39.086 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 08:16:39.086 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:16:39.086 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:16:39.086 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:16:39.087 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 08:16:39.087 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:16:39.087 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:16:39.087 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:16:39.087 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 08:16:39.088 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 08:16:39.150 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:16:39.228 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel6041-02.pb -o orderer.example.net:7050 -c testchannel6041-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:16:39.338 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:16:39.340 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 08:16:39.341 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 08:16:39.341 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel6041-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel6041-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:16:39.711 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:16:39.725 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel6041-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel6041-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 08:16:42.089 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:16:42.094 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 08:16:42.096 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 08:16:42.096 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel6041-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T08:16:39Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel6041-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel6041 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel6041 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel6041> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel6041 sberbank vtb VERIFY: test-channel-add-org.sh testchannel6041 sberbank vtb
[1;36m
Add vtb to the testchannel6041 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel6041 vtb 7051 example.net[m[m[m
--2020-02-27 08:16:44--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:16:44--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:16:44--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel6041, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel6041.pb -o orderer.example.net:7050 -c testchannel6041 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:16:44.622 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:16:44.626 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 08:16:44.631 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 08:16:44.631 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel6041
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel6041 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:16:45.013 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:16:45.026 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel6041 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 08:16:46.119 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:16:46.124 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 08:16:46.126 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 08:16:46.126 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel6041>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh sberbank
Step: 4_cli Test 'Install test chaincode by <vtb> to the <testchannel6041> channel'
RUNTEST: chaincode-install.sh sberbank
[1;36m
Installing chaincode {} to the sberbank channel in ...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: .vtb.example.net
[1;32mOK: Organization  added to sberbank channel[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel27468 sberbank ; ./verify/test-channel-exists.sh testchannel27468 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel27468 sberbank VERIFY: test-channel-exists.sh testchannel27468 sberbank
[1;36m
Creating the <testchannel27468> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel27468[m[m[m
example.net

Create channel sberbank testchannel27468
--2020-02-27 08:20:14--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:20:14--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:20:14--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:20:14--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 08:20:14.242 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 08:20:14.297 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:20:14.297 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:20:14.297 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 08:20:14.297 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 08:20:14.297 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 08:20:14.297 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 08:20:14.297 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 08:20:14.297 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:20:14.346 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:20:14.346 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:20:14.346 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 08:20:14.346 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:20:14.346 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 08:20:14.346 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:20:14.347 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:20:14.347 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:20:14.347 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 08:20:14.347 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:20:14.347 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:20:14.348 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:20:14.348 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 08:20:14.348 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 08:20:14.414 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:20:14.452 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel27468.pb -o orderer.example.net:7050 -c testchannel27468 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:20:14.527 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:20:14.530 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 08:20:14.531 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 08:20:14.531 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel27468
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel27468 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:20:14.905 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:20:14.915 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel27468> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel27468> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 08:20:17.096 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:20:17.099 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 08:20:17.100 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 08:20:17.100 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel27468",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T08:20:14Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel27468> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel27468-02 vtb ; ./verify/test-channel-exists.sh testchannel27468-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel27468-02 vtb VERIFY: test-channel-exists.sh testchannel27468-02 vtb
[1;36m
Creating the <testchannel27468-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel27468-02[m[m[m
example.net

Create channel vtb testchannel27468-02
--2020-02-27 08:20:19--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:20:19--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:20:19--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:20:19--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 08:20:19.630 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 08:20:19.684 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:20:19.684 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:20:19.684 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 08:20:19.684 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 08:20:19.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 08:20:19.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 08:20:19.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 08:20:19.685 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:20:19.733 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:20:19.733 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:20:19.733 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 08:20:19.733 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:20:19.733 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 08:20:19.733 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:20:19.733 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:20:19.733 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:20:19.734 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 08:20:19.734 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:20:19.734 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:20:19.734 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:20:19.734 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 08:20:19.735 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 08:20:19.817 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:20:19.852 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel27468-02.pb -o orderer.example.net:7050 -c testchannel27468-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:20:19.928 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:20:19.929 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 08:20:19.930 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 08:20:19.931 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel27468-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel27468-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:20:20.755 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:20:20.786 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel27468-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel27468-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 08:20:23.154 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:20:23.157 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 08:20:23.158 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 08:20:23.158 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel27468-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T08:20:20Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel27468-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel27468 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel27468 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel27468> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel27468 sberbank vtb VERIFY: test-channel-add-org.sh testchannel27468 sberbank vtb
[1;36m
Add vtb to the testchannel27468 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel27468 vtb 7051 example.net[m[m[m
--2020-02-27 08:20:25--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:20:25--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:20:25--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel27468, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel27468.pb -o orderer.example.net:7050 -c testchannel27468 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:20:25.626 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:20:25.628 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 08:20:25.629 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 08:20:25.629 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel27468
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel27468 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:20:26.022 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:20:26.038 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel27468 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 08:20:27.149 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:20:27.151 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 08:20:27.152 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 08:20:27.152 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel27468>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel27468 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel27468> channel'
RUNTEST: chaincode-install.sh testchannel27468 sberbank
[1;36m
Installing chaincode {} to the testchannel27468 channel in testchannel27468...[m[m[m
queryContainerNetworkSettings returns: 7051
Error: No such container: .vtb.example.net
[1;32mOK: Organization testchannel27468 added to testchannel27468 channel[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel28316 sberbank ; ./verify/test-channel-exists.sh testchannel28316 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel28316 sberbank VERIFY: test-channel-exists.sh testchannel28316 sberbank
[1;36m
Creating the <testchannel28316> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel28316[m[m[m
example.net

Create channel sberbank testchannel28316
--2020-02-27 08:22:43--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:22:43--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:22:43--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:22:43--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 08:22:43.347 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 08:22:43.404 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:22:43.404 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:22:43.404 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 08:22:43.404 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 08:22:43.404 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 08:22:43.404 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 08:22:43.404 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 08:22:43.404 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:22:43.453 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:22:43.453 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:22:43.453 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 08:22:43.453 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:22:43.453 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 08:22:43.453 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:22:43.453 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:22:43.454 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:22:43.454 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 08:22:43.454 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:22:43.454 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:22:43.454 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:22:43.455 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 08:22:43.455 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 08:22:43.528 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:22:43.564 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel28316.pb -o orderer.example.net:7050 -c testchannel28316 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:22:43.640 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:22:43.642 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 08:22:43.644 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 08:22:43.644 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel28316
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel28316 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:22:44.073 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:22:44.083 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel28316> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel28316> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 08:22:46.215 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:22:46.218 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 08:22:46.220 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 08:22:46.220 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel28316",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T08:22:44Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel28316> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel28316-02 vtb ; ./verify/test-channel-exists.sh testchannel28316-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel28316-02 vtb VERIFY: test-channel-exists.sh testchannel28316-02 vtb
[1;36m
Creating the <testchannel28316-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel28316-02[m[m[m
example.net

Create channel vtb testchannel28316-02
--2020-02-27 08:22:48--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:22:48--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:22:48--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:22:48--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 08:22:48.643 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 08:22:48.716 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:22:48.716 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:22:48.716 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 08:22:48.716 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 08:22:48.716 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 08:22:48.716 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 08:22:48.716 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 08:22:48.716 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:22:48.769 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:22:48.769 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:22:48.769 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 08:22:48.769 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:22:48.769 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 08:22:48.769 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:22:48.769 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:22:48.769 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:22:48.770 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 08:22:48.770 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:22:48.770 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:22:48.770 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:22:48.770 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 08:22:48.771 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 08:22:48.841 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:22:48.882 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel28316-02.pb -o orderer.example.net:7050 -c testchannel28316-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:22:48.970 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:22:48.976 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 08:22:48.978 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 08:22:48.978 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel28316-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel28316-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:22:49.365 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:22:49.374 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel28316-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel28316-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 08:22:52.043 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:22:52.048 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 08:22:52.049 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 08:22:52.049 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel28316-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T08:22:49Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel28316-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel28316 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel28316 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel28316> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel28316 sberbank vtb VERIFY: test-channel-add-org.sh testchannel28316 sberbank vtb
[1;36m
Add vtb to the testchannel28316 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel28316 vtb 7051 example.net[m[m[m
--2020-02-27 08:22:54--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:22:54--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:22:54--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel28316, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel28316.pb -o orderer.example.net:7050 -c testchannel28316 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:22:54.406 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:22:54.408 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 08:22:54.409 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 08:22:54.409 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel28316
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel28316 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:22:54.781 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:22:54.793 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel28316 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 08:22:55.821 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:22:55.823 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 08:22:55.824 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 08:22:55.824 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel28316>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel28316 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel28316> channel'
RUNTEST: chaincode-install.sh testchannel28316 sberbank
[1;36m
Installing chaincode {} to the testchannel28316 channel in testchannel28316...[m[m[m
queryContainerNetworkSettings returns: 7051
Error: No such container: .vtb.example.net
Error: No such container: .vtb.example.net
[1;32mOK: Organization testchannel28316 added to testchannel28316 channel[m[m[m
Step 4_cli: exit code 0
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4001
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 8051
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel20900 org1 ; ./verify/test-channel-exists.sh testchannel20900 org1
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel20900 org1 VERIFY: test-channel-exists.sh testchannel20900 org1
[1;36m
Creating the <testchannel20900> channel for org1.example.net...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel20900[m[m[m
example.net

Create channel org1 testchannel20900
--2020-02-27 08:44:55--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:44:55--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:44:55--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:44:55--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 08:44:55.524 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 08:44:55.592 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:44:55.592 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:44:55.592 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 08:44:55.592 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 08:44:55.592 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 08:44:55.592 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 08:44:55.592 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 08:44:55.592 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:44:55.642 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:44:55.643 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:44:55.643 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 08:44:55.643 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:44:55.643 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 08:44:55.643 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:44:55.643 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:44:55.643 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[35m2020-02-27 08:44:55.644 UTC [common.tools.configtxgen] main -> FATA 012[0m Error on outputChannelCreateTx: could not generate default config template: error parsing configuration: could not create application group: failed to create application org: 1 - Error loading MSP configuration for org org1: could not load a valid ca certificate from directory /etc/hyperledger/crypto-config/peerOrganizations/org1.example.net/msp/cacerts: stat /etc/hyperledger/crypto-config/peerOrganizations/org1.example.net/msp/cacerts: no such file or directory
[31m2020-02-27 08:44:55.696 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/org1.example.net/users/Admin@org1.example.net/msp" does not exist
cat: crypto-config/peerOrganizations/org1.example.net/msp/admincerts/Admin@org1.example.net-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/org1.example.net/msp/cacerts/ca.org1.example.net-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/org1.example.net/msp/tlscacerts/tlsca.org1.example.net-cert.pem: No such file or directory
Execute: channel fetch config crypto-config/configtx/testchannel20900.pb -o orderer.example.net:7050 -c testchannel20900 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[31m2020-02-27 08:44:55.766 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/org1.example.net/users/Admin@org1.example.net/msp" does not exist
configtxlator: error: open crypto-config/configtx/testchannel20900.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel20900.json: No such file or directory
>> Prepare config update from org1 for channel testchannel20900
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel20900 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[31m2020-02-27 08:44:56.001 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/org1.example.net/users/Admin@org1.example.net/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel20900> channel exists in org1.example.net...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.org1.example.net
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 1_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel20900-02 org2 ; ./verify/test-channel-exists.sh testchannel20900-02 org2
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel20900-02 org2 VERIFY: test-channel-exists.sh testchannel20900-02 org2
[1;36m
Creating the <testchannel20900-02> channel for org2.example.net...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel20900-02[m[m[m
example.net

Create channel org2 testchannel20900-02
--2020-02-27 08:44:59--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:44:59--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:44:59--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:44:59--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 08:44:59.097 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 08:44:59.162 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:44:59.162 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:44:59.162 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 08:44:59.162 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 08:44:59.162 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 08:44:59.162 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 08:44:59.162 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 08:44:59.162 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:44:59.214 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:44:59.214 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:44:59.214 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 08:44:59.214 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:44:59.214 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 08:44:59.214 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:44:59.214 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:44:59.215 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[35m2020-02-27 08:44:59.215 UTC [common.tools.configtxgen] main -> FATA 012[0m Error on outputChannelCreateTx: could not generate default config template: error parsing configuration: could not create application group: failed to create application org: 1 - Error loading MSP configuration for org org2: could not load a valid ca certificate from directory /etc/hyperledger/crypto-config/peerOrganizations/org2.example.net/msp/cacerts: stat /etc/hyperledger/crypto-config/peerOrganizations/org2.example.net/msp/cacerts: no such file or directory
[31m2020-02-27 08:44:59.265 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/org2.example.net/users/Admin@org2.example.net/msp" does not exist
cat: crypto-config/peerOrganizations/org2.example.net/msp/admincerts/Admin@org2.example.net-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/org2.example.net/msp/cacerts/ca.org2.example.net-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/org2.example.net/msp/tlscacerts/tlsca.org2.example.net-cert.pem: No such file or directory
Execute: channel fetch config crypto-config/configtx/testchannel20900-02.pb -o orderer.example.net:7050 -c testchannel20900-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[31m2020-02-27 08:44:59.331 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/org2.example.net/users/Admin@org2.example.net/msp" does not exist
configtxlator: error: open crypto-config/configtx/testchannel20900-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel20900-02.json: No such file or directory
>> Prepare config update from org2 for channel testchannel20900-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel20900-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[31m2020-02-27 08:44:59.519 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/org2.example.net/users/Admin@org2.example.net/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel20900-02> channel exists in org2.example.net...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.org2.example.net
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 2_cli: exit code 1
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel20900 org1 org2 ; ./verify/test-channel-add-org.sh testchannel20900 org1 org2
Step: 3_cli Test 'Add <org2> to channel <testchannel20900> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel20900 org1 org2 VERIFY: test-channel-add-org.sh testchannel20900 org1 org2
[1;36m
Add org2 to the testchannel20900 channel...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel20900 org2 7051 example.net[m[m[m
--2020-02-27 08:45:02--  http://www.org2.example.net/msp/admincerts/Admin@org2.example.net-cert.pem
Resolving www.org2.example.net (www.org2.example.net)... failed: Name or service not known.
wget: unable to resolve host address ‘www.org2.example.net’
--2020-02-27 08:45:03--  http://www.org2.example.net/msp/cacerts/ca.org2.example.net-cert.pem
Resolving www.org2.example.net (www.org2.example.net)... failed: Name or service not known.
wget: unable to resolve host address ‘www.org2.example.net’
--2020-02-27 08:45:03--  http://www.org2.example.net/msp/tlscacerts/tlsca.org2.example.net-cert.pem
Resolving www.org2.example.net (www.org2.example.net)... failed: Name or service not known.
wget: unable to resolve host address ‘www.org2.example.net’
>> Add new org 'org2' to channel testchannel20900, anchor peer at port 7051
cat: crypto-config/peerOrganizations/org2.example.net/msp/admincerts/Admin@org2.example.net-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/org2.example.net/msp/cacerts/ca.org2.example.net-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/org2.example.net/msp/tlscacerts/tlsca.org2.example.net-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/org2.example.net/msp/admincerts/Admin@org2.example.net-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/org2.example.net/msp/cacerts/ca.org2.example.net-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/org2.example.net/msp/tlscacerts/tlsca.org2.example.net-cert.pem: No such file or directory
Execute: channel fetch config crypto-config/configtx/testchannel20900.pb -o orderer.example.net:7050 -c testchannel20900 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[31m2020-02-27 08:45:03.525 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/org1.example.net/users/Admin@org1.example.net/msp" does not exist
configtxlator: error: open crypto-config/configtx/testchannel20900.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel20900.json: No such file or directory
>> Prepare config update from org2 for channel testchannel20900
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel20900 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[31m2020-02-27 08:45:03.711 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/org1.example.net/users/Admin@org1.example.net/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org2> added to testchannel20900 ...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.org1.example.net
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel21077 sberbank ; ./verify/test-channel-exists.sh testchannel21077 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel21077 sberbank VERIFY: test-channel-exists.sh testchannel21077 sberbank
[1;36m
Creating the <testchannel21077> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel21077[m[m[m
example.net

Create channel sberbank testchannel21077
--2020-02-27 08:45:24--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:45:24--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:45:24--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:45:24--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 08:45:24.716 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 08:45:24.772 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:45:24.772 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:45:24.772 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 08:45:24.772 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 08:45:24.772 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 08:45:24.772 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 08:45:24.772 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 08:45:24.772 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:45:24.825 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:45:24.825 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:45:24.825 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 08:45:24.825 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:45:24.825 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 08:45:24.825 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:45:24.825 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:45:24.825 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:45:24.826 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 08:45:24.826 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:45:24.826 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:45:24.826 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:45:24.828 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 08:45:24.829 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 08:45:24.892 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:45:24.929 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel21077.pb -o orderer.example.net:7050 -c testchannel21077 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:45:25.030 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:45:25.032 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 08:45:25.033 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 08:45:25.033 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel21077
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel21077 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:45:25.406 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:45:25.422 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel21077> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel21077> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 08:45:27.750 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:45:27.753 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 08:45:27.754 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 08:45:27.754 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel21077",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T08:45:25Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel21077> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel21077-02 vtb ; ./verify/test-channel-exists.sh testchannel21077-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel21077-02 vtb VERIFY: test-channel-exists.sh testchannel21077-02 vtb
[1;36m
Creating the <testchannel21077-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel21077-02[m[m[m
example.net

Create channel vtb testchannel21077-02
--2020-02-27 08:45:30--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:45:30--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:45:30--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:45:30--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 08:45:30.412 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 08:45:30.492 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:45:30.492 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:45:30.492 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 08:45:30.492 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 08:45:30.492 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 08:45:30.492 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 08:45:30.492 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 08:45:30.492 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:45:30.559 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:45:30.559 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:45:30.559 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 08:45:30.559 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:45:30.559 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 08:45:30.559 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:45:30.559 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:45:30.559 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:45:30.560 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 08:45:30.560 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:45:30.560 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:45:30.560 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:45:30.560 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 08:45:30.561 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 08:45:30.653 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:45:30.692 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel21077-02.pb -o orderer.example.net:7050 -c testchannel21077-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:45:30.800 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:45:30.803 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 08:45:30.804 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 08:45:30.804 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel21077-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel21077-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:45:31.203 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:45:31.212 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel21077-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel21077-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 08:45:33.697 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:45:33.700 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 08:45:33.702 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 08:45:33.702 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel21077-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T08:45:31Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel21077-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel21077 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel21077 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel21077> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel21077 sberbank vtb VERIFY: test-channel-add-org.sh testchannel21077 sberbank vtb
[1;36m
Add vtb to the testchannel21077 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel21077 vtb 7051 example.net[m[m[m
--2020-02-27 08:45:36--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:45:36--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:45:36--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel21077, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel21077.pb -o orderer.example.net:7050 -c testchannel21077 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:45:36.263 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:45:36.265 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 08:45:36.266 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 08:45:36.267 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel21077
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel21077 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:45:36.624 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:45:36.636 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel21077 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 08:45:37.626 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:45:37.629 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 08:45:37.631 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 08:45:37.631 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel21077>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel21077 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel21077> channel'
RUNTEST: chaincode-install.sh testchannel21077 sberbank
[1;36m
Installing test chaincode to the testchannel21077 channel in testchannel21077...[m[m[m
queryContainerNetworkSettings returns: 7051
Error: No such container: .vtb.example.net
Error: No such container: .vtb.example.net
[1;32mOK: Organization testchannel21077 added to testchannel21077 channel[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel20243 sberbank ; ./verify/test-channel-exists.sh testchannel20243 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel20243 sberbank VERIFY: test-channel-exists.sh testchannel20243 sberbank
[1;36m
Creating the <testchannel20243> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel20243[m[m[m
example.net

Create channel sberbank testchannel20243
--2020-02-27 08:49:33--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:49:33--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:49:33--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:49:33--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 08:49:33.490 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 08:49:33.570 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:49:33.570 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:49:33.570 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 08:49:33.570 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 08:49:33.570 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 08:49:33.570 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 08:49:33.570 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 08:49:33.570 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:49:33.620 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:49:33.620 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:49:33.620 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 08:49:33.620 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:49:33.620 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 08:49:33.620 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:49:33.620 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:49:33.621 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:49:33.621 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 08:49:33.621 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:49:33.621 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:49:33.622 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:49:33.622 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 08:49:33.622 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 08:49:33.696 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:49:33.732 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel20243.pb -o orderer.example.net:7050 -c testchannel20243 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:49:33.806 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:49:33.808 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 08:49:33.809 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 08:49:33.809 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel20243
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel20243 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:49:34.212 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:49:34.221 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel20243> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel20243> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 08:49:36.461 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:49:36.464 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 08:49:36.465 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 08:49:36.465 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel20243",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T08:49:34Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel20243> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel20243-02 vtb ; ./verify/test-channel-exists.sh testchannel20243-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel20243-02 vtb VERIFY: test-channel-exists.sh testchannel20243-02 vtb
[1;36m
Creating the <testchannel20243-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel20243-02[m[m[m
example.net

Create channel vtb testchannel20243-02
--2020-02-27 08:49:38--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:49:38--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:49:38--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:49:38--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 08:49:38.942 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 08:49:39.026 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:49:39.026 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:49:39.026 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 08:49:39.026 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 08:49:39.026 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 08:49:39.026 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 08:49:39.026 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 08:49:39.026 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:49:39.079 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:49:39.079 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:49:39.079 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 08:49:39.079 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:49:39.079 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 08:49:39.079 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:49:39.079 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:49:39.079 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:49:39.080 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 08:49:39.080 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:49:39.080 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:49:39.080 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:49:39.080 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 08:49:39.080 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 08:49:39.158 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:49:39.191 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel20243-02.pb -o orderer.example.net:7050 -c testchannel20243-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:49:39.265 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:49:39.267 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 08:49:39.268 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 08:49:39.268 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel20243-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel20243-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:49:39.618 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:49:39.629 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel20243-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel20243-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 08:49:41.771 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:49:41.773 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 08:49:41.774 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 08:49:41.774 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel20243-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T08:49:39Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel20243-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel20243 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel20243 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel20243> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel20243 sberbank vtb VERIFY: test-channel-add-org.sh testchannel20243 sberbank vtb
[1;36m
Add vtb to the testchannel20243 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel20243 vtb 7051 example.net[m[m[m
--2020-02-27 08:49:44--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:49:44--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:49:44--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel20243, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel20243.pb -o orderer.example.net:7050 -c testchannel20243 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:49:44.849 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:49:44.851 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 08:49:44.852 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 08:49:44.852 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel20243
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel20243 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:49:45.237 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:49:45.248 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel20243 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 08:49:46.242 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:49:46.246 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 08:49:46.247 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 08:49:46.247 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel20243>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel20243 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel20243> channel'
RUNTEST: chaincode-install.sh testchannel20243 sberbank
[1;36m
Installing test chaincode to the testchannel20243 channel in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
Error: No such container: .vtb.example.net
Error: No such container: .vtb.example.net
[1;32mOK: Test chaincode installed in the <testchannel20243> channel[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel12367 sberbank ; ./verify/test-channel-exists.sh testchannel12367 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel12367 sberbank VERIFY: test-channel-exists.sh testchannel12367 sberbank
[1;36m
Creating the <testchannel12367> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel12367[m[m[m
example.net

Create channel sberbank testchannel12367
--2020-02-27 08:50:26--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:50:26--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:50:26--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:50:26--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 08:50:26.113 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 08:50:26.175 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:50:26.175 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:50:26.175 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 08:50:26.175 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 08:50:26.175 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 08:50:26.175 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 08:50:26.175 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 08:50:26.175 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:50:26.225 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:50:26.225 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:50:26.225 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 08:50:26.225 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:50:26.225 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 08:50:26.225 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:50:26.225 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:50:26.225 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:50:26.226 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 08:50:26.226 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:50:26.226 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:50:26.226 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:50:26.226 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 08:50:26.226 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 08:50:26.291 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:50:26.325 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel12367.pb -o orderer.example.net:7050 -c testchannel12367 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:50:26.394 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:50:26.396 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 08:50:26.397 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 08:50:26.397 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel12367
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel12367 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:50:26.772 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:50:26.782 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel12367> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel12367> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 08:50:29.109 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:50:29.112 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 08:50:29.113 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 08:50:29.113 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel12367",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T08:50:26Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel12367> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel12367-02 vtb ; ./verify/test-channel-exists.sh testchannel12367-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel12367-02 vtb VERIFY: test-channel-exists.sh testchannel12367-02 vtb
[1;36m
Creating the <testchannel12367-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel12367-02[m[m[m
example.net

Create channel vtb testchannel12367-02
--2020-02-27 08:50:31--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:50:31--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:50:31--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:50:31--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 08:50:31.636 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 08:50:31.703 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:50:31.703 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:50:31.703 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 08:50:31.703 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 08:50:31.703 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 08:50:31.703 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 08:50:31.703 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 08:50:31.703 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:50:31.754 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:50:31.754 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:50:31.754 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 08:50:31.754 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:50:31.755 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 08:50:31.755 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:50:31.755 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:50:31.755 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:50:31.755 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 08:50:31.755 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:50:31.756 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:50:31.756 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:50:31.756 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 08:50:31.756 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 08:50:31.825 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:50:31.861 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel12367-02.pb -o orderer.example.net:7050 -c testchannel12367-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:50:31.942 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:50:31.944 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 08:50:31.945 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 08:50:31.945 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel12367-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel12367-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:50:32.661 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:50:32.692 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel12367-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel12367-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 08:50:35.171 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:50:35.174 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 08:50:35.175 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 08:50:35.175 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel12367-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T08:50:32Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel12367-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel12367 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel12367 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel12367> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel12367 sberbank vtb VERIFY: test-channel-add-org.sh testchannel12367 sberbank vtb
[1;36m
Add vtb to the testchannel12367 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel12367 vtb 7051 example.net[m[m[m
--2020-02-27 08:50:37--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:50:37--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:50:37--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel12367, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel12367.pb -o orderer.example.net:7050 -c testchannel12367 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:50:37.637 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:50:37.639 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 08:50:37.640 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 08:50:37.640 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel12367
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel12367 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:50:38.036 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:50:38.049 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel12367 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 08:50:39.148 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:50:39.150 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 08:50:39.151 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 08:50:39.151 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel12367>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel12367 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel12367> channel'
RUNTEST: chaincode-install.sh testchannel12367 sberbank
[1;36m
Installing test chaincode to the testchannel12367 channel in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
Error: No such container: .vtb.example.net
Error: No such container: .vtb.example.net
[1;32mOK: Test chaincode installed in the <testchannel12367> channel[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel21001 sberbank ; ./verify/test-channel-exists.sh testchannel21001 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel21001 sberbank VERIFY: test-channel-exists.sh testchannel21001 sberbank
[1;36m
Creating the <testchannel21001> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel21001[m[m[m
example.net

Create channel sberbank testchannel21001
--2020-02-27 08:52:21--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:52:21--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:52:21--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:52:21--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 08:52:22.042 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 08:52:22.128 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:52:22.128 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:52:22.128 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 08:52:22.128 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 08:52:22.128 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 08:52:22.128 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 08:52:22.128 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 08:52:22.128 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:52:22.182 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:52:22.182 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:52:22.182 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 08:52:22.182 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:52:22.182 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 08:52:22.182 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:52:22.182 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:52:22.183 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:52:22.183 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 08:52:22.183 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:52:22.183 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:52:22.183 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:52:22.184 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 08:52:22.184 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 08:52:22.249 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:52:22.297 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel21001.pb -o orderer.example.net:7050 -c testchannel21001 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:52:22.457 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:52:22.467 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 08:52:22.469 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 08:52:22.469 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel21001
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel21001 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:52:23.499 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:52:23.516 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel21001> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel21001> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 08:52:25.849 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:52:25.852 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 08:52:25.853 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 08:52:25.853 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel21001",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T08:52:23Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel21001> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel21001-02 vtb ; ./verify/test-channel-exists.sh testchannel21001-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel21001-02 vtb VERIFY: test-channel-exists.sh testchannel21001-02 vtb
[1;36m
Creating the <testchannel21001-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel21001-02[m[m[m
example.net

Create channel vtb testchannel21001-02
--2020-02-27 08:52:28--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:52:28--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:52:28--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:52:28--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 08:52:28.244 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 08:52:28.304 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:52:28.304 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:52:28.305 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 08:52:28.305 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 08:52:28.305 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 08:52:28.305 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 08:52:28.305 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 08:52:28.305 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:52:28.355 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:52:28.355 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:52:28.355 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 08:52:28.355 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:52:28.355 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 08:52:28.355 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:52:28.355 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:52:28.356 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:52:28.356 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 08:52:28.356 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:52:28.356 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:52:28.357 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:52:28.357 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 08:52:28.357 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 08:52:28.425 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:52:28.465 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel21001-02.pb -o orderer.example.net:7050 -c testchannel21001-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:52:28.611 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:52:28.613 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 08:52:28.614 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 08:52:28.614 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel21001-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel21001-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:52:29.033 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:52:29.043 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel21001-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel21001-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 08:52:31.512 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:52:31.514 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 08:52:31.515 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 08:52:31.515 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel21001-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T08:52:29Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel21001-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel21001 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel21001 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel21001> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel21001 sberbank vtb VERIFY: test-channel-add-org.sh testchannel21001 sberbank vtb
[1;36m
Add vtb to the testchannel21001 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel21001 vtb 7051 example.net[m[m[m
--2020-02-27 08:52:34--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:52:34--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:52:34--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel21001, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel21001.pb -o orderer.example.net:7050 -c testchannel21001 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:52:34.639 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:52:34.641 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 08:52:34.642 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 08:52:34.642 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel21001
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel21001 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:52:35.036 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:52:35.048 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel21001 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 08:52:36.148 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:52:36.150 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 08:52:36.151 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 08:52:36.151 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel21001>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel21001 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel21001> channel'
RUNTEST: chaincode-install.sh testchannel21001 sberbank
[1;36m
Installing test chaincode to the testchannel21001 channel in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
Error: No such container: .sberbank.example.net
Error: No such container: .sberbank.example.net
[1;32mOK: Test chaincode installed in the <testchannel21001> channel[m[m[m
Step 4_cli: exit code 0
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4001
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 8051
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel6543 sberbank ; ./verify/test-channel-exists.sh testchannel6543 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel6543 sberbank VERIFY: test-channel-exists.sh testchannel6543 sberbank
[1;36m
Creating the <testchannel6543> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel6543[m[m[m
example.net

Create channel sberbank testchannel6543
--2020-02-27 08:53:52--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:53:52--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:53:52--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:53:52--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 08:53:53.144 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 08:53:53.322 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:53:53.322 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:53:53.322 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 08:53:53.322 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 08:53:53.322 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 08:53:53.322 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 08:53:53.322 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 08:53:53.322 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:53:53.469 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:53:53.469 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:53:53.469 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 08:53:53.469 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:53:53.469 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 08:53:53.469 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:53:53.470 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:53:53.470 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:53:53.471 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 08:53:53.471 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:53:53.471 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:53:53.471 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:53:53.472 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 08:53:53.472 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 08:53:53.641 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:53:53.717 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel6543.pb -o orderer.example.net:7050 -c testchannel6543 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:53:53.871 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:53:53.874 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 08:53:53.876 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 08:53:53.876 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel6543
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel6543 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:53:54.350 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:53:54.359 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel6543> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel6543> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 08:53:56.877 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:53:56.882 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 08:53:56.883 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 08:53:56.883 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel6543",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T08:53:54Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel6543> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel6543-02 vtb ; ./verify/test-channel-exists.sh testchannel6543-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel6543-02 vtb VERIFY: test-channel-exists.sh testchannel6543-02 vtb
[1;36m
Creating the <testchannel6543-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel6543-02[m[m[m
example.net

Create channel vtb testchannel6543-02
--2020-02-27 08:53:59--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:53:59--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:53:59--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:53:59--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 08:53:59.333 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 08:53:59.401 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:53:59.401 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:53:59.401 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 08:53:59.401 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 08:53:59.401 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 08:53:59.401 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 08:53:59.401 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 08:53:59.401 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:53:59.451 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:53:59.452 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:53:59.452 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 08:53:59.452 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:53:59.452 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 08:53:59.452 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:53:59.452 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:53:59.452 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:53:59.452 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 08:53:59.452 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:53:59.453 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:53:59.453 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:53:59.453 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 08:53:59.453 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 08:53:59.522 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:53:59.556 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel6543-02.pb -o orderer.example.net:7050 -c testchannel6543-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:53:59.636 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:53:59.638 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 08:53:59.639 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 08:53:59.639 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel6543-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel6543-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:54:00.050 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:54:00.059 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel6543-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel6543-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 08:54:02.349 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:54:02.351 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 08:54:02.352 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 08:54:02.353 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel6543-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T08:54:00Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel6543-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel6543 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel6543 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel6543> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel6543 sberbank vtb VERIFY: test-channel-add-org.sh testchannel6543 sberbank vtb
[1;36m
Add vtb to the testchannel6543 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel6543 vtb 7051 example.net[m[m[m
--2020-02-27 08:54:05--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:54:05--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:54:05--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel6543, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel6543.pb -o orderer.example.net:7050 -c testchannel6543 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:54:05.609 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:54:05.611 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 08:54:05.612 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 08:54:05.612 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel6543
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel6543 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:54:06.017 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:54:06.036 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel6543 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 08:54:07.121 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:54:07.128 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 08:54:07.133 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 08:54:07.133 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel6543>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel6543 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel6543> channel'
RUNTEST: chaincode-install.sh testchannel6543 sberbank
[1;36m
Installing test chaincode to the testchannel6543 channel in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=f339679b2a32
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=1
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
_=/usr/bin/env
Install chaincode testchannel6543  /opt/chaincode/node/testchannel6543 node 1.0
[34m2020-02-27 08:54:08.321 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-02-27 08:54:08.322 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
Error: error getting chaincode code testchannel6543: path to chaincode does not exist: /opt/chaincode/node/testchannel6543
[1;32mOK: Test chaincode installed in the <testchannel6543> channel[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel29090 sberbank ; ./verify/test-channel-exists.sh testchannel29090 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel29090 sberbank VERIFY: test-channel-exists.sh testchannel29090 sberbank
[1;36m
Creating the <testchannel29090> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel29090[m[m[m
example.net

Create channel sberbank testchannel29090
--2020-02-27 08:55:51--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:55:51--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:55:51--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:55:51--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 08:55:51.149 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 08:55:51.216 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:55:51.216 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:55:51.216 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 08:55:51.216 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 08:55:51.216 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 08:55:51.216 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 08:55:51.216 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 08:55:51.216 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:55:51.266 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:55:51.266 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:55:51.266 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 08:55:51.266 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:55:51.266 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 08:55:51.266 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:55:51.266 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:55:51.267 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:55:51.267 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 08:55:51.267 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:55:51.268 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:55:51.268 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:55:51.268 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 08:55:51.269 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 08:55:51.338 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:55:51.390 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel29090.pb -o orderer.example.net:7050 -c testchannel29090 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:55:51.529 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:55:51.531 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 08:55:51.532 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 08:55:51.532 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel29090
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel29090 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:55:51.913 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:55:51.922 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel29090> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel29090> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 08:55:54.660 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:55:54.662 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 08:55:54.663 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 08:55:54.663 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel29090",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T08:55:51Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel29090> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel29090-02 vtb ; ./verify/test-channel-exists.sh testchannel29090-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel29090-02 vtb VERIFY: test-channel-exists.sh testchannel29090-02 vtb
[1;36m
Creating the <testchannel29090-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel29090-02[m[m[m
example.net

Create channel vtb testchannel29090-02
--2020-02-27 08:55:57--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:55:57--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:55:57--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:55:57--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 08:55:57.232 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 08:55:57.292 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:55:57.292 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:55:57.292 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 08:55:57.292 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 08:55:57.292 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 08:55:57.292 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 08:55:57.292 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 08:55:57.292 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:55:57.344 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 08:55:57.344 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 08:55:57.344 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 08:55:57.344 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 08:55:57.344 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 08:55:57.344 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:55:57.344 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:55:57.345 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:55:57.345 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 08:55:57.345 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 08:55:57.345 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 08:55:57.345 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 08:55:57.346 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 08:55:57.346 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 08:55:57.410 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:55:57.445 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel29090-02.pb -o orderer.example.net:7050 -c testchannel29090-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:55:57.535 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:55:57.538 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 08:55:57.539 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 08:55:57.539 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel29090-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel29090-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:55:57.899 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:55:57.912 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel29090-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel29090-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 08:56:00.262 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:56:00.266 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 08:56:00.267 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 08:56:00.267 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel29090-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T08:55:57Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel29090-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel29090 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel29090 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel29090> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel29090 sberbank vtb VERIFY: test-channel-add-org.sh testchannel29090 sberbank vtb
[1;36m
Add vtb to the testchannel29090 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel29090 vtb 7051 example.net[m[m[m
--2020-02-27 08:56:02--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:56:03--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 08:56:03--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel29090, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel29090.pb -o orderer.example.net:7050 -c testchannel29090 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:56:03.291 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:56:03.297 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 08:56:03.303 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 08:56:03.303 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel29090
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel29090 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 08:56:04.168 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:56:04.182 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel29090 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 08:56:05.377 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 08:56:05.379 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 08:56:05.380 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 08:56:05.380 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel29090>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel29090 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel29090> channel'
RUNTEST: chaincode-install.sh testchannel29090 sberbank
[1;36m
Installing test chaincode to the testchannel29090 channel in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=f339679b2a32
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=1
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
_=/usr/bin/env
Install chaincode reference_testchannel29090  /opt/chaincode/node/reference_testchannel29090 node 1.0
[34m2020-02-27 08:56:06.576 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-02-27 08:56:06.576 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-02-27 08:56:10.396 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" >
[1;32mOK: Test chaincode installed in the <testchannel29090> channel[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel18550 sberbank ; ./verify/test-channel-exists.sh testchannel18550 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel18550 sberbank VERIFY: test-channel-exists.sh testchannel18550 sberbank
[1;36m
Creating the <testchannel18550> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel18550[m[m[m
example.net

Create channel sberbank testchannel18550
--2020-02-27 09:13:33--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:13:33--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:13:33--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:13:33--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:13:33.638 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:13:33.705 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:13:33.705 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:13:33.705 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:13:33.705 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:13:33.705 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:13:33.705 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:13:33.705 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:13:33.705 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:13:33.759 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:13:33.759 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:13:33.759 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:13:33.759 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:13:33.759 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:13:33.759 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:13:33.759 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:13:33.759 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:13:33.760 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 09:13:33.760 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:13:33.760 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:13:33.760 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:13:33.760 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 09:13:33.761 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:13:33.829 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:13:33.870 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel18550.pb -o orderer.example.net:7050 -c testchannel18550 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:13:34.129 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:13:34.132 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:13:34.134 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:13:34.134 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel18550
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel18550 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:13:35.131 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:13:35.146 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel18550> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel18550> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:13:37.579 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:13:37.582 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:13:37.583 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:13:37.583 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel18550",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:13:35Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel18550> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel18550-02 vtb ; ./verify/test-channel-exists.sh testchannel18550-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel18550-02 vtb VERIFY: test-channel-exists.sh testchannel18550-02 vtb
[1;36m
Creating the <testchannel18550-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel18550-02[m[m[m
example.net

Create channel vtb testchannel18550-02
--2020-02-27 09:13:39--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:13:39--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:13:39--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:13:39--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:13:40.014 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:13:40.073 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:13:40.073 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:13:40.073 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:13:40.073 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:13:40.073 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:13:40.073 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:13:40.073 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:13:40.073 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:13:40.128 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:13:40.128 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:13:40.128 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:13:40.128 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:13:40.128 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:13:40.128 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:13:40.128 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:13:40.129 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:13:40.129 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 09:13:40.129 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:13:40.129 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:13:40.129 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:13:40.130 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 09:13:40.130 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:13:40.198 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:13:40.233 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel18550-02.pb -o orderer.example.net:7050 -c testchannel18550-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:13:40.313 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:13:40.315 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:13:40.317 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:13:40.317 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel18550-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel18550-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:13:40.681 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:13:40.691 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel18550-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel18550-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 09:13:43.007 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:13:43.011 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:13:43.012 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:13:43.012 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel18550-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:13:40Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel18550-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel18550 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel18550 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel18550> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel18550 sberbank vtb VERIFY: test-channel-add-org.sh testchannel18550 sberbank vtb
[1;36m
Add vtb to the testchannel18550 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel18550 vtb 7051 example.net[m[m[m
--2020-02-27 09:13:45--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:13:45--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:13:45--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel18550, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel18550.pb -o orderer.example.net:7050 -c testchannel18550 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:13:45.864 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:13:45.866 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:13:45.867 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:13:45.867 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel18550
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel18550 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:13:46.274 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:13:46.285 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel18550 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:13:47.449 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:13:47.452 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 09:13:47.453 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 09:13:47.453 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel18550>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel18550 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel18550> channel'
RUNTEST: chaincode-install.sh testchannel18550 sberbank
[1;36m
Installing test chaincode to the testchannel18550 channel in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel18550 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel18550[m[m[m
.FileNotFoundError: [Errno 2] No such file or directory: './docker-compose.yaml'
[1;31mError occurred. See console output above.[m[1;33m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=f339679b2a32
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=1
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
_=/usr/bin/env
Install chaincode reference_testchannel18550  /opt/chaincode/node/reference_testchannel18550 node 1.0
[34m2020-02-27 09:13:48.792 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-02-27 09:13:48.792 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
Error: error getting chaincode code reference_testchannel18550: path to chaincode does not exist: /opt/chaincode/node/reference_testchannel18550
[1;32mOK: Test chaincode installed in the <testchannel18550> channel[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel12442 sberbank ; ./verify/test-channel-exists.sh testchannel12442 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel12442 sberbank VERIFY: test-channel-exists.sh testchannel12442 sberbank
[1;36m
Creating the <testchannel12442> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel12442[m[m[m
example.net

Create channel sberbank testchannel12442
--2020-02-27 09:17:10--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:17:10--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:17:10--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:17:10--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:17:10.759 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:17:10.826 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:17:10.827 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:17:10.827 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:17:10.827 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:17:10.827 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:17:10.827 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:17:10.827 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:17:10.827 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:17:10.878 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:17:10.878 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:17:10.878 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:17:10.878 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:17:10.878 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:17:10.878 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:17:10.878 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:17:10.878 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:17:10.879 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 09:17:10.879 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:17:10.879 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:17:10.879 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:17:10.880 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 09:17:10.880 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:17:10.941 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:17:10.978 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel12442.pb -o orderer.example.net:7050 -c testchannel12442 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:17:11.058 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:17:11.060 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:17:11.062 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:17:11.062 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel12442
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel12442 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:17:11.429 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:17:11.440 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel12442> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel12442> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:17:13.772 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:17:13.774 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:17:13.775 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:17:13.775 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel12442",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:17:11Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel12442> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel12442-02 vtb ; ./verify/test-channel-exists.sh testchannel12442-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel12442-02 vtb VERIFY: test-channel-exists.sh testchannel12442-02 vtb
[1;36m
Creating the <testchannel12442-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel12442-02[m[m[m
example.net

Create channel vtb testchannel12442-02
--2020-02-27 09:17:16--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:17:16--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:17:16--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:17:16--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:17:16.954 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:17:17.028 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:17:17.028 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:17:17.028 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:17:17.028 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:17:17.028 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:17:17.028 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:17:17.028 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:17:17.028 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:17:17.087 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:17:17.087 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:17:17.087 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:17:17.087 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:17:17.087 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:17:17.087 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:17:17.087 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:17:17.088 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:17:17.088 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 09:17:17.088 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:17:17.088 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:17:17.088 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:17:17.089 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 09:17:17.089 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:17:17.153 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:17:17.188 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel12442-02.pb -o orderer.example.net:7050 -c testchannel12442-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:17:17.261 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:17:17.262 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:17:17.264 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:17:17.264 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel12442-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel12442-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:17:17.620 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:17:17.632 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel12442-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel12442-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 09:17:19.891 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:17:19.893 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:17:19.894 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:17:19.894 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel12442-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:17:17Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel12442-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel12442 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel12442 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel12442> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel12442 sberbank vtb VERIFY: test-channel-add-org.sh testchannel12442 sberbank vtb
[1;36m
Add vtb to the testchannel12442 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel12442 vtb 7051 example.net[m[m[m
--2020-02-27 09:17:22--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:17:22--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:17:22--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel12442, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel12442.pb -o orderer.example.net:7050 -c testchannel12442 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:17:22.339 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:17:22.341 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:17:22.342 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:17:22.342 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel12442
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel12442 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:17:22.727 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:17:22.739 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel12442 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:17:23.827 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:17:23.829 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 09:17:23.831 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 09:17:23.831 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel12442>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel12442 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel12442> channel'
RUNTEST: chaincode-install.sh testchannel12442 sberbank
[1;36m
Installing test chaincode to the testchannel12442 channel in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel12442 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel12442[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=f339679b2a32
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=1
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
_=/usr/bin/env
Install chaincode reference_testchannel12442  /opt/chaincode/node/reference_testchannel12442 node 1.0
[34m2020-02-27 09:17:27.850 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-02-27 09:17:27.850 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-02-27 09:17:28.183 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" >
[1;32mOK: Test chaincode installed in the <testchannel12442> channel[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel4839 sberbank ; ./verify/test-channel-exists.sh testchannel4839 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel4839 sberbank VERIFY: test-channel-exists.sh testchannel4839 sberbank
[1;36m
Creating the <testchannel4839> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4839[m[m[m
example.net

Create channel sberbank testchannel4839
--2020-02-27 09:19:17--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:19:17--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:19:17--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:19:17--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:19:17.298 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:19:17.362 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:19:17.362 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:19:17.362 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:19:17.362 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:19:17.362 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:19:17.362 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:19:17.362 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:19:17.362 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:19:17.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:19:17.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:19:17.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:19:17.411 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:19:17.411 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:19:17.411 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:19:17.411 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:19:17.411 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:19:17.412 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 09:19:17.412 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:19:17.412 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:19:17.412 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:19:17.412 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 09:19:17.413 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:19:17.482 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:19:17.518 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel4839.pb -o orderer.example.net:7050 -c testchannel4839 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:19:17.591 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:19:17.594 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:19:17.595 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:19:17.595 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel4839
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4839 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:19:17.980 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:19:17.991 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel4839> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel4839> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:19:20.347 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:19:20.349 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:19:20.350 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:19:20.350 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel4839",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:19:17Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel4839> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel4839-02 vtb ; ./verify/test-channel-exists.sh testchannel4839-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel4839-02 vtb VERIFY: test-channel-exists.sh testchannel4839-02 vtb
[1;36m
Creating the <testchannel4839-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4839-02[m[m[m
example.net

Create channel vtb testchannel4839-02
--2020-02-27 09:19:22--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:19:22--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:19:22--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:19:22--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:19:22.870 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:19:22.929 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:19:22.929 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:19:22.929 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:19:22.929 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:19:22.929 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:19:22.929 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:19:22.929 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:19:22.929 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:19:22.998 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:19:22.998 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:19:22.998 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:19:22.998 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:19:22.998 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:19:22.998 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:19:22.998 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:19:22.999 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:19:22.999 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 09:19:22.999 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:19:23.000 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:19:23.000 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:19:23.000 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 09:19:23.001 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:19:23.080 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:19:23.123 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel4839-02.pb -o orderer.example.net:7050 -c testchannel4839-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:19:23.202 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:19:23.204 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:19:23.207 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:19:23.207 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel4839-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4839-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:19:23.628 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:19:23.641 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel4839-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel4839-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 09:19:26.575 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:19:26.589 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:19:26.591 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:19:26.591 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel4839-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:19:23Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel4839-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel4839 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel4839 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel4839> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel4839 sberbank vtb VERIFY: test-channel-add-org.sh testchannel4839 sberbank vtb
[1;36m
Add vtb to the testchannel4839 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel4839 vtb 7051 example.net[m[m[m
--2020-02-27 09:19:29--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:19:29--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:19:29--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel4839, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel4839.pb -o orderer.example.net:7050 -c testchannel4839 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:19:29.640 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:19:29.642 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:19:29.645 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:19:29.645 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel4839
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4839 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:19:30.198 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:19:30.211 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel4839 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:19:31.478 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:19:31.480 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 09:19:31.481 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 09:19:31.481 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel4839>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel4839 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel4839> channel'
RUNTEST: chaincode-install.sh testchannel4839 sberbank
[1;36m
Installing test chaincode to the testchannel4839 channel in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel4839 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel4839[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference_testchannel4839[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=aa574d9cb964
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel4839  /opt/chaincode/node/reference_testchannel4839 node 1.0
[34m2020-02-27 09:19:38.531 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-02-27 09:19:38.531 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-02-27 09:19:38.819 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in the <testchannel4839> channel[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel18312 sberbank ; ./verify/test-channel-exists.sh testchannel18312 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel18312 sberbank VERIFY: test-channel-exists.sh testchannel18312 sberbank
[1;36m
Creating the <testchannel18312> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel18312[m[m[m
example.net

Create channel sberbank testchannel18312
--2020-02-27 09:25:02--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:25:02--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:25:02--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:25:02--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:25:02.850 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:25:02.908 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:25:02.908 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:25:02.908 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:25:02.908 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:25:02.908 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:25:02.908 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:25:02.908 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:25:02.908 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:25:02.961 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:25:02.961 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:25:02.961 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:25:02.961 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:25:02.961 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:25:02.961 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:25:02.961 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:25:02.962 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:25:02.962 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 09:25:02.962 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:25:02.962 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:25:02.963 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:25:02.963 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 09:25:02.964 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:25:03.043 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:25:03.077 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel18312.pb -o orderer.example.net:7050 -c testchannel18312 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:25:03.153 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:25:03.155 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:25:03.156 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:25:03.156 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel18312
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel18312 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:25:03.510 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:25:03.521 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel18312> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel18312> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:25:06.656 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:25:06.658 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:25:06.659 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:25:06.659 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel18312",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:25:03Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel18312> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel18312-02 vtb ; ./verify/test-channel-exists.sh testchannel18312-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel18312-02 vtb VERIFY: test-channel-exists.sh testchannel18312-02 vtb
[1;36m
Creating the <testchannel18312-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel18312-02[m[m[m
example.net

Create channel vtb testchannel18312-02
--2020-02-27 09:25:09--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:25:09--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:25:09--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:25:09--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:25:09.174 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:25:09.238 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:25:09.238 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:25:09.238 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:25:09.238 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:25:09.238 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:25:09.238 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:25:09.238 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:25:09.238 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:25:09.290 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:25:09.290 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:25:09.290 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:25:09.290 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:25:09.290 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:25:09.290 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:25:09.290 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:25:09.290 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:25:09.291 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 09:25:09.291 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:25:09.291 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:25:09.291 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:25:09.291 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 09:25:09.291 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:25:09.352 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:25:09.394 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel18312-02.pb -o orderer.example.net:7050 -c testchannel18312-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:25:09.521 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:25:09.523 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:25:09.524 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:25:09.525 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel18312-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel18312-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:25:09.893 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:25:09.905 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel18312-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel18312-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 09:25:12.276 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:25:12.278 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:25:12.279 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:25:12.279 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel18312-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:25:09Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel18312-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel18312 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel18312 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel18312> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel18312 sberbank vtb VERIFY: test-channel-add-org.sh testchannel18312 sberbank vtb
[1;36m
Add vtb to the testchannel18312 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel18312 vtb 7051 example.net[m[m[m
--2020-02-27 09:25:14--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:25:14--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:25:14--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel18312, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel18312.pb -o orderer.example.net:7050 -c testchannel18312 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:25:14.915 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:25:14.922 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:25:14.924 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:25:14.924 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel18312
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel18312 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:25:15.925 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:25:15.945 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel18312 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:25:17.137 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:25:17.140 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 09:25:17.141 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 09:25:17.141 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel18312>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel18312 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel18312> channel'
RUNTEST: chaincode-install.sh testchannel18312 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel18312 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel18312[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference__testchannel18312[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=09cc8790b93d
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference__testchannel18312  /opt/chaincode/node/reference__testchannel18312 node 1.0
[34m2020-02-27 09:25:22.453 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-02-27 09:25:22.454 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
Error: error getting chaincode code reference__testchannel18312: path to chaincode does not exist: /opt/chaincode/node/reference__testchannel18312
[1;31mError occurred. See console output above.[m[1;33m[m
[1;32mOK: Test chaincode installed in sberbank[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel2150 sberbank ; ./verify/test-channel-exists.sh testchannel2150 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel2150 sberbank VERIFY: test-channel-exists.sh testchannel2150 sberbank
[1;36m
Creating the <testchannel2150> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel2150[m[m[m
example.net

Create channel sberbank testchannel2150
--2020-02-27 09:27:15--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:27:15--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:27:15--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:27:15--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:27:15.941 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:27:16.111 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:27:16.111 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:27:16.111 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:27:16.111 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:27:16.111 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:27:16.111 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:27:16.111 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:27:16.111 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:27:16.228 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:27:16.229 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:27:16.229 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:27:16.229 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:27:16.229 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:27:16.229 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:27:16.229 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:27:16.229 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:27:16.230 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 09:27:16.230 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:27:16.230 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:27:16.230 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:27:16.231 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 09:27:16.231 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:27:16.352 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:27:16.398 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel2150.pb -o orderer.example.net:7050 -c testchannel2150 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:27:16.483 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:27:16.486 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:27:16.487 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:27:16.487 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel2150
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel2150 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:27:16.871 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:27:16.882 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel2150> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel2150> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:27:19.354 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:27:19.356 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:27:19.358 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:27:19.358 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel2150",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:27:16Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel2150> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel2150-02 vtb ; ./verify/test-channel-exists.sh testchannel2150-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel2150-02 vtb VERIFY: test-channel-exists.sh testchannel2150-02 vtb
[1;36m
Creating the <testchannel2150-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel2150-02[m[m[m
example.net

Create channel vtb testchannel2150-02
--2020-02-27 09:27:21--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:27:21--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:27:21--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:27:21--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:27:21.786 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:27:21.843 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:27:21.843 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:27:21.844 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:27:21.844 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:27:21.844 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:27:21.844 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:27:21.844 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:27:21.844 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:27:21.895 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:27:21.895 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:27:21.895 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:27:21.895 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:27:21.895 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:27:21.895 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:27:21.896 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:27:21.896 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:27:21.897 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 09:27:21.897 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:27:21.897 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:27:21.897 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:27:21.897 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 09:27:21.897 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:27:21.961 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:27:22.003 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel2150-02.pb -o orderer.example.net:7050 -c testchannel2150-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:27:22.079 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:27:22.081 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:27:22.083 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:27:22.083 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel2150-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel2150-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:27:22.433 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:27:22.443 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel2150-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel2150-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 09:27:24.780 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:27:24.783 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:27:24.784 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:27:24.785 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel2150-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:27:22Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel2150-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel2150 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel2150 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel2150> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel2150 sberbank vtb VERIFY: test-channel-add-org.sh testchannel2150 sberbank vtb
[1;36m
Add vtb to the testchannel2150 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel2150 vtb 7051 example.net[m[m[m
--2020-02-27 09:27:28--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:27:28--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:27:28--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel2150, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel2150.pb -o orderer.example.net:7050 -c testchannel2150 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:27:28.180 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:27:28.182 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:27:28.183 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:27:28.183 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel2150
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel2150 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:27:28.569 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:27:28.580 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel2150 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:27:29.643 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:27:29.645 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 09:27:29.646 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 09:27:29.646 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel2150>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel2150 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel2150> channel'
RUNTEST: chaincode-install.sh testchannel2150 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
ORG=sberbank runCLI mkdir -p /opt/chaincode/node/reference_testchannel2150 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel2150
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference__testchannel2150[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=f7f5957d52eb
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference__testchannel2150  /opt/chaincode/node/reference__testchannel2150 node 1.0
[34m2020-02-27 09:27:32.280 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-02-27 09:27:32.280 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
Error: error getting chaincode code reference__testchannel2150: path to chaincode does not exist: /opt/chaincode/node/reference__testchannel2150
[1;31mError occurred. See console output above.[m[1;33m[m
[1;32mOK: Test chaincode installed in sberbank[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel30470 sberbank ; ./verify/test-channel-exists.sh testchannel30470 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel30470 sberbank VERIFY: test-channel-exists.sh testchannel30470 sberbank
[1;36m
Creating the <testchannel30470> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel30470[m[m[m
example.net

Create channel sberbank testchannel30470
--2020-02-27 09:28:31--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:28:31--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:28:31--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:28:31--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:28:31.906 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:28:31.973 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:28:31.973 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:28:31.973 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:28:31.973 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:28:31.973 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:28:31.973 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:28:31.973 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:28:31.973 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:28:32.033 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:28:32.033 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:28:32.033 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:28:32.033 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:28:32.033 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:28:32.033 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:28:32.033 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:28:32.034 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:28:32.034 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 09:28:32.034 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:28:32.034 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:28:32.035 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:28:32.035 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 09:28:32.035 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:28:32.112 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:28:32.150 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel30470.pb -o orderer.example.net:7050 -c testchannel30470 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:28:32.284 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:28:32.286 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:28:32.288 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:28:32.288 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel30470
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel30470 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:28:32.651 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:28:32.664 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel30470> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel30470> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:28:34.886 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:28:34.890 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:28:34.892 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:28:34.892 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel30470",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:28:32Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel30470> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel30470-02 vtb ; ./verify/test-channel-exists.sh testchannel30470-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel30470-02 vtb VERIFY: test-channel-exists.sh testchannel30470-02 vtb
[1;36m
Creating the <testchannel30470-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel30470-02[m[m[m
example.net

Create channel vtb testchannel30470-02
--2020-02-27 09:28:38--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:28:38--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:28:38--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:28:38--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:28:38.190 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:28:38.248 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:28:38.248 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:28:38.248 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:28:38.248 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:28:38.248 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:28:38.248 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:28:38.248 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:28:38.248 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:28:38.297 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:28:38.297 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:28:38.297 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:28:38.297 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:28:38.297 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:28:38.297 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:28:38.297 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:28:38.297 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:28:38.298 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 09:28:38.298 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:28:38.298 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:28:38.298 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:28:38.298 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 09:28:38.299 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:28:38.369 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:28:38.403 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel30470-02.pb -o orderer.example.net:7050 -c testchannel30470-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:28:38.485 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:28:38.486 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:28:38.487 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:28:38.487 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel30470-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel30470-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:28:38.851 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:28:38.860 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel30470-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel30470-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 09:28:41.300 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:28:41.303 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:28:41.304 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:28:41.304 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel30470-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:28:38Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel30470-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel30470 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel30470 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel30470> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel30470 sberbank vtb VERIFY: test-channel-add-org.sh testchannel30470 sberbank vtb
[1;36m
Add vtb to the testchannel30470 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel30470 vtb 7051 example.net[m[m[m
--2020-02-27 09:28:43--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:28:43--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:28:43--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel30470, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel30470.pb -o orderer.example.net:7050 -c testchannel30470 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:28:43.830 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:28:43.832 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:28:43.834 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:28:43.834 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel30470
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel30470 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:28:44.228 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:28:44.239 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel30470 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:28:46.205 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:28:46.214 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 09:28:46.216 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 09:28:46.216 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel30470>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel30470 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel30470> channel'
RUNTEST: chaincode-install.sh testchannel30470 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
ORG=sberbank runCLI mkdir -p /opt/chaincode/node/reference_testchannel30470 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel30470
ORG=sberbank runCLI ./container-scripts/network/chaincode-install.sh reference__testchannel30470
[1;32mOK: Test chaincode installed in sberbank[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel31226 sberbank ; ./verify/test-channel-exists.sh testchannel31226 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel31226 sberbank VERIFY: test-channel-exists.sh testchannel31226 sberbank
[1;36m
Creating the <testchannel31226> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel31226[m[m[m
example.net

Create channel sberbank testchannel31226
--2020-02-27 09:30:37--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:30:37--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:30:37--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:30:37--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:30:37.876 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:30:37.934 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:30:37.934 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:30:37.934 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:30:37.934 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:30:37.934 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:30:37.934 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:30:37.934 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:30:37.934 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:30:38.007 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:30:38.007 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:30:38.007 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:30:38.007 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:30:38.007 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:30:38.007 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:30:38.007 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:30:38.007 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:30:38.008 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 09:30:38.008 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:30:38.008 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:30:38.008 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:30:38.008 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 09:30:38.009 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:30:38.104 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:30:38.138 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel31226.pb -o orderer.example.net:7050 -c testchannel31226 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:30:38.221 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:30:38.224 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:30:38.225 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:30:38.225 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel31226
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel31226 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:30:38.606 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:30:38.616 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel31226> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel31226> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:30:40.939 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:30:40.942 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:30:40.944 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:30:40.944 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel31226",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:30:38Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel31226> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel31226-02 vtb ; ./verify/test-channel-exists.sh testchannel31226-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel31226-02 vtb VERIFY: test-channel-exists.sh testchannel31226-02 vtb
[1;36m
Creating the <testchannel31226-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel31226-02[m[m[m
example.net

Create channel vtb testchannel31226-02
--2020-02-27 09:30:43--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:30:43--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:30:43--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:30:43--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:30:43.316 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:30:43.376 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:30:43.377 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:30:43.377 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:30:43.377 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:30:43.377 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:30:43.377 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:30:43.377 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:30:43.377 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:30:43.429 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:30:43.429 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:30:43.429 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:30:43.429 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:30:43.429 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:30:43.429 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:30:43.429 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:30:43.429 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:30:43.430 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 09:30:43.430 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:30:43.430 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:30:43.430 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:30:43.431 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 09:30:43.431 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:30:43.492 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:30:43.538 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel31226-02.pb -o orderer.example.net:7050 -c testchannel31226-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:30:43.665 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:30:43.667 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:30:43.669 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:30:43.669 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel31226-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel31226-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:30:44.066 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:30:44.076 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel31226-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel31226-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 09:30:46.942 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:30:46.944 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:30:46.946 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:30:46.946 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel31226-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:30:44Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel31226-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel31226 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel31226 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel31226> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel31226 sberbank vtb VERIFY: test-channel-add-org.sh testchannel31226 sberbank vtb
[1;36m
Add vtb to the testchannel31226 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel31226 vtb 7051 example.net[m[m[m
--2020-02-27 09:30:49--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:30:49--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:30:49--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel31226, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel31226.pb -o orderer.example.net:7050 -c testchannel31226 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:30:49.431 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:30:49.433 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:30:49.434 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:30:49.434 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel31226
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel31226 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:30:49.812 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:30:49.825 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel31226 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:30:50.851 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:30:50.855 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 09:30:50.856 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 09:30:50.856 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel31226>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel31226 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel31226> channel'
RUNTEST: chaincode-install.sh testchannel31226 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
ORG=sberbank runCLI mkdir -p /opt/chaincode/node/reference_testchannel31226 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel31226
[1;32mExecute: docker-compose -f docker-compose.yaml run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference__testchannel31226[m[m[m CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051 CORE_PEER_LOCALMSPID=sberbank CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt CORE_PEER_TLS_ENABLED=true CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock DOMAIN=example.net ENROLL_ID=admin ENROLL_SECRET=adminpw FABRIC_CFG_PATH=/etc/hyperledger/fabric FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG GOPATH=/opt/gopath GOROOT=/opt/go HOME=/root HOSTNAME=2e2f2d7d0c29 JAVA_HOME=/opt/java/openjdk JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle JAVA_VERSION=jdk8u222-b10_openj9-0.15.1 LANG=en_US.UTF-8 LANGUAGE=en_US:en LC_ALL=en_US.UTF-8 ORDERER_BATCH_TIMEOUT=2 ORDERER_GENERAL_LISTENPORT=7050 ORDERER_NAME=orderer ORG=sberbank PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin PEER0_PORT=7051 PWD=/etc/hyperledger RAFT0_PORT=7050 RAFT1_PORT=7150 RAFT2_PORT=7250 SHLVL=2 SIGNATURE_HASH_FAMILY=SHA2 SYSTEM_CHANNEL_ID=orderer-system-channel TERM=xterm _=/usr/bin/env Install chaincode reference__testchannel31226 /opt/chaincode/node/reference__testchannel31226 node 1.0 [34m2020-02-27 09:30:53.347 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc [34m2020-02-27 09:30:53.347 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc Error: error getting chaincode code reference__testchannel31226: path to chaincode does not exist: /opt/chaincode/node/reference__testchannel31226 [1;31mError occurred. See console output above.[m[1;33m[m
[1;32mOK: Test chaincode installed in sberbank[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel24732 sberbank ; ./verify/test-channel-exists.sh testchannel24732 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel24732 sberbank VERIFY: test-channel-exists.sh testchannel24732 sberbank
[1;36m
Creating the <testchannel24732> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel24732[m[m[m
example.net

Create channel sberbank testchannel24732
--2020-02-27 09:34:04--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:34:04--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:34:04--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:34:04--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:34:04.453 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:34:04.524 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:34:04.524 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:34:04.524 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:34:04.524 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:34:04.524 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:34:04.524 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:34:04.524 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:34:04.524 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:34:04.577 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:34:04.577 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:34:04.577 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:34:04.577 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:34:04.577 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:34:04.577 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:34:04.577 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:34:04.577 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:34:04.578 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 09:34:04.578 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:34:04.578 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:34:04.578 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:34:04.579 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 09:34:04.579 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:34:04.649 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:34:04.682 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel24732.pb -o orderer.example.net:7050 -c testchannel24732 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:34:04.751 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:34:04.753 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:34:04.754 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:34:04.754 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel24732
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel24732 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:34:05.150 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:34:05.162 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel24732> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel24732> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:34:07.453 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:34:07.457 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:34:07.458 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:34:07.458 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel24732",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:34:05Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel24732> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel24732-02 vtb ; ./verify/test-channel-exists.sh testchannel24732-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel24732-02 vtb VERIFY: test-channel-exists.sh testchannel24732-02 vtb
[1;36m
Creating the <testchannel24732-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel24732-02[m[m[m
example.net

Create channel vtb testchannel24732-02
--2020-02-27 09:34:09--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:34:09--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:34:09--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:34:09--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:34:09.912 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:34:09.986 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:34:09.986 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:34:09.986 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:34:09.986 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:34:09.986 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:34:09.986 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:34:09.986 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:34:09.986 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:34:10.049 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:34:10.049 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:34:10.049 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:34:10.049 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:34:10.049 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:34:10.049 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:34:10.049 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:34:10.049 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:34:10.050 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 09:34:10.050 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:34:10.050 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:34:10.050 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:34:10.050 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 09:34:10.051 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:34:10.128 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:34:10.167 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel24732-02.pb -o orderer.example.net:7050 -c testchannel24732-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:34:10.316 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:34:10.318 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:34:10.319 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:34:10.319 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel24732-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel24732-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:34:10.684 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:34:10.693 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel24732-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel24732-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 09:34:12.998 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:34:13.000 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:34:13.004 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:34:13.004 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel24732-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:34:10Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel24732-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel24732 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel24732 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel24732> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel24732 sberbank vtb VERIFY: test-channel-add-org.sh testchannel24732 sberbank vtb
[1;36m
Add vtb to the testchannel24732 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel24732 vtb 7051 example.net[m[m[m
--2020-02-27 09:34:15--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:34:15--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:34:15--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel24732, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel24732.pb -o orderer.example.net:7050 -c testchannel24732 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:34:15.590 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:34:15.606 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:34:15.609 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:34:15.612 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel24732
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel24732 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:34:16.673 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:34:16.698 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel24732 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:34:17.875 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:34:17.877 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 09:34:17.878 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 09:34:17.878 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel24732>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel24732 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel24732> channel'
RUNTEST: chaincode-install.sh testchannel24732 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel24732 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel24732[m[m[m
[1;32mOK: Test chaincode installed in sberbank[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel17653 sberbank ; ./verify/test-channel-exists.sh testchannel17653 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel17653 sberbank VERIFY: test-channel-exists.sh testchannel17653 sberbank
[1;36m
Creating the <testchannel17653> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel17653[m[m[m
example.net

Create channel sberbank testchannel17653
--2020-02-27 09:36:08--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:36:08--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:36:08--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:36:08--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:36:08.398 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:36:08.453 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:36:08.453 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:36:08.453 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:36:08.453 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:36:08.453 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:36:08.453 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:36:08.453 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:36:08.453 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:36:08.502 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:36:08.502 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:36:08.502 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:36:08.502 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:36:08.502 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:36:08.502 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:36:08.502 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:36:08.502 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:36:08.503 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 09:36:08.503 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:36:08.503 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:36:08.503 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:36:08.503 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 09:36:08.504 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:36:08.568 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:36:08.601 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel17653.pb -o orderer.example.net:7050 -c testchannel17653 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:36:08.682 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:36:08.684 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:36:08.685 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:36:08.685 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel17653
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel17653 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:36:09.080 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:36:09.089 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel17653> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel17653> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:36:11.395 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:36:11.397 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:36:11.399 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:36:11.399 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel17653",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:36:09Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel17653> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel17653-02 vtb ; ./verify/test-channel-exists.sh testchannel17653-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel17653-02 vtb VERIFY: test-channel-exists.sh testchannel17653-02 vtb
[1;36m
Creating the <testchannel17653-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel17653-02[m[m[m
example.net

Create channel vtb testchannel17653-02
--2020-02-27 09:36:13--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:36:13--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:36:13--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:36:13--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:36:13.910 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:36:13.997 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:36:13.997 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:36:13.997 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:36:13.997 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:36:13.997 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:36:13.997 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:36:13.997 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:36:13.997 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:36:14.055 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:36:14.056 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:36:14.056 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:36:14.056 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:36:14.056 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:36:14.056 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:36:14.056 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:36:14.056 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:36:14.057 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 09:36:14.057 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:36:14.057 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:36:14.057 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:36:14.058 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 09:36:14.058 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:36:14.127 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:36:14.161 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel17653-02.pb -o orderer.example.net:7050 -c testchannel17653-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:36:14.238 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:36:14.240 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:36:14.241 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:36:14.241 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel17653-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel17653-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:36:14.609 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:36:14.619 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel17653-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel17653-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 09:36:17.340 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:36:17.344 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:36:17.345 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:36:17.345 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel17653-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:36:14Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel17653-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel17653 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel17653 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel17653> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel17653 sberbank vtb VERIFY: test-channel-add-org.sh testchannel17653 sberbank vtb
[1;36m
Add vtb to the testchannel17653 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel17653 vtb 7051 example.net[m[m[m
--2020-02-27 09:36:19--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:36:19--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:36:19--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel17653, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel17653.pb -o orderer.example.net:7050 -c testchannel17653 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:36:19.847 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:36:19.850 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:36:19.851 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:36:19.851 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel17653
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel17653 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:36:20.258 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:36:20.270 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel17653 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:36:21.310 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:36:21.313 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 09:36:21.315 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 09:36:21.315 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel17653>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel17653 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel17653> channel'
RUNTEST: chaincode-install.sh testchannel17653 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel17653 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel17653[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference__testchannel17653 && echo 0[m[m[m CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051 CORE_PEER_LOCALMSPID=sberbank CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt CORE_PEER_TLS_ENABLED=true CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock DOMAIN=example.net ENROLL_ID=admin ENROLL_SECRET=adminpw FABRIC_CFG_PATH=/etc/hyperledger/fabric FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG GOPATH=/opt/gopath GOROOT=/opt/go HOME=/root HOSTNAME=d12a296ac40d JAVA_HOME=/opt/java/openjdk JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle JAVA_VERSION=jdk8u222-b10_openj9-0.15.1 LANG=en_US.UTF-8 LANGUAGE=en_US:en LC_ALL=en_US.UTF-8 ORDERER_BATCH_TIMEOUT=2 ORDERER_GENERAL_LISTENPORT=7050 ORDERER_NAME=orderer ORG=sberbank PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin PEER0_PORT=7051 PWD=/etc/hyperledger RAFT0_PORT=7050 RAFT1_PORT=7150 RAFT2_PORT=7250 SHLVL=2 SIGNATURE_HASH_FAMILY=SHA2 SYSTEM_CHANNEL_ID=orderer-system-channel TERM=xterm _=/usr/bin/env Install chaincode reference__testchannel17653 /opt/chaincode/node/reference__testchannel17653 node 1.0 [34m2020-02-27 09:36:26.532 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc [34m2020-02-27 09:36:26.532 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc Error: error getting chaincode code reference__testchannel17653: path to chaincode does not exist: /opt/chaincode/node/reference__testchannel17653 [1;31mError occurred. See console output above.[m[1;33m[m
[1;32mOK: Test chaincode installed in sberbank[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel12499 sberbank ; ./verify/test-channel-exists.sh testchannel12499 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel12499 sberbank VERIFY: test-channel-exists.sh testchannel12499 sberbank
[1;36m
Creating the <testchannel12499> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel12499[m[m[m
example.net

Create channel sberbank testchannel12499
--2020-02-27 09:38:01--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:38:01--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:38:01--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:38:01--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:38:01.436 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:38:01.494 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:38:01.494 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:38:01.494 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:38:01.494 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:38:01.494 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:38:01.494 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:38:01.494 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:38:01.494 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:38:01.544 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:38:01.544 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:38:01.544 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:38:01.544 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:38:01.544 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:38:01.544 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:38:01.544 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:38:01.545 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:38:01.545 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 09:38:01.545 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:38:01.545 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:38:01.545 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:38:01.546 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 09:38:01.546 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:38:01.622 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:38:01.658 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel12499.pb -o orderer.example.net:7050 -c testchannel12499 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:38:01.742 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:38:01.745 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:38:01.746 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:38:01.746 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel12499
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel12499 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:38:02.141 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:38:02.151 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel12499> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel12499> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:38:04.636 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:38:04.638 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:38:04.639 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:38:04.639 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel12499",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:38:02Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel12499> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel12499-02 vtb ; ./verify/test-channel-exists.sh testchannel12499-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel12499-02 vtb VERIFY: test-channel-exists.sh testchannel12499-02 vtb
[1;36m
Creating the <testchannel12499-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel12499-02[m[m[m
example.net

Create channel vtb testchannel12499-02
--2020-02-27 09:38:07--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:38:07--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:38:07--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:38:07--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:38:07.367 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:38:07.426 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:38:07.426 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:38:07.426 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:38:07.426 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:38:07.426 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:38:07.426 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:38:07.426 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:38:07.426 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:38:07.475 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:38:07.475 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:38:07.475 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:38:07.475 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:38:07.475 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:38:07.475 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:38:07.475 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:38:07.476 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:38:07.476 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 09:38:07.476 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:38:07.476 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:38:07.476 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:38:07.477 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 09:38:07.477 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:38:07.554 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:38:07.594 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel12499-02.pb -o orderer.example.net:7050 -c testchannel12499-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:38:07.726 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:38:07.728 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:38:07.729 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:38:07.729 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel12499-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel12499-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:38:08.124 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:38:08.134 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel12499-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel12499-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 09:38:10.524 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:38:10.526 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:38:10.527 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:38:10.527 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel12499-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:38:08Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel12499-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel12499 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel12499 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel12499> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel12499 sberbank vtb VERIFY: test-channel-add-org.sh testchannel12499 sberbank vtb
[1;36m
Add vtb to the testchannel12499 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel12499 vtb 7051 example.net[m[m[m
--2020-02-27 09:38:12--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:38:12--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:38:13--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel12499, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel12499.pb -o orderer.example.net:7050 -c testchannel12499 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:38:13.091 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:38:13.093 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:38:13.094 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:38:13.094 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel12499
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel12499 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:38:13.460 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:38:13.474 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel12499 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:38:14.549 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:38:14.552 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 09:38:14.554 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 09:38:14.554 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel12499>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel12499 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel12499> channel'
RUNTEST: chaincode-install.sh testchannel12499 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel12499 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel12499[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference__testchannel12499 && echo 0[m[m[m CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051 CORE_PEER_LOCALMSPID=sberbank CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt CORE_PEER_TLS_ENABLED=true CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock DOMAIN=example.net ENROLL_ID=admin ENROLL_SECRET=adminpw FABRIC_CFG_PATH=/etc/hyperledger/fabric FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG GOPATH=/opt/gopath GOROOT=/opt/go HOME=/root HOSTNAME=5a01e15fd0cd JAVA_HOME=/opt/java/openjdk JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle JAVA_VERSION=jdk8u222-b10_openj9-0.15.1 LANG=en_US.UTF-8 LANGUAGE=en_US:en LC_ALL=en_US.UTF-8 ORDERER_BATCH_TIMEOUT=2 ORDERER_GENERAL_LISTENPORT=7050 ORDERER_NAME=orderer ORG=sberbank PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin PEER0_PORT=7051 PWD=/etc/hyperledger RAFT0_PORT=7050 RAFT1_PORT=7150 RAFT2_PORT=7250 SHLVL=2 SIGNATURE_HASH_FAMILY=SHA2 SYSTEM_CHANNEL_ID=orderer-system-channel TERM=xterm _=/usr/bin/env Install chaincode reference__testchannel12499 /opt/chaincode/node/reference__testchannel12499 node 1.0 [34m2020-02-27 09:38:20.188 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc [34m2020-02-27 09:38:20.188 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc Error: error getting chaincode code reference__testchannel12499: path to chaincode does not exist: /opt/chaincode/node/reference__testchannel12499 [1;31mError occurred. See console output above.[m[1;33m[m
[1;32mOK: Test chaincode installed in sberbank[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel31478 sberbank ; ./verify/test-channel-exists.sh testchannel31478 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel31478 sberbank VERIFY: test-channel-exists.sh testchannel31478 sberbank
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel31478[m[m[m
^C[1;31mError occurred. See console output above.[m[1;33m[m
queryContainerNetworkSettings returns: 7051
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel6537 sberbank ; ./verify/test-channel-exists.sh testchannel6537 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel6537 sberbank VERIFY: test-channel-exists.sh testchannel6537 sberbank
[1;36m
Creating the <testchannel6537> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel6537[m[m[m
example.net

Create channel sberbank testchannel6537
--2020-02-27 09:39:38--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:39:38--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:39:38--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:39:38--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:39:38.759 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:39:38.827 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:39:38.827 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:39:38.827 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:39:38.827 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:39:38.827 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:39:38.827 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:39:38.827 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:39:38.827 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:39:38.876 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:39:38.876 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:39:38.876 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:39:38.876 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:39:38.876 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:39:38.876 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:39:38.876 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:39:38.877 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:39:38.877 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 09:39:38.877 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:39:38.877 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:39:38.878 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:39:38.878 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 09:39:38.878 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:39:38.963 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:39:39.001 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel6537.pb -o orderer.example.net:7050 -c testchannel6537 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:39:39.085 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:39:39.087 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:39:39.088 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:39:39.088 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel6537
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel6537 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:39:39.501 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:39:39.511 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel6537> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel6537> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:39:41.826 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:39:41.828 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:39:41.829 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:39:41.830 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel6537",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:39:39Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel6537> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel6537-02 vtb ; ./verify/test-channel-exists.sh testchannel6537-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel6537-02 vtb VERIFY: test-channel-exists.sh testchannel6537-02 vtb
[1;36m
Creating the <testchannel6537-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel6537-02[m[m[m
example.net

Create channel vtb testchannel6537-02
--2020-02-27 09:39:44--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:39:44--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:39:44--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:39:44--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:39:44.379 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:39:44.434 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:39:44.434 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:39:44.434 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:39:44.434 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:39:44.434 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:39:44.434 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:39:44.434 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:39:44.434 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:39:44.483 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:39:44.483 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:39:44.483 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:39:44.483 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:39:44.483 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:39:44.483 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:39:44.483 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:39:44.483 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:39:44.484 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 09:39:44.484 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:39:44.484 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:39:44.484 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:39:44.484 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 09:39:44.485 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:39:44.553 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:39:44.587 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel6537-02.pb -o orderer.example.net:7050 -c testchannel6537-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:39:44.655 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:39:44.657 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:39:44.659 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:39:44.659 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel6537-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel6537-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:39:45.068 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:39:45.078 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel6537-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel6537-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 09:39:47.757 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:39:47.760 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:39:47.761 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:39:47.761 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel6537-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:39:45Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel6537-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel6537 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel6537 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel6537> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel6537 sberbank vtb VERIFY: test-channel-add-org.sh testchannel6537 sberbank vtb
[1;36m
Add vtb to the testchannel6537 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel6537 vtb 7051 example.net[m[m[m
--2020-02-27 09:39:50--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:39:50--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:39:50--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel6537, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel6537.pb -o orderer.example.net:7050 -c testchannel6537 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:39:50.409 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:39:50.411 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:39:50.412 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:39:50.412 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel6537
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel6537 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:39:50.796 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:39:50.808 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel6537 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:39:51.859 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:39:51.861 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 09:39:51.862 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 09:39:51.862 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel6537>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel6537 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel6537> channel'
RUNTEST: chaincode-install.sh testchannel6537 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel6537 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel6537[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference__testchannel6537 && echo 0[m[m[m CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051 CORE_PEER_LOCALMSPID=sberbank CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt CORE_PEER_TLS_ENABLED=true CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock DOMAIN=example.net ENROLL_ID=admin ENROLL_SECRET=adminpw FABRIC_CFG_PATH=/etc/hyperledger/fabric FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG GOPATH=/opt/gopath GOROOT=/opt/go HOME=/root HOSTNAME=e8e276ac9824 JAVA_HOME=/opt/java/openjdk JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle JAVA_VERSION=jdk8u222-b10_openj9-0.15.1 LANG=en_US.UTF-8 LANGUAGE=en_US:en LC_ALL=en_US.UTF-8 ORDERER_BATCH_TIMEOUT=2 ORDERER_GENERAL_LISTENPORT=7050 ORDERER_NAME=orderer ORG=sberbank PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin PEER0_PORT=7051 PWD=/etc/hyperledger RAFT0_PORT=7050 RAFT1_PORT=7150 RAFT2_PORT=7250 SHLVL=2 SIGNATURE_HASH_FAMILY=SHA2 SYSTEM_CHANNEL_ID=orderer-system-channel TERM=xterm _=/usr/bin/env Install chaincode reference__testchannel6537 /opt/chaincode/node/reference__testchannel6537 node 1.0 [34m2020-02-27 09:39:57.325 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc [34m2020-02-27 09:39:57.325 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc Error: error getting chaincode code reference__testchannel6537: path to chaincode does not exist: /opt/chaincode/node/reference__testchannel6537 [1;31mError occurred. See console output above.[m[1;33m[m
[1;32mOK: Test chaincode installed in sberbank[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel16812 sberbank ; ./verify/test-channel-exists.sh testchannel16812 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel16812 sberbank VERIFY: test-channel-exists.sh testchannel16812 sberbank
[1;36m
Creating the <testchannel16812> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel16812[m[m[m
example.net

Create channel sberbank testchannel16812
--2020-02-27 09:41:17--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:41:17--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:41:17--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:41:17--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:41:17.457 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:41:17.522 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:41:17.522 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:41:17.522 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:41:17.522 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:41:17.522 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:41:17.522 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:41:17.522 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:41:17.522 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:41:17.573 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:41:17.573 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:41:17.573 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:41:17.573 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:41:17.573 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:41:17.573 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:41:17.573 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:41:17.574 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:41:17.574 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 09:41:17.574 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:41:17.574 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:41:17.574 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:41:17.575 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 09:41:17.575 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:41:17.660 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:41:17.703 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel16812.pb -o orderer.example.net:7050 -c testchannel16812 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:41:17.794 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:41:17.798 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:41:17.800 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:41:17.800 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel16812
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel16812 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:41:18.298 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:41:18.316 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel16812> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel16812> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:41:20.763 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:41:20.765 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:41:20.766 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:41:20.766 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel16812",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:41:18Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel16812> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel16812-02 vtb ; ./verify/test-channel-exists.sh testchannel16812-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel16812-02 vtb VERIFY: test-channel-exists.sh testchannel16812-02 vtb
[1;36m
Creating the <testchannel16812-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel16812-02[m[m[m
example.net

Create channel vtb testchannel16812-02
--2020-02-27 09:41:23--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:41:23--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:41:23--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:41:23--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:41:23.265 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:41:23.324 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:41:23.324 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:41:23.324 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:41:23.324 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:41:23.324 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:41:23.324 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:41:23.324 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:41:23.324 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:41:23.376 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:41:23.376 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:41:23.376 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:41:23.376 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:41:23.376 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:41:23.376 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:41:23.376 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:41:23.377 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:41:23.377 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 09:41:23.377 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:41:23.377 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:41:23.377 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:41:23.378 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 09:41:23.378 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:41:23.456 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:41:23.491 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel16812-02.pb -o orderer.example.net:7050 -c testchannel16812-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:41:23.564 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:41:23.566 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:41:23.567 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:41:23.567 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel16812-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel16812-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:41:23.942 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:41:23.956 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel16812-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel16812-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 09:41:27.434 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:41:27.442 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:41:27.443 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:41:27.443 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel16812-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:41:23Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel16812-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel16812 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel16812 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel16812> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel16812 sberbank vtb VERIFY: test-channel-add-org.sh testchannel16812 sberbank vtb
[1;36m
Add vtb to the testchannel16812 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel16812 vtb 7051 example.net[m[m[m
--2020-02-27 09:41:29--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:41:29--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:41:29--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel16812, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel16812.pb -o orderer.example.net:7050 -c testchannel16812 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:41:30.090 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:41:30.091 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:41:30.092 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:41:30.092 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel16812
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel16812 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:41:30.461 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:41:30.472 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel16812 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:41:31.635 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:41:31.637 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 09:41:31.639 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 09:41:31.639 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel16812>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel16812 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel16812> channel'
RUNTEST: chaincode-install.sh testchannel16812 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel16812 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel16812[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference__testchannel16812 && echo '0'[m[m[m CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051 CORE_PEER_LOCALMSPID=sberbank CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt CORE_PEER_TLS_ENABLED=true CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock DOMAIN=example.net ENROLL_ID=admin ENROLL_SECRET=adminpw FABRIC_CFG_PATH=/etc/hyperledger/fabric FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG GOPATH=/opt/gopath GOROOT=/opt/go HOME=/root HOSTNAME=efa3419e8f1c JAVA_HOME=/opt/java/openjdk JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle JAVA_VERSION=jdk8u222-b10_openj9-0.15.1 LANG=en_US.UTF-8 LANGUAGE=en_US:en LC_ALL=en_US.UTF-8 ORDERER_BATCH_TIMEOUT=2 ORDERER_GENERAL_LISTENPORT=7050 ORDERER_NAME=orderer ORG=sberbank PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin PEER0_PORT=7051 PWD=/etc/hyperledger RAFT0_PORT=7050 RAFT1_PORT=7150 RAFT2_PORT=7250 SHLVL=2 SIGNATURE_HASH_FAMILY=SHA2 SYSTEM_CHANNEL_ID=orderer-system-channel TERM=xterm _=/usr/bin/env Install chaincode reference__testchannel16812 /opt/chaincode/node/reference__testchannel16812 node 1.0 [34m2020-02-27 09:41:36.926 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc [34m2020-02-27 09:41:36.927 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc Error: error getting chaincode code reference__testchannel16812: path to chaincode does not exist: /opt/chaincode/node/reference__testchannel16812 [1;31mError occurred. See console output above.[m[1;33m[m
[1;32mOK: Test chaincode installed in sberbank[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel30663 sberbank ; ./verify/test-channel-exists.sh testchannel30663 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel30663 sberbank VERIFY: test-channel-exists.sh testchannel30663 sberbank
[1;36m
Creating the <testchannel30663> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel30663[m[m[m
example.net

Create channel sberbank testchannel30663
--2020-02-27 09:42:01--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:42:01--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:42:01--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:42:01--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:42:02.056 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:42:02.114 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:42:02.114 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:42:02.114 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:42:02.114 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:42:02.114 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:42:02.114 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:42:02.114 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:42:02.114 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:42:02.164 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:42:02.164 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:42:02.164 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:42:02.164 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:42:02.164 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:42:02.164 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:42:02.164 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:42:02.165 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:42:02.165 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 09:42:02.165 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:42:02.165 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:42:02.165 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:42:02.166 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 09:42:02.166 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:42:02.230 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:42:02.268 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel30663.pb -o orderer.example.net:7050 -c testchannel30663 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:42:02.415 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:42:02.416 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:42:02.418 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:42:02.418 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel30663
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel30663 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:42:02.778 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:42:02.786 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel30663> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel30663> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:42:05.192 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:42:05.194 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:42:05.195 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:42:05.195 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel30663",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:42:02Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel30663> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel30663-02 vtb ; ./verify/test-channel-exists.sh testchannel30663-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel30663-02 vtb VERIFY: test-channel-exists.sh testchannel30663-02 vtb
[1;36m
Creating the <testchannel30663-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel30663-02[m[m[m
example.net

Create channel vtb testchannel30663-02
--2020-02-27 09:42:08--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:42:08--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:42:08--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:42:08--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:42:08.186 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:42:08.245 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:42:08.245 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:42:08.245 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:42:08.245 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:42:08.245 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:42:08.245 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:42:08.245 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:42:08.245 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:42:08.296 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:42:08.296 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:42:08.296 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:42:08.296 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:42:08.296 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:42:08.296 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:42:08.296 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:42:08.296 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:42:08.297 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 09:42:08.297 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:42:08.297 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:42:08.297 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:42:08.297 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 09:42:08.298 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:42:08.366 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:42:08.400 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel30663-02.pb -o orderer.example.net:7050 -c testchannel30663-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:42:08.477 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:42:08.479 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:42:08.480 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:42:08.480 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel30663-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel30663-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:42:08.842 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:42:08.852 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel30663-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel30663-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 09:42:11.343 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:42:11.345 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:42:11.346 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:42:11.346 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel30663-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:42:08Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel30663-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel30663 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel30663 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel30663> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel30663 sberbank vtb VERIFY: test-channel-add-org.sh testchannel30663 sberbank vtb
[1;36m
Add vtb to the testchannel30663 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel30663 vtb 7051 example.net[m[m[m
--2020-02-27 09:42:13--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:42:13--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:42:13--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel30663, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel30663.pb -o orderer.example.net:7050 -c testchannel30663 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:42:13.877 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:42:13.879 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:42:13.881 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:42:13.881 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel30663
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel30663 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:42:14.269 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:42:14.280 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel30663 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:42:15.382 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:42:15.384 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 09:42:15.385 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 09:42:15.385 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel30663>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel30663 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel30663> channel'
RUNTEST: chaincode-install.sh testchannel30663 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel30663 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel30663[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference__testchannel30663 ; echo '0'[m[m[m CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051 CORE_PEER_LOCALMSPID=sberbank CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt CORE_PEER_TLS_ENABLED=true CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock DOMAIN=example.net ENROLL_ID=admin ENROLL_SECRET=adminpw FABRIC_CFG_PATH=/etc/hyperledger/fabric FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG GOPATH=/opt/gopath GOROOT=/opt/go HOME=/root HOSTNAME=7863ee9d7c59 JAVA_HOME=/opt/java/openjdk JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle JAVA_VERSION=jdk8u222-b10_openj9-0.15.1 LANG=en_US.UTF-8 LANGUAGE=en_US:en LC_ALL=en_US.UTF-8 ORDERER_BATCH_TIMEOUT=2 ORDERER_GENERAL_LISTENPORT=7050 ORDERER_NAME=orderer ORG=sberbank PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin PEER0_PORT=7051 PWD=/etc/hyperledger RAFT0_PORT=7050 RAFT1_PORT=7150 RAFT2_PORT=7250 SHLVL=2 SIGNATURE_HASH_FAMILY=SHA2 SYSTEM_CHANNEL_ID=orderer-system-channel TERM=xterm _=/usr/bin/env Install chaincode reference__testchannel30663 /opt/chaincode/node/reference__testchannel30663 node 1.0 [34m2020-02-27 09:42:21.357 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc [34m2020-02-27 09:42:21.357 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc Error: error getting chaincode code reference__testchannel30663: path to chaincode does not exist: /opt/chaincode/node/reference__testchannel30663 0
[1;32mOK: Test chaincode installed in sberbank[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel20557 sberbank ; ./verify/test-channel-exists.sh testchannel20557 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel20557 sberbank VERIFY: test-channel-exists.sh testchannel20557 sberbank
[1;36m
Creating the <testchannel20557> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel20557[m[m[m
example.net

Create channel sberbank testchannel20557
--2020-02-27 09:44:30--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:44:30--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:44:30--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:44:30--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:44:30.364 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:44:30.419 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:44:30.419 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:44:30.419 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:44:30.419 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:44:30.419 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:44:30.419 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:44:30.419 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:44:30.419 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:44:30.468 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:44:30.468 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:44:30.468 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:44:30.468 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:44:30.468 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:44:30.468 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:44:30.468 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:44:30.469 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:44:30.469 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 09:44:30.469 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:44:30.469 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:44:30.469 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:44:30.470 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 09:44:30.470 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:44:30.537 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:44:30.573 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel20557.pb -o orderer.example.net:7050 -c testchannel20557 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:44:30.647 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:44:30.650 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:44:30.651 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:44:30.651 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel20557
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel20557 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:44:31.058 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:44:31.068 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel20557> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel20557> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:44:33.497 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:44:33.500 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:44:33.501 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:44:33.501 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel20557",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:44:31Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel20557> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel20557-02 vtb ; ./verify/test-channel-exists.sh testchannel20557-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel20557-02 vtb VERIFY: test-channel-exists.sh testchannel20557-02 vtb
[1;36m
Creating the <testchannel20557-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel20557-02[m[m[m
example.net

Create channel vtb testchannel20557-02
--2020-02-27 09:44:35--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:44:35--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:44:35--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:44:35--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:44:35.972 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:44:36.086 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:44:36.086 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:44:36.086 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:44:36.087 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:44:36.087 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:44:36.087 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:44:36.087 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:44:36.087 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:44:36.197 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:44:36.197 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:44:36.197 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:44:36.197 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:44:36.197 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:44:36.198 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:44:36.198 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:44:36.199 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:44:36.208 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 09:44:36.208 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:44:36.208 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:44:36.209 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:44:36.210 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 09:44:36.212 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:44:36.345 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:44:36.413 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel20557-02.pb -o orderer.example.net:7050 -c testchannel20557-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:44:36.622 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:44:36.625 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:44:36.628 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:44:36.628 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel20557-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel20557-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:44:37.554 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:44:37.570 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel20557-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel20557-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 09:44:40.119 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:44:40.122 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:44:40.122 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:44:40.123 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel20557-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:44:37Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel20557-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel20557 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel20557 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel20557> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel20557 sberbank vtb VERIFY: test-channel-add-org.sh testchannel20557 sberbank vtb
[1;36m
Add vtb to the testchannel20557 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel20557 vtb 7051 example.net[m[m[m
--2020-02-27 09:44:42--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:44:42--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:44:42--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel20557, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel20557.pb -o orderer.example.net:7050 -c testchannel20557 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:44:42.588 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:44:42.590 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:44:42.591 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:44:42.591 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel20557
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel20557 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:44:42.985 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:44:43.001 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel20557 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:44:44.076 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:44:44.078 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 09:44:44.079 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 09:44:44.080 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel20557>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel20557 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel20557> channel'
RUNTEST: chaincode-install.sh testchannel20557 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel20557 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel20557[m[m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel21674 sberbank ; ./verify/test-channel-exists.sh testchannel21674 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel21674 sberbank VERIFY: test-channel-exists.sh testchannel21674 sberbank
[1;36m
Creating the <testchannel21674> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel21674[m[m[m
example.net

Create channel sberbank testchannel21674
--2020-02-27 09:45:57--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:45:57--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:45:57--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:45:57--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:45:57.704 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:45:57.859 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:45:57.859 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:45:57.859 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:45:57.859 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:45:57.860 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:45:57.860 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:45:57.860 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:45:57.861 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:45:57.937 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:45:57.938 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:45:57.938 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:45:57.938 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:45:57.938 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:45:57.938 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:45:57.938 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:45:57.938 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:45:57.939 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 09:45:57.939 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:45:57.939 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:45:57.939 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:45:57.939 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 09:45:57.940 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:45:58.055 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:45:58.090 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel21674.pb -o orderer.example.net:7050 -c testchannel21674 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:45:58.171 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:45:58.173 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:45:58.174 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:45:58.174 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel21674
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel21674 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:45:58.561 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:45:58.570 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel21674> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel21674> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:46:01.828 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:46:01.839 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:46:01.841 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:46:01.841 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel21674",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:45:58Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel21674> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel28069 sberbank ; ./verify/test-channel-exists.sh testchannel28069 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel28069 sberbank VERIFY: test-channel-exists.sh testchannel28069 sberbank
[1;36m
Creating the <testchannel28069> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel28069[m[m[m
example.net

Create channel sberbank testchannel28069
--2020-02-27 09:46:08--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:46:08--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:46:08--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:46:08--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:46:08.358 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:46:08.413 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:46:08.413 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:46:08.413 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:46:08.413 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:46:08.413 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:46:08.413 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:46:08.413 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:46:08.413 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:46:08.461 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:46:08.461 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:46:08.461 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:46:08.461 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:46:08.461 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:46:08.461 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:46:08.461 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:46:08.461 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:46:08.462 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 09:46:08.462 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:46:08.462 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:46:08.462 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:46:08.463 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 09:46:08.463 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:46:08.542 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:46:08.577 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel28069.pb -o orderer.example.net:7050 -c testchannel28069 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:46:08.652 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:46:08.655 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:46:08.656 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:46:08.656 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel28069
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel28069 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:46:09.059 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:46:09.069 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel28069> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel28069> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:46:11.361 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:46:11.363 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:46:11.364 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:46:11.364 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel28069",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:46:09Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel28069> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel28069-02 vtb ; ./verify/test-channel-exists.sh testchannel28069-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel28069-02 vtb VERIFY: test-channel-exists.sh testchannel28069-02 vtb
[1;36m
Creating the <testchannel28069-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel28069-02[m[m[m
example.net

Create channel vtb testchannel28069-02
--2020-02-27 09:46:13--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:46:13--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:46:13--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:46:13--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:46:13.855 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:46:13.911 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:46:13.911 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:46:13.911 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:46:13.911 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:46:13.911 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:46:13.911 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:46:13.911 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:46:13.911 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:46:13.966 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:46:13.966 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:46:13.966 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:46:13.966 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:46:13.966 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:46:13.966 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:46:13.966 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:46:13.966 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:46:13.967 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 09:46:13.967 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:46:13.967 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:46:13.967 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:46:13.968 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 09:46:13.968 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:46:14.059 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:46:14.110 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel28069-02.pb -o orderer.example.net:7050 -c testchannel28069-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:46:14.211 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:46:14.212 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:46:14.214 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:46:14.214 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel28069-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel28069-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:46:14.567 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:46:14.576 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel28069-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel28069-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 09:46:17.843 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:46:17.845 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:46:17.848 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:46:17.848 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel28069-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:46:14Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel28069-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel28069 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel28069 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel28069> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel28069 sberbank vtb VERIFY: test-channel-add-org.sh testchannel28069 sberbank vtb
[1;36m
Add vtb to the testchannel28069 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel28069 vtb 7051 example.net[m[m[m
--2020-02-27 09:46:20--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:46:20--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:46:20--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel28069, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel28069.pb -o orderer.example.net:7050 -c testchannel28069 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:46:20.373 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:46:20.376 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:46:20.377 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:46:20.377 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel28069
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel28069 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:46:20.738 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:46:20.749 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel28069 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:46:21.830 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:46:21.834 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 09:46:21.835 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 09:46:21.835 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel28069>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel28069 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel28069> channel'
RUNTEST: chaincode-install.sh testchannel28069 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel28069 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel28069[m[m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel21862 sberbank ; ./verify/test-channel-exists.sh testchannel21862 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel21862 sberbank VERIFY: test-channel-exists.sh testchannel21862 sberbank
[1;36m
Creating the <testchannel21862> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel21862[m[m[m
example.net

Create channel sberbank testchannel21862
--2020-02-27 09:47:15--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:47:15--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:47:15--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:47:15--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:47:15.408 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:47:15.469 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:47:15.469 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:47:15.469 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:47:15.469 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:47:15.469 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:47:15.469 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:47:15.469 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:47:15.469 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:47:15.519 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:47:15.519 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:47:15.519 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:47:15.519 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:47:15.519 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:47:15.519 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:47:15.519 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:47:15.520 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:47:15.520 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 09:47:15.520 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:47:15.520 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:47:15.520 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:47:15.521 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 09:47:15.521 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:47:15.598 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:47:15.671 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel21862.pb -o orderer.example.net:7050 -c testchannel21862 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:47:15.820 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:47:15.827 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:47:15.828 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:47:15.828 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel21862
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel21862 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:47:16.302 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:47:16.320 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel21862> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel21862> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:47:18.916 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:47:18.920 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:47:18.921 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:47:18.921 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel21862",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:47:16Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel21862> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel21862-02 vtb ; ./verify/test-channel-exists.sh testchannel21862-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel21862-02 vtb VERIFY: test-channel-exists.sh testchannel21862-02 vtb
[1;36m
Creating the <testchannel21862-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel21862-02[m[m[m
example.net

Create channel vtb testchannel21862-02
--2020-02-27 09:47:21--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:47:21--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:47:21--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:47:21--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:47:21.361 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:47:21.426 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:47:21.426 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:47:21.426 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:47:21.426 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:47:21.426 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:47:21.426 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:47:21.426 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:47:21.426 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:47:21.475 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:47:21.475 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:47:21.475 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:47:21.475 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:47:21.475 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:47:21.475 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:47:21.475 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:47:21.476 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:47:21.476 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 09:47:21.476 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:47:21.476 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:47:21.477 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:47:21.477 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 09:47:21.477 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:47:21.555 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:47:21.598 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel21862-02.pb -o orderer.example.net:7050 -c testchannel21862-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:47:21.726 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:47:21.728 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:47:21.729 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:47:21.729 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel21862-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel21862-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:47:22.108 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:47:22.117 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel21862-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel21862-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 09:47:24.517 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:47:24.520 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:47:24.521 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:47:24.521 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel21862-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:47:22Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel21862-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel21862 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel21862 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel21862> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel21862 sberbank vtb VERIFY: test-channel-add-org.sh testchannel21862 sberbank vtb
[1;36m
Add vtb to the testchannel21862 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel21862 vtb 7051 example.net[m[m[m
--2020-02-27 09:47:27--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:47:27--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:47:27--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel21862, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel21862.pb -o orderer.example.net:7050 -c testchannel21862 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:47:27.376 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:47:27.380 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:47:27.391 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:47:27.391 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel21862
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel21862 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:47:27.989 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:47:28.008 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel21862 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:47:29.053 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:47:29.058 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 09:47:29.060 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 09:47:29.060 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel21862>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel21862 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel21862> channel'
RUNTEST: chaincode-install.sh testchannel21862 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel21862 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel21862[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel11852 sberbank ; ./verify/test-channel-exists.sh testchannel11852 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel11852 sberbank VERIFY: test-channel-exists.sh testchannel11852 sberbank
[1;36m
Creating the <testchannel11852> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel11852[m[m[m
example.net

Create channel sberbank testchannel11852
--2020-02-27 09:48:05--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:48:05--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:48:05--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:48:05--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:48:05.309 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:48:05.364 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:48:05.364 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:48:05.364 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:48:05.364 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:48:05.364 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:48:05.364 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:48:05.364 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:48:05.364 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:48:05.413 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:48:05.413 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:48:05.413 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:48:05.413 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:48:05.413 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:48:05.413 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:48:05.413 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:48:05.413 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:48:05.413 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 09:48:05.413 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:48:05.413 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:48:05.414 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:48:05.414 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 09:48:05.414 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:48:05.496 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:48:05.534 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel11852.pb -o orderer.example.net:7050 -c testchannel11852 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:48:05.615 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:48:05.617 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:48:05.618 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:48:05.618 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel11852
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel11852 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:48:06.005 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:48:06.015 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel11852> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel11852> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:48:08.436 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:48:08.438 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:48:08.439 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:48:08.439 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel11852",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:48:06Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel11852> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel11852-02 vtb ; ./verify/test-channel-exists.sh testchannel11852-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel11852-02 vtb VERIFY: test-channel-exists.sh testchannel11852-02 vtb
[1;36m
Creating the <testchannel11852-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel11852-02[m[m[m
example.net

Create channel vtb testchannel11852-02
--2020-02-27 09:48:10--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:48:10--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:48:10--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:48:10--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:48:10.845 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:48:10.906 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:48:10.906 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:48:10.906 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:48:10.906 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:48:10.906 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:48:10.906 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:48:10.906 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:48:10.906 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:48:10.956 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:48:10.956 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:48:10.956 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:48:10.956 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:48:10.956 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:48:10.956 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:48:10.957 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:48:10.957 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:48:10.957 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 09:48:10.957 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:48:10.958 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:48:10.958 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:48:10.958 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 09:48:10.958 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:48:11.054 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:48:11.089 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel11852-02.pb -o orderer.example.net:7050 -c testchannel11852-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:48:11.158 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:48:11.160 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:48:11.161 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:48:11.162 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel11852-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel11852-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:48:11.539 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:48:11.547 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel11852-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel11852-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 09:48:13.899 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:48:13.901 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:48:13.902 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:48:13.903 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel11852-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:48:11Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel11852-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel11852 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel11852 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel11852> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel11852 sberbank vtb VERIFY: test-channel-add-org.sh testchannel11852 sberbank vtb
[1;36m
Add vtb to the testchannel11852 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel11852 vtb 7051 example.net[m[m[m
--2020-02-27 09:48:16--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:48:16--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:48:16--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel11852, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel11852.pb -o orderer.example.net:7050 -c testchannel11852 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:48:16.410 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:48:16.414 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:48:16.417 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:48:16.417 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel11852
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel11852 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:48:17.524 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:48:17.558 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel11852 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:48:18.734 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:48:18.739 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 09:48:18.740 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 09:48:18.740 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel11852>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel11852 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel11852> channel'
RUNTEST: chaincode-install.sh testchannel11852 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel11852 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel11852[m[m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel13920 sberbank ; ./verify/test-channel-exists.sh testchannel13920 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel13920 sberbank VERIFY: test-channel-exists.sh testchannel13920 sberbank
[1;36m
Creating the <testchannel13920> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel13920[m[m[m
example.net

Create channel sberbank testchannel13920
--2020-02-27 09:49:12--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:49:12--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:49:12--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:49:12--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:49:12.181 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:49:12.247 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:49:12.247 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:49:12.247 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:49:12.247 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:49:12.247 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:49:12.247 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:49:12.247 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:49:12.247 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:49:12.298 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:49:12.298 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:49:12.298 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:49:12.298 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:49:12.298 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:49:12.298 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:49:12.298 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:49:12.299 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:49:12.299 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 09:49:12.299 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:49:12.299 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:49:12.299 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:49:12.300 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 09:49:12.300 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:49:12.368 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:49:12.411 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel13920.pb -o orderer.example.net:7050 -c testchannel13920 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:49:12.546 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:49:12.548 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:49:12.549 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:49:12.549 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel13920
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel13920 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:49:12.915 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:49:12.925 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel13920> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel13920> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:49:15.279 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:49:15.281 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:49:15.282 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:49:15.282 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel13920",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:49:12Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel13920> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel13920-02 vtb ; ./verify/test-channel-exists.sh testchannel13920-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel13920-02 vtb VERIFY: test-channel-exists.sh testchannel13920-02 vtb
[1;36m
Creating the <testchannel13920-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel13920-02[m[m[m
example.net

Create channel vtb testchannel13920-02
--2020-02-27 09:49:17--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:49:17--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:49:17--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:49:17--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:49:18.067 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:49:18.129 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:49:18.129 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:49:18.129 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:49:18.129 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:49:18.129 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:49:18.129 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:49:18.129 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:49:18.129 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:49:18.179 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:49:18.179 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:49:18.179 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:49:18.179 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:49:18.179 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:49:18.179 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:49:18.179 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:49:18.180 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:49:18.180 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 09:49:18.180 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:49:18.180 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:49:18.180 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:49:18.181 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 09:49:18.181 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:49:18.241 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:49:18.274 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel13920-02.pb -o orderer.example.net:7050 -c testchannel13920-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:49:18.351 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:49:18.353 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:49:18.354 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:49:18.354 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel13920-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel13920-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:49:18.710 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:49:18.719 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel13920-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel13920-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 09:49:21.088 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:49:21.091 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:49:21.095 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:49:21.095 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel13920-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:49:18Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel13920-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel13920 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel13920 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel13920> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel13920 sberbank vtb VERIFY: test-channel-add-org.sh testchannel13920 sberbank vtb
[1;36m
Add vtb to the testchannel13920 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel13920 vtb 7051 example.net[m[m[m
--2020-02-27 09:49:23--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:49:23--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:49:23--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel13920, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel13920.pb -o orderer.example.net:7050 -c testchannel13920 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:49:23.651 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:49:23.653 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:49:23.654 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:49:23.654 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel13920
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel13920 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:49:24.102 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:49:24.113 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel13920 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:49:25.232 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:49:25.234 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 09:49:25.235 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 09:49:25.235 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel13920>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel13920 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel13920> channel'
RUNTEST: chaincode-install.sh testchannel13920 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel13920 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel13920[m[m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel22166 sberbank ; ./verify/test-channel-exists.sh testchannel22166 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel22166 sberbank VERIFY: test-channel-exists.sh testchannel22166 sberbank
[1;36m
Creating the <testchannel22166> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel22166[m[m[m
example.net

Create channel sberbank testchannel22166
--2020-02-27 09:50:01--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:50:01--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:50:01--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:50:01--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:50:01.765 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:50:01.835 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:50:01.835 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:50:01.835 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:50:01.835 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:50:01.835 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:50:01.835 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:50:01.835 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:50:01.835 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:50:01.887 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:50:01.887 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:50:01.887 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:50:01.887 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:50:01.887 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:50:01.887 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:50:01.887 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:50:01.887 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:50:01.888 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 09:50:01.888 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:50:01.888 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:50:01.888 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:50:01.889 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 09:50:01.889 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:50:01.960 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:50:02.000 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel22166.pb -o orderer.example.net:7050 -c testchannel22166 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:50:02.081 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:50:02.085 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:50:02.086 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:50:02.086 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel22166
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel22166 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:50:02.463 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:50:02.473 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel22166> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel22166> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:50:04.696 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:50:04.699 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:50:04.700 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:50:04.700 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel22166",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:50:02Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel22166> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel22166-02 vtb ; ./verify/test-channel-exists.sh testchannel22166-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel22166-02 vtb VERIFY: test-channel-exists.sh testchannel22166-02 vtb
[1;36m
Creating the <testchannel22166-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel22166-02[m[m[m
example.net

Create channel vtb testchannel22166-02
--2020-02-27 09:50:07--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:50:07--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:50:07--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:50:07--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:50:07.330 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:50:07.450 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:50:07.450 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:50:07.450 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:50:07.450 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:50:07.450 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:50:07.450 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:50:07.450 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:50:07.450 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:50:07.595 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:50:07.595 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:50:07.595 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:50:07.595 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:50:07.595 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:50:07.595 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:50:07.595 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:50:07.595 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:50:07.596 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 09:50:07.596 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:50:07.596 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:50:07.596 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:50:07.597 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 09:50:07.597 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:50:07.785 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:50:07.832 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel22166-02.pb -o orderer.example.net:7050 -c testchannel22166-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:50:08.028 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:50:08.033 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:50:08.035 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:50:08.036 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel22166-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel22166-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:50:08.393 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:50:08.402 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel22166-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel22166-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 09:50:10.660 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:50:10.662 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:50:10.663 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:50:10.663 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel22166-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:50:08Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel22166-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel22166 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel22166 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel22166> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel22166 sberbank vtb VERIFY: test-channel-add-org.sh testchannel22166 sberbank vtb
[1;36m
Add vtb to the testchannel22166 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel22166 vtb 7051 example.net[m[m[m
--2020-02-27 09:50:13--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:50:13--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:50:13--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel22166, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel22166.pb -o orderer.example.net:7050 -c testchannel22166 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:50:13.150 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:50:13.151 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:50:13.152 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:50:13.152 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel22166
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel22166 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:50:13.500 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:50:13.512 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel22166 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:50:14.521 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:50:14.523 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 09:50:14.525 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 09:50:14.525 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel22166>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel22166 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel22166> channel'
RUNTEST: chaincode-install.sh testchannel22166 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel22166 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel22166[m[m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel21740 sberbank ; ./verify/test-channel-exists.sh testchannel21740 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel21740 sberbank VERIFY: test-channel-exists.sh testchannel21740 sberbank
[1;36m
Creating the <testchannel21740> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel21740[m[m[m
example.net

Create channel sberbank testchannel21740
--2020-02-27 09:52:24--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:52:24--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:52:24--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:52:24--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:52:25.065 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:52:25.137 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:52:25.137 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:52:25.137 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:52:25.137 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:52:25.137 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:52:25.137 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:52:25.137 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:52:25.137 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:52:25.197 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:52:25.197 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:52:25.197 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:52:25.197 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:52:25.197 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:52:25.197 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:52:25.197 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:52:25.197 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:52:25.198 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 09:52:25.198 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:52:25.198 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:52:25.198 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:52:25.198 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 09:52:25.199 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:52:25.269 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:52:25.302 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel21740.pb -o orderer.example.net:7050 -c testchannel21740 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:52:25.376 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:52:25.378 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:52:25.379 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:52:25.379 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel21740
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel21740 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:52:25.765 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:52:25.776 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel21740> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel21740> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:52:28.654 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:52:28.657 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:52:28.658 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:52:28.658 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel21740",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:52:25Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel21740> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel21740-02 vtb ; ./verify/test-channel-exists.sh testchannel21740-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel21740-02 vtb VERIFY: test-channel-exists.sh testchannel21740-02 vtb
[1;36m
Creating the <testchannel21740-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel21740-02[m[m[m
example.net

Create channel vtb testchannel21740-02
--2020-02-27 09:52:31--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:52:31--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:52:31--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:52:31--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:52:31.275 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:52:31.333 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:52:31.333 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:52:31.333 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:52:31.333 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:52:31.333 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:52:31.333 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:52:31.333 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:52:31.333 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:52:31.384 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:52:31.384 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:52:31.384 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:52:31.384 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:52:31.384 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:52:31.384 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:52:31.384 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:52:31.384 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:52:31.385 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 09:52:31.385 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:52:31.385 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:52:31.385 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:52:31.385 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 09:52:31.386 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:52:31.454 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:52:31.487 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel21740-02.pb -o orderer.example.net:7050 -c testchannel21740-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:52:31.562 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:52:31.564 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:52:31.565 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:52:31.566 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel21740-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel21740-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:52:31.966 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:52:31.983 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel21740-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel21740-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 09:52:34.177 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:52:34.180 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:52:34.181 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:52:34.181 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel21740-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:52:31Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel21740-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel21740 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel21740 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel21740> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel21740 sberbank vtb VERIFY: test-channel-add-org.sh testchannel21740 sberbank vtb
[1;36m
Add vtb to the testchannel21740 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel21740 vtb 7051 example.net[m[m[m
--2020-02-27 09:52:36--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:52:36--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:52:36--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel21740, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel21740.pb -o orderer.example.net:7050 -c testchannel21740 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:52:36.605 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:52:36.616 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:52:36.618 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:52:36.618 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel21740
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel21740 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:52:37.686 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:52:37.717 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel21740 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:52:38.831 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:52:38.834 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 09:52:38.835 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 09:52:38.835 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel21740>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel21740 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel21740> channel'
RUNTEST: chaincode-install.sh testchannel21740 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel21740 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel21740[m[m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel25039 sberbank ; ./verify/test-channel-exists.sh testchannel25039 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel25039 sberbank VERIFY: test-channel-exists.sh testchannel25039 sberbank
[1;36m
Creating the <testchannel25039> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel25039[m[m[m
example.net

Create channel sberbank testchannel25039
--2020-02-27 09:53:34--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:53:34--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:53:34--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:53:34--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:53:34.999 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:53:35.068 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:53:35.068 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:53:35.068 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:53:35.068 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:53:35.068 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:53:35.068 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:53:35.068 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:53:35.068 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:53:35.120 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:53:35.120 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:53:35.120 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:53:35.120 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:53:35.120 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:53:35.120 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:53:35.120 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:53:35.120 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:53:35.121 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 09:53:35.121 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:53:35.121 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:53:35.121 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:53:35.121 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 09:53:35.122 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:53:35.186 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:53:35.222 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel25039.pb -o orderer.example.net:7050 -c testchannel25039 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:53:35.295 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:53:35.298 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:53:35.299 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:53:35.299 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel25039
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel25039 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:53:35.680 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:53:35.690 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel25039> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel25039> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:53:38.417 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:53:38.419 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:53:38.420 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:53:38.420 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel25039",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:53:35Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel25039> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel25039-02 vtb ; ./verify/test-channel-exists.sh testchannel25039-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel25039-02 vtb VERIFY: test-channel-exists.sh testchannel25039-02 vtb
[1;36m
Creating the <testchannel25039-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel25039-02[m[m[m
example.net

Create channel vtb testchannel25039-02
--2020-02-27 09:53:40--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:53:40--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:53:40--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:53:40--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:53:40.851 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:53:40.907 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:53:40.907 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:53:40.908 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:53:40.908 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:53:40.908 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:53:40.908 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:53:40.908 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:53:40.908 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:53:40.959 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:53:40.959 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:53:40.959 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:53:40.959 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:53:40.959 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:53:40.959 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:53:40.959 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:53:40.960 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:53:40.960 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 09:53:40.960 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:53:40.960 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:53:40.961 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:53:40.961 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 09:53:40.961 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:53:41.040 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:53:41.073 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel25039-02.pb -o orderer.example.net:7050 -c testchannel25039-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:53:41.151 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:53:41.153 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:53:41.154 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:53:41.154 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel25039-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel25039-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:53:41.518 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:53:41.529 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel25039-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel25039-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 09:53:43.764 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:53:43.768 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:53:43.769 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:53:43.769 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel25039-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:53:41Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel25039-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel25039 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel25039 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel25039> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel25039 sberbank vtb VERIFY: test-channel-add-org.sh testchannel25039 sberbank vtb
[1;36m
Add vtb to the testchannel25039 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel25039 vtb 7051 example.net[m[m[m
--2020-02-27 09:53:46--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:53:46--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:53:46--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel25039, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel25039.pb -o orderer.example.net:7050 -c testchannel25039 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:53:46.249 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:53:46.252 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:53:46.253 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:53:46.253 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel25039
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel25039 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:53:46.626 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:53:46.639 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel25039 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:53:48.461 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:53:48.463 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 09:53:48.464 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 09:53:48.464 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel25039>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel25039 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel25039> channel'
RUNTEST: chaincode-install.sh testchannel25039 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel25039 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel25039[m[m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel31897 sberbank ; ./verify/test-channel-exists.sh testchannel31897 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel31897 sberbank VERIFY: test-channel-exists.sh testchannel31897 sberbank
[1;36m
Creating the <testchannel31897> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel31897[m[m[m
example.net

Create channel sberbank testchannel31897
--2020-02-27 09:55:00--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:55:00--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:55:00--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:55:00--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:55:00.397 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:55:00.456 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:55:00.456 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:55:00.456 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:55:00.456 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:55:00.456 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:55:00.456 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:55:00.456 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:55:00.456 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:55:00.505 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:55:00.505 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:55:00.505 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:55:00.505 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:55:00.505 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:55:00.505 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:55:00.505 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:55:00.505 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:55:00.505 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 09:55:00.506 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:55:00.506 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:55:00.506 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:55:00.506 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 09:55:00.506 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:55:00.573 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:55:00.607 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel31897.pb -o orderer.example.net:7050 -c testchannel31897 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:55:00.694 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:55:00.696 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:55:00.697 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:55:00.697 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel31897
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel31897 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:55:01.096 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:55:01.106 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel31897> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel31897> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:55:02.286 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:55:02.288 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:55:02.289 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:55:02.289 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel31897",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:55:01Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel31897> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel31897-02 vtb ; ./verify/test-channel-exists.sh testchannel31897-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel31897-02 vtb VERIFY: test-channel-exists.sh testchannel31897-02 vtb
[1;36m
Creating the <testchannel31897-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel31897-02[m[m[m
example.net

Create channel vtb testchannel31897-02
--2020-02-27 09:55:04--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:55:04--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:55:04--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:55:04--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:55:04.697 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:55:04.751 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:55:04.751 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:55:04.751 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:55:04.751 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:55:04.751 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:55:04.751 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:55:04.751 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:55:04.751 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:55:04.803 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:55:04.803 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:55:04.803 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:55:04.803 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:55:04.803 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:55:04.803 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:55:04.803 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:55:04.804 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:55:04.804 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 09:55:04.804 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:55:04.804 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:55:04.804 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:55:04.805 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 09:55:04.805 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:55:04.868 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:55:04.902 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel31897-02.pb -o orderer.example.net:7050 -c testchannel31897-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:55:04.993 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:55:04.995 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:55:04.996 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:55:04.996 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel31897-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel31897-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:55:05.389 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:55:05.399 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel31897-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel31897-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 09:55:06.526 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:55:06.528 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:55:06.529 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:55:06.529 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel31897-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:55:05Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel31897-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel31897 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel31897 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel31897> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel31897 sberbank vtb VERIFY: test-channel-add-org.sh testchannel31897 sberbank vtb
[1;36m
Add vtb to the testchannel31897 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel31897 vtb 7051 example.net[m[m[m
--2020-02-27 09:55:09--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:55:09--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:55:09--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel31897, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel31897.pb -o orderer.example.net:7050 -c testchannel31897 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:55:09.734 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:55:09.737 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:55:09.738 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:55:09.739 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel31897
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel31897 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:55:10.134 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:55:10.146 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel31897 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel31897 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:55:11.305 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:55:11.307 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 09:55:11.308 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 09:55:11.308 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel31897>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel31897 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel31897> channel'
RUNTEST: chaincode-install.sh testchannel31897 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel31897 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel31897[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel31944 sberbank ; ./verify/test-channel-exists.sh testchannel31944 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel31944 sberbank VERIFY: test-channel-exists.sh testchannel31944 sberbank
[1;36m
Creating the <testchannel31944> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel31944[m[m[m
example.net

Create channel sberbank testchannel31944
--2020-02-27 09:55:32--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:55:32--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:55:32--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:55:32--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:55:33.053 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:55:33.118 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:55:33.118 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:55:33.118 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:55:33.119 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:55:33.119 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:55:33.119 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:55:33.119 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:55:33.119 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:55:33.170 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:55:33.170 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:55:33.170 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:55:33.171 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:55:33.171 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:55:33.171 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:55:33.171 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:55:33.171 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:55:33.172 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 09:55:33.172 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:55:33.172 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:55:33.173 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:55:33.174 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 09:55:33.174 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:55:33.248 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:55:33.282 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel31944.pb -o orderer.example.net:7050 -c testchannel31944 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:55:33.355 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:55:33.356 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:55:33.357 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:55:33.357 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel31944
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel31944 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:55:33.742 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:55:33.752 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel31944> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel31944> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:55:34.868 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:55:34.870 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:55:34.872 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:55:34.872 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel31944",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:55:33Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel31944> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel31944-02 vtb ; ./verify/test-channel-exists.sh testchannel31944-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel31944-02 vtb VERIFY: test-channel-exists.sh testchannel31944-02 vtb
[1;36m
Creating the <testchannel31944-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel31944-02[m[m[m
example.net

Create channel vtb testchannel31944-02
--2020-02-27 09:55:37--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:55:37--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:55:37--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:55:37--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:55:37.493 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:55:37.670 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:55:37.671 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:55:37.671 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:55:37.671 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:55:37.671 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:55:37.671 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:55:37.671 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:55:37.671 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:55:37.773 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:55:37.773 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:55:37.773 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:55:37.773 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:55:37.773 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:55:37.773 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:55:37.773 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:55:37.774 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:55:37.774 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 09:55:37.774 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:55:37.774 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:55:37.775 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:55:37.775 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 09:55:37.776 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:55:37.966 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:55:38.059 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel31944-02.pb -o orderer.example.net:7050 -c testchannel31944-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:55:38.247 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:55:38.251 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:55:38.252 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:55:38.252 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel31944-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel31944-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:55:38.698 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:55:38.707 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel31944-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel31944-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 09:55:39.789 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:55:39.791 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:55:39.792 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:55:39.792 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel31944-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:55:38Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel31944-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel31944 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel31944 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel31944> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel31944 sberbank vtb VERIFY: test-channel-add-org.sh testchannel31944 sberbank vtb
[1;36m
Add vtb to the testchannel31944 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel31944 vtb 7051 example.net[m[m[m
--2020-02-27 09:55:42--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:55:42--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:55:42--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel31944, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel31944.pb -o orderer.example.net:7050 -c testchannel31944 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:55:42.274 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:55:42.277 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:55:42.278 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:55:42.278 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel31944
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel31944 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:55:42.665 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:55:42.676 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel31944 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel31944 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:55:43.779 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:55:43.781 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 09:55:43.782 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 09:55:43.782 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel31944>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel31944 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel31944> channel'
RUNTEST: chaincode-install.sh testchannel31944 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel31944 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel31944[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel5961 sberbank ; ./verify/test-channel-exists.sh testchannel5961 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel5961 sberbank VERIFY: test-channel-exists.sh testchannel5961 sberbank
[1;36m
Creating the <testchannel5961> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel5961[m[m[m
example.net

Create channel sberbank testchannel5961
--2020-02-27 09:56:03--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:56:03--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:56:03--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:56:03--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:56:03.402 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:56:03.471 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:56:03.471 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:56:03.471 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:56:03.471 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:56:03.471 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:56:03.471 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:56:03.471 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:56:03.471 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:56:03.526 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:56:03.526 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:56:03.526 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:56:03.526 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:56:03.526 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:56:03.526 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:56:03.526 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:56:03.526 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:56:03.527 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 09:56:03.527 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:56:03.527 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:56:03.527 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:56:03.527 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 09:56:03.528 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:56:03.598 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:56:03.638 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel5961.pb -o orderer.example.net:7050 -c testchannel5961 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:56:03.718 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:56:03.720 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:56:03.722 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:56:03.722 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel5961
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel5961 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:56:04.146 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:56:04.156 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel5961> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel5961> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:56:05.601 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:56:05.603 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:56:05.604 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:56:05.604 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel5961",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:56:04Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel5961> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel5961-02 vtb ; ./verify/test-channel-exists.sh testchannel5961-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel5961-02 vtb VERIFY: test-channel-exists.sh testchannel5961-02 vtb
[1;36m
Creating the <testchannel5961-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel5961-02[m[m[m
example.net

Create channel vtb testchannel5961-02
--2020-02-27 09:56:08--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:56:08--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:56:08--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:56:08--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:56:08.421 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:56:08.476 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:56:08.476 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:56:08.476 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:56:08.476 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:56:08.476 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:56:08.476 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:56:08.476 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:56:08.476 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:56:08.528 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:56:08.528 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:56:08.528 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:56:08.528 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:56:08.528 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:56:08.528 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:56:08.528 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:56:08.529 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:56:08.529 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 09:56:08.529 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:56:08.529 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:56:08.530 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:56:08.530 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 09:56:08.530 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:56:08.608 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:56:08.655 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel5961-02.pb -o orderer.example.net:7050 -c testchannel5961-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:56:08.800 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:56:08.802 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:56:08.803 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:56:08.804 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel5961-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel5961-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:56:09.277 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:56:09.286 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel5961-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel5961-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 09:56:10.408 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:56:10.411 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:56:10.413 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:56:10.413 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel5961-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:56:09Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel5961-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel5961 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel5961 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel5961> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel5961 sberbank vtb VERIFY: test-channel-add-org.sh testchannel5961 sberbank vtb
[1;36m
Add vtb to the testchannel5961 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel5961 vtb 7051 example.net[m[m[m
--2020-02-27 09:56:12--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:56:12--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:56:12--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel5961, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel5961.pb -o orderer.example.net:7050 -c testchannel5961 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:56:12.894 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:56:12.896 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:56:12.897 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:56:12.897 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel5961
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel5961 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:56:13.278 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:56:13.290 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel5961 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel5961 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:56:14.275 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:56:14.277 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 09:56:14.278 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 09:56:14.278 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel5961>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel5961 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel5961> channel'
RUNTEST: chaincode-install.sh testchannel5961 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel5961 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel5961[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel13078 sberbank ; ./verify/test-channel-exists.sh testchannel13078 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel13078 sberbank VERIFY: test-channel-exists.sh testchannel13078 sberbank
[1;36m
Creating the <testchannel13078> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel13078[m[m[m
example.net

Create channel sberbank testchannel13078
--2020-02-27 09:57:06--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:57:06--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:57:06--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:57:06--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:57:06.427 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:57:06.484 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:57:06.484 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:57:06.484 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:57:06.484 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:57:06.484 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:57:06.484 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:57:06.484 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:57:06.484 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:57:06.536 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:57:06.536 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:57:06.536 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:57:06.536 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:57:06.536 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:57:06.536 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:57:06.536 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:57:06.536 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:57:06.537 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 09:57:06.537 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:57:06.537 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:57:06.537 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:57:06.537 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 09:57:06.538 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:57:06.610 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:57:06.647 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel13078.pb -o orderer.example.net:7050 -c testchannel13078 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:57:06.729 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:57:06.731 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:57:06.733 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:57:06.733 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel13078
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel13078 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:57:07.521 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:57:07.541 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel13078> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel13078> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:57:09.088 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:57:09.091 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:57:09.093 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:57:09.093 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel13078",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:57:07Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel13078> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel13078-02 vtb ; ./verify/test-channel-exists.sh testchannel13078-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel13078-02 vtb VERIFY: test-channel-exists.sh testchannel13078-02 vtb
[1;36m
Creating the <testchannel13078-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel13078-02[m[m[m
example.net

Create channel vtb testchannel13078-02
--2020-02-27 09:57:11--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:57:11--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:57:11--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:57:11--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:57:11.482 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:57:11.543 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:57:11.543 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:57:11.543 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:57:11.543 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:57:11.543 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:57:11.543 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:57:11.543 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:57:11.543 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:57:11.594 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:57:11.594 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:57:11.594 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:57:11.594 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:57:11.594 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:57:11.594 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:57:11.594 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:57:11.594 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:57:11.595 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 09:57:11.595 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:57:11.595 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:57:11.595 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:57:11.595 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 09:57:11.595 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:57:11.676 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:57:11.712 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel13078-02.pb -o orderer.example.net:7050 -c testchannel13078-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:57:11.785 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:57:11.787 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:57:11.788 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:57:11.788 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel13078-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel13078-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:57:12.223 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:57:12.233 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel13078-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel13078-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 09:57:13.456 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:57:13.460 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:57:13.462 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:57:13.462 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel13078-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:57:12Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel13078-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel13078 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel13078 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel13078> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel13078 sberbank vtb VERIFY: test-channel-add-org.sh testchannel13078 sberbank vtb
[1;36m
Add vtb to the testchannel13078 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel13078 vtb 7051 example.net[m[m[m
--2020-02-27 09:57:15--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:57:15--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:57:15--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel13078, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel13078.pb -o orderer.example.net:7050 -c testchannel13078 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:57:16.023 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:57:16.026 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:57:16.027 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:57:16.027 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel13078
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel13078 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:57:16.416 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:57:16.427 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel13078 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel13078 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:57:18.323 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:57:18.332 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 09:57:18.334 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 09:57:18.334 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel13078>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel13078 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel13078> channel'
RUNTEST: chaincode-install.sh testchannel13078 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel13078 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel13078[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel1046 sberbank ; ./verify/test-channel-exists.sh testchannel1046 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel1046 sberbank VERIFY: test-channel-exists.sh testchannel1046 sberbank
[1;36m
Creating the <testchannel1046> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel1046[m[m[m
example.net

Create channel sberbank testchannel1046
--2020-02-27 09:58:12--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:58:12--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:58:12--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:58:12--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:58:12.656 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:58:12.716 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:58:12.716 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:58:12.716 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:58:12.716 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:58:12.716 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:58:12.716 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:58:12.717 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:58:12.717 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:58:12.767 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:58:12.767 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:58:12.767 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:58:12.767 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:58:12.767 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:58:12.767 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:58:12.767 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:58:12.767 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:58:12.768 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 09:58:12.768 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:58:12.768 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:58:12.768 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:58:12.768 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 09:58:12.768 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:58:12.856 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:58:12.891 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel1046.pb -o orderer.example.net:7050 -c testchannel1046 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:58:12.974 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:58:12.976 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:58:12.977 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:58:12.977 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel1046
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel1046 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:58:13.343 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:58:13.353 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel1046> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel1046> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:58:14.539 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:58:14.543 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:58:14.544 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:58:14.544 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel1046",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:58:13Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel1046> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel1046-02 vtb ; ./verify/test-channel-exists.sh testchannel1046-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel1046-02 vtb VERIFY: test-channel-exists.sh testchannel1046-02 vtb
[1;36m
Creating the <testchannel1046-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel1046-02[m[m[m
example.net

Create channel vtb testchannel1046-02
--2020-02-27 09:58:16--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:58:16--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:58:16--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:58:16--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:58:17.120 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:58:17.217 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:58:17.217 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:58:17.217 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:58:17.217 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:58:17.217 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:58:17.217 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:58:17.217 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:58:17.217 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:58:17.305 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:58:17.305 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:58:17.305 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:58:17.305 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:58:17.305 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:58:17.305 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:58:17.305 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:58:17.306 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:58:17.306 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 09:58:17.306 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:58:17.306 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:58:17.307 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:58:17.307 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 09:58:17.308 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:58:17.504 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:58:17.582 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel1046-02.pb -o orderer.example.net:7050 -c testchannel1046-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:58:17.764 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:58:17.773 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:58:17.775 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:58:17.775 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel1046-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel1046-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:58:18.686 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:58:18.699 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel1046-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel1046-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 09:58:19.813 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:58:19.815 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:58:19.816 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:58:19.816 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel1046-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:58:18Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel1046-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel1046 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel1046 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel1046> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel1046 sberbank vtb VERIFY: test-channel-add-org.sh testchannel1046 sberbank vtb
[1;36m
Add vtb to the testchannel1046 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel1046 vtb 7051 example.net[m[m[m
--2020-02-27 09:58:22--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:58:22--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:58:22--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel1046, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel1046.pb -o orderer.example.net:7050 -c testchannel1046 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:58:22.346 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:58:22.349 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:58:22.350 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:58:22.351 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel1046
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel1046 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:58:22.753 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:58:22.765 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel1046 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel1046 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:58:23.802 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:58:23.804 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 09:58:23.805 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 09:58:23.805 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel1046>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel1046 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel1046> channel'
RUNTEST: chaincode-install.sh testchannel1046 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel1046 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel1046[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel30069 sberbank ; ./verify/test-channel-exists.sh testchannel30069 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel30069 sberbank VERIFY: test-channel-exists.sh testchannel30069 sberbank
[1;36m
Creating the <testchannel30069> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel30069[m[m[m
example.net

Create channel sberbank testchannel30069
--2020-02-27 09:58:54--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:58:54--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:58:54--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:58:54--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:58:54.837 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:58:54.891 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:58:54.891 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:58:54.891 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:58:54.891 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:58:54.891 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:58:54.891 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:58:54.891 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:58:54.892 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:58:54.942 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:58:54.943 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:58:54.943 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:58:54.943 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:58:54.943 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:58:54.943 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:58:54.943 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:58:54.943 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:58:54.944 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 09:58:54.944 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:58:54.944 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:58:54.944 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:58:54.945 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 09:58:54.945 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:58:55.041 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:58:55.076 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel30069.pb -o orderer.example.net:7050 -c testchannel30069 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:58:55.153 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:58:55.155 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:58:55.156 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:58:55.156 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel30069
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel30069 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:58:55.514 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:58:55.524 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel30069> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel30069> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:58:56.644 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:58:56.647 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:58:56.648 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:58:56.648 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel30069",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:58:55Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel30069> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel30069-02 vtb ; ./verify/test-channel-exists.sh testchannel30069-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel30069-02 vtb VERIFY: test-channel-exists.sh testchannel30069-02 vtb
[1;36m
Creating the <testchannel30069-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel30069-02[m[m[m
example.net

Create channel vtb testchannel30069-02
--2020-02-27 09:58:59--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:58:59--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:58:59--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:58:59--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 09:58:59.828 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 09:58:59.893 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:58:59.893 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:58:59.893 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 09:58:59.893 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 09:58:59.893 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 09:58:59.893 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 09:58:59.893 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 09:58:59.893 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:58:59.942 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 09:58:59.942 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 09:58:59.942 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 09:58:59.942 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 09:58:59.942 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 09:58:59.942 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:58:59.942 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:58:59.943 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:58:59.943 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 09:58:59.943 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 09:58:59.943 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 09:58:59.944 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 09:58:59.944 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 09:58:59.945 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 09:59:00.036 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:59:00.072 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel30069-02.pb -o orderer.example.net:7050 -c testchannel30069-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:59:00.150 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:59:00.152 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 09:59:00.153 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 09:59:00.153 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel30069-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel30069-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:59:00.543 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:59:00.553 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel30069-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel30069-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 09:59:01.785 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:59:01.787 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:59:01.788 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:59:01.788 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel30069-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T09:59:00Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel30069-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel30069 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel30069 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel30069> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel30069 sberbank vtb VERIFY: test-channel-add-org.sh testchannel30069 sberbank vtb
[1;36m
Add vtb to the testchannel30069 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel30069 vtb 7051 example.net[m[m[m
--2020-02-27 09:59:04--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:59:04--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 09:59:04--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel30069, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel30069.pb -o orderer.example.net:7050 -c testchannel30069 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:59:04.291 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:59:04.293 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 09:59:04.294 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 09:59:04.294 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel30069
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel30069 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 09:59:04.703 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:59:04.714 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel30069 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel30069 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 09:59:05.704 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 09:59:05.707 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 09:59:05.708 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 09:59:05.708 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel30069>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel30069 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel30069> channel'
RUNTEST: chaincode-install.sh testchannel30069 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel30069 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel30069[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel23316 sberbank ; ./verify/test-channel-exists.sh testchannel23316 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel23316 sberbank VERIFY: test-channel-exists.sh testchannel23316 sberbank
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel23316[m[m[m
^C[1;31mError occurred. See console output above.[m[1;33m[m
queryContainerNetworkSettings returns: 7051
Step 1_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel23316-02 vtb ; ./verify/test-channel-exists.sh testchannel23316-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel23316-02 vtb VERIFY: test-channel-exists.sh testchannel23316-02 vtb
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel23316-02[m[m[m
example.net

Create channel vtb testchannel23316-02
--2020-02-27 10:00:45--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 10:00:45--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 10:00:45--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 10:00:45--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 10:00:45.356 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 10:00:45.435 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 10:00:45.435 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 10:00:45.435 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 10:00:45.435 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 10:00:45.435 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 10:00:45.435 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 10:00:45.435 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 10:00:45.435 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 10:00:45.485 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 10:00:45.485 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 10:00:45.485 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 10:00:45.485 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 10:00:45.485 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 10:00:45.485 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 10:00:45.485 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 10:00:45.486 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 10:00:45.486 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 10:00:45.486 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 10:00:45.486 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 10:00:45.487 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 10:00:45.487 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 10:00:45.487 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 10:00:45.587 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 10:00:45.633 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel23316-02.pb -o orderer.example.net:7050 -c testchannel23316-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 10:00:45.712 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 10:00:45.713 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 10:00:45.715 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 10:00:45.715 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel23316-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel23316-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 10:00:46.303 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 10:00:46.313 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;34m
Verifing if the <testchannel23316-02> channel exists in vtb.example.net...[m[m[m
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel20229 sberbank ; ./verify/test-channel-exists.sh testchannel20229 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel20229 sberbank VERIFY: test-channel-exists.sh testchannel20229 sberbank
[1;36m
Creating the <testchannel20229> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel20229[m[m[m
example.net

Create channel sberbank testchannel20229
--2020-02-27 10:00:51--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 10:00:51--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 10:00:51--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 10:00:51--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 10:00:51.225 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 10:00:51.286 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 10:00:51.286 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 10:00:51.286 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 10:00:51.286 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 10:00:51.286 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 10:00:51.286 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 10:00:51.286 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 10:00:51.286 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 10:00:51.335 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 10:00:51.335 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 10:00:51.335 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 10:00:51.335 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 10:00:51.335 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 10:00:51.335 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 10:00:51.335 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 10:00:51.336 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 10:00:51.336 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 10:00:51.336 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 10:00:51.336 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 10:00:51.336 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 10:00:51.337 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 10:00:51.337 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 10:00:51.409 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 10:00:51.444 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel20229.pb -o orderer.example.net:7050 -c testchannel20229 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 10:00:51.519 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 10:00:51.520 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 10:00:51.521 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 10:00:51.521 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel20229
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel20229 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 10:00:51.919 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 10:00:51.929 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel20229> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel20229> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 10:00:53.010 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 10:00:53.013 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 10:00:53.014 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 10:00:53.015 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel20229",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T10:00:51Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel20229> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel20229-02 vtb ; ./verify/test-channel-exists.sh testchannel20229-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel20229-02 vtb VERIFY: test-channel-exists.sh testchannel20229-02 vtb
[1;36m
Creating the <testchannel20229-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel20229-02[m[m[m
example.net

Create channel vtb testchannel20229-02
--2020-02-27 10:00:55--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 10:00:55--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 10:00:55--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 10:00:55--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 10:00:55.414 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 10:00:55.470 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 10:00:55.470 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 10:00:55.470 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 10:00:55.471 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 10:00:55.471 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 10:00:55.471 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 10:00:55.471 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 10:00:55.471 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 10:00:55.520 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 10:00:55.520 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 10:00:55.520 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 10:00:55.520 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 10:00:55.520 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 10:00:55.520 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 10:00:55.521 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 10:00:55.521 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 10:00:55.521 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 10:00:55.521 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 10:00:55.521 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 10:00:55.522 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 10:00:55.522 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 10:00:55.522 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 10:00:55.593 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 10:00:55.629 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel20229-02.pb -o orderer.example.net:7050 -c testchannel20229-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 10:00:55.706 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 10:00:55.709 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 10:00:55.710 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 10:00:55.710 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel20229-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel20229-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 10:00:56.106 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 10:00:56.115 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel20229-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel20229-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 10:00:57.628 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 10:00:57.636 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 10:00:57.644 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 10:00:57.644 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel20229-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T10:00:56Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel20229-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel20229 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel20229 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel20229> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel20229 sberbank vtb VERIFY: test-channel-add-org.sh testchannel20229 sberbank vtb
[1;36m
Add vtb to the testchannel20229 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel20229 vtb 7051 example.net[m[m[m
--2020-02-27 10:01:00--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 10:01:00--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 10:01:00--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel20229, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel20229.pb -o orderer.example.net:7050 -c testchannel20229 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 10:01:00.595 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 10:01:00.597 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 10:01:00.601 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 10:01:00.601 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel20229
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel20229 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 10:01:01.025 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 10:01:01.039 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel20229 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel20229 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 10:01:02.102 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 10:01:02.105 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 10:01:02.106 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 10:01:02.106 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel20229>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel20229 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel20229> channel'
RUNTEST: chaincode-install.sh testchannel20229 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel20229 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel20229[m[m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel2376 sberbank ; ./verify/test-channel-exists.sh testchannel2376 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel2376 sberbank VERIFY: test-channel-exists.sh testchannel2376 sberbank
[1;36m
Creating the <testchannel2376> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel2376[m[m[m
example.net

Create channel sberbank testchannel2376
--2020-02-27 10:02:48--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 10:02:48--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 10:02:48--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 10:02:48--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 10:02:48.567 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 10:02:48.653 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 10:02:48.653 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 10:02:48.653 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 10:02:48.653 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 10:02:48.653 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 10:02:48.653 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 10:02:48.653 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 10:02:48.653 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 10:02:48.703 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 10:02:48.703 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 10:02:48.703 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 10:02:48.703 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 10:02:48.703 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 10:02:48.703 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 10:02:48.703 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 10:02:48.704 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 10:02:48.704 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 10:02:48.704 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 10:02:48.704 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 10:02:48.704 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 10:02:48.705 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 10:02:48.705 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 10:02:48.785 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 10:02:48.825 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel2376.pb -o orderer.example.net:7050 -c testchannel2376 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 10:02:48.908 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 10:02:48.910 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 10:02:48.912 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 10:02:48.912 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel2376
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel2376 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 10:02:49.336 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 10:02:49.345 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel2376> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel2376> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 10:02:50.554 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 10:02:50.556 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 10:02:50.557 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 10:02:50.557 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel2376",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T10:02:49Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel2376> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel2376-02 vtb ; ./verify/test-channel-exists.sh testchannel2376-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel2376-02 vtb VERIFY: test-channel-exists.sh testchannel2376-02 vtb
[1;36m
Creating the <testchannel2376-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel2376-02[m[m[m
example.net

Create channel vtb testchannel2376-02
--2020-02-27 10:02:52--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 10:02:52--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 10:02:52--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 10:02:52--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 10:02:52.990 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 10:02:53.057 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 10:02:53.057 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 10:02:53.057 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 10:02:53.057 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 10:02:53.057 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 10:02:53.057 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 10:02:53.057 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 10:02:53.057 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 10:02:53.110 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 10:02:53.110 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 10:02:53.110 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 10:02:53.110 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 10:02:53.110 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 10:02:53.110 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 10:02:53.110 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 10:02:53.110 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 10:02:53.111 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 10:02:53.111 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 10:02:53.111 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 10:02:53.111 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 10:02:53.111 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 10:02:53.111 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 10:02:53.188 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 10:02:53.221 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel2376-02.pb -o orderer.example.net:7050 -c testchannel2376-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 10:02:53.292 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 10:02:53.294 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 10:02:53.295 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 10:02:53.295 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel2376-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel2376-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 10:02:53.683 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 10:02:53.695 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel2376-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel2376-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 10:02:54.743 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 10:02:54.749 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 10:02:54.750 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 10:02:54.750 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel2376-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T10:02:53Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel2376-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel2376 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel2376 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel2376> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel2376 sberbank vtb VERIFY: test-channel-add-org.sh testchannel2376 sberbank vtb
[1;36m
Add vtb to the testchannel2376 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel2376 vtb 7051 example.net[m[m[m
--2020-02-27 10:02:57--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 10:02:57--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 10:02:57--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel2376, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel2376.pb -o orderer.example.net:7050 -c testchannel2376 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 10:02:57.211 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 10:02:57.214 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 10:02:57.216 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 10:02:57.216 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel2376
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel2376 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 10:02:58.294 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 10:02:58.326 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel2376 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel2376 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 10:02:59.513 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 10:02:59.516 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 10:02:59.517 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 10:02:59.517 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel2376>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel2376 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel2376> channel'
RUNTEST: chaincode-install.sh testchannel2376 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel2376 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel2376[m[m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel9250 sberbank ; ./verify/test-channel-exists.sh testchannel9250 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel9250 sberbank VERIFY: test-channel-exists.sh testchannel9250 sberbank
[1;36m
Creating the <testchannel9250> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel9250[m[m[m
example.net

Create channel sberbank testchannel9250
--2020-02-27 11:34:41--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:34:41--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:34:41--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:34:41--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 11:34:41.998 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 11:34:42.074 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:34:42.074 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:34:42.074 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 11:34:42.074 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 11:34:42.074 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 11:34:42.074 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 11:34:42.074 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 11:34:42.074 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:34:42.125 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:34:42.125 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:34:42.125 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 11:34:42.125 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:34:42.125 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 11:34:42.125 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:34:42.125 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:34:42.125 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:34:42.127 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 11:34:42.127 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:34:42.127 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:34:42.127 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:34:42.128 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 11:34:42.128 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 11:34:42.202 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:34:42.238 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel9250.pb -o orderer.example.net:7050 -c testchannel9250 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:34:42.331 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:34:42.334 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 11:34:42.335 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 11:34:42.335 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel9250
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel9250 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:34:42.718 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:34:42.727 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel9250> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel9250> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 11:34:43.877 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:34:43.880 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:34:43.881 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:34:43.881 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel9250",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T11:34:42Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel9250> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel9250-02 vtb ; ./verify/test-channel-exists.sh testchannel9250-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel9250-02 vtb VERIFY: test-channel-exists.sh testchannel9250-02 vtb
[1;36m
Creating the <testchannel9250-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel9250-02[m[m[m
example.net

Create channel vtb testchannel9250-02
--2020-02-27 11:34:46--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:34:46--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:34:46--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:34:46--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 11:34:46.567 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 11:34:46.647 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:34:46.647 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:34:46.647 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 11:34:46.647 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 11:34:46.647 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 11:34:46.647 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 11:34:46.647 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 11:34:46.647 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:34:46.759 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:34:46.759 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:34:46.759 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 11:34:46.759 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:34:46.759 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 11:34:46.759 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:34:46.759 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:34:46.760 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:34:46.761 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 11:34:46.761 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:34:46.761 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:34:46.762 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:34:46.763 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 11:34:46.764 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 11:34:46.943 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:34:47.017 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel9250-02.pb -o orderer.example.net:7050 -c testchannel9250-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:34:47.149 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:34:47.151 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 11:34:47.152 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 11:34:47.152 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel9250-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel9250-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:34:47.521 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:34:47.531 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel9250-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel9250-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 11:34:48.749 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:34:48.752 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:34:48.753 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:34:48.753 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel9250-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T11:34:47Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel9250-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel9250 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel9250 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel9250> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel9250 sberbank vtb VERIFY: test-channel-add-org.sh testchannel9250 sberbank vtb
[1;36m
Add vtb to the testchannel9250 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel9250 vtb 7051 example.net[m[m[m
--2020-02-27 11:34:51--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:34:51--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:34:51--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel9250, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel9250.pb -o orderer.example.net:7050 -c testchannel9250 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:34:51.256 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:34:51.258 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:34:51.260 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:34:51.260 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel9250
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel9250 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:34:51.702 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:34:51.725 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel9250 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel9250 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 11:34:52.899 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:34:52.904 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 11:34:52.906 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 11:34:52.906 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel9250>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel9250 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel9250> channel'
RUNTEST: chaincode-install.sh testchannel9250 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel9250 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel9250[m[m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel5271 sberbank ; ./verify/test-channel-exists.sh testchannel5271 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel5271 sberbank VERIFY: test-channel-exists.sh testchannel5271 sberbank
[1;36m
Creating the <testchannel5271> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel5271[m[m[m
example.net

Create channel sberbank testchannel5271
--2020-02-27 11:36:23--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:36:23--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:36:23--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:36:23--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 11:36:23.801 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 11:36:23.890 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:36:23.890 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:36:23.890 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 11:36:23.890 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 11:36:23.890 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 11:36:23.891 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 11:36:23.891 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 11:36:23.891 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:36:23.953 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:36:23.953 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:36:23.953 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 11:36:23.953 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:36:23.953 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 11:36:23.953 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:36:23.953 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:36:23.953 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:36:23.954 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 11:36:23.954 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:36:23.954 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:36:23.954 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:36:23.955 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 11:36:23.955 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 11:36:24.052 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:36:24.092 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel5271.pb -o orderer.example.net:7050 -c testchannel5271 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:36:24.184 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:36:24.187 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 11:36:24.188 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 11:36:24.188 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel5271
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel5271 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:36:24.632 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:36:24.641 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel5271> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel5271> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 11:36:27.210 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:36:27.218 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:36:27.220 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:36:27.220 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel5271",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T11:36:24Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel5271> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel5271-02 vtb ; ./verify/test-channel-exists.sh testchannel5271-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel5271-02 vtb VERIFY: test-channel-exists.sh testchannel5271-02 vtb
[1;36m
Creating the <testchannel5271-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel5271-02[m[m[m
example.net

Create channel vtb testchannel5271-02
--2020-02-27 11:36:29--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:36:29--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:36:29--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:36:29--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 11:36:29.806 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 11:36:29.875 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:36:29.875 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:36:29.875 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 11:36:29.875 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 11:36:29.875 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 11:36:29.875 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 11:36:29.875 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 11:36:29.875 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:36:29.927 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:36:29.927 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:36:29.927 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 11:36:29.927 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:36:29.927 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 11:36:29.927 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:36:29.927 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:36:29.928 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:36:29.928 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 11:36:29.928 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:36:29.928 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:36:29.929 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:36:29.929 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 11:36:29.930 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 11:36:30.025 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:36:30.061 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel5271-02.pb -o orderer.example.net:7050 -c testchannel5271-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:36:30.142 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:36:30.145 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 11:36:30.147 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 11:36:30.147 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel5271-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel5271-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:36:30.521 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:36:30.531 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel5271-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel5271-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 11:36:31.809 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:36:31.812 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:36:31.814 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:36:31.814 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel5271-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T11:36:30Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel5271-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel5271 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel5271 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel5271> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel5271 sberbank vtb VERIFY: test-channel-add-org.sh testchannel5271 sberbank vtb
[1;36m
Add vtb to the testchannel5271 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel5271 vtb 7051 example.net[m[m[m
--2020-02-27 11:36:34--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:36:34--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:36:34--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel5271, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel5271.pb -o orderer.example.net:7050 -c testchannel5271 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:36:34.416 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:36:34.418 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:36:34.419 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:36:34.419 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel5271
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel5271 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:36:34.823 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:36:34.835 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel5271 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel5271 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 11:36:36.613 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:36:36.619 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 11:36:36.621 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 11:36:36.621 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel5271>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel5271 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel5271> channel'
RUNTEST: chaincode-install.sh testchannel5271 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel5271 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel5271[m[m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel4424 sberbank ; ./verify/test-channel-exists.sh testchannel4424 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel4424 sberbank VERIFY: test-channel-exists.sh testchannel4424 sberbank
[1;36m
Creating the <testchannel4424> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4424[m[m[m
example.net

Create channel sberbank testchannel4424
--2020-02-27 11:38:38--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:38:38--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:38:38--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:38:38--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 11:38:39.049 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 11:38:39.116 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:38:39.116 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:38:39.116 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 11:38:39.116 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 11:38:39.116 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 11:38:39.116 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 11:38:39.116 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 11:38:39.116 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:38:39.168 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:38:39.168 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:38:39.169 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 11:38:39.169 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:38:39.169 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 11:38:39.169 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:38:39.169 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:38:39.169 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:38:39.169 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 11:38:39.169 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:38:39.169 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:38:39.170 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:38:39.170 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 11:38:39.170 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 11:38:39.248 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:38:39.290 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel4424.pb -o orderer.example.net:7050 -c testchannel4424 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:38:39.369 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:38:39.373 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 11:38:39.374 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 11:38:39.374 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel4424
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4424 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:38:39.754 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:38:39.765 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel4424> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel4424> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 11:38:41.091 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:38:41.095 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:38:41.097 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:38:41.097 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel4424",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T11:38:39Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel4424> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel4424-02 vtb ; ./verify/test-channel-exists.sh testchannel4424-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel4424-02 vtb VERIFY: test-channel-exists.sh testchannel4424-02 vtb
[1;36m
Creating the <testchannel4424-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4424-02[m[m[m
example.net

Create channel vtb testchannel4424-02
--2020-02-27 11:38:43--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:38:43--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:38:43--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:38:43--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 11:38:43.692 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 11:38:43.750 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:38:43.750 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:38:43.750 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 11:38:43.750 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 11:38:43.750 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 11:38:43.750 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 11:38:43.750 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 11:38:43.750 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:38:43.800 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:38:43.800 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:38:43.800 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 11:38:43.800 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:38:43.800 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 11:38:43.800 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:38:43.800 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:38:43.800 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:38:43.801 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 11:38:43.801 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:38:43.801 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:38:43.801 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:38:43.801 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 11:38:43.802 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 11:38:43.876 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:38:43.911 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel4424-02.pb -o orderer.example.net:7050 -c testchannel4424-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:38:44.009 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:38:44.012 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 11:38:44.013 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 11:38:44.013 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel4424-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4424-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:38:44.401 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:38:44.412 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel4424-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel4424-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 11:38:45.827 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:38:45.832 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:38:45.834 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:38:45.834 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel4424-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T11:38:44Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel4424-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel4424 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel4424 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel4424> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel4424 sberbank vtb VERIFY: test-channel-add-org.sh testchannel4424 sberbank vtb
[1;36m
Add vtb to the testchannel4424 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel4424 vtb 7051 example.net[m[m[m
--2020-02-27 11:38:49--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:38:49--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:38:49--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel4424, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel4424.pb -o orderer.example.net:7050 -c testchannel4424 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:38:49.146 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:38:49.148 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:38:49.149 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:38:49.150 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel4424
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4424 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:38:49.528 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:38:49.539 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel4424 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel4424 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 11:38:50.623 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:38:50.625 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 11:38:50.626 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 11:38:50.626 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel4424>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel4424 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel4424> channel'
RUNTEST: chaincode-install.sh testchannel4424 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel4424 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel4424[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel29769 sberbank ; ./verify/test-channel-exists.sh testchannel29769 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel29769 sberbank VERIFY: test-channel-exists.sh testchannel29769 sberbank
[1;36m
Creating the <testchannel29769> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel29769[m[m[m
example.net

Create channel sberbank testchannel29769
--2020-02-27 11:39:41--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:39:41--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:39:41--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:39:41--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 11:39:41.727 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 11:39:41.799 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:39:41.799 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:39:41.799 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 11:39:41.799 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 11:39:41.799 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 11:39:41.799 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 11:39:41.799 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 11:39:41.799 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:39:41.854 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:39:41.854 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:39:41.854 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 11:39:41.854 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:39:41.854 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 11:39:41.854 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:39:41.854 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:39:41.855 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:39:41.856 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 11:39:41.856 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:39:41.856 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:39:41.856 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:39:41.856 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 11:39:41.857 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 11:39:41.930 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:39:41.970 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel29769.pb -o orderer.example.net:7050 -c testchannel29769 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:39:42.068 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:39:42.070 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 11:39:42.071 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 11:39:42.071 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel29769
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel29769 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:39:42.447 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:39:42.457 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel29769> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel29769> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 11:39:43.636 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:39:43.638 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:39:43.639 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:39:43.639 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel29769",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T11:39:42Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel29769> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel29769-02 vtb ; ./verify/test-channel-exists.sh testchannel29769-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel29769-02 vtb VERIFY: test-channel-exists.sh testchannel29769-02 vtb
[1;36m
Creating the <testchannel29769-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel29769-02[m[m[m
example.net

Create channel vtb testchannel29769-02
--2020-02-27 11:39:46--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:39:46--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:39:46--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:39:46--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 11:39:46.578 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 11:39:46.722 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:39:46.722 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:39:46.722 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 11:39:46.722 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 11:39:46.722 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 11:39:46.722 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 11:39:46.722 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 11:39:46.723 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:39:46.830 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:39:46.830 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:39:46.831 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 11:39:46.831 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:39:46.831 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 11:39:46.831 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:39:46.831 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:39:46.832 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:39:46.833 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 11:39:46.833 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:39:46.833 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:39:46.833 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:39:46.834 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 11:39:46.837 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 11:39:47.004 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:39:47.062 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel29769-02.pb -o orderer.example.net:7050 -c testchannel29769-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:39:47.248 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:39:47.251 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 11:39:47.261 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 11:39:47.262 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel29769-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel29769-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:39:47.743 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:39:47.756 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel29769-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel29769-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 11:39:49.061 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:39:49.064 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:39:49.065 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:39:49.065 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel29769-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T11:39:47Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel29769-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel29769 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel29769 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel29769> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel29769 sberbank vtb VERIFY: test-channel-add-org.sh testchannel29769 sberbank vtb
[1;36m
Add vtb to the testchannel29769 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel29769 vtb 7051 example.net[m[m[m
--2020-02-27 11:39:51--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:39:51--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:39:51--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel29769, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel29769.pb -o orderer.example.net:7050 -c testchannel29769 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:39:51.378 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:39:51.380 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:39:51.381 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:39:51.381 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel29769
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel29769 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:39:51.790 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:39:51.801 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel29769 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel29769 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 11:39:52.894 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:39:52.896 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 11:39:52.898 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 11:39:52.898 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel29769>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel29769 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel29769> channel'
RUNTEST: chaincode-install.sh testchannel29769 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel29769 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel29769[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel16849 sberbank ; ./verify/test-channel-exists.sh testchannel16849 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel16849 sberbank VERIFY: test-channel-exists.sh testchannel16849 sberbank
[1;36m
Creating the <testchannel16849> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel16849[m[m[m
example.net

Create channel sberbank testchannel16849
--2020-02-27 11:41:27--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:41:27--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:41:27--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:41:27--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 11:41:27.529 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 11:41:27.593 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:41:27.593 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:41:27.593 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 11:41:27.593 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 11:41:27.593 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 11:41:27.593 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 11:41:27.593 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 11:41:27.593 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:41:27.645 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:41:27.645 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:41:27.645 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 11:41:27.645 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:41:27.645 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 11:41:27.645 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:41:27.645 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:41:27.646 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:41:27.646 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 11:41:27.646 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:41:27.646 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:41:27.646 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:41:27.647 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 11:41:27.647 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 11:41:27.711 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:41:27.745 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel16849.pb -o orderer.example.net:7050 -c testchannel16849 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:41:27.848 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:41:27.850 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 11:41:27.852 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 11:41:27.852 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel16849
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel16849 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:41:28.253 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:41:28.263 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel16849> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel16849> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 11:41:29.580 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:41:29.583 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:41:29.584 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:41:29.584 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel16849",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T11:41:28Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel16849> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel16849-02 vtb ; ./verify/test-channel-exists.sh testchannel16849-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel16849-02 vtb VERIFY: test-channel-exists.sh testchannel16849-02 vtb
[1;36m
Creating the <testchannel16849-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel16849-02[m[m[m
example.net

Create channel vtb testchannel16849-02
--2020-02-27 11:41:31--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:41:31--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:41:31--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:41:31--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 11:41:32.057 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 11:41:32.118 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:41:32.118 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:41:32.118 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 11:41:32.118 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 11:41:32.118 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 11:41:32.118 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 11:41:32.118 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 11:41:32.118 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:41:32.171 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:41:32.171 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:41:32.171 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 11:41:32.171 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:41:32.171 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 11:41:32.171 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:41:32.171 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:41:32.171 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:41:32.172 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 11:41:32.173 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:41:32.173 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:41:32.173 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:41:32.174 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 11:41:32.174 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 11:41:32.244 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:41:32.280 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel16849-02.pb -o orderer.example.net:7050 -c testchannel16849-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:41:32.353 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:41:32.356 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 11:41:32.357 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 11:41:32.357 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel16849-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel16849-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:41:32.740 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:41:32.751 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel16849-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel16849-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 11:41:33.975 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:41:33.979 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:41:33.981 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:41:33.982 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel16849-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T11:41:32Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel16849-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel16849 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel16849 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel16849> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel16849 sberbank vtb VERIFY: test-channel-add-org.sh testchannel16849 sberbank vtb
[1;36m
Add vtb to the testchannel16849 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel16849 vtb 7051 example.net[m[m[m
--2020-02-27 11:41:36--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:41:36--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:41:36--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel16849, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel16849.pb -o orderer.example.net:7050 -c testchannel16849 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:41:36.833 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:41:36.844 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:41:36.847 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:41:36.847 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel16849
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel16849 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:41:37.610 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:41:37.621 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel16849 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel16849 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 11:41:38.780 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:41:38.782 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 11:41:38.783 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 11:41:38.783 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel16849>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel16849 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel16849> channel'
RUNTEST: chaincode-install.sh testchannel16849 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel16849 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel16849[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel26905 sberbank ; ./verify/test-channel-exists.sh testchannel26905 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel26905 sberbank VERIFY: test-channel-exists.sh testchannel26905 sberbank
[1;36m
Creating the <testchannel26905> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel26905[m[m[m
example.net

Create channel sberbank testchannel26905
--2020-02-27 11:41:57--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:41:57--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:41:57--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:41:57--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 11:41:57.351 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 11:41:57.453 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:41:57.453 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:41:57.453 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 11:41:57.453 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 11:41:57.453 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 11:41:57.453 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 11:41:57.453 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 11:41:57.453 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:41:57.511 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:41:57.511 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:41:57.511 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 11:41:57.511 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:41:57.511 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 11:41:57.511 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:41:57.511 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:41:57.511 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:41:57.512 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 11:41:57.512 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:41:57.512 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:41:57.512 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:41:57.513 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 11:41:57.513 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 11:41:57.602 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:41:57.636 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel26905.pb -o orderer.example.net:7050 -c testchannel26905 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:41:57.711 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:41:57.713 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 11:41:57.714 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 11:41:57.714 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel26905
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel26905 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:41:58.109 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:41:58.120 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel26905> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel26905> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 11:41:59.327 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:41:59.330 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:41:59.332 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:41:59.332 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel26905",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T11:41:58Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel26905> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel26905-02 vtb ; ./verify/test-channel-exists.sh testchannel26905-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel26905-02 vtb VERIFY: test-channel-exists.sh testchannel26905-02 vtb
[1;36m
Creating the <testchannel26905-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel26905-02[m[m[m
example.net

Create channel vtb testchannel26905-02
--2020-02-27 11:42:01--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:42:01--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:42:01--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:42:01--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 11:42:01.799 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 11:42:01.851 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:42:01.851 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:42:01.851 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 11:42:01.851 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 11:42:01.851 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 11:42:01.851 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 11:42:01.851 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 11:42:01.851 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:42:01.899 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:42:01.899 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:42:01.899 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 11:42:01.899 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:42:01.899 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 11:42:01.899 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:42:01.900 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:42:01.900 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:42:01.900 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 11:42:01.900 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:42:01.900 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:42:01.901 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:42:01.901 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 11:42:01.901 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 11:42:01.987 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:42:02.024 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel26905-02.pb -o orderer.example.net:7050 -c testchannel26905-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:42:02.113 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:42:02.115 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 11:42:02.116 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 11:42:02.116 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel26905-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel26905-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:42:02.482 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:42:02.491 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel26905-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel26905-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 11:42:03.781 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:42:03.784 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:42:03.786 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:42:03.786 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel26905-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T11:42:02Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel26905-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel26905 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel26905 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel26905> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel26905 sberbank vtb VERIFY: test-channel-add-org.sh testchannel26905 sberbank vtb
[1;36m
Add vtb to the testchannel26905 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel26905 vtb 7051 example.net[m[m[m
--2020-02-27 11:42:06--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:42:06--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:42:06--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel26905, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel26905.pb -o orderer.example.net:7050 -c testchannel26905 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:42:06.683 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:42:06.694 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:42:06.696 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:42:06.696 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel26905
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel26905 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:42:07.666 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:42:07.701 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel26905 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel26905 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 11:42:08.847 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:42:08.849 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 11:42:08.850 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 11:42:08.850 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel26905>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel26905 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel26905> channel'
RUNTEST: chaincode-install.sh testchannel26905 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel26905 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel26905[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel23916 sberbank ; ./verify/test-channel-exists.sh testchannel23916 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel23916 sberbank VERIFY: test-channel-exists.sh testchannel23916 sberbank
[1;36m
Creating the <testchannel23916> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel23916[m[m[m
example.net

Create channel sberbank testchannel23916
--2020-02-27 11:43:19--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:43:19--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:43:19--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:43:19--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 11:43:19.381 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 11:43:19.454 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:43:19.454 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:43:19.454 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 11:43:19.455 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 11:43:19.455 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 11:43:19.455 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 11:43:19.455 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 11:43:19.455 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:43:19.505 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:43:19.505 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:43:19.505 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 11:43:19.505 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:43:19.505 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 11:43:19.505 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:43:19.505 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:43:19.506 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:43:19.506 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 11:43:19.506 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:43:19.506 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:43:19.506 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:43:19.506 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 11:43:19.507 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 11:43:19.571 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:43:19.606 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel23916.pb -o orderer.example.net:7050 -c testchannel23916 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:43:19.683 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:43:19.685 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 11:43:19.686 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 11:43:19.686 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel23916
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel23916 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:43:20.097 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:43:20.109 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel23916> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel23916> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 11:43:21.488 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:43:21.490 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:43:21.491 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:43:21.491 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel23916",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T11:43:20Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel23916> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel23916-02 vtb ; ./verify/test-channel-exists.sh testchannel23916-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel23916-02 vtb VERIFY: test-channel-exists.sh testchannel23916-02 vtb
[1;36m
Creating the <testchannel23916-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel23916-02[m[m[m
example.net

Create channel vtb testchannel23916-02
--2020-02-27 11:43:23--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:43:23--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:43:23--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:43:23--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 11:43:24.016 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 11:43:24.086 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:43:24.087 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:43:24.087 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 11:43:24.087 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 11:43:24.087 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 11:43:24.087 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 11:43:24.087 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 11:43:24.087 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:43:24.137 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:43:24.137 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:43:24.137 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 11:43:24.137 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:43:24.137 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 11:43:24.137 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:43:24.137 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:43:24.138 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:43:24.138 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 11:43:24.138 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:43:24.138 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:43:24.138 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:43:24.139 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 11:43:24.139 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 11:43:24.234 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:43:24.269 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel23916-02.pb -o orderer.example.net:7050 -c testchannel23916-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:43:24.343 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:43:24.346 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 11:43:24.347 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 11:43:24.347 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel23916-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel23916-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:43:24.739 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:43:24.749 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel23916-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel23916-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 11:43:25.965 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:43:25.969 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:43:25.970 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:43:25.970 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel23916-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T11:43:24Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel23916-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel23916 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel23916 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel23916> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel23916 sberbank vtb VERIFY: test-channel-add-org.sh testchannel23916 sberbank vtb
[1;36m
Add vtb to the testchannel23916 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel23916 vtb 7051 example.net[m[m[m
--2020-02-27 11:43:29--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:43:29--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:43:29--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel23916, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel23916.pb -o orderer.example.net:7050 -c testchannel23916 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:43:29.273 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:43:29.275 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:43:29.276 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:43:29.276 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel23916
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel23916 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:43:29.643 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:43:29.655 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel23916 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel23916 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 11:43:30.719 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:43:30.721 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 11:43:30.722 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 11:43:30.722 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel23916>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel23916 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel23916> channel'
RUNTEST: chaincode-install.sh testchannel23916 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel23916 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel23916[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel16703 sberbank ; ./verify/test-channel-exists.sh testchannel16703 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel16703 sberbank VERIFY: test-channel-exists.sh testchannel16703 sberbank
[1;36m
Creating the <testchannel16703> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel16703[m[m[m
example.net

Create channel sberbank testchannel16703
--2020-02-27 11:44:01--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:44:01--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:44:01--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:44:01--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 11:44:01.261 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 11:44:01.326 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:44:01.326 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:44:01.326 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 11:44:01.326 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 11:44:01.326 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 11:44:01.326 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 11:44:01.326 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 11:44:01.326 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:44:01.381 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:44:01.381 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:44:01.381 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 11:44:01.381 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:44:01.381 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 11:44:01.381 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:44:01.381 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:44:01.382 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:44:01.382 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 11:44:01.382 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:44:01.382 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:44:01.382 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:44:01.383 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 11:44:01.383 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 11:44:01.452 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:44:01.488 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel16703.pb -o orderer.example.net:7050 -c testchannel16703 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:44:01.560 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:44:01.562 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 11:44:01.564 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 11:44:01.564 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel16703
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel16703 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:44:01.990 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:44:02.006 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel16703> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel16703> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 11:44:03.197 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:44:03.200 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:44:03.201 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:44:03.201 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel16703",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T11:44:01Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel16703> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel16703-02 vtb ; ./verify/test-channel-exists.sh testchannel16703-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel16703-02 vtb VERIFY: test-channel-exists.sh testchannel16703-02 vtb
[1;36m
Creating the <testchannel16703-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel16703-02[m[m[m
example.net

Create channel vtb testchannel16703-02
--2020-02-27 11:44:05--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:44:05--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:44:05--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:44:05--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 11:44:05.646 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 11:44:05.699 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:44:05.700 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:44:05.700 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 11:44:05.700 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 11:44:05.700 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 11:44:05.700 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 11:44:05.700 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 11:44:05.700 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:44:05.749 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:44:05.749 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:44:05.749 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 11:44:05.749 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:44:05.749 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 11:44:05.749 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:44:05.749 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:44:05.750 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:44:05.750 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 11:44:05.750 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:44:05.750 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:44:05.750 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:44:05.751 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 11:44:05.751 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 11:44:05.815 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:44:05.848 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel16703-02.pb -o orderer.example.net:7050 -c testchannel16703-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:44:05.919 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:44:05.921 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 11:44:05.923 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 11:44:05.923 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel16703-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel16703-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:44:06.668 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:44:06.697 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel16703-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel16703-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 11:44:08.414 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:44:08.416 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:44:08.417 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:44:08.417 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel16703-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T11:44:06Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel16703-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel16703 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel16703 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel16703> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel16703 sberbank vtb VERIFY: test-channel-add-org.sh testchannel16703 sberbank vtb
[1;36m
Add vtb to the testchannel16703 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel16703 vtb 7051 example.net[m[m[m
--2020-02-27 11:44:10--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:44:10--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:44:10--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel16703, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel16703.pb -o orderer.example.net:7050 -c testchannel16703 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:44:10.930 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:44:10.932 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:44:10.933 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:44:10.933 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel16703
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel16703 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:44:11.340 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:44:11.355 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel16703 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel16703 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 11:44:12.540 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:44:12.542 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 11:44:12.544 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 11:44:12.544 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel16703>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel16703 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel16703> channel'
RUNTEST: chaincode-install.sh testchannel16703 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel16703 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel16703[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel29807 sberbank ; ./verify/test-channel-exists.sh testchannel29807 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel29807 sberbank VERIFY: test-channel-exists.sh testchannel29807 sberbank
[1;36m
Creating the <testchannel29807> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel29807[m[m[m
example.net

Create channel sberbank testchannel29807
--2020-02-27 11:45:19--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:45:19--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:45:19--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:45:19--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 11:45:19.212 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 11:45:19.290 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:45:19.290 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:45:19.290 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 11:45:19.290 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 11:45:19.290 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 11:45:19.290 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 11:45:19.290 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 11:45:19.290 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:45:19.342 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:45:19.342 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:45:19.342 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 11:45:19.342 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:45:19.342 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 11:45:19.342 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:45:19.342 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:45:19.343 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:45:19.343 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 11:45:19.343 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:45:19.343 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:45:19.343 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:45:19.344 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 11:45:19.344 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 11:45:19.422 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:45:19.457 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel29807.pb -o orderer.example.net:7050 -c testchannel29807 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:45:19.536 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:45:19.537 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 11:45:19.538 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 11:45:19.538 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel29807
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel29807 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:45:19.920 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:45:19.936 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel29807> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel29807> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 11:45:21.189 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:45:21.193 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:45:21.194 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:45:21.194 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel29807",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T11:45:19Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel29807> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel29807-02 vtb ; ./verify/test-channel-exists.sh testchannel29807-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel29807-02 vtb VERIFY: test-channel-exists.sh testchannel29807-02 vtb
[1;36m
Creating the <testchannel29807-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel29807-02[m[m[m
example.net

Create channel vtb testchannel29807-02
--2020-02-27 11:45:23--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:45:23--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:45:23--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:45:23--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 11:45:23.721 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 11:45:23.778 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:45:23.778 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:45:23.778 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 11:45:23.778 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 11:45:23.778 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 11:45:23.778 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 11:45:23.778 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 11:45:23.778 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:45:23.829 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:45:23.829 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:45:23.829 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 11:45:23.829 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:45:23.829 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 11:45:23.829 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:45:23.830 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:45:23.830 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:45:23.830 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 11:45:23.830 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:45:23.830 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:45:23.831 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:45:23.831 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 11:45:23.831 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 11:45:23.900 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:45:23.937 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel29807-02.pb -o orderer.example.net:7050 -c testchannel29807-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:45:24.043 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:45:24.045 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 11:45:24.046 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 11:45:24.046 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel29807-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel29807-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:45:24.414 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:45:24.423 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel29807-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel29807-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 11:45:25.693 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:45:25.696 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:45:25.697 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:45:25.697 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel29807-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T11:45:24Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel29807-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel29807 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel29807 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel29807> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel29807 sberbank vtb VERIFY: test-channel-add-org.sh testchannel29807 sberbank vtb
[1;36m
Add vtb to the testchannel29807 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel29807 vtb 7051 example.net[m[m[m
--2020-02-27 11:45:28--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:45:28--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:45:28--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel29807, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel29807.pb -o orderer.example.net:7050 -c testchannel29807 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:45:28.884 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:45:28.886 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:45:28.887 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:45:28.887 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel29807
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel29807 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:45:29.300 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:45:29.311 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel29807 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel29807 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 11:45:30.460 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:45:30.463 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 11:45:30.464 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 11:45:30.464 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel29807>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel29807 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel29807> channel'
RUNTEST: chaincode-install.sh testchannel29807 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel29807 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel29807[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel3471 sberbank ; ./verify/test-channel-exists.sh testchannel3471 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel3471 sberbank VERIFY: test-channel-exists.sh testchannel3471 sberbank
[1;36m
Creating the <testchannel3471> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel3471[m[m[m
example.net

Create channel sberbank testchannel3471
--2020-02-27 11:46:52--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:46:52--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:46:52--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:46:52--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 11:46:52.346 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 11:46:52.412 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:46:52.412 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:46:52.412 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 11:46:52.412 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 11:46:52.412 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 11:46:52.412 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 11:46:52.412 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 11:46:52.412 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:46:52.461 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:46:52.461 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:46:52.461 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 11:46:52.461 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:46:52.461 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 11:46:52.462 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:46:52.462 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:46:52.462 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:46:52.462 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 11:46:52.462 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:46:52.463 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:46:52.463 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:46:52.463 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 11:46:52.463 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 11:46:52.549 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:46:52.589 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel3471.pb -o orderer.example.net:7050 -c testchannel3471 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:46:52.729 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:46:52.731 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 11:46:52.733 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 11:46:52.733 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel3471
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel3471 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:46:53.159 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:46:53.169 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel3471> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel3471> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 11:46:54.501 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:46:54.505 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:46:54.507 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:46:54.507 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel3471",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T11:46:53Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel3471> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel3471-02 vtb ; ./verify/test-channel-exists.sh testchannel3471-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel3471-02 vtb VERIFY: test-channel-exists.sh testchannel3471-02 vtb
[1;36m
Creating the <testchannel3471-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel3471-02[m[m[m
example.net

Create channel vtb testchannel3471-02
--2020-02-27 11:46:57--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:46:57--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:46:57--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:46:57--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 11:46:57.384 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 11:46:57.526 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:46:57.526 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:46:57.526 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 11:46:57.526 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 11:46:57.526 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 11:46:57.526 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 11:46:57.527 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 11:46:57.527 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:46:57.669 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:46:57.669 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:46:57.671 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 11:46:57.671 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:46:57.672 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 11:46:57.672 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:46:57.672 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:46:57.673 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:46:57.673 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 11:46:57.673 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:46:57.674 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:46:57.674 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:46:57.675 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 11:46:57.675 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 11:46:57.769 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:46:57.807 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel3471-02.pb -o orderer.example.net:7050 -c testchannel3471-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:46:57.906 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:46:57.908 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 11:46:57.909 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 11:46:57.909 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel3471-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel3471-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:46:58.295 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:46:58.304 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel3471-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel3471-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 11:46:59.593 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:46:59.596 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:46:59.598 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:46:59.598 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel3471-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T11:46:58Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel3471-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel3471 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel3471 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel3471> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel3471 sberbank vtb VERIFY: test-channel-add-org.sh testchannel3471 sberbank vtb
[1;36m
Add vtb to the testchannel3471 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel3471 vtb 7051 example.net[m[m[m
--2020-02-27 11:47:02--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:47:02--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:47:02--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel3471, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel3471.pb -o orderer.example.net:7050 -c testchannel3471 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:47:02.128 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:47:02.131 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:47:02.132 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:47:02.132 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel3471
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel3471 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:47:02.499 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:47:02.519 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel3471 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel3471 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 11:47:03.572 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:47:03.575 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 11:47:03.576 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 11:47:03.577 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel3471>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel3471 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel3471> channel'
RUNTEST: chaincode-install.sh testchannel3471 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel3471 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel3471[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel18346 sberbank ; ./verify/test-channel-exists.sh testchannel18346 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel18346 sberbank VERIFY: test-channel-exists.sh testchannel18346 sberbank
[1;36m
Creating the <testchannel18346> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel18346[m[m[m
example.net

Create channel sberbank testchannel18346
--2020-02-27 11:47:40--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:47:40--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:47:40--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:47:40--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 11:47:40.838 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 11:47:40.904 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:47:40.904 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:47:40.904 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 11:47:40.904 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 11:47:40.904 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 11:47:40.904 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 11:47:40.904 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 11:47:40.904 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:47:40.959 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:47:40.959 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:47:40.959 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 11:47:40.959 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:47:40.959 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 11:47:40.959 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:47:40.959 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:47:40.960 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:47:40.960 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 11:47:40.960 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:47:40.960 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:47:40.960 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:47:40.961 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 11:47:40.961 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 11:47:41.053 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:47:41.089 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel18346.pb -o orderer.example.net:7050 -c testchannel18346 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:47:41.177 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:47:41.179 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 11:47:41.180 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 11:47:41.180 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel18346
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel18346 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:47:41.558 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:47:41.567 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel18346> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel18346> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 11:47:42.778 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:47:42.780 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:47:42.781 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:47:42.781 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel18346",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T11:47:41Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel18346> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel18346-02 vtb ; ./verify/test-channel-exists.sh testchannel18346-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel18346-02 vtb VERIFY: test-channel-exists.sh testchannel18346-02 vtb
[1;36m
Creating the <testchannel18346-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel18346-02[m[m[m
example.net

Create channel vtb testchannel18346-02
--2020-02-27 11:47:45--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:47:45--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:47:45--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:47:45--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 11:47:45.191 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 11:47:45.259 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:47:45.260 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:47:45.260 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 11:47:45.260 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 11:47:45.260 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 11:47:45.260 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 11:47:45.260 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 11:47:45.260 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:47:45.313 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:47:45.313 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:47:45.313 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 11:47:45.313 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:47:45.313 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 11:47:45.313 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:47:45.313 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:47:45.314 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:47:45.314 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 11:47:45.314 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:47:45.314 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:47:45.315 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:47:45.315 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 11:47:45.315 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 11:47:45.385 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:47:45.420 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel18346-02.pb -o orderer.example.net:7050 -c testchannel18346-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:47:45.502 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:47:45.504 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 11:47:45.505 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 11:47:45.505 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel18346-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel18346-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:47:45.884 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:47:45.896 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel18346-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel18346-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 11:47:48.188 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:47:48.190 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:47:48.191 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:47:48.191 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel18346-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T11:47:45Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel18346-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel18346 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel18346 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel18346> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel18346 sberbank vtb VERIFY: test-channel-add-org.sh testchannel18346 sberbank vtb
[1;36m
Add vtb to the testchannel18346 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel18346 vtb 7051 example.net[m[m[m
--2020-02-27 11:47:50--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:47:50--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:47:50--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel18346, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel18346.pb -o orderer.example.net:7050 -c testchannel18346 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:47:50.792 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:47:50.793 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:47:50.795 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:47:50.795 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel18346
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel18346 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:47:51.227 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:47:51.239 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel18346 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel18346 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 11:47:52.310 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:47:52.312 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 11:47:52.313 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 11:47:52.313 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel18346>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel18346 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel18346> channel'
RUNTEST: chaincode-install.sh testchannel18346 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel18346 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel18346[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel7635 sberbank ; ./verify/test-channel-exists.sh testchannel7635 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel7635 sberbank VERIFY: test-channel-exists.sh testchannel7635 sberbank
[1;36m
Creating the <testchannel7635> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel7635[m[m[m
example.net

Create channel sberbank testchannel7635
--2020-02-27 11:48:39--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:48:39--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:48:39--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:48:39--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 11:48:39.606 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 11:48:39.671 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:48:39.671 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:48:39.671 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 11:48:39.671 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 11:48:39.671 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 11:48:39.671 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 11:48:39.671 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 11:48:39.671 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:48:39.718 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:48:39.718 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:48:39.718 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 11:48:39.718 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:48:39.718 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 11:48:39.718 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:48:39.718 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:48:39.719 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:48:39.719 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 11:48:39.719 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:48:39.719 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:48:39.719 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:48:39.720 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 11:48:39.720 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 11:48:39.799 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:48:39.833 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel7635.pb -o orderer.example.net:7050 -c testchannel7635 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:48:39.922 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:48:39.924 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 11:48:39.926 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 11:48:39.926 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel7635
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel7635 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:48:40.313 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:48:40.323 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel7635> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel7635> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 11:48:41.624 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:48:41.628 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:48:41.629 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:48:41.629 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel7635",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T11:48:40Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel7635> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel7635-02 vtb ; ./verify/test-channel-exists.sh testchannel7635-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel7635-02 vtb VERIFY: test-channel-exists.sh testchannel7635-02 vtb
[1;36m
Creating the <testchannel7635-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel7635-02[m[m[m
example.net

Create channel vtb testchannel7635-02
--2020-02-27 11:48:44--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:48:44--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:48:44--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:48:44--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 11:48:44.193 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 11:48:44.266 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:48:44.266 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:48:44.267 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 11:48:44.267 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 11:48:44.267 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 11:48:44.267 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 11:48:44.267 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 11:48:44.267 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:48:44.319 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:48:44.319 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:48:44.319 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 11:48:44.319 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:48:44.319 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 11:48:44.319 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:48:44.319 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:48:44.320 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:48:44.320 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 11:48:44.320 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:48:44.320 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:48:44.320 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:48:44.321 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 11:48:44.321 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 11:48:44.397 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:48:44.433 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel7635-02.pb -o orderer.example.net:7050 -c testchannel7635-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:48:44.503 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:48:44.506 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 11:48:44.507 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 11:48:44.507 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel7635-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel7635-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:48:44.892 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:48:44.902 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel7635-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel7635-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 11:48:46.108 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:48:46.110 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:48:46.111 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:48:46.111 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel7635-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T11:48:44Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel7635-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel7635 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel7635 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel7635> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel7635 sberbank vtb VERIFY: test-channel-add-org.sh testchannel7635 sberbank vtb
[1;36m
Add vtb to the testchannel7635 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel7635 vtb 7051 example.net[m[m[m
--2020-02-27 11:48:49--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:48:49--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:48:49--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel7635, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel7635.pb -o orderer.example.net:7050 -c testchannel7635 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:48:49.374 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:48:49.377 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:48:49.378 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:48:49.378 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel7635
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel7635 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:48:49.787 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:48:49.799 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel7635 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel7635 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 11:48:50.872 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:48:50.874 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 11:48:50.876 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 11:48:50.876 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel7635>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel7635 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel7635> channel'
RUNTEST: chaincode-install.sh testchannel7635 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel7635 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel7635[m[m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel32042 sberbank ; ./verify/test-channel-exists.sh testchannel32042 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel32042 sberbank VERIFY: test-channel-exists.sh testchannel32042 sberbank
[1;36m
Creating the <testchannel32042> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32042[m[m[m
example.net

Create channel sberbank testchannel32042
--2020-02-27 11:49:36--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:49:36--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:49:36--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:49:36--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 11:49:37.077 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 11:49:37.258 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:49:37.258 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:49:37.258 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 11:49:37.258 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 11:49:37.258 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 11:49:37.258 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 11:49:37.258 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 11:49:37.258 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:49:37.369 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:49:37.369 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:49:37.369 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 11:49:37.369 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:49:37.369 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 11:49:37.369 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:49:37.370 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:49:37.370 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:49:37.371 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 11:49:37.371 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:49:37.371 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:49:37.371 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:49:37.372 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 11:49:37.372 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 11:49:37.471 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:49:37.529 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel32042.pb -o orderer.example.net:7050 -c testchannel32042 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:49:37.684 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:49:37.689 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 11:49:37.691 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 11:49:37.691 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel32042
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32042 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:49:38.393 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:49:38.402 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel32042> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel32042> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 11:49:39.745 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:49:39.748 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:49:39.749 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:49:39.749 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel32042",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T11:49:38Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel32042> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel32042-02 vtb ; ./verify/test-channel-exists.sh testchannel32042-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel32042-02 vtb VERIFY: test-channel-exists.sh testchannel32042-02 vtb
[1;36m
Creating the <testchannel32042-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32042-02[m[m[m
example.net

Create channel vtb testchannel32042-02
--2020-02-27 11:49:42--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:49:42--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:49:42--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:49:42--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 11:49:42.265 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 11:49:42.333 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:49:42.333 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:49:42.333 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 11:49:42.333 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 11:49:42.333 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 11:49:42.333 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 11:49:42.333 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 11:49:42.333 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:49:42.384 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:49:42.384 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:49:42.384 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 11:49:42.384 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:49:42.384 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 11:49:42.384 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:49:42.385 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:49:42.385 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:49:42.385 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 11:49:42.385 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:49:42.385 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:49:42.386 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:49:42.386 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 11:49:42.386 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 11:49:42.447 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:49:42.482 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel32042-02.pb -o orderer.example.net:7050 -c testchannel32042-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:49:42.573 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:49:42.575 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 11:49:42.576 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 11:49:42.576 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel32042-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32042-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:49:42.940 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:49:42.956 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel32042-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel32042-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 11:49:44.330 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:49:44.332 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:49:44.333 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:49:44.333 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel32042-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T11:49:42Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel32042-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel32042 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel32042 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel32042> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel32042 sberbank vtb VERIFY: test-channel-add-org.sh testchannel32042 sberbank vtb
[1;36m
Add vtb to the testchannel32042 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel32042 vtb 7051 example.net[m[m[m
--2020-02-27 11:49:46--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:49:46--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:49:46--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel32042, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel32042.pb -o orderer.example.net:7050 -c testchannel32042 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:49:47.154 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:49:47.163 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:49:47.166 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:49:47.166 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel32042
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32042 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:49:48.053 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:49:48.069 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel32042 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel32042 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 11:49:49.193 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:49:49.196 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 11:49:49.198 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 11:49:49.198 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel32042>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel32042 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel32042> channel'
RUNTEST: chaincode-install.sh testchannel32042 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel32042 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel32042[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference__testchannel32042[m[m[m CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051 CORE_PEER_LOCALMSPID=sberbank CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt CORE_PEER_TLS_ENABLED=true CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock DOMAIN=example.net ENROLL_ID=admin ENROLL_SECRET=adminpw FABRIC_CFG_PATH=/etc/hyperledger/fabric FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG GOPATH=/opt/gopath GOROOT=/opt/go HOME=/root HOSTNAME=2466af1126f0 JAVA_HOME=/opt/java/openjdk JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle JAVA_VERSION=jdk8u222-b10_openj9-0.15.1 LANG=en_US.UTF-8 LANGUAGE=en_US:en LC_ALL=en_US.UTF-8 ORDERER_BATCH_TIMEOUT=2 ORDERER_GENERAL_LISTENPORT=7050 ORDERER_NAME=orderer ORG=sberbank PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin PEER0_PORT=7051 PWD=/etc/hyperledger RAFT0_PORT=7050 RAFT1_PORT=7150 RAFT2_PORT=7250 SHLVL=2 SIGNATURE_HASH_FAMILY=SHA2 SYSTEM_CHANNEL_ID=orderer-system-channel TERM=xterm _=/usr/bin/env Install chaincode reference__testchannel32042 /opt/chaincode/node/reference__testchannel32042 node 1.0 [34m2020-02-27 11:49:54.375 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc [34m2020-02-27 11:49:54.376 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc Error: error getting chaincode code reference__testchannel32042: path to chaincode does not exist: /opt/chaincode/node/reference__testchannel32042 [1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel15264 sberbank ; ./verify/test-channel-exists.sh testchannel15264 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel15264 sberbank VERIFY: test-channel-exists.sh testchannel15264 sberbank
[1;36m
Creating the <testchannel15264> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel15264[m[m[m
example.net

Create channel sberbank testchannel15264
--2020-02-27 11:50:19--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:50:19--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:50:19--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:50:19--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 11:50:19.801 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 11:50:19.855 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:50:19.855 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:50:19.855 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 11:50:19.855 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 11:50:19.855 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 11:50:19.856 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 11:50:19.856 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 11:50:19.856 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:50:19.907 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:50:19.907 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:50:19.907 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 11:50:19.907 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:50:19.907 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 11:50:19.907 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:50:19.907 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:50:19.907 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:50:19.908 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 11:50:19.908 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:50:19.908 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:50:19.908 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:50:19.908 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 11:50:19.908 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 11:50:19.997 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:50:20.040 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel15264.pb -o orderer.example.net:7050 -c testchannel15264 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:50:20.122 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:50:20.124 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 11:50:20.126 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 11:50:20.126 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel15264
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel15264 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:50:20.490 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:50:20.501 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel15264> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel15264> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 11:50:21.780 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:50:21.783 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:50:21.784 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:50:21.784 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel15264",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T11:50:20Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel15264> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel15264-02 vtb ; ./verify/test-channel-exists.sh testchannel15264-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel15264-02 vtb VERIFY: test-channel-exists.sh testchannel15264-02 vtb
[1;36m
Creating the <testchannel15264-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel15264-02[m[m[m
example.net

Create channel vtb testchannel15264-02
--2020-02-27 11:50:24--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:50:24--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:50:24--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:50:24--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 11:50:24.292 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 11:50:24.353 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:50:24.353 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:50:24.353 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 11:50:24.353 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 11:50:24.353 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 11:50:24.353 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 11:50:24.353 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 11:50:24.354 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:50:24.403 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:50:24.403 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:50:24.403 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 11:50:24.403 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:50:24.403 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 11:50:24.403 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:50:24.403 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:50:24.404 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:50:24.404 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 11:50:24.404 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:50:24.404 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:50:24.405 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:50:24.405 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 11:50:24.405 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 11:50:24.481 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:50:24.517 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel15264-02.pb -o orderer.example.net:7050 -c testchannel15264-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:50:24.600 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:50:24.603 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 11:50:24.604 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 11:50:24.604 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel15264-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel15264-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:50:25.000 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:50:25.017 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel15264-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel15264-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 11:50:26.215 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:50:26.218 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:50:26.219 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:50:26.219 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel15264-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T11:50:25Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel15264-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel15264 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel15264 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel15264> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel15264 sberbank vtb VERIFY: test-channel-add-org.sh testchannel15264 sberbank vtb
[1;36m
Add vtb to the testchannel15264 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel15264 vtb 7051 example.net[m[m[m
--2020-02-27 11:50:29--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:50:29--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:50:29--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel15264, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel15264.pb -o orderer.example.net:7050 -c testchannel15264 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:50:29.344 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:50:29.347 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:50:29.348 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:50:29.348 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel15264
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel15264 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:50:29.730 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:50:29.742 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel15264 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel15264 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 11:50:30.856 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:50:30.859 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 11:50:30.860 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 11:50:30.860 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel15264>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel15264 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel15264> channel'
RUNTEST: chaincode-install.sh testchannel15264 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel15264 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel15264[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference__testchannel15264[m[m[m CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051 CORE_PEER_LOCALMSPID=sberbank CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt CORE_PEER_TLS_ENABLED=true CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock DOMAIN=example.net ENROLL_ID=admin ENROLL_SECRET=adminpw FABRIC_CFG_PATH=/etc/hyperledger/fabric FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG GOPATH=/opt/gopath GOROOT=/opt/go HOME=/root HOSTNAME=af46a16b8b66 JAVA_HOME=/opt/java/openjdk JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle JAVA_VERSION=jdk8u222-b10_openj9-0.15.1 LANG=en_US.UTF-8 LANGUAGE=en_US:en LC_ALL=en_US.UTF-8 ORDERER_BATCH_TIMEOUT=2 ORDERER_GENERAL_LISTENPORT=7050 ORDERER_NAME=orderer ORG=sberbank PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin PEER0_PORT=7051 PWD=/etc/hyperledger RAFT0_PORT=7050 RAFT1_PORT=7150 RAFT2_PORT=7250 SHLVL=2 SIGNATURE_HASH_FAMILY=SHA2 SYSTEM_CHANNEL_ID=orderer-system-channel TERM=xterm _=/usr/bin/env Install chaincode reference__testchannel15264 /opt/chaincode/node/reference__testchannel15264 node 1.0 [34m2020-02-27 11:50:36.098 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc [34m2020-02-27 11:50:36.098 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc Error: error getting chaincode code reference__testchannel15264: path to chaincode does not exist: /opt/chaincode/node/reference__testchannel15264 [1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel2986 sberbank ; ./verify/test-channel-exists.sh testchannel2986 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel2986 sberbank VERIFY: test-channel-exists.sh testchannel2986 sberbank
[1;36m
Creating the <testchannel2986> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel2986[m[m[m
example.net

Create channel sberbank testchannel2986
--2020-02-27 11:57:22--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:57:22--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:57:22--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:57:22--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 11:57:22.202 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 11:57:22.266 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:57:22.266 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:57:22.266 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 11:57:22.266 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 11:57:22.266 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 11:57:22.266 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 11:57:22.266 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 11:57:22.266 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:57:22.318 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:57:22.318 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:57:22.318 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 11:57:22.318 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:57:22.318 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 11:57:22.318 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:57:22.318 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:57:22.319 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:57:22.319 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 11:57:22.319 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:57:22.319 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:57:22.319 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:57:22.320 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 11:57:22.320 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 11:57:22.396 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:57:22.431 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel2986.pb -o orderer.example.net:7050 -c testchannel2986 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:57:22.520 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:57:22.522 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 11:57:22.523 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 11:57:22.523 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel2986
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel2986 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:57:22.911 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:57:22.920 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel2986> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel2986> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 11:57:24.169 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:57:24.171 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:57:24.172 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:57:24.172 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel2986",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T11:57:22Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel2986> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel2986-02 vtb ; ./verify/test-channel-exists.sh testchannel2986-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel2986-02 vtb VERIFY: test-channel-exists.sh testchannel2986-02 vtb
[1;36m
Creating the <testchannel2986-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel2986-02[m[m[m
example.net

Create channel vtb testchannel2986-02
--2020-02-27 11:57:26--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:57:26--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:57:26--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:57:26--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 11:57:26.645 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 11:57:26.712 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:57:26.712 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:57:26.712 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 11:57:26.712 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 11:57:26.712 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 11:57:26.712 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 11:57:26.712 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 11:57:26.712 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:57:26.763 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 11:57:26.763 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 11:57:26.763 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 11:57:26.763 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 11:57:26.763 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 11:57:26.763 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:57:26.763 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:57:26.764 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:57:26.764 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 11:57:26.764 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 11:57:26.764 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 11:57:26.764 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 11:57:26.765 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 11:57:26.765 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 11:57:26.836 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:57:26.880 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel2986-02.pb -o orderer.example.net:7050 -c testchannel2986-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:57:26.957 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:57:26.959 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 11:57:26.960 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 11:57:26.960 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel2986-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel2986-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:57:27.948 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:57:27.976 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel2986-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel2986-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 11:57:29.615 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:57:29.618 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:57:29.619 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:57:29.620 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel2986-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T11:57:27Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel2986-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel2986 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel2986 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel2986> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel2986 sberbank vtb VERIFY: test-channel-add-org.sh testchannel2986 sberbank vtb
[1;36m
Add vtb to the testchannel2986 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel2986 vtb 7051 example.net[m[m[m
--2020-02-27 11:57:31--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:57:32--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 11:57:32--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel2986, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel2986.pb -o orderer.example.net:7050 -c testchannel2986 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:57:32.110 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:57:32.112 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 11:57:32.114 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 11:57:32.114 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel2986
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel2986 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 11:57:32.490 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:57:32.500 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel2986 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel2986 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 11:57:33.637 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 11:57:33.640 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 11:57:33.641 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 11:57:33.641 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel2986>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel2986 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel2986> channel'
RUNTEST: chaincode-install.sh testchannel2986 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel2986 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel2986[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference__testchannel2986[m[m[m CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051 CORE_PEER_LOCALMSPID=sberbank CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt CORE_PEER_TLS_ENABLED=true CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock DOMAIN=example.net ENROLL_ID=admin ENROLL_SECRET=adminpw FABRIC_CFG_PATH=/etc/hyperledger/fabric FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG GOPATH=/opt/gopath GOROOT=/opt/go HOME=/root HOSTNAME=e5502fa97f84 JAVA_HOME=/opt/java/openjdk JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle JAVA_VERSION=jdk8u222-b10_openj9-0.15.1 LANG=en_US.UTF-8 LANGUAGE=en_US:en LC_ALL=en_US.UTF-8 ORDERER_BATCH_TIMEOUT=2 ORDERER_GENERAL_LISTENPORT=7050 ORDERER_NAME=orderer ORG=sberbank PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin PEER0_PORT=7051 PWD=/etc/hyperledger RAFT0_PORT=7050 RAFT1_PORT=7150 RAFT2_PORT=7250 SHLVL=2 SIGNATURE_HASH_FAMILY=SHA2 SYSTEM_CHANNEL_ID=orderer-system-channel TERM=xterm _=/usr/bin/env Install chaincode reference__testchannel2986 /opt/chaincode/node/reference__testchannel2986 node 1.0 [34m2020-02-27 11:57:39.340 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc [34m2020-02-27 11:57:39.340 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc Error: error getting chaincode code reference__testchannel2986: path to chaincode does not exist: /opt/chaincode/node/reference__testchannel2986 [1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel18444 sberbank ; ./verify/test-channel-exists.sh testchannel18444 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel18444 sberbank VERIFY: test-channel-exists.sh testchannel18444 sberbank
[1;36m
Creating the <testchannel18444> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel18444[m[m[m
example.net

Create channel sberbank testchannel18444
--2020-02-27 12:00:01--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:00:01--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:00:01--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:00:01--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:00:01.438 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:00:01.495 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:00:01.495 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:00:01.495 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:00:01.495 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:00:01.495 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:00:01.495 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:00:01.495 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:00:01.495 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:00:01.548 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:00:01.548 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:00:01.548 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:00:01.548 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:00:01.548 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:00:01.548 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:00:01.548 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:00:01.549 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:00:01.549 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:00:01.549 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:00:01.549 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:00:01.549 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:00:01.550 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:00:01.550 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:00:01.633 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:00:01.670 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel18444.pb -o orderer.example.net:7050 -c testchannel18444 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:00:01.773 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:00:01.775 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:00:01.777 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:00:01.777 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel18444
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel18444 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:00:02.211 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:00:02.220 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel18444> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel18444> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:00:03.331 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:00:03.335 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:00:03.336 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:00:03.336 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel18444",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:00:02Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel18444> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel18444-02 vtb ; ./verify/test-channel-exists.sh testchannel18444-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel18444-02 vtb VERIFY: test-channel-exists.sh testchannel18444-02 vtb
[1;36m
Creating the <testchannel18444-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel18444-02[m[m[m
example.net

Create channel vtb testchannel18444-02
--2020-02-27 12:00:05--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:00:05--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:00:05--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:00:05--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:00:05.773 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:00:05.826 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:00:05.826 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:00:05.827 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:00:05.827 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:00:05.827 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:00:05.827 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:00:05.827 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:00:05.827 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:00:05.879 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:00:05.879 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:00:05.879 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:00:05.879 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:00:05.879 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:00:05.879 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:00:05.880 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:00:05.880 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:00:05.880 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:00:05.881 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:00:05.881 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:00:05.881 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:00:05.881 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:00:05.882 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:00:05.947 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:00:05.992 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel18444-02.pb -o orderer.example.net:7050 -c testchannel18444-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:00:06.076 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:00:06.078 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:00:06.079 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:00:06.079 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel18444-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel18444-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:00:06.499 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:00:06.512 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel18444-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel18444-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:00:08.193 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:00:08.200 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:00:08.202 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:00:08.202 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel18444-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:00:06Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel18444-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel18444 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel18444 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel18444> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel18444 sberbank vtb VERIFY: test-channel-add-org.sh testchannel18444 sberbank vtb
[1;36m
Add vtb to the testchannel18444 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel18444 vtb 7051 example.net[m[m[m
--2020-02-27 12:00:10--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:00:10--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:00:10--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel18444, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel18444.pb -o orderer.example.net:7050 -c testchannel18444 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:00:11.090 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:00:11.092 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:00:11.093 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:00:11.093 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel18444
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel18444 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:00:11.467 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:00:11.478 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel18444 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel18444 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:00:12.468 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:00:12.470 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:00:12.471 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:00:12.471 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel18444>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel18444 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel18444> channel'
RUNTEST: chaincode-install.sh testchannel18444 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel18444 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel18444[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel9746 sberbank ; ./verify/test-channel-exists.sh testchannel9746 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel9746 sberbank VERIFY: test-channel-exists.sh testchannel9746 sberbank
[1;36m
Creating the <testchannel9746> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel9746[m[m[m
example.net

Create channel sberbank testchannel9746
--2020-02-27 12:03:13--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:03:13--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:03:13--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:03:13--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:03:13.432 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:03:13.508 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:03:13.508 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:03:13.508 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:03:13.508 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:03:13.508 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:03:13.508 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:03:13.508 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:03:13.508 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:03:13.560 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:03:13.560 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:03:13.560 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:03:13.560 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:03:13.560 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:03:13.560 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:03:13.560 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:03:13.560 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:03:13.561 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:03:13.561 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:03:13.561 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:03:13.561 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:03:13.561 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:03:13.562 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:03:13.632 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel9746': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application be at version 0, but it is currently at version 2
Execute: channel fetch config crypto-config/configtx/testchannel9746.pb -o orderer.example.net:7050 -c testchannel9746 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:03:13.726 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:03:13.729 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:03:13.730 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:03:13.730 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from sberbank for channel testchannel9746
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel9746 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:03:14.131 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:03:14.142 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel9746> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel9746> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:03:15.726 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:03:15.729 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:03:15.731 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:03:15.731 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"channel_id": "testchannel9746",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:03:14Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel9746> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel9746-02 vtb ; ./verify/test-channel-exists.sh testchannel9746-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel9746-02 vtb VERIFY: test-channel-exists.sh testchannel9746-02 vtb
[1;36m
Creating the <testchannel9746-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel9746-02[m[m[m
example.net

Create channel vtb testchannel9746-02
--2020-02-27 12:03:18--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:03:18--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:03:18--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:03:18--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:03:18.488 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:03:18.618 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:03:18.618 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:03:18.618 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:03:18.619 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:03:18.619 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:03:18.619 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:03:18.619 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:03:18.619 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:03:18.762 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:03:18.762 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:03:18.762 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:03:18.762 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:03:18.762 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:03:18.762 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:03:18.763 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:03:18.763 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:03:18.764 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:03:18.764 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:03:18.765 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:03:18.765 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:03:18.766 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:03:18.766 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:03:18.884 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel9746-02': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application be at version 0, but it is currently at version 2
Execute: channel fetch config crypto-config/configtx/testchannel9746-02.pb -o orderer.example.net:7050 -c testchannel9746-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:03:19.042 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:03:19.044 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:03:19.046 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:03:19.046 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel9746-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel9746-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:03:19.444 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:03:19.454 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel9746-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel9746-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:03:20.991 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:03:20.993 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:03:20.994 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:03:20.994 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"channel_id": "testchannel9746-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:03:19Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel9746-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel9746 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel9746 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel9746> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel9746 sberbank vtb VERIFY: test-channel-add-org.sh testchannel9746 sberbank vtb
[1;36m
Add vtb to the testchannel9746 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel9746 vtb 7051 example.net[m[m[m
--2020-02-27 12:03:23--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:03:23--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:03:23--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel9746, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel9746.pb -o orderer.example.net:7050 -c testchannel9746 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:03:23.462 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:03:23.464 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:03:23.465 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:03:23.465 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
>> Prepare config update from vtb for channel testchannel9746
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel9746 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:03:23.812 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel9746': error authorizing update: ConfigUpdate for channel 'testchannel9746-02' but envelope for channel 'testchannel9746'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel9746 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:03:24.831 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:03:24.834 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:03:24.835 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:03:24.835 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel9746>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel9746 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel9746> channel'
RUNTEST: chaincode-install.sh testchannel9746 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel9746 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel9746[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel16922 sberbank ; ./verify/test-channel-exists.sh testchannel16922 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel16922 sberbank VERIFY: test-channel-exists.sh testchannel16922 sberbank
[1;36m
Creating the <testchannel16922> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel16922[m[m[m
example.net

Create channel sberbank testchannel16922
--2020-02-27 12:04:01--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:04:01--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:04:01--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:04:01--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:04:02.024 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:04:02.093 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:04:02.093 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:04:02.093 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:04:02.093 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:04:02.093 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:04:02.093 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:04:02.093 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:04:02.093 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:04:02.145 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:04:02.145 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:04:02.145 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:04:02.145 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:04:02.145 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:04:02.145 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:04:02.145 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:04:02.146 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:04:02.146 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:04:02.146 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:04:02.146 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:04:02.147 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:04:02.147 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:04:02.147 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:04:02.227 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:04:02.269 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel16922.pb -o orderer.example.net:7050 -c testchannel16922 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:04:02.346 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:04:02.349 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:04:02.350 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:04:02.350 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel16922
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel16922 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:04:02.761 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:04:02.771 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel16922> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel16922> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:04:03.974 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:04:03.980 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:04:03.981 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:04:03.982 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel16922",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:04:02Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel16922> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel16922-02 vtb ; ./verify/test-channel-exists.sh testchannel16922-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel16922-02 vtb VERIFY: test-channel-exists.sh testchannel16922-02 vtb
[1;36m
Creating the <testchannel16922-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel16922-02[m[m[m
example.net

Create channel vtb testchannel16922-02
--2020-02-27 12:04:06--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:04:06--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:04:06--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:04:06--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:04:06.554 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:04:06.611 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:04:06.611 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:04:06.612 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:04:06.612 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:04:06.612 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:04:06.612 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:04:06.612 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:04:06.612 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:04:06.660 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:04:06.660 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:04:06.660 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:04:06.660 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:04:06.660 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:04:06.660 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:04:06.660 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:04:06.661 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:04:06.661 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:04:06.661 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:04:06.661 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:04:06.661 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:04:06.662 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:04:06.662 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:04:06.729 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:04:06.764 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel16922-02.pb -o orderer.example.net:7050 -c testchannel16922-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:04:06.838 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:04:06.840 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:04:06.841 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:04:06.841 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel16922-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel16922-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:04:07.251 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:04:07.261 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel16922-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel16922-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:04:09.447 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:04:09.450 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:04:09.452 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:04:09.452 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel16922-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:04:07Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel16922-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel16922 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel16922 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel16922> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel16922 sberbank vtb VERIFY: test-channel-add-org.sh testchannel16922 sberbank vtb
[1;36m
Add vtb to the testchannel16922 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel16922 vtb 7051 example.net[m[m[m
--2020-02-27 12:04:11--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:04:11--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:04:11--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel16922, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel16922.pb -o orderer.example.net:7050 -c testchannel16922 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:04:11.942 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:04:11.947 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:04:11.949 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:04:11.949 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel16922
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel16922 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:04:12.339 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:04:12.351 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel16922 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel16922 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:04:13.438 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:04:13.441 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:04:13.443 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:04:13.443 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel16922>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel16922 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel16922> channel'
RUNTEST: chaincode-install.sh testchannel16922 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel16922 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel16922[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel14744 sberbank ; ./verify/test-channel-exists.sh testchannel14744 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel14744 sberbank VERIFY: test-channel-exists.sh testchannel14744 sberbank
[1;36m
Creating the <testchannel14744> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 7051
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel13436 sberbank ; ./verify/test-channel-exists.sh testchannel13436 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel13436 sberbank VERIFY: test-channel-exists.sh testchannel13436 sberbank
[1;36m
Creating the <testchannel13436> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel13436[m[m[m
example.net

Create channel sberbank testchannel13436
--2020-02-27 12:05:10--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:05:10--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:05:10--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:05:10--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:05:10.971 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:05:11.045 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:05:11.045 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:05:11.045 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:05:11.045 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:05:11.046 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:05:11.046 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:05:11.046 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:05:11.046 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:05:11.101 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:05:11.101 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:05:11.101 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:05:11.101 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:05:11.101 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:05:11.101 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:05:11.101 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:05:11.101 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:05:11.102 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:05:11.102 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:05:11.102 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:05:11.102 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:05:11.102 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:05:11.103 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:05:11.175 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:05:11.218 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel13436.pb -o orderer.example.net:7050 -c testchannel13436 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:05:11.358 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:05:11.361 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:05:11.363 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:05:11.363 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel13436
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel13436 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:05:11.777 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:05:11.790 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel13436> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel13436> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:05:13.015 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:05:13.018 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:05:13.019 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:05:13.019 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel13436",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:05:11Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel13436> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel13436-02 vtb ; ./verify/test-channel-exists.sh testchannel13436-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel13436-02 vtb VERIFY: test-channel-exists.sh testchannel13436-02 vtb
[1;36m
Creating the <testchannel13436-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel13436-02[m[m[m
example.net

Create channel vtb testchannel13436-02
--2020-02-27 12:05:15--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:05:15--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:05:15--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:05:15--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:05:15.473 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:05:15.533 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:05:15.533 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:05:15.533 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:05:15.533 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:05:15.533 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:05:15.533 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:05:15.533 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:05:15.533 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:05:15.586 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:05:15.586 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:05:15.586 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:05:15.586 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:05:15.586 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:05:15.586 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:05:15.586 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:05:15.587 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:05:15.587 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:05:15.587 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:05:15.587 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:05:15.587 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:05:15.588 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:05:15.588 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:05:15.653 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:05:15.688 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel13436-02.pb -o orderer.example.net:7050 -c testchannel13436-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:05:15.761 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:05:15.764 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:05:15.765 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:05:15.765 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel13436-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel13436-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:05:16.174 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:05:16.185 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel13436-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel13436-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:05:17.354 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:05:17.356 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:05:17.357 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:05:17.357 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel13436-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:05:16Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel13436-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel13436 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel13436 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel13436> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel13436 sberbank vtb VERIFY: test-channel-add-org.sh testchannel13436 sberbank vtb
[1;36m
Add vtb to the testchannel13436 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel13436 vtb 7051 example.net[m[m[m
--2020-02-27 12:05:20--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:05:20--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:05:20--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel13436, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel13436.pb -o orderer.example.net:7050 -c testchannel13436 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:05:20.585 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:05:20.587 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:05:20.588 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:05:20.588 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel13436
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel13436 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:05:20.977 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:05:21.000 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel13436 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel13436 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:05:22.076 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:05:22.080 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:05:22.082 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:05:22.082 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel13436>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel13436 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel13436> channel'
RUNTEST: chaincode-install.sh testchannel13436 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel13436 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel13436[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel15429 sberbank ; ./verify/test-channel-exists.sh testchannel15429 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel15429 sberbank VERIFY: test-channel-exists.sh testchannel15429 sberbank
[1;36m
Creating the <testchannel15429> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel15429[m[m[m
example.net

Create channel sberbank testchannel15429
--2020-02-27 12:06:02--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:06:02--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:06:02--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:06:02--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:06:02.835 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:06:02.902 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:06:02.902 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:06:02.902 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:06:02.902 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:06:02.902 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:06:02.902 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:06:02.902 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:06:02.902 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:06:02.952 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:06:02.952 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:06:02.952 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:06:02.952 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:06:02.952 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:06:02.952 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:06:02.952 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:06:02.953 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:06:02.953 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:06:02.953 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:06:02.953 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:06:02.953 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:06:02.954 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:06:02.954 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:06:03.049 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:06:03.085 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel15429.pb -o orderer.example.net:7050 -c testchannel15429 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:06:03.166 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:06:03.169 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:06:03.170 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:06:03.170 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel15429
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel15429 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:06:03.564 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:06:03.573 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel15429> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel15429> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:06:04.792 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:06:04.795 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:06:04.796 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:06:04.797 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel15429",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:06:03Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel15429> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel15429-02 vtb ; ./verify/test-channel-exists.sh testchannel15429-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel15429-02 vtb VERIFY: test-channel-exists.sh testchannel15429-02 vtb
[1;36m
Creating the <testchannel15429-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel15429-02[m[m[m
example.net

Create channel vtb testchannel15429-02
--2020-02-27 12:06:07--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:06:07--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:06:07--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:06:07--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:06:07.345 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:06:07.406 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:06:07.406 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:06:07.406 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:06:07.406 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:06:07.406 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:06:07.406 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:06:07.406 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:06:07.406 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:06:07.454 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:06:07.454 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:06:07.454 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:06:07.454 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:06:07.454 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:06:07.454 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:06:07.455 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:06:07.455 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:06:07.455 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:06:07.455 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:06:07.455 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:06:07.456 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:06:07.456 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:06:07.456 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:06:07.529 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:06:07.564 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel15429-02.pb -o orderer.example.net:7050 -c testchannel15429-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:06:07.672 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:06:07.674 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:06:07.675 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:06:07.676 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel15429-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel15429-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:06:08.658 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:06:08.688 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel15429-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel15429-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:06:10.191 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:06:10.194 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:06:10.195 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:06:10.195 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel15429-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:06:08Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel15429-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel15429 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel15429 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel15429> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel15429 sberbank vtb VERIFY: test-channel-add-org.sh testchannel15429 sberbank vtb
[1;36m
Add vtb to the testchannel15429 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel15429 vtb 7051 example.net[m[m[m
--2020-02-27 12:06:12--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:06:12--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:06:12--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel15429, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel15429.pb -o orderer.example.net:7050 -c testchannel15429 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:06:12.654 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:06:12.657 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:06:12.658 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:06:12.658 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel15429
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel15429 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:06:13.070 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:06:13.083 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel15429 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel15429 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:06:14.130 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:06:14.135 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:06:14.136 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:06:14.136 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel15429>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel15429 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel15429> channel'
RUNTEST: chaincode-install.sh testchannel15429 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel15429 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel15429[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel19154 sberbank ; ./verify/test-channel-exists.sh testchannel19154 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel19154 sberbank VERIFY: test-channel-exists.sh testchannel19154 sberbank
[1;36m
Creating the <testchannel19154> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel19154[m[m[m
example.net

Create channel sberbank testchannel19154
--2020-02-27 12:07:07--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:07:07--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:07:07--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:07:07--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:07:07.612 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:07:07.716 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:07:07.716 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:07:07.717 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:07:07.717 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:07:07.717 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:07:07.717 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:07:07.717 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:07:07.717 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:07:07.829 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:07:07.829 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:07:07.829 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:07:07.829 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:07:07.829 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:07:07.829 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:07:07.829 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:07:07.830 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:07:07.830 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:07:07.830 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:07:07.830 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:07:07.831 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:07:07.831 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:07:07.832 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:07:08.027 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:07:08.093 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel19154.pb -o orderer.example.net:7050 -c testchannel19154 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:07:08.348 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:07:08.352 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:07:08.356 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:07:08.358 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel19154
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel19154 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:07:09.330 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:07:09.343 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel19154> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel19154> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:07:10.696 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:07:10.699 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:07:10.701 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:07:10.701 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel19154",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:07:09Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel19154> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel19154-02 vtb ; ./verify/test-channel-exists.sh testchannel19154-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel19154-02 vtb VERIFY: test-channel-exists.sh testchannel19154-02 vtb
[1;36m
Creating the <testchannel19154-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel19154-02[m[m[m
example.net

Create channel vtb testchannel19154-02
--2020-02-27 12:07:13--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:07:13--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:07:13--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:07:13--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:07:13.177 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:07:13.244 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:07:13.244 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:07:13.244 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:07:13.244 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:07:13.244 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:07:13.244 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:07:13.245 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:07:13.245 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:07:13.297 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:07:13.297 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:07:13.297 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:07:13.297 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:07:13.297 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:07:13.297 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:07:13.297 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:07:13.298 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:07:13.298 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:07:13.298 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:07:13.298 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:07:13.298 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:07:13.299 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:07:13.299 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:07:13.381 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:07:13.417 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel19154-02.pb -o orderer.example.net:7050 -c testchannel19154-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:07:13.500 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:07:13.501 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:07:13.502 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:07:13.502 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel19154-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel19154-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:07:13.890 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:07:13.900 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel19154-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel19154-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:07:15.201 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:07:15.204 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:07:15.205 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:07:15.205 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel19154-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:07:13Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel19154-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel19154 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel19154 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel19154> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel19154 sberbank vtb VERIFY: test-channel-add-org.sh testchannel19154 sberbank vtb
[1;36m
Add vtb to the testchannel19154 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel19154 vtb 7051 example.net[m[m[m
--2020-02-27 12:07:17--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:07:17--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:07:17--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel19154, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel19154.pb -o orderer.example.net:7050 -c testchannel19154 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:07:18.174 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:07:18.178 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:07:18.182 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:07:18.182 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel19154
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel19154 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:07:19.259 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:07:19.305 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel19154 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel19154 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:07:20.376 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:07:20.379 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:07:20.380 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:07:20.380 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel19154>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel19154 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel19154> channel'
RUNTEST: chaincode-install.sh testchannel19154 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel19154 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel19154[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel538 sberbank ; ./verify/test-channel-exists.sh testchannel538 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel538 sberbank VERIFY: test-channel-exists.sh testchannel538 sberbank
[1;36m
Creating the <testchannel538> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel538[m[m[m
example.net

Create channel sberbank testchannel538
--2020-02-27 12:08:17--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:08:17--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:08:17--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:08:17--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:08:17.374 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:08:17.436 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:08:17.436 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:08:17.436 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:08:17.436 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:08:17.436 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:08:17.436 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:08:17.436 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:08:17.436 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:08:17.485 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:08:17.485 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:08:17.485 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:08:17.485 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:08:17.485 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:08:17.485 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:08:17.485 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:08:17.486 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:08:17.486 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:08:17.486 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:08:17.486 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:08:17.487 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:08:17.487 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:08:17.487 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:08:17.561 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:08:17.608 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel538.pb -o orderer.example.net:7050 -c testchannel538 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:08:17.801 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:08:17.803 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:08:17.805 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:08:17.806 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel538
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel538 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:08:18.910 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:08:18.933 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel538> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel538> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:08:20.316 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:08:20.319 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:08:20.321 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:08:20.321 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel538",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:08:18Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel538> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel538-02 vtb ; ./verify/test-channel-exists.sh testchannel538-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel538-02 vtb VERIFY: test-channel-exists.sh testchannel538-02 vtb
[1;36m
Creating the <testchannel538-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel538-02[m[m[m
example.net

Create channel vtb testchannel538-02
--2020-02-27 12:08:22--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:08:22--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:08:22--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:08:22--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:08:22.807 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:08:22.871 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:08:22.871 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:08:22.871 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:08:22.871 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:08:22.871 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:08:22.871 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:08:22.871 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:08:22.871 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:08:22.920 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:08:22.920 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:08:22.920 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:08:22.920 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:08:22.920 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:08:22.920 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:08:22.920 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:08:22.921 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:08:22.921 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:08:22.921 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:08:22.921 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:08:22.922 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:08:22.922 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:08:22.922 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:08:23.017 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:08:23.062 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel538-02.pb -o orderer.example.net:7050 -c testchannel538-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:08:23.148 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:08:23.150 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:08:23.151 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:08:23.151 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel538-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel538-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:08:23.513 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:08:23.524 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel538-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel538-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:08:24.798 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:08:24.803 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:08:24.804 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:08:24.804 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel538-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:08:23Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel538-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel538 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel538 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel538> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel538 sberbank vtb VERIFY: test-channel-add-org.sh testchannel538 sberbank vtb
[1;36m
Add vtb to the testchannel538 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel538 vtb 7051 example.net[m[m[m
--2020-02-27 12:08:27--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:08:27--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:08:27--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel538, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel538.pb -o orderer.example.net:7050 -c testchannel538 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:08:27.373 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:08:27.376 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:08:27.378 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:08:27.378 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel538
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel538 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:08:27.834 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:08:27.896 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel538 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel538 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:08:29.840 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:08:29.843 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:08:29.844 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:08:29.844 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel538>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel538 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel538> channel'
RUNTEST: chaincode-install.sh testchannel538 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel538 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel538[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel6161 sberbank ; ./verify/test-channel-exists.sh testchannel6161 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel6161 sberbank VERIFY: test-channel-exists.sh testchannel6161 sberbank
[1;36m
Creating the <testchannel6161> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel6161[m[m[m
example.net

Create channel sberbank testchannel6161
--2020-02-27 12:09:00--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:09:00--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:09:00--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:09:01--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:09:01.060 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:09:01.117 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:09:01.117 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:09:01.117 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:09:01.117 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:09:01.117 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:09:01.117 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:09:01.117 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:09:01.117 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:09:01.167 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:09:01.167 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:09:01.167 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:09:01.167 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:09:01.167 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:09:01.167 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:09:01.167 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:09:01.168 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:09:01.168 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:09:01.168 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:09:01.168 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:09:01.169 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:09:01.169 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:09:01.169 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:09:01.248 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:09:01.289 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel6161.pb -o orderer.example.net:7050 -c testchannel6161 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:09:01.378 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:09:01.379 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:09:01.381 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:09:01.381 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel6161
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel6161 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:09:01.769 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:09:01.779 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel6161> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel6161> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:09:03.067 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:09:03.069 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:09:03.071 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:09:03.071 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel6161",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:09:01Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel6161> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel6161-02 vtb ; ./verify/test-channel-exists.sh testchannel6161-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel6161-02 vtb VERIFY: test-channel-exists.sh testchannel6161-02 vtb
[1;36m
Creating the <testchannel6161-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel6161-02[m[m[m
example.net

Create channel vtb testchannel6161-02
--2020-02-27 12:09:05--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:09:05--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:09:05--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:09:05--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:09:05.405 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:09:05.460 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:09:05.460 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:09:05.460 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:09:05.460 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:09:05.460 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:09:05.460 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:09:05.460 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:09:05.460 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:09:05.511 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:09:05.511 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:09:05.511 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:09:05.511 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:09:05.511 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:09:05.511 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:09:05.511 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:09:05.511 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:09:05.511 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:09:05.512 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:09:05.512 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:09:05.512 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:09:05.512 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:09:05.512 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:09:05.592 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:09:05.631 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel6161-02.pb -o orderer.example.net:7050 -c testchannel6161-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:09:05.714 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:09:05.717 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:09:05.718 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:09:05.718 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel6161-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel6161-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:09:06.109 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:09:06.117 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel6161-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel6161-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:09:07.298 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:09:07.300 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:09:07.301 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:09:07.301 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel6161-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:09:06Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel6161-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel6161 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel6161 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel6161> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel6161 sberbank vtb VERIFY: test-channel-add-org.sh testchannel6161 sberbank vtb
[1;36m
Add vtb to the testchannel6161 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel6161 vtb 7051 example.net[m[m[m
--2020-02-27 12:09:10--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:09:10--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:09:10--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel6161, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel6161.pb -o orderer.example.net:7050 -c testchannel6161 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:09:10.544 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:09:10.545 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:09:10.546 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:09:10.546 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel6161
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel6161 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:09:10.918 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:09:10.931 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel6161 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel6161 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:09:12.027 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:09:12.032 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:09:12.033 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:09:12.033 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel6161>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel6161 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel6161> channel'
RUNTEST: chaincode-install.sh testchannel6161 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel6161 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel6161[m[m[m
[1;32mOK: Test chaincode installed in sberbank[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel8601 sberbank ; ./verify/test-channel-exists.sh testchannel8601 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel8601 sberbank VERIFY: test-channel-exists.sh testchannel8601 sberbank
[1;36m
Creating the <testchannel8601> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel8601[m[m[m
example.net

Create channel sberbank testchannel8601
--2020-02-27 12:09:47--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:09:47--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:09:47--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:09:47--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:09:47.993 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:09:48.124 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:09:48.124 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:09:48.124 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:09:48.124 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:09:48.124 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:09:48.124 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:09:48.124 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:09:48.125 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:09:48.193 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:09:48.193 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:09:48.193 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:09:48.193 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:09:48.193 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:09:48.193 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:09:48.193 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:09:48.193 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:09:48.194 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:09:48.194 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:09:48.194 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:09:48.194 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:09:48.195 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:09:48.195 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:09:48.433 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:09:48.483 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel8601.pb -o orderer.example.net:7050 -c testchannel8601 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:09:48.749 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:09:48.752 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:09:48.758 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:09:48.758 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel8601
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel8601 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:09:49.562 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:09:49.571 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel8601> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel8601> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:09:50.863 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:09:50.865 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:09:50.866 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:09:50.866 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel8601",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:09:49Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel8601> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel8601-02 vtb ; ./verify/test-channel-exists.sh testchannel8601-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel8601-02 vtb VERIFY: test-channel-exists.sh testchannel8601-02 vtb
[1;36m
Creating the <testchannel8601-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel8601-02[m[m[m
example.net

Create channel vtb testchannel8601-02
--2020-02-27 12:09:53--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:09:53--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:09:53--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:09:53--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:09:53.326 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:09:53.399 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:09:53.399 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:09:53.399 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:09:53.399 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:09:53.399 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:09:53.399 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:09:53.399 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:09:53.399 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:09:53.449 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:09:53.449 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:09:53.449 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:09:53.449 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:09:53.449 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:09:53.449 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:09:53.449 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:09:53.450 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:09:53.450 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:09:53.450 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:09:53.450 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:09:53.450 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:09:53.451 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:09:53.451 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:09:53.519 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:09:53.556 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel8601-02.pb -o orderer.example.net:7050 -c testchannel8601-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:09:53.648 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:09:53.651 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:09:53.652 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:09:53.652 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel8601-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel8601-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:09:54.092 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:09:54.103 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel8601-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel8601-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:09:55.341 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:09:55.343 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:09:55.344 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:09:55.344 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel8601-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:09:54Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel8601-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel8601 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel8601 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel8601> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel8601 sberbank vtb VERIFY: test-channel-add-org.sh testchannel8601 sberbank vtb
[1;36m
Add vtb to the testchannel8601 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel8601 vtb 7051 example.net[m[m[m
--2020-02-27 12:09:57--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:09:57--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:09:57--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel8601, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel8601.pb -o orderer.example.net:7050 -c testchannel8601 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:09:58.031 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:09:58.039 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:09:58.044 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:09:58.045 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel8601
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel8601 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:09:59.091 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:09:59.120 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel8601 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel8601 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:10:00.344 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:10:00.347 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:10:00.348 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:10:00.348 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel8601>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel8601 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel8601> channel'
RUNTEST: chaincode-install.sh testchannel8601 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel8601 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel8601[m[m[m
/tmp/fileWqx4ti
[1;32mOK: Test chaincode installed in sberbank[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel12910 sberbank ; ./verify/test-channel-exists.sh testchannel12910 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel12910 sberbank VERIFY: test-channel-exists.sh testchannel12910 sberbank
[1;36m
Creating the <testchannel12910> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel12910[m[m[m
example.net

Create channel sberbank testchannel12910
--2020-02-27 12:10:33--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:10:33--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:10:33--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:10:33--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:10:33.240 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:10:33.295 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:10:33.295 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:10:33.295 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:10:33.295 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:10:33.295 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:10:33.295 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:10:33.295 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:10:33.295 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:10:33.346 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:10:33.346 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:10:33.346 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:10:33.346 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:10:33.346 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:10:33.347 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:10:33.347 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:10:33.347 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:10:33.347 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:10:33.347 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:10:33.347 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:10:33.348 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:10:33.348 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:10:33.348 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:10:33.415 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:10:33.455 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel12910.pb -o orderer.example.net:7050 -c testchannel12910 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:10:33.549 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:10:33.551 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:10:33.552 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:10:33.552 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel12910
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel12910 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:10:33.931 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:10:33.942 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel12910> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel12910> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:10:35.181 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:10:35.183 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:10:35.185 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:10:35.185 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel12910",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:10:33Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel12910> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel12910-02 vtb ; ./verify/test-channel-exists.sh testchannel12910-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel12910-02 vtb VERIFY: test-channel-exists.sh testchannel12910-02 vtb
[1;36m
Creating the <testchannel12910-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel12910-02[m[m[m
example.net

Create channel vtb testchannel12910-02
--2020-02-27 12:10:37--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:10:37--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:10:37--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:10:37--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:10:37.687 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:10:37.750 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:10:37.750 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:10:37.750 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:10:37.750 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:10:37.750 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:10:37.750 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:10:37.750 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:10:37.750 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:10:37.806 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:10:37.806 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:10:37.806 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:10:37.806 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:10:37.806 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:10:37.806 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:10:37.806 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:10:37.806 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:10:37.807 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:10:37.807 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:10:37.807 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:10:37.807 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:10:37.808 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:10:37.808 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:10:37.930 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:10:37.980 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel12910-02.pb -o orderer.example.net:7050 -c testchannel12910-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:10:38.148 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:10:38.154 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:10:38.155 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:10:38.155 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel12910-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel12910-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:10:39.245 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:10:39.284 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel12910-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel12910-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:10:40.594 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:10:40.597 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:10:40.598 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:10:40.598 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel12910-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:10:39Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel12910-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel12910 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel12910 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel12910> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel12910 sberbank vtb VERIFY: test-channel-add-org.sh testchannel12910 sberbank vtb
[1;36m
Add vtb to the testchannel12910 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel12910 vtb 7051 example.net[m[m[m
--2020-02-27 12:10:43--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:10:43--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:10:43--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel12910, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel12910.pb -o orderer.example.net:7050 -c testchannel12910 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:10:43.132 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:10:43.135 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:10:43.136 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:10:43.137 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel12910
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel12910 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:10:43.527 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:10:43.537 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel12910 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel12910 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:10:44.633 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:10:44.635 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:10:44.636 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:10:44.636 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel12910>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel12910 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel12910> channel'
RUNTEST: chaincode-install.sh testchannel12910 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel12910 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel12910[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference__testchannel12910[m[m[m CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051 CORE_PEER_LOCALMSPID=sberbank CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt CORE_PEER_TLS_ENABLED=true CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock DOMAIN=example.net ENROLL_ID=admin ENROLL_SECRET=adminpw FABRIC_CFG_PATH=/etc/hyperledger/fabric FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG GOPATH=/opt/gopath GOROOT=/opt/go HOME=/root HOSTNAME=34296ce25e40 JAVA_HOME=/opt/java/openjdk JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle JAVA_VERSION=jdk8u222-b10_openj9-0.15.1 LANG=en_US.UTF-8 LANGUAGE=en_US:en LC_ALL=en_US.UTF-8 ORDERER_BATCH_TIMEOUT=2 ORDERER_GENERAL_LISTENPORT=7050 ORDERER_NAME=orderer ORG=sberbank PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin PEER0_PORT=7051 PWD=/etc/hyperledger RAFT0_PORT=7050 RAFT1_PORT=7150 RAFT2_PORT=7250 SHLVL=2 SIGNATURE_HASH_FAMILY=SHA2 SYSTEM_CHANNEL_ID=orderer-system-channel TERM=xterm _=/usr/bin/env Install chaincode reference__testchannel12910 /opt/chaincode/node/reference__testchannel12910 node 1.0 [34m2020-02-27 12:10:50.419 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc [34m2020-02-27 12:10:50.419 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc Error: error getting chaincode code reference__testchannel12910: path to chaincode does not exist: /opt/chaincode/node/reference__testchannel12910 [1;31mError occurred. See console output above.[m[1;33m[m
/tmp/filePuZjCL
[1;32mOK: Test chaincode installed in sberbank[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel4469 sberbank ; ./verify/test-channel-exists.sh testchannel4469 sberbank
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel18532 sberbank ; ./verify/test-channel-exists.sh testchannel18532 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel18532 sberbank VERIFY: test-channel-exists.sh testchannel18532 sberbank
[1;36m
Creating the <testchannel18532> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel18532[m[m[m
example.net

Create channel sberbank testchannel18532
--2020-02-27 12:13:43--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:13:43--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:13:43--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:13:43--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:13:43.551 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:13:43.611 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:13:43.611 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:13:43.611 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:13:43.611 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:13:43.611 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:13:43.611 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:13:43.611 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:13:43.611 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:13:43.666 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:13:43.666 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:13:43.667 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:13:43.667 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:13:43.667 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:13:43.667 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:13:43.667 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:13:43.667 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:13:43.667 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:13:43.668 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:13:43.668 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:13:43.668 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:13:43.668 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:13:43.669 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:13:43.751 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:13:43.791 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel18532.pb -o orderer.example.net:7050 -c testchannel18532 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:13:43.980 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:13:43.983 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:13:43.985 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:13:43.985 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel18532
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel18532 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:13:44.361 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:13:44.373 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel18532> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel18532> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:13:45.678 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:13:45.682 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:13:45.683 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:13:45.683 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel18532",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:13:44Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel18532> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel18532-02 vtb ; ./verify/test-channel-exists.sh testchannel18532-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel18532-02 vtb VERIFY: test-channel-exists.sh testchannel18532-02 vtb
[1;36m
Creating the <testchannel18532-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel18532-02[m[m[m
example.net

Create channel vtb testchannel18532-02
--2020-02-27 12:13:48--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:13:48--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:13:48--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:13:48--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:13:48.293 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:13:48.397 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:13:48.397 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:13:48.398 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:13:48.398 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:13:48.398 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:13:48.398 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:13:48.399 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:13:48.399 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:13:48.575 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:13:48.575 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:13:48.575 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:13:48.575 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:13:48.575 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:13:48.575 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:13:48.575 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:13:48.576 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:13:48.578 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:13:48.578 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:13:48.578 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:13:48.579 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:13:48.580 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:13:48.582 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:13:48.741 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:13:48.811 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel18532-02.pb -o orderer.example.net:7050 -c testchannel18532-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:13:49.042 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:13:49.052 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:13:49.053 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:13:49.053 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel18532-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel18532-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:13:49.853 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:13:49.863 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel18532-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel18532-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:13:51.169 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:13:51.171 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:13:51.172 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:13:51.172 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel18532-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:13:49Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel18532-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel18532 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel18532 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel18532> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel18532 sberbank vtb VERIFY: test-channel-add-org.sh testchannel18532 sberbank vtb
[1;36m
Add vtb to the testchannel18532 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel18532 vtb 7051 example.net[m[m[m
--2020-02-27 12:13:53--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:13:53--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:13:53--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel18532, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel18532.pb -o orderer.example.net:7050 -c testchannel18532 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:13:53.635 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:13:53.638 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:13:53.640 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:13:53.640 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel18532
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel18532 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:13:54.065 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:13:54.076 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel18532 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel18532 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:13:55.171 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:13:55.174 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:13:55.175 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:13:55.175 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel18532>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel18532 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel18532> channel'
RUNTEST: chaincode-install.sh testchannel18532 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel18532 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel18532[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference__testchannel18532[m[m[m CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051 CORE_PEER_LOCALMSPID=sberbank CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt CORE_PEER_TLS_ENABLED=true CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock DOMAIN=example.net ENROLL_ID=admin ENROLL_SECRET=adminpw FABRIC_CFG_PATH=/etc/hyperledger/fabric FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG GOPATH=/opt/gopath GOROOT=/opt/go HOME=/root HOSTNAME=419d40f908b8 JAVA_HOME=/opt/java/openjdk JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle JAVA_VERSION=jdk8u222-b10_openj9-0.15.1 LANG=en_US.UTF-8 LANGUAGE=en_US:en LC_ALL=en_US.UTF-8 ORDERER_BATCH_TIMEOUT=2 ORDERER_GENERAL_LISTENPORT=7050 ORDERER_NAME=orderer ORG=sberbank PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin PEER0_PORT=7051 PWD=/etc/hyperledger RAFT0_PORT=7050 RAFT1_PORT=7150 RAFT2_PORT=7250 SHLVL=2 SIGNATURE_HASH_FAMILY=SHA2 SYSTEM_CHANNEL_ID=orderer-system-channel TERM=xterm _=/usr/bin/env Install chaincode reference__testchannel18532 /opt/chaincode/node/reference__testchannel18532 node 1.0 [34m2020-02-27 12:14:01.065 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc [34m2020-02-27 12:14:01.065 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc Error: error getting chaincode code reference__testchannel18532: path to chaincode does not exist: /opt/chaincode/node/reference__testchannel18532 [1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel6133 sberbank ; ./verify/test-channel-exists.sh testchannel6133 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel6133 sberbank VERIFY: test-channel-exists.sh testchannel6133 sberbank
[1;36m
Creating the <testchannel6133> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel6133[m[m[m
example.net

Create channel sberbank testchannel6133
--2020-02-27 12:14:58--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:14:58--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:14:58--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:14:58--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:14:58.658 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:14:58.792 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:14:58.792 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:14:58.792 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:14:58.792 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:14:58.793 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:14:58.793 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:14:58.793 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:14:58.793 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:14:58.984 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:14:58.985 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:14:58.985 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:14:58.985 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:14:58.986 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:14:58.986 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:14:58.986 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:14:58.987 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:14:58.988 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:14:58.992 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:14:58.992 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:14:58.993 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:14:58.994 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:14:58.995 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:14:59.181 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:14:59.259 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel6133.pb -o orderer.example.net:7050 -c testchannel6133 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:14:59.532 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:14:59.535 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:14:59.544 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:14:59.544 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel6133
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel6133 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:15:00.076 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:15:00.088 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel6133> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel6133> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:15:01.535 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:15:01.537 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:15:01.538 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:15:01.538 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel6133",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:15:00Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel6133> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel6133-02 vtb ; ./verify/test-channel-exists.sh testchannel6133-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel6133-02 vtb VERIFY: test-channel-exists.sh testchannel6133-02 vtb
[1;36m
Creating the <testchannel6133-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel6133-02[m[m[m
example.net

Create channel vtb testchannel6133-02
--2020-02-27 12:15:04--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:15:04--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:15:04--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:15:04--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:15:04.136 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:15:04.201 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:15:04.201 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:15:04.201 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:15:04.201 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:15:04.201 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:15:04.201 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:15:04.201 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:15:04.201 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:15:04.253 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:15:04.253 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:15:04.253 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:15:04.253 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:15:04.253 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:15:04.253 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:15:04.253 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:15:04.254 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:15:04.254 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:15:04.254 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:15:04.254 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:15:04.255 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:15:04.255 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:15:04.255 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:15:04.343 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:15:04.385 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel6133-02.pb -o orderer.example.net:7050 -c testchannel6133-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:15:04.485 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:15:04.487 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:15:04.488 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:15:04.488 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel6133-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel6133-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:15:04.876 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:15:04.886 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel6133-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel6133-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:15:06.160 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:15:06.162 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:15:06.163 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:15:06.163 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel6133-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:15:04Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel6133-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel6133 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel6133 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel6133> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel6133 sberbank vtb VERIFY: test-channel-add-org.sh testchannel6133 sberbank vtb
[1;36m
Add vtb to the testchannel6133 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel6133 vtb 7051 example.net[m[m[m
--2020-02-27 12:15:08--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:15:08--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:15:08--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel6133, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel6133.pb -o orderer.example.net:7050 -c testchannel6133 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:15:08.792 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:15:08.798 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:15:08.800 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:15:08.800 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel6133
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel6133 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:15:09.769 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:15:09.787 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel6133 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel6133 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:15:10.886 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:15:10.888 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:15:10.889 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:15:10.889 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel6133>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel6133 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel6133> channel'
RUNTEST: chaincode-install.sh testchannel6133 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel6133 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel6133[m[m[m
[1;32mOK: Test chaincode installed in sberbank[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel20233 sberbank ; ./verify/test-channel-exists.sh testchannel20233 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel20233 sberbank VERIFY: test-channel-exists.sh testchannel20233 sberbank
[1;36m
Creating the <testchannel20233> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel20233[m[m[m
example.net

Create channel sberbank testchannel20233
--2020-02-27 12:15:57--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:15:57--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:15:57--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:15:57--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:15:57.909 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:15:57.973 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:15:57.973 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:15:57.973 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:15:57.973 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:15:57.973 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:15:57.973 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:15:57.973 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:15:57.973 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:15:58.035 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:15:58.035 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:15:58.035 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:15:58.035 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:15:58.035 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:15:58.035 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:15:58.035 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:15:58.036 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:15:58.036 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:15:58.036 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:15:58.036 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:15:58.036 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:15:58.037 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:15:58.037 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:15:58.106 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:15:58.161 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel20233.pb -o orderer.example.net:7050 -c testchannel20233 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:15:58.332 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:15:58.339 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:15:58.344 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:15:58.345 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel20233
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel20233 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:15:59.289 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:15:59.305 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel20233> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel20233> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:16:00.759 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:16:00.762 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:16:00.763 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:16:00.763 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel20233",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:15:59Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel20233> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel20233-02 vtb ; ./verify/test-channel-exists.sh testchannel20233-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel20233-02 vtb VERIFY: test-channel-exists.sh testchannel20233-02 vtb
[1;36m
Creating the <testchannel20233-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel20233-02[m[m[m
example.net

Create channel vtb testchannel20233-02
--2020-02-27 12:16:03--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:16:03--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:16:03--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:16:03--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:16:03.335 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:16:03.400 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:16:03.400 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:16:03.400 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:16:03.400 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:16:03.400 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:16:03.400 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:16:03.400 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:16:03.400 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:16:03.447 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:16:03.447 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:16:03.447 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:16:03.447 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:16:03.447 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:16:03.447 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:16:03.447 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:16:03.447 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:16:03.448 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:16:03.448 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:16:03.448 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:16:03.448 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:16:03.448 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:16:03.449 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:16:03.517 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:16:03.559 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel20233-02.pb -o orderer.example.net:7050 -c testchannel20233-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:16:03.675 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:16:03.677 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:16:03.678 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:16:03.679 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel20233-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel20233-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:16:04.119 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:16:04.128 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel20233-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel20233-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:16:05.471 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:16:05.473 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:16:05.474 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:16:05.474 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel20233-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:16:04Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel20233-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel20233 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel20233 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel20233> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel20233 sberbank vtb VERIFY: test-channel-add-org.sh testchannel20233 sberbank vtb
[1;36m
Add vtb to the testchannel20233 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel20233 vtb 7051 example.net[m[m[m
--2020-02-27 12:16:07--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:16:07--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:16:07--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel20233, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel20233.pb -o orderer.example.net:7050 -c testchannel20233 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:16:07.933 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:16:07.937 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:16:07.939 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:16:07.939 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel20233
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel20233 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:16:08.646 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:16:08.674 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel20233 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel20233 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:16:10.349 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:16:10.351 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:16:10.352 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:16:10.352 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel20233>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel20233 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel20233> channel'
RUNTEST: chaincode-install.sh testchannel20233 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel20233 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel20233[m[m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel29353 sberbank ; ./verify/test-channel-exists.sh testchannel29353 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel29353 sberbank VERIFY: test-channel-exists.sh testchannel29353 sberbank
[1;36m
Creating the <testchannel29353> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel29353[m[m[m
example.net

Create channel sberbank testchannel29353
--2020-02-27 12:16:45--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:16:45--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:16:45--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:16:45--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:16:45.273 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:16:45.344 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:16:45.344 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:16:45.344 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:16:45.344 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:16:45.344 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:16:45.344 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:16:45.344 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:16:45.344 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:16:45.393 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:16:45.393 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:16:45.393 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:16:45.393 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:16:45.393 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:16:45.393 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:16:45.393 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:16:45.393 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:16:45.394 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:16:45.394 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:16:45.394 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:16:45.394 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:16:45.394 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:16:45.395 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:16:45.463 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:16:45.509 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel29353.pb -o orderer.example.net:7050 -c testchannel29353 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:16:45.617 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:16:45.620 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:16:45.622 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:16:45.622 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel29353
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel29353 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:16:46.069 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:16:46.080 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel29353> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel29353> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:16:47.442 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:16:47.445 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:16:47.447 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:16:47.447 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel29353",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:16:46Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel29353> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel29353-02 vtb ; ./verify/test-channel-exists.sh testchannel29353-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel29353-02 vtb VERIFY: test-channel-exists.sh testchannel29353-02 vtb
[1;36m
Creating the <testchannel29353-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel29353-02[m[m[m
example.net

Create channel vtb testchannel29353-02
--2020-02-27 12:16:50--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:16:50--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:16:50--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:16:50--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:16:50.313 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:16:50.368 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:16:50.368 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:16:50.368 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:16:50.368 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:16:50.368 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:16:50.368 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:16:50.368 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:16:50.368 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:16:50.419 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:16:50.419 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:16:50.419 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:16:50.419 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:16:50.419 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:16:50.419 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:16:50.420 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:16:50.420 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:16:50.420 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:16:50.421 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:16:50.421 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:16:50.421 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:16:50.421 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:16:50.422 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:16:50.508 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:16:50.550 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel29353-02.pb -o orderer.example.net:7050 -c testchannel29353-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:16:50.650 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:16:50.652 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:16:50.654 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:16:50.654 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel29353-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel29353-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:16:51.116 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:16:51.127 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel29353-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel29353-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:16:52.628 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:16:52.631 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:16:52.633 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:16:52.633 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel29353-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:16:51Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel29353-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel29353 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel29353 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel29353> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel29353 sberbank vtb VERIFY: test-channel-add-org.sh testchannel29353 sberbank vtb
[1;36m
Add vtb to the testchannel29353 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel29353 vtb 7051 example.net[m[m[m
--2020-02-27 12:16:55--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:16:55--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:16:55--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel29353, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel29353.pb -o orderer.example.net:7050 -c testchannel29353 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:16:55.345 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:16:55.347 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:16:55.348 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:16:55.348 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel29353
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel29353 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:16:55.740 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:16:55.756 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel29353 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel29353 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:16:56.756 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:16:56.758 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:16:56.759 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:16:56.759 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel29353>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel29353 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel29353> channel'
RUNTEST: chaincode-install.sh testchannel29353 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel29353 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel29353[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference__testchannel29353[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=b96dd180f52d
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference__testchannel29353  /opt/chaincode/node/reference__testchannel29353 node 1.0
[34m2020-02-27 12:17:02.122 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-02-27 12:17:02.122 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
Error: error getting chaincode code reference__testchannel29353: path to chaincode does not exist: /opt/chaincode/node/reference__testchannel29353
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel27132 sberbank ; ./verify/test-channel-exists.sh testchannel27132 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel27132 sberbank VERIFY: test-channel-exists.sh testchannel27132 sberbank
[1;36m
Creating the <testchannel27132> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel27132[m[m[m
example.net

Create channel sberbank testchannel27132
--2020-02-27 12:17:36--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:17:36--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:17:36--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:17:36--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:17:36.129 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:17:36.207 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:17:36.207 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:17:36.207 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:17:36.207 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:17:36.207 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:17:36.207 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:17:36.207 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:17:36.207 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:17:36.259 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:17:36.259 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:17:36.260 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:17:36.260 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:17:36.260 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:17:36.260 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:17:36.260 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:17:36.260 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:17:36.261 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:17:36.261 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:17:36.261 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:17:36.261 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:17:36.261 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:17:36.262 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:17:36.328 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:17:36.364 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel27132.pb -o orderer.example.net:7050 -c testchannel27132 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:17:36.449 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:17:36.451 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:17:36.452 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:17:36.452 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel27132
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel27132 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:17:36.848 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:17:36.864 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel27132> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel27132> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:17:38.104 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:17:38.108 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:17:38.109 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:17:38.109 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel27132",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:17:36Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel27132> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel27132-02 vtb ; ./verify/test-channel-exists.sh testchannel27132-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel27132-02 vtb VERIFY: test-channel-exists.sh testchannel27132-02 vtb
[1;36m
Creating the <testchannel27132-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel27132-02[m[m[m
example.net

Create channel vtb testchannel27132-02
--2020-02-27 12:17:41--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:17:41--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:17:41--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:17:41--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:17:41.366 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:17:41.432 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:17:41.433 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:17:41.433 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:17:41.433 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:17:41.433 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:17:41.433 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:17:41.433 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:17:41.433 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:17:41.481 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:17:41.481 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:17:41.481 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:17:41.481 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:17:41.482 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:17:41.482 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:17:41.482 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:17:41.482 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:17:41.482 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:17:41.482 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:17:41.483 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:17:41.483 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:17:41.483 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:17:41.483 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:17:41.563 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:17:41.599 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel27132-02.pb -o orderer.example.net:7050 -c testchannel27132-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:17:41.676 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:17:41.678 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:17:41.679 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:17:41.679 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel27132-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel27132-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:17:42.079 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:17:42.094 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel27132-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel27132-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:17:43.291 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:17:43.293 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:17:43.294 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:17:43.294 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel27132-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:17:42Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel27132-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel27132 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel27132 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel27132> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel27132 sberbank vtb VERIFY: test-channel-add-org.sh testchannel27132 sberbank vtb
[1;36m
Add vtb to the testchannel27132 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel27132 vtb 7051 example.net[m[m[m
--2020-02-27 12:17:45--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:17:45--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:17:45--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel27132, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel27132.pb -o orderer.example.net:7050 -c testchannel27132 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:17:45.718 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:17:45.720 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:17:45.722 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:17:45.722 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel27132
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel27132 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:17:46.101 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:17:46.116 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel27132 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel27132 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:17:47.156 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:17:47.158 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:17:47.159 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:17:47.159 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel27132>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel27132 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel27132> channel'
RUNTEST: chaincode-install.sh testchannel27132 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel27132 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel27132[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference_testchannel27132[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=4f0c286aee51
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel27132  /opt/chaincode/node/reference_testchannel27132 node 1.0
[34m2020-02-27 12:17:52.527 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-02-27 12:17:52.527 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-02-27 12:17:52.738 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in sberbank[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel11740 sberbank ; ./verify/test-channel-exists.sh testchannel11740 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel11740 sberbank VERIFY: test-channel-exists.sh testchannel11740 sberbank
[1;36m
Creating the <testchannel11740> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel11740[m[m[m
example.net

Create channel sberbank testchannel11740
--2020-02-27 12:18:06--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:18:06--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:18:06--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:18:06--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:18:06.294 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:18:06.359 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:18:06.359 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:18:06.359 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:18:06.359 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:18:06.359 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:18:06.360 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:18:06.360 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:18:06.360 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:18:06.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:18:06.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:18:06.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:18:06.411 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:18:06.411 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:18:06.411 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:18:06.411 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:18:06.412 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:18:06.412 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:18:06.412 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:18:06.412 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:18:06.412 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:18:06.413 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:18:06.413 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:18:06.483 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:18:06.518 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel11740.pb -o orderer.example.net:7050 -c testchannel11740 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:18:06.595 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:18:06.597 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:18:06.598 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:18:06.598 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel11740
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel11740 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:18:06.990 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:18:07.010 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel11740> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel11740> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:18:08.077 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:18:08.080 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:18:08.080 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:18:08.080 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel11740",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:18:07Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel11740> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel11740-02 vtb ; ./verify/test-channel-exists.sh testchannel11740-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel11740-02 vtb VERIFY: test-channel-exists.sh testchannel11740-02 vtb
[1;36m
Creating the <testchannel11740-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel11740-02[m[m[m
example.net

Create channel vtb testchannel11740-02
--2020-02-27 12:18:11--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:18:11--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:18:11--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:18:11--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:18:11.302 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:18:11.358 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:18:11.358 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:18:11.358 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:18:11.358 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:18:11.358 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:18:11.358 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:18:11.358 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:18:11.358 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:18:11.412 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:18:11.412 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:18:11.412 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:18:11.412 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:18:11.412 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:18:11.412 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:18:11.412 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:18:11.412 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:18:11.413 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:18:11.413 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:18:11.413 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:18:11.413 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:18:11.413 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:18:11.414 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:18:11.487 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:18:11.525 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel11740-02.pb -o orderer.example.net:7050 -c testchannel11740-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:18:11.613 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:18:11.615 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:18:11.616 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:18:11.616 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel11740-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel11740-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:18:12.021 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:18:12.032 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel11740-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel11740-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:18:13.097 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:18:13.099 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:18:13.100 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:18:13.100 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel11740-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:18:12Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel11740-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel11740 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel11740 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel11740> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel11740 sberbank vtb VERIFY: test-channel-add-org.sh testchannel11740 sberbank vtb
[1;36m
Add vtb to the testchannel11740 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel11740 vtb 7051 example.net[m[m[m
--2020-02-27 12:18:15--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:18:15--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:18:15--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel11740, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel11740.pb -o orderer.example.net:7050 -c testchannel11740 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:18:15.506 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:18:15.509 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:18:15.510 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:18:15.510 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel11740
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel11740 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:18:15.885 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:18:15.897 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel11740 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel11740 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:18:16.854 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:18:16.857 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:18:16.858 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:18:16.859 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel11740>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel11740 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel11740> channel'
RUNTEST: chaincode-install.sh testchannel11740 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel11740 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel11740[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference_testchannel11740[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=0c708eae27e4
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel11740  /opt/chaincode/node/reference_testchannel11740 node 1.0
[34m2020-02-27 12:18:22.130 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-02-27 12:18:22.130 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-02-27 12:18:22.279 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in sberbank[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel19491 sberbank ; ./verify/test-channel-exists.sh testchannel19491 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel19491 sberbank VERIFY: test-channel-exists.sh testchannel19491 sberbank
[1;36m
Creating the <testchannel19491> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel19491[m[m[m
example.net

Create channel sberbank testchannel19491
--2020-02-27 12:18:35--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:18:35--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:18:35--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:18:35--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:18:35.716 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:18:35.770 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:18:35.770 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:18:35.770 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:18:35.770 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:18:35.770 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:18:35.770 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:18:35.770 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:18:35.770 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:18:35.828 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:18:35.828 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:18:35.828 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:18:35.828 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:18:35.828 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:18:35.828 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:18:35.828 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:18:35.829 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:18:35.829 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:18:35.829 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:18:35.829 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:18:35.830 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:18:35.830 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:18:35.830 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:18:35.901 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:18:35.938 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel19491.pb -o orderer.example.net:7050 -c testchannel19491 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:18:36.045 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:18:36.048 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:18:36.050 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:18:36.050 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel19491
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel19491 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:18:36.548 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:18:36.561 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel19491> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel19491> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:18:37.732 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:18:37.734 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:18:37.735 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:18:37.735 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel19491",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:18:36Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel19491> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel19491-02 vtb ; ./verify/test-channel-exists.sh testchannel19491-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel19491-02 vtb VERIFY: test-channel-exists.sh testchannel19491-02 vtb
[1;36m
Creating the <testchannel19491-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel19491-02[m[m[m
example.net

Create channel vtb testchannel19491-02
--2020-02-27 12:18:41--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:18:41--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:18:41--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:18:41--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:18:41.653 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:18:41.737 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:18:41.737 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:18:41.737 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:18:41.737 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:18:41.737 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:18:41.737 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:18:41.737 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:18:41.737 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:18:41.817 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:18:41.817 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:18:41.817 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:18:41.817 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:18:41.817 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:18:41.817 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:18:41.818 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:18:41.818 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:18:41.819 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:18:41.819 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:18:41.819 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:18:41.819 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:18:41.820 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:18:41.820 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:18:41.907 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:18:41.950 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel19491-02.pb -o orderer.example.net:7050 -c testchannel19491-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:18:42.065 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:18:42.067 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:18:42.069 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:18:42.069 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel19491-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel19491-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:18:42.509 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:18:42.523 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel19491-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel19491-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:18:43.881 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:18:43.884 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:18:43.885 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:18:43.885 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel19491-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:18:42Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel19491-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel19491 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel19491 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel19491> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel19491 sberbank vtb VERIFY: test-channel-add-org.sh testchannel19491 sberbank vtb
[1;36m
Add vtb to the testchannel19491 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel19491 vtb 7051 example.net[m[m[m
--2020-02-27 12:18:46--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:18:46--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:18:46--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel19491, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel19491.pb -o orderer.example.net:7050 -c testchannel19491 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:18:46.508 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:18:46.510 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:18:46.511 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:18:46.512 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel19491
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel19491 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:18:46.940 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:18:46.958 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel19491 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel19491 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:18:47.999 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:18:48.005 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:18:48.007 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:18:48.007 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel19491>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel19491 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel19491> channel'
RUNTEST: chaincode-install.sh testchannel19491 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel19491 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel19491[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference__testchannel19491[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=dc1ad4eeeb12
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference__testchannel19491  /opt/chaincode/node/reference__testchannel19491 node 1.0
[34m2020-02-27 12:18:54.558 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-02-27 12:18:54.558 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
Error: error getting chaincode code reference__testchannel19491: path to chaincode does not exist: /opt/chaincode/node/reference__testchannel19491
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel5993 sberbank ; ./verify/test-channel-exists.sh testchannel5993 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel5993 sberbank VERIFY: test-channel-exists.sh testchannel5993 sberbank
[1;36m
Creating the <testchannel5993> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel5993[m[m[m
example.net

Create channel sberbank testchannel5993
--2020-02-27 12:19:51--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:19:51--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:19:51--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:19:51--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:19:51.605 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:19:51.667 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:19:51.667 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:19:51.667 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:19:51.667 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:19:51.667 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:19:51.667 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:19:51.667 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:19:51.667 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:19:51.725 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:19:51.725 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:19:51.725 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:19:51.725 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:19:51.725 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:19:51.725 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:19:51.725 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:19:51.725 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:19:51.726 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:19:51.726 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:19:51.726 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:19:51.726 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:19:51.726 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:19:51.727 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:19:51.802 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:19:51.837 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel5993.pb -o orderer.example.net:7050 -c testchannel5993 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:19:51.937 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:19:51.939 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:19:51.940 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:19:51.940 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel5993
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel5993 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:19:52.380 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:19:52.391 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel5993> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel5993> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:19:53.483 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:19:53.488 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:19:53.489 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:19:53.489 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel5993",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:19:52Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel5993> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel5993-02 vtb ; ./verify/test-channel-exists.sh testchannel5993-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel5993-02 vtb VERIFY: test-channel-exists.sh testchannel5993-02 vtb
[1;36m
Creating the <testchannel5993-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel5993-02[m[m[m
example.net

Create channel vtb testchannel5993-02
--2020-02-27 12:19:55--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:19:55--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:19:55--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:19:55--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:19:55.972 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:19:56.050 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:19:56.050 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:19:56.050 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:19:56.050 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:19:56.050 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:19:56.051 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:19:56.051 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:19:56.051 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:19:56.104 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:19:56.104 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:19:56.104 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:19:56.104 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:19:56.104 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:19:56.104 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:19:56.104 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:19:56.105 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:19:56.105 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:19:56.105 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:19:56.105 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:19:56.105 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:19:56.106 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:19:56.106 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:19:56.186 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:19:56.223 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel5993-02.pb -o orderer.example.net:7050 -c testchannel5993-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:19:56.306 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:19:56.308 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:19:56.309 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:19:56.309 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel5993-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel5993-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:19:56.682 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:19:56.692 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel5993-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel5993-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:19:57.900 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:19:57.903 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:19:57.904 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:19:57.904 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel5993-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:19:56Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel5993-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel5993 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel5993 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel5993> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel5993 sberbank vtb VERIFY: test-channel-add-org.sh testchannel5993 sberbank vtb
[1;36m
Add vtb to the testchannel5993 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel5993 vtb 7051 example.net[m[m[m
--2020-02-27 12:20:01--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:20:01--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:20:01--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel5993, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel5993.pb -o orderer.example.net:7050 -c testchannel5993 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:20:01.188 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:20:01.190 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:20:01.192 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:20:01.193 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel5993
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel5993 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:20:01.580 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:20:01.592 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel5993 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel5993 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:20:02.660 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:20:02.663 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:20:02.664 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:20:02.664 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel5993>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel5993 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel5993> channel'
RUNTEST: chaincode-install.sh testchannel5993 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel5993 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel5993[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference__testchannel5993[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=d9a94dffecd9
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference__testchannel5993  /opt/chaincode/node/reference__testchannel5993 node 1.0
[34m2020-02-27 12:20:07.713 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-02-27 12:20:07.713 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
Error: error getting chaincode code reference__testchannel5993: path to chaincode does not exist: /opt/chaincode/node/reference__testchannel5993
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel27542 sberbank ; ./verify/test-channel-exists.sh testchannel27542 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel27542 sberbank VERIFY: test-channel-exists.sh testchannel27542 sberbank
[1;36m
Creating the <testchannel27542> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel27542[m[m[m
example.net

Create channel sberbank testchannel27542
--2020-02-27 12:20:20--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:20:20--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:20:20--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:20:20--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:20:20.247 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:20:20.300 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:20:20.300 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:20:20.300 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:20:20.300 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:20:20.300 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:20:20.300 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:20:20.300 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:20:20.300 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:20:20.352 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:20:20.352 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:20:20.352 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:20:20.352 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:20:20.352 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:20:20.353 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:20:20.353 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:20:20.353 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:20:20.353 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:20:20.353 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:20:20.353 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:20:20.354 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:20:20.354 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:20:20.354 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:20:20.443 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:20:20.483 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel27542.pb -o orderer.example.net:7050 -c testchannel27542 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:20:20.568 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:20:20.570 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:20:20.572 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:20:20.572 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel27542
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel27542 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:20:21.004 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:20:21.021 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel27542> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel27542> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:20:22.233 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:20:22.236 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:20:22.237 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:20:22.237 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel27542",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:20:21Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel27542> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel27542-02 vtb ; ./verify/test-channel-exists.sh testchannel27542-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel27542-02 vtb VERIFY: test-channel-exists.sh testchannel27542-02 vtb
[1;36m
Creating the <testchannel27542-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel27542-02[m[m[m
example.net

Create channel vtb testchannel27542-02
--2020-02-27 12:20:24--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:20:24--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:20:24--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:20:24--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:20:24.639 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:20:24.694 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:20:24.694 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:20:24.694 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:20:24.694 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:20:24.694 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:20:24.694 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:20:24.694 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:20:24.694 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:20:24.743 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:20:24.743 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:20:24.743 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:20:24.743 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:20:24.743 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:20:24.743 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:20:24.743 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:20:24.743 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:20:24.744 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:20:24.744 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:20:24.744 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:20:24.744 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:20:24.745 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:20:24.745 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:20:24.820 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:20:24.858 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel27542-02.pb -o orderer.example.net:7050 -c testchannel27542-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:20:25.025 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:20:25.028 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:20:25.031 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:20:25.031 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel27542-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel27542-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:20:25.430 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:20:25.440 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel27542-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel27542-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:20:26.761 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:20:26.766 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:20:26.771 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:20:26.771 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel27542-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:20:25Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel27542-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel27542 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel27542 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel27542> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel27542 sberbank vtb VERIFY: test-channel-add-org.sh testchannel27542 sberbank vtb
[1;36m
Add vtb to the testchannel27542 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel27542 vtb 7051 example.net[m[m[m
--2020-02-27 12:20:29--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:20:29--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:20:29--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel27542, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel27542.pb -o orderer.example.net:7050 -c testchannel27542 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:20:30.255 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:20:30.257 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:20:30.260 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:20:30.261 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel27542
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel27542 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:20:30.964 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:20:30.999 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel27542 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel27542 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:20:32.509 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:20:32.512 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:20:32.513 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:20:32.513 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel27542>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel27542 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel27542> channel'
RUNTEST: chaincode-install.sh testchannel27542 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel27542 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel27542[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference__testchannel27542[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=fc8a9aa64754
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference__testchannel27542  /opt/chaincode/node/reference__testchannel27542 node 1.0
[34m2020-02-27 12:20:38.366 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-02-27 12:20:38.366 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
Error: error getting chaincode code reference__testchannel27542: path to chaincode does not exist: /opt/chaincode/node/reference__testchannel27542
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel31728 sberbank ; ./verify/test-channel-exists.sh testchannel31728 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel31728 sberbank VERIFY: test-channel-exists.sh testchannel31728 sberbank
[1;36m
Creating the <testchannel31728> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel31728[m[m[m
example.net

Create channel sberbank testchannel31728
--2020-02-27 12:21:12--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:21:12--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:21:12--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:21:12--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:21:12.326 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:21:12.381 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:21:12.381 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:21:12.381 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:21:12.381 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:21:12.381 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:21:12.381 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:21:12.381 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:21:12.381 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:21:12.430 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:21:12.430 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:21:12.430 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:21:12.430 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:21:12.430 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:21:12.430 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:21:12.431 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:21:12.431 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:21:12.432 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:21:12.432 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:21:12.432 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:21:12.432 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:21:12.432 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:21:12.433 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:21:12.503 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:21:12.539 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel31728.pb -o orderer.example.net:7050 -c testchannel31728 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:21:12.634 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:21:12.637 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:21:12.638 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:21:12.638 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel31728
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel31728 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:21:13.033 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:21:13.044 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel31728> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel31728> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:21:14.338 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:21:14.340 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:21:14.341 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:21:14.341 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel31728",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:21:13Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel31728> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel31728-02 vtb ; ./verify/test-channel-exists.sh testchannel31728-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel31728-02 vtb VERIFY: test-channel-exists.sh testchannel31728-02 vtb
[1;36m
Creating the <testchannel31728-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel31728-02[m[m[m
example.net

Create channel vtb testchannel31728-02
--2020-02-27 12:21:16--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:21:16--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:21:16--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:21:16--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:21:16.783 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:21:16.858 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:21:16.858 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:21:16.858 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:21:16.858 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:21:16.858 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:21:16.858 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:21:16.858 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:21:16.858 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:21:16.910 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:21:16.911 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:21:16.911 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:21:16.911 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:21:16.911 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:21:16.911 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:21:16.911 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:21:16.911 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:21:16.912 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:21:16.912 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:21:16.912 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:21:16.912 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:21:16.912 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:21:16.913 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:21:16.992 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:21:17.030 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel31728-02.pb -o orderer.example.net:7050 -c testchannel31728-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:21:17.105 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:21:17.107 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:21:17.108 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:21:17.108 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel31728-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel31728-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:21:17.468 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:21:17.477 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel31728-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel31728-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:21:19.238 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:21:19.245 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:21:19.249 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:21:19.249 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel31728-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:21:17Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel31728-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel31728 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel31728 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel31728> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel31728 sberbank vtb VERIFY: test-channel-add-org.sh testchannel31728 sberbank vtb
[1;36m
Add vtb to the testchannel31728 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel31728 vtb 7051 example.net[m[m[m
--2020-02-27 12:21:22--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:21:22--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:21:22--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel31728, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel31728.pb -o orderer.example.net:7050 -c testchannel31728 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:21:22.111 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:21:22.113 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:21:22.115 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:21:22.115 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel31728
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel31728 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:21:22.474 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:21:22.486 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel31728 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel31728 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:21:23.608 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:21:23.612 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:21:23.613 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:21:23.613 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel31728>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel31728 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel31728> channel'
RUNTEST: chaincode-install.sh testchannel31728 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel31728 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel31728[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference__testchannel31728[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=538e58fe2a5b
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference__testchannel31728  /opt/chaincode/node/reference__testchannel31728 node 1.0
[34m2020-02-27 12:21:29.098 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-02-27 12:21:29.098 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
Error: error getting chaincode code reference__testchannel31728: path to chaincode does not exist: /opt/chaincode/node/reference__testchannel31728
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel4930 sberbank ; ./verify/test-channel-exists.sh testchannel4930 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel4930 sberbank VERIFY: test-channel-exists.sh testchannel4930 sberbank
[1;36m
Creating the <testchannel4930> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4930[m[m[m
example.net

Create channel sberbank testchannel4930
--2020-02-27 12:21:42--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:21:42--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:21:42--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:21:42--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:21:42.108 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:21:42.170 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:21:42.170 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:21:42.170 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:21:42.170 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:21:42.170 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:21:42.170 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:21:42.170 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:21:42.170 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:21:42.217 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:21:42.217 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:21:42.218 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:21:42.218 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:21:42.218 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:21:42.218 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:21:42.218 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:21:42.218 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:21:42.218 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:21:42.219 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:21:42.219 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:21:42.219 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:21:42.219 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:21:42.219 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:21:42.300 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:21:42.335 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel4930.pb -o orderer.example.net:7050 -c testchannel4930 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:21:42.407 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:21:42.409 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:21:42.410 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:21:42.410 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel4930
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4930 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:21:42.799 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:21:42.813 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel4930> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel4930> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:21:44.052 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:21:44.054 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:21:44.055 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:21:44.055 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel4930",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:21:42Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel4930> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel4930-02 vtb ; ./verify/test-channel-exists.sh testchannel4930-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel4930-02 vtb VERIFY: test-channel-exists.sh testchannel4930-02 vtb
[1;36m
Creating the <testchannel4930-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4930-02[m[m[m
example.net

Create channel vtb testchannel4930-02
--2020-02-27 12:21:46--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:21:46--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:21:46--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:21:46--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:21:46.494 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:21:46.552 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:21:46.552 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:21:46.552 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:21:46.552 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:21:46.552 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:21:46.552 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:21:46.552 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:21:46.552 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:21:46.603 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:21:46.603 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:21:46.603 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:21:46.603 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:21:46.603 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:21:46.603 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:21:46.603 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:21:46.603 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:21:46.604 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:21:46.604 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:21:46.604 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:21:46.604 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:21:46.604 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:21:46.604 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:21:46.681 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:21:46.717 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel4930-02.pb -o orderer.example.net:7050 -c testchannel4930-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:21:46.788 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:21:46.790 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:21:46.791 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:21:46.791 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel4930-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4930-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:21:47.194 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:21:47.207 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel4930-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel4930-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:21:48.495 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:21:48.500 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:21:48.501 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:21:48.501 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel4930-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:21:47Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel4930-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel4930 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel4930 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel4930> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel4930 sberbank vtb VERIFY: test-channel-add-org.sh testchannel4930 sberbank vtb
[1;36m
Add vtb to the testchannel4930 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel4930 vtb 7051 example.net[m[m[m
--2020-02-27 12:21:51--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:21:51--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:21:51--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel4930, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel4930.pb -o orderer.example.net:7050 -c testchannel4930 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:21:51.688 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:21:51.691 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:21:51.692 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:21:51.692 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel4930
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4930 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:21:52.114 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:21:52.125 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel4930 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel4930 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:21:53.209 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:21:53.211 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:21:53.212 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:21:53.212 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel4930>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel4930 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel4930> channel'
RUNTEST: chaincode-install.sh testchannel4930 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel4930 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel4930[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference_testchannel4930[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=79b65f81a604
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel4930  /opt/chaincode/node/reference_testchannel4930 node 1.0
[34m2020-02-27 12:21:58.293 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-02-27 12:21:58.293 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-02-27 12:21:58.704 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in sberbank[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel25599 sberbank ; ./verify/test-channel-exists.sh testchannel25599 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel25599 sberbank VERIFY: test-channel-exists.sh testchannel25599 sberbank
[1;36m
Creating the <testchannel25599> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel25599[m[m[m
example.net

Create channel sberbank testchannel25599
--2020-02-27 12:22:28--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:22:28--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:22:28--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:22:28--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:22:28.437 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:22:28.540 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:22:28.540 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:22:28.540 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:22:28.540 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:22:28.540 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:22:28.540 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:22:28.540 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:22:28.540 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:22:28.602 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:22:28.603 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:22:28.603 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:22:28.603 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:22:28.603 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:22:28.603 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:22:28.603 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:22:28.603 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:22:28.605 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:22:28.605 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:22:28.605 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:22:28.605 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:22:28.606 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:22:28.606 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:22:28.793 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:22:28.839 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel25599.pb -o orderer.example.net:7050 -c testchannel25599 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:22:29.140 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:22:29.143 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:22:29.145 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:22:29.145 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel25599
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel25599 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:22:30.176 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:22:30.195 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel25599> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel25599> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:22:31.569 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:22:31.572 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:22:31.573 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:22:31.573 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel25599",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:22:30Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel25599> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel25599-02 vtb ; ./verify/test-channel-exists.sh testchannel25599-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel25599-02 vtb VERIFY: test-channel-exists.sh testchannel25599-02 vtb
[1;36m
Creating the <testchannel25599-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel25599-02[m[m[m
example.net

Create channel vtb testchannel25599-02
--2020-02-27 12:22:34--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:22:34--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:22:34--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:22:34--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:22:34.108 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:22:34.162 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:22:34.162 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:22:34.162 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:22:34.162 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:22:34.162 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:22:34.162 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:22:34.162 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:22:34.162 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:22:34.212 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:22:34.212 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:22:34.212 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:22:34.212 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:22:34.212 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:22:34.212 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:22:34.212 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:22:34.212 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:22:34.213 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:22:34.213 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:22:34.213 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:22:34.213 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:22:34.213 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:22:34.214 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:22:34.291 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:22:34.325 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel25599-02.pb -o orderer.example.net:7050 -c testchannel25599-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:22:34.410 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:22:34.411 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:22:34.413 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:22:34.413 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel25599-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel25599-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:22:34.822 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:22:34.834 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel25599-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel25599-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:22:36.172 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:22:36.175 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:22:36.176 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:22:36.176 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel25599-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:22:34Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel25599-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel25599 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel25599 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel25599> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel25599 sberbank vtb VERIFY: test-channel-add-org.sh testchannel25599 sberbank vtb
[1;36m
Add vtb to the testchannel25599 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel25599 vtb 7051 example.net[m[m[m
--2020-02-27 12:22:38--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:22:38--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:22:38--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel25599, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel25599.pb -o orderer.example.net:7050 -c testchannel25599 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:22:38.806 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:22:38.810 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:22:38.812 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:22:38.812 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel25599
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel25599 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:22:39.989 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:22:40.018 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel25599 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel25599 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:22:41.122 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:22:41.124 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:22:41.125 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:22:41.125 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel25599>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel25599 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel25599> channel'
RUNTEST: chaincode-install.sh testchannel25599 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel25599 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel25599[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference_testchannel25599[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=d47cc9a461bb
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel25599  /opt/chaincode/node/reference_testchannel25599 node 1.0
[34m2020-02-27 12:22:46.363 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-02-27 12:22:46.363 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-02-27 12:22:46.513 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in sberbank[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel492 sberbank ; ./verify/test-channel-exists.sh testchannel492 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel492 sberbank VERIFY: test-channel-exists.sh testchannel492 sberbank
[1;36m
Creating the <testchannel492> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel492[m[m[m
example.net

Create channel sberbank testchannel492
--2020-02-27 12:23:03--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:23:03--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:23:03--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:23:03--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:23:03.269 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:23:03.332 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:23:03.332 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:23:03.332 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:23:03.332 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:23:03.332 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:23:03.332 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:23:03.332 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:23:03.332 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:23:03.385 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:23:03.385 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:23:03.385 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:23:03.385 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:23:03.385 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:23:03.385 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:23:03.385 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:23:03.386 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:23:03.387 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:23:03.387 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:23:03.387 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:23:03.387 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:23:03.387 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:23:03.388 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:23:03.471 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:23:03.515 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel492.pb -o orderer.example.net:7050 -c testchannel492 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:23:03.625 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:23:03.626 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:23:03.627 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:23:03.627 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel492
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel492 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:23:04.071 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:23:04.080 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel492> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel492> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:23:05.302 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:23:05.305 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:23:05.306 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:23:05.306 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel492",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:23:04Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel492> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel492-02 vtb ; ./verify/test-channel-exists.sh testchannel492-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel492-02 vtb VERIFY: test-channel-exists.sh testchannel492-02 vtb
[1;36m
Creating the <testchannel492-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel492-02[m[m[m
example.net

Create channel vtb testchannel492-02
--2020-02-27 12:23:07--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:23:07--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:23:07--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:23:07--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:23:07.906 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:23:07.975 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:23:07.975 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:23:07.975 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:23:07.975 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:23:07.975 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:23:07.975 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:23:07.975 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:23:07.975 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:23:08.042 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:23:08.042 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:23:08.042 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:23:08.042 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:23:08.042 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:23:08.042 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:23:08.042 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:23:08.043 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:23:08.043 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:23:08.044 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:23:08.044 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:23:08.044 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:23:08.044 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:23:08.045 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:23:08.122 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:23:08.160 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel492-02.pb -o orderer.example.net:7050 -c testchannel492-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:23:08.241 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:23:08.243 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:23:08.244 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:23:08.244 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel492-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel492-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:23:08.889 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:23:08.915 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel492-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel492-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:23:11.373 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:23:11.379 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:23:11.380 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:23:11.380 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel492-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:23:08Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel492-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel492 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel492 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel492> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel492 sberbank vtb VERIFY: test-channel-add-org.sh testchannel492 sberbank vtb
[1;36m
Add vtb to the testchannel492 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel492 vtb 7051 example.net[m[m[m
--2020-02-27 12:23:14--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:23:14--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:23:14--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel492, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel492.pb -o orderer.example.net:7050 -c testchannel492 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:23:14.258 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:23:14.261 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:23:14.262 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:23:14.262 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel492
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel492 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:23:14.732 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:23:14.752 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel492 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel492 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:23:16.199 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:23:16.203 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:23:16.205 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:23:16.205 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel492>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel492 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel492> channel'
RUNTEST: chaincode-install.sh testchannel492 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel492 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel492[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference__testchannel492[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=bb026f20fb8c
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference__testchannel492  /opt/chaincode/node/reference__testchannel492 node 1.0
[34m2020-02-27 12:23:23.297 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-02-27 12:23:23.297 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
Error: error getting chaincode code reference__testchannel492: path to chaincode does not exist: /opt/chaincode/node/reference__testchannel492
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel2751 sberbank ; ./verify/test-channel-exists.sh testchannel2751 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel2751 sberbank VERIFY: test-channel-exists.sh testchannel2751 sberbank
[1;36m
Creating the <testchannel2751> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel5959 sberbank ; ./verify/test-channel-exists.sh testchannel5959 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel5959 sberbank VERIFY: test-channel-exists.sh testchannel5959 sberbank
[1;36m
Creating the <testchannel5959> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel5959[m[m[m
example.net

Create channel sberbank testchannel5959
--2020-02-27 12:24:23--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:24:23--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:24:23--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:24:23--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:24:23.827 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:24:23.880 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:24:23.880 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:24:23.880 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:24:23.880 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:24:23.881 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:24:23.881 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:24:23.881 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:24:23.881 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:24:23.931 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:24:23.931 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:24:23.931 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:24:23.931 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:24:23.931 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:24:23.931 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:24:23.931 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:24:23.931 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:24:23.932 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:24:23.932 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:24:23.932 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:24:23.932 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:24:23.933 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:24:23.933 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:24:24.018 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:24:24.062 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel5959.pb -o orderer.example.net:7050 -c testchannel5959 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:24:24.157 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:24:24.159 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:24:24.160 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:24:24.160 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel5959
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel5959 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:24:24.575 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:24:24.586 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel5959> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel5959> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:24:25.716 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:24:25.719 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:24:25.721 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:24:25.721 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel5959",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:24:24Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel5959> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel5959-02 vtb ; ./verify/test-channel-exists.sh testchannel5959-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel5959-02 vtb VERIFY: test-channel-exists.sh testchannel5959-02 vtb
[1;36m
Creating the <testchannel5959-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel5959-02[m[m[m
example.net

Create channel vtb testchannel5959-02
--2020-02-27 12:24:28--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:24:28--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:24:28--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:24:28--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:24:28.184 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:24:28.239 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:24:28.239 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:24:28.239 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:24:28.239 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:24:28.239 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:24:28.239 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:24:28.239 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:24:28.239 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:24:28.289 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:24:28.289 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:24:28.289 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:24:28.289 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:24:28.289 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:24:28.289 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:24:28.289 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:24:28.290 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:24:28.290 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:24:28.290 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:24:28.290 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:24:28.290 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:24:28.291 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:24:28.291 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:24:28.373 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:24:28.406 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel5959-02.pb -o orderer.example.net:7050 -c testchannel5959-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:24:28.497 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:24:28.499 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:24:28.500 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:24:28.500 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel5959-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel5959-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:24:29.302 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:24:29.334 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel5959-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel5959-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:24:30.967 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:24:30.976 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:24:30.978 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:24:30.978 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel5959-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:24:29Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel5959-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel5959 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel5959 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel5959> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel5959 sberbank vtb VERIFY: test-channel-add-org.sh testchannel5959 sberbank vtb
[1;36m
Add vtb to the testchannel5959 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel5959 vtb 7051 example.net[m[m[m
--2020-02-27 12:24:33--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:24:33--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:24:33--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel5959, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel5959.pb -o orderer.example.net:7050 -c testchannel5959 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:24:33.395 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:24:33.397 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:24:33.399 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:24:33.399 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel5959
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel5959 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:24:33.821 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:24:33.834 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel5959 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel5959 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:24:34.782 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:24:34.785 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:24:34.786 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:24:34.786 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel5959>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel5959 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel5959> channel'
RUNTEST: chaincode-install.sh testchannel5959 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel5959 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel5959[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference__testchannel5959[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=f8522099bbcb
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference__testchannel5959  /opt/chaincode/node/reference__testchannel5959 node 1.0
[34m2020-02-27 12:24:40.271 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-02-27 12:24:40.271 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
Error: error getting chaincode code reference__testchannel5959: path to chaincode does not exist: /opt/chaincode/node/reference__testchannel5959
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel32054 sberbank ; ./verify/test-channel-exists.sh testchannel32054 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel32054 sberbank VERIFY: test-channel-exists.sh testchannel32054 sberbank
[1;36m
Creating the <testchannel32054> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32054[m[m[m
example.net

Create channel sberbank testchannel32054
--2020-02-27 12:25:04--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:25:04--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:25:04--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:25:04--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:25:05.067 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:25:05.128 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:25:05.128 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:25:05.128 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:25:05.128 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:25:05.128 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:25:05.128 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:25:05.128 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:25:05.128 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:25:05.181 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:25:05.181 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:25:05.181 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:25:05.181 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:25:05.181 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:25:05.181 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:25:05.181 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:25:05.182 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:25:05.182 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:25:05.182 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:25:05.182 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:25:05.183 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:25:05.183 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:25:05.183 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:25:05.270 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:25:05.305 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel32054.pb -o orderer.example.net:7050 -c testchannel32054 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:25:05.395 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:25:05.397 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:25:05.398 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:25:05.398 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel32054
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32054 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:25:05.812 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:25:05.828 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel32054> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel32054> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:25:06.918 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:25:06.920 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:25:06.921 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:25:06.921 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel32054",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:25:05Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel32054> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel32054-02 vtb ; ./verify/test-channel-exists.sh testchannel32054-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel32054-02 vtb VERIFY: test-channel-exists.sh testchannel32054-02 vtb
[1;36m
Creating the <testchannel32054-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32054-02[m[m[m
example.net

Create channel vtb testchannel32054-02
--2020-02-27 12:25:09--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:25:09--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:25:09--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:25:09--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:25:09.709 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:25:09.921 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:25:09.921 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:25:09.921 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:25:09.921 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:25:09.921 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:25:09.921 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:25:09.921 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:25:09.921 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:25:10.115 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:25:10.116 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:25:10.116 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:25:10.116 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:25:10.116 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:25:10.116 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:25:10.116 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:25:10.116 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:25:10.117 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:25:10.117 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:25:10.117 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:25:10.117 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:25:10.118 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:25:10.118 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:25:10.265 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:25:10.305 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel32054-02.pb -o orderer.example.net:7050 -c testchannel32054-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:25:10.420 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:25:10.423 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:25:10.425 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:25:10.425 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel32054-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32054-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:25:10.824 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:25:10.834 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel32054-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel32054-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:25:12.051 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:25:12.054 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:25:12.054 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:25:12.054 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel32054-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:25:10Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel32054-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel32054 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel32054 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel32054> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel32054 sberbank vtb VERIFY: test-channel-add-org.sh testchannel32054 sberbank vtb
[1;36m
Add vtb to the testchannel32054 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel32054 vtb 7051 example.net[m[m[m
--2020-02-27 12:25:14--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:25:14--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:25:14--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel32054, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel32054.pb -o orderer.example.net:7050 -c testchannel32054 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:25:14.578 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:25:14.580 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:25:14.582 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:25:14.582 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel32054
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32054 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:25:14.984 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:25:14.997 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel32054 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel32054 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:25:16.057 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:25:16.059 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:25:16.061 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:25:16.061 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel32054>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel32054 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel32054> channel'
RUNTEST: chaincode-install.sh testchannel32054 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel32054 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel32054[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference__testchannel32054[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=f1e3ca5a1243
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference__testchannel32054  /opt/chaincode/node/reference__testchannel32054 node 1.0
[34m2020-02-27 12:25:21.930 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-02-27 12:25:21.931 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
Error: error getting chaincode code reference__testchannel32054: path to chaincode does not exist: /opt/chaincode/node/reference__testchannel32054
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel11871 sberbank ; ./verify/test-channel-exists.sh testchannel11871 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel11871 sberbank VERIFY: test-channel-exists.sh testchannel11871 sberbank
[1;36m
Creating the <testchannel11871> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel11871[m[m[m
example.net

Create channel sberbank testchannel11871
--2020-02-27 12:25:40--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:25:40--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:25:40--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:25:40--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:25:40.631 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:25:40.689 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:25:40.689 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:25:40.689 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:25:40.689 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:25:40.689 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:25:40.689 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:25:40.689 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:25:40.689 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:25:40.737 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:25:40.737 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:25:40.737 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:25:40.737 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:25:40.737 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:25:40.737 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:25:40.737 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:25:40.738 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:25:40.738 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:25:40.738 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:25:40.738 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:25:40.738 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:25:40.739 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:25:40.739 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:25:40.820 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:25:40.859 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel11871.pb -o orderer.example.net:7050 -c testchannel11871 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:25:40.968 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:25:40.971 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:25:40.973 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:25:40.973 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel11871
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel11871 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:25:41.380 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:25:41.389 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel11871> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel11871> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:25:42.553 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:25:42.555 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:25:42.557 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:25:42.557 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel11871",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:25:41Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel11871> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel11871-02 vtb ; ./verify/test-channel-exists.sh testchannel11871-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel11871-02 vtb VERIFY: test-channel-exists.sh testchannel11871-02 vtb
[1;36m
Creating the <testchannel11871-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel11871-02[m[m[m
example.net

Create channel vtb testchannel11871-02
--2020-02-27 12:25:44--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:25:44--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:25:44--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:25:44--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:25:44.991 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:25:45.058 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:25:45.058 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:25:45.058 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:25:45.058 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:25:45.058 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:25:45.058 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:25:45.058 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:25:45.058 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:25:45.113 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:25:45.113 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:25:45.113 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:25:45.113 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:25:45.113 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:25:45.113 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:25:45.114 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:25:45.114 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:25:45.115 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:25:45.115 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:25:45.115 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:25:45.115 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:25:45.115 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:25:45.116 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:25:45.193 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:25:45.231 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel11871-02.pb -o orderer.example.net:7050 -c testchannel11871-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:25:45.311 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:25:45.313 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:25:45.314 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:25:45.314 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel11871-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel11871-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:25:45.694 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:25:45.704 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel11871-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel11871-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:25:46.815 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:25:46.818 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:25:46.819 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:25:46.819 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel11871-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:25:45Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel11871-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel11871 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel11871 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel11871> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel11871 sberbank vtb VERIFY: test-channel-add-org.sh testchannel11871 sberbank vtb
[1;36m
Add vtb to the testchannel11871 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel11871 vtb 7051 example.net[m[m[m
--2020-02-27 12:25:49--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:25:49--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:25:49--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel11871, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel11871.pb -o orderer.example.net:7050 -c testchannel11871 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:25:49.762 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:25:49.772 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:25:49.786 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:25:49.786 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel11871
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel11871 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:25:50.975 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:25:51.006 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel11871 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel11871 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:25:52.145 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:25:52.148 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:25:52.149 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:25:52.149 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel11871>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel11871 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel11871> channel'
RUNTEST: chaincode-install.sh testchannel11871 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel11871 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel11871[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference__testchannel11871[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=2c68e320d8dd
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference__testchannel11871  /opt/chaincode/node/reference__testchannel11871 node 1.0
[34m2020-02-27 12:25:57.289 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-02-27 12:25:57.289 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
Error: error getting chaincode code reference__testchannel11871: path to chaincode does not exist: /opt/chaincode/node/reference__testchannel11871
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel685 sberbank ; ./verify/test-channel-exists.sh testchannel685 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel685 sberbank VERIFY: test-channel-exists.sh testchannel685 sberbank
[1;36m
Creating the <testchannel685> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel685[m[m[m
example.net

Create channel sberbank testchannel685
--2020-02-27 12:26:08--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:26:08--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:26:08--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:26:08--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:26:08.376 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:26:08.431 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:26:08.431 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:26:08.431 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:26:08.431 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:26:08.431 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:26:08.431 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:26:08.431 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:26:08.431 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:26:08.485 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:26:08.485 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:26:08.485 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:26:08.485 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:26:08.485 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:26:08.485 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:26:08.485 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:26:08.485 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:26:08.486 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:26:08.486 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:26:08.486 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:26:08.486 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:26:08.486 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:26:08.487 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:26:08.564 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:26:08.602 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel685.pb -o orderer.example.net:7050 -c testchannel685 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:26:08.700 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:26:08.705 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:26:08.706 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:26:08.706 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel685
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel685 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:26:09.577 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:26:09.604 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel685> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel685> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:26:11.087 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:26:11.089 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:26:11.090 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:26:11.090 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel685",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:26:09Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel685> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel685-02 vtb ; ./verify/test-channel-exists.sh testchannel685-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel685-02 vtb VERIFY: test-channel-exists.sh testchannel685-02 vtb
[1;36m
Creating the <testchannel685-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel685-02[m[m[m
example.net

Create channel vtb testchannel685-02
--2020-02-27 12:26:13--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:26:13--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:26:13--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:26:13--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:26:13.479 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:26:13.536 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:26:13.536 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:26:13.536 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:26:13.536 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:26:13.536 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:26:13.536 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:26:13.536 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:26:13.536 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:26:13.589 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:26:13.589 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:26:13.590 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:26:13.590 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:26:13.590 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:26:13.590 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:26:13.590 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:26:13.590 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:26:13.591 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:26:13.591 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:26:13.591 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:26:13.591 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:26:13.591 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:26:13.592 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:26:13.668 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:26:13.704 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel685-02.pb -o orderer.example.net:7050 -c testchannel685-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:26:13.791 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:26:13.794 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:26:13.795 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:26:13.795 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel685-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel685-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:26:14.246 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:26:14.255 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel685-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel685-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:26:15.338 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:26:15.342 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:26:15.346 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:26:15.346 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel685-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:26:14Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel685-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel685 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel685 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel685> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel685 sberbank vtb VERIFY: test-channel-add-org.sh testchannel685 sberbank vtb
[1;36m
Add vtb to the testchannel685 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel685 vtb 7051 example.net[m[m[m
--2020-02-27 12:26:17--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:26:17--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:26:17--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel685, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel685.pb -o orderer.example.net:7050 -c testchannel685 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:26:17.834 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:26:17.836 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:26:17.839 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:26:17.839 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel685
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel685 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:26:18.257 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:26:18.268 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel685 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel685 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:26:19.853 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:26:19.861 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:26:19.871 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:26:19.871 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel685>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel685 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel685> channel'
RUNTEST: chaincode-install.sh testchannel685 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel685 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel685[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference_testchannel685[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=3128810f5cc3
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel685  /opt/chaincode/node/reference_testchannel685 node 1.0
[34m2020-02-27 12:26:25.281 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-02-27 12:26:25.281 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-02-27 12:26:25.430 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in sberbank[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel22331 sberbank ; ./verify/test-channel-exists.sh testchannel22331 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel22331 sberbank VERIFY: test-channel-exists.sh testchannel22331 sberbank
[1;36m
Creating the <testchannel22331> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel22331[m[m[m
example.net

Create channel sberbank testchannel22331
--2020-02-27 12:26:47--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:26:47--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:26:47--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:26:47--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:26:48.071 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:26:48.129 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:26:48.129 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:26:48.129 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:26:48.129 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:26:48.129 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:26:48.129 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:26:48.129 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:26:48.129 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:26:48.179 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:26:48.179 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:26:48.179 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:26:48.179 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:26:48.179 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:26:48.179 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:26:48.179 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:26:48.180 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:26:48.180 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:26:48.180 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:26:48.180 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:26:48.180 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:26:48.181 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:26:48.181 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:26:48.249 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:26:48.288 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel22331.pb -o orderer.example.net:7050 -c testchannel22331 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:26:48.384 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:26:48.386 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:26:48.387 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:26:48.387 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel22331
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel22331 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:26:49.006 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:26:49.027 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel22331> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel22331> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:26:50.763 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:26:50.768 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:26:50.770 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:26:50.770 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel22331",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:26:49Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel22331> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel22331-02 vtb ; ./verify/test-channel-exists.sh testchannel22331-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel22331-02 vtb VERIFY: test-channel-exists.sh testchannel22331-02 vtb
[1;36m
Creating the <testchannel22331-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel22331-02[m[m[m
example.net

Create channel vtb testchannel22331-02
--2020-02-27 12:26:53--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:26:53--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:26:53--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:26:53--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:26:53.187 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:26:53.250 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:26:53.250 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:26:53.250 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:26:53.251 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:26:53.251 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:26:53.251 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:26:53.251 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:26:53.251 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:26:53.299 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:26:53.299 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:26:53.299 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:26:53.299 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:26:53.299 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:26:53.299 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:26:53.299 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:26:53.299 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:26:53.300 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:26:53.300 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:26:53.300 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:26:53.300 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:26:53.300 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:26:53.301 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:26:53.376 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:26:53.416 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel22331-02.pb -o orderer.example.net:7050 -c testchannel22331-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:26:53.496 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:26:53.499 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:26:53.500 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:26:53.500 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel22331-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel22331-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:26:53.909 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:26:53.926 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel22331-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel22331-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:26:55.057 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:26:55.060 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:26:55.061 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:26:55.061 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel22331-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:26:53Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel22331-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel22331 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel22331 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel22331> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel22331 sberbank vtb VERIFY: test-channel-add-org.sh testchannel22331 sberbank vtb
[1;36m
Add vtb to the testchannel22331 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel22331 vtb 7051 example.net[m[m[m
--2020-02-27 12:26:57--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:26:57--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:26:57--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel22331, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel22331.pb -o orderer.example.net:7050 -c testchannel22331 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:26:57.477 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:26:57.481 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:26:57.482 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:26:57.482 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel22331
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel22331 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:26:57.864 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:26:57.875 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel22331 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel22331 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:26:59.022 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:26:59.029 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:26:59.031 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:26:59.031 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel22331>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel22331 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel22331> channel'
RUNTEST: chaincode-install.sh testchannel22331 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel22331 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel22331[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference_testchannel22331[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=f85139936771
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel22331  /opt/chaincode/node/reference_testchannel22331 node 1.0
[34m2020-02-27 12:27:04.769 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-02-27 12:27:04.769 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-02-27 12:27:04.925 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in sberbank[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel11437 sberbank ; ./verify/test-channel-exists.sh testchannel11437 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel11437 sberbank VERIFY: test-channel-exists.sh testchannel11437 sberbank
[1;36m
Creating the <testchannel11437> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel11437[m[m[m
example.net

Create channel sberbank testchannel11437
--2020-02-27 12:27:18--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:27:18--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:27:18--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:27:18--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:27:18.330 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:27:18.396 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:27:18.396 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:27:18.396 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:27:18.396 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:27:18.396 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:27:18.396 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:27:18.396 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:27:18.396 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:27:18.446 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:27:18.446 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:27:18.446 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:27:18.446 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:27:18.446 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:27:18.446 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:27:18.446 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:27:18.446 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:27:18.447 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:27:18.447 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:27:18.447 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:27:18.447 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:27:18.448 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:27:18.448 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:27:18.517 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:27:18.556 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel11437.pb -o orderer.example.net:7050 -c testchannel11437 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:27:18.662 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:27:18.666 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:27:18.667 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:27:18.667 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel11437
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel11437 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:27:19.546 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:27:19.575 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel11437> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel11437> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:27:21.080 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:27:21.083 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:27:21.084 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:27:21.084 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel11437",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:27:19Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel11437> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel11437-02 vtb ; ./verify/test-channel-exists.sh testchannel11437-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel11437-02 vtb VERIFY: test-channel-exists.sh testchannel11437-02 vtb
[1;36m
Creating the <testchannel11437-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel11437-02[m[m[m
example.net

Create channel vtb testchannel11437-02
--2020-02-27 12:27:23--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:27:23--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:27:23--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:27:23--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:27:23.366 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:27:23.426 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:27:23.426 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:27:23.426 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:27:23.426 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:27:23.426 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:27:23.426 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:27:23.426 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:27:23.426 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:27:23.476 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:27:23.476 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:27:23.476 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:27:23.476 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:27:23.476 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:27:23.476 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:27:23.476 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:27:23.476 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:27:23.477 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:27:23.477 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:27:23.477 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:27:23.477 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:27:23.478 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:27:23.478 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:27:23.547 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:27:23.586 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel11437-02.pb -o orderer.example.net:7050 -c testchannel11437-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:27:23.656 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:27:23.658 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:27:23.659 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:27:23.659 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel11437-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel11437-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:27:24.088 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:27:24.099 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel11437-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel11437-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:27:25.263 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:27:25.301 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:27:25.302 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:27:25.302 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel11437-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:27:24Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel11437-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel11437 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel11437 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel11437> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel11437 sberbank vtb VERIFY: test-channel-add-org.sh testchannel11437 sberbank vtb
[1;36m
Add vtb to the testchannel11437 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel11437 vtb 7051 example.net[m[m[m
--2020-02-27 12:27:27--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:27:27--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:27:27--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel11437, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel11437.pb -o orderer.example.net:7050 -c testchannel11437 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:27:27.751 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:27:27.753 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:27:27.754 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:27:27.754 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel11437
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel11437 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:27:28.149 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:27:28.164 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel11437 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel11437 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:27:29.669 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:27:29.672 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:27:29.674 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:27:29.674 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel11437>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel11437 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel11437> channel'
RUNTEST: chaincode-install.sh testchannel11437 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel11437 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel11437[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference__testchannel11437[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=4256ee25426f
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference__testchannel11437  /opt/chaincode/node/reference__testchannel11437 node 1.0
[34m2020-02-27 12:27:35.334 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-02-27 12:27:35.334 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
Error: error getting chaincode code reference__testchannel11437: path to chaincode does not exist: /opt/chaincode/node/reference__testchannel11437
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel11068 sberbank ; ./verify/test-channel-exists.sh testchannel11068 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel11068 sberbank VERIFY: test-channel-exists.sh testchannel11068 sberbank
[1;36m
Creating the <testchannel11068> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel11068[m[m[m
example.net

Create channel sberbank testchannel11068
--2020-02-27 12:29:46--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:29:46--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:29:46--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:29:46--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:29:46.359 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:29:46.427 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:29:46.427 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:29:46.427 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:29:46.427 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:29:46.428 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:29:46.428 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:29:46.428 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:29:46.428 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:29:46.477 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:29:46.477 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:29:46.477 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:29:46.477 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:29:46.477 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:29:46.477 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:29:46.477 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:29:46.478 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:29:46.478 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:29:46.478 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:29:46.478 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:29:46.479 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:29:46.479 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:29:46.479 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:29:46.556 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:29:46.594 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel11068.pb -o orderer.example.net:7050 -c testchannel11068 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:29:46.697 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:29:46.699 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:29:46.701 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:29:46.701 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel11068
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel11068 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:29:47.122 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:29:47.140 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel11068> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel11068> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:29:48.191 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:29:48.194 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:29:48.195 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:29:48.195 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel11068",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:29:47Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel11068> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel11068-02 vtb ; ./verify/test-channel-exists.sh testchannel11068-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel11068-02 vtb VERIFY: test-channel-exists.sh testchannel11068-02 vtb
[1;36m
Creating the <testchannel11068-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel11068-02[m[m[m
example.net

Create channel vtb testchannel11068-02
--2020-02-27 12:29:51--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:29:51--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:29:51--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:29:51--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:29:51.180 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:29:51.246 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:29:51.246 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:29:51.246 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:29:51.246 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:29:51.246 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:29:51.246 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:29:51.246 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:29:51.246 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:29:51.295 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:29:51.295 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:29:51.295 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:29:51.295 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:29:51.295 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:29:51.295 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:29:51.295 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:29:51.295 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:29:51.296 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:29:51.296 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:29:51.296 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:29:51.297 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:29:51.297 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:29:51.298 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:29:51.380 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:29:51.418 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel11068-02.pb -o orderer.example.net:7050 -c testchannel11068-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:29:51.489 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:29:51.491 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:29:51.492 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:29:51.492 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel11068-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel11068-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:29:51.892 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:29:51.906 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel11068-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel11068-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:29:53.090 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:29:53.092 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:29:53.094 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:29:53.094 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel11068-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:29:51Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel11068-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel11068 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel11068 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel11068> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel11068 sberbank vtb VERIFY: test-channel-add-org.sh testchannel11068 sberbank vtb
[1;36m
Add vtb to the testchannel11068 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel11068 vtb 7051 example.net[m[m[m
--2020-02-27 12:29:55--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:29:55--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:29:55--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel11068, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel11068.pb -o orderer.example.net:7050 -c testchannel11068 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:29:55.613 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:29:55.616 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:29:55.617 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:29:55.617 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel11068
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel11068 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:29:56.089 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:29:56.103 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel11068 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel11068 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:29:57.228 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:29:57.233 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:29:57.236 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:29:57.236 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel11068>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel11068 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel11068> channel'
RUNTEST: chaincode-install.sh testchannel11068 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel11068 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel11068[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference_testchannel11068[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=4585edec61eb
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel11068  /opt/chaincode/node/reference_testchannel11068 node 1.0
[34m2020-02-27 12:30:02.709 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-02-27 12:30:02.709 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-02-27 12:30:02.870 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in sberbank[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel4696 sberbank ; ./verify/test-channel-exists.sh testchannel4696 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel4696 sberbank VERIFY: test-channel-exists.sh testchannel4696 sberbank
[1;36m
Creating the <testchannel4696> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4696[m[m[m
example.net

Create channel sberbank testchannel4696
--2020-02-27 12:30:42--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:30:42--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:30:42--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:30:42--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:30:42.857 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:30:42.918 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:30:42.918 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:30:42.918 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:30:42.918 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:30:42.918 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:30:42.918 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:30:42.918 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:30:42.918 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:30:42.976 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:30:42.976 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:30:42.976 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:30:42.976 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:30:42.977 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:30:42.977 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:30:42.977 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:30:42.977 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:30:42.978 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:30:42.978 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:30:42.978 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:30:42.978 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:30:42.979 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:30:42.979 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:30:43.057 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:30:43.094 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel4696.pb -o orderer.example.net:7050 -c testchannel4696 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:30:43.171 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:30:43.172 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:30:43.173 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:30:43.173 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel4696
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4696 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:30:43.571 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:30:43.585 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel4696> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel4696> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:30:44.662 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:30:44.665 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:30:44.667 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:30:44.667 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel4696",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:30:43Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel4696> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel4696-02 vtb ; ./verify/test-channel-exists.sh testchannel4696-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel4696-02 vtb VERIFY: test-channel-exists.sh testchannel4696-02 vtb
[1;36m
Creating the <testchannel4696-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4696-02[m[m[m
example.net

Create channel vtb testchannel4696-02
--2020-02-27 12:30:47--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:30:47--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:30:47--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:30:47--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:30:47.162 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:30:47.242 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:30:47.242 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:30:47.242 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:30:47.242 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:30:47.242 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:30:47.242 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:30:47.242 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:30:47.242 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:30:47.304 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:30:47.304 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:30:47.304 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:30:47.304 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:30:47.304 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:30:47.304 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:30:47.304 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:30:47.305 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:30:47.305 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:30:47.305 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:30:47.305 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:30:47.306 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:30:47.306 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:30:47.306 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:30:47.393 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:30:47.431 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel4696-02.pb -o orderer.example.net:7050 -c testchannel4696-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:30:47.528 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:30:47.530 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:30:47.531 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:30:47.531 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel4696-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4696-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:30:47.975 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:30:47.990 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel4696-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel4696-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:30:49.256 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:30:49.260 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:30:49.262 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:30:49.262 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel4696-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:30:47Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel4696-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel4696 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel4696 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel4696> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel4696 sberbank vtb VERIFY: test-channel-add-org.sh testchannel4696 sberbank vtb
[1;36m
Add vtb to the testchannel4696 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel4696 vtb 7051 example.net[m[m[m
--2020-02-27 12:30:52--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:30:52--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:30:52--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel4696, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel4696.pb -o orderer.example.net:7050 -c testchannel4696 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:30:52.369 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:30:52.372 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:30:52.375 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:30:52.375 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel4696
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4696 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:30:52.748 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:30:52.759 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel4696 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel4696 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:30:53.742 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:30:53.744 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:30:53.745 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:30:53.745 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel4696>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel4696 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel4696> channel'
RUNTEST: chaincode-install.sh testchannel4696 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel4696 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel4696[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference_testchannel4696[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=90476c211c6b
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel4696  /opt/chaincode/node/reference_testchannel4696 node 1.0
[34m2020-02-27 12:30:58.938 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-02-27 12:30:58.938 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-02-27 12:30:59.606 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in sberbank[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel31744 sberbank ; ./verify/test-channel-exists.sh testchannel31744 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel31744 sberbank VERIFY: test-channel-exists.sh testchannel31744 sberbank
[1;36m
Creating the <testchannel31744> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel31744[m[m[m
example.net

Create channel sberbank testchannel31744
--2020-02-27 12:31:45--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:31:45--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:31:45--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:31:45--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:31:45.402 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:31:45.459 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:31:45.459 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:31:45.459 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:31:45.459 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:31:45.459 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:31:45.459 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:31:45.459 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:31:45.459 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:31:45.510 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:31:45.510 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:31:45.510 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:31:45.510 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:31:45.510 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:31:45.510 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:31:45.510 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:31:45.511 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:31:45.511 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:31:45.511 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:31:45.511 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:31:45.511 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:31:45.512 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:31:45.513 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:31:45.593 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:31:45.638 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel31744.pb -o orderer.example.net:7050 -c testchannel31744 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:31:45.776 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:31:45.781 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:31:45.782 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:31:45.782 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel31744
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel31744 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:31:46.206 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:31:46.215 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel31744> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel31744> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:31:47.316 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:31:47.318 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:31:47.319 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:31:47.319 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel31744",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:31:46Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel31744> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel31744-02 vtb ; ./verify/test-channel-exists.sh testchannel31744-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel31744-02 vtb VERIFY: test-channel-exists.sh testchannel31744-02 vtb
[1;36m
Creating the <testchannel31744-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel31744-02[m[m[m
example.net

Create channel vtb testchannel31744-02
--2020-02-27 12:31:49--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:31:49--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:31:49--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:31:49--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:31:50.024 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:31:50.134 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:31:50.134 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:31:50.134 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:31:50.134 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:31:50.134 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:31:50.134 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:31:50.134 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:31:50.134 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:31:50.228 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:31:50.228 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:31:50.228 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:31:50.228 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:31:50.228 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:31:50.228 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:31:50.228 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:31:50.228 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:31:50.229 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:31:50.229 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:31:50.229 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:31:50.229 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:31:50.230 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:31:50.230 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:31:50.386 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:31:50.436 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel31744-02.pb -o orderer.example.net:7050 -c testchannel31744-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:31:50.620 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:31:50.628 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:31:50.629 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:31:50.629 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel31744-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel31744-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:31:51.037 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:31:51.051 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel31744-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel31744-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:31:52.172 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:31:52.174 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:31:52.175 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:31:52.175 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel31744-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:31:51Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel31744-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel31744 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel31744 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel31744> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel31744 sberbank vtb VERIFY: test-channel-add-org.sh testchannel31744 sberbank vtb
[1;36m
Add vtb to the testchannel31744 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel31744 vtb 7051 example.net[m[m[m
--2020-02-27 12:31:54--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:31:54--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:31:54--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel31744, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel31744.pb -o orderer.example.net:7050 -c testchannel31744 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:31:54.678 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:31:54.681 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:31:54.683 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:31:54.683 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel31744
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel31744 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:31:55.110 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:31:55.124 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel31744 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel31744 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:31:56.199 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:31:56.202 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:31:56.203 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:31:56.203 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel31744>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel31744 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel31744> channel'
RUNTEST: chaincode-install.sh testchannel31744 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel31744 ;cp -R /opt/chaincode/node/reference/* /rr/opt/chaincode/node/reference_testchannel31744[m[m[m
cp: target '/rr/opt/chaincode/node/reference_testchannel31744' is not a directory
[1;31mError occurred. See console output above.[m[1;33m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference_testchannel31744[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=183e607556f7
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel31744  /opt/chaincode/node/reference_testchannel31744 node 1.0
[34m2020-02-27 12:32:02.062 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-02-27 12:32:02.062 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[31m2020-02-27 12:32:02.063 UTC [chaincode.platform.node] GetDeploymentPayload -> ERRO 003[0m Error writing folder to tar package no source files found in '/opt/chaincode/node/reference_testchannel31744'
Error: error getting chaincode code reference_testchannel31744: error getting chaincode package bytes: Error writing Chaincode package contents: no source files found in '/opt/chaincode/node/reference_testchannel31744'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel23904 sberbank ; ./verify/test-channel-exists.sh testchannel23904 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel23904 sberbank VERIFY: test-channel-exists.sh testchannel23904 sberbank
[1;36m
Creating the <testchannel23904> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel23904[m[m[m
example.net

Create channel sberbank testchannel23904
--2020-02-27 12:32:23--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:32:23--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:32:23--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:32:23--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:32:23.910 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:32:23.983 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:32:23.983 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:32:23.983 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:32:23.983 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:32:23.983 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:32:23.983 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:32:23.983 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:32:23.983 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:32:24.045 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:32:24.045 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:32:24.045 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:32:24.045 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:32:24.045 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:32:24.045 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:32:24.045 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:32:24.045 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:32:24.046 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:32:24.046 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:32:24.046 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:32:24.046 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:32:24.046 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:32:24.047 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:32:24.117 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:32:24.154 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel23904.pb -o orderer.example.net:7050 -c testchannel23904 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:32:24.234 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:32:24.236 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:32:24.238 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:32:24.238 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel23904
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel23904 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:32:24.612 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:32:24.623 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel23904> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel23904> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:32:25.855 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:32:25.858 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:32:25.860 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:32:25.860 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel23904",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:32:24Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel23904> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel23904-02 vtb ; ./verify/test-channel-exists.sh testchannel23904-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel23904-02 vtb VERIFY: test-channel-exists.sh testchannel23904-02 vtb
[1;36m
Creating the <testchannel23904-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel23904-02[m[m[m
example.net

Create channel vtb testchannel23904-02
--2020-02-27 12:32:28--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:32:28--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:32:28--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:32:28--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:32:28.354 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:32:28.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:32:28.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:32:28.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:32:28.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:32:28.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:32:28.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:32:28.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:32:28.411 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:32:28.463 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:32:28.463 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:32:28.463 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:32:28.463 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:32:28.463 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:32:28.463 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:32:28.463 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:32:28.464 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:32:28.464 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:32:28.464 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:32:28.464 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:32:28.465 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:32:28.465 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:32:28.465 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:32:28.534 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:32:28.573 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel23904-02.pb -o orderer.example.net:7050 -c testchannel23904-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:32:28.650 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:32:28.652 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:32:28.653 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:32:28.653 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel23904-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel23904-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:32:29.134 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:32:29.154 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel23904-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel23904-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:32:31.337 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:32:31.339 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:32:31.340 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:32:31.340 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel23904-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:32:29Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel23904-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel23904 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel23904 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel23904> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel23904 sberbank vtb VERIFY: test-channel-add-org.sh testchannel23904 sberbank vtb
[1;36m
Add vtb to the testchannel23904 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel23904 vtb 7051 example.net[m[m[m
--2020-02-27 12:32:33--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:32:33--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:32:33--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel23904, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel23904.pb -o orderer.example.net:7050 -c testchannel23904 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:32:33.758 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:32:33.762 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:32:33.764 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:32:33.764 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel23904
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel23904 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:32:34.179 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:32:34.190 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel23904 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel23904 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:32:35.447 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:32:35.449 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:32:35.450 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:32:35.450 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel23904>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel23904 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel23904> channel'
RUNTEST: chaincode-install.sh testchannel23904 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel23904 ;cp -R /opt/chaincode/node/reference/* /rr/opt/chaincode/node/reference_testchannel23904[m[m[m
cp: target '/rr/opt/chaincode/node/reference_testchannel23904' is not a directory
[1;31mError occurred. See console output above.[m[1;33m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference_testchannel23904[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=8421b499562e
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel23904  /opt/chaincode/node/reference_testchannel23904 node 1.0
[34m2020-02-27 12:32:40.939 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-02-27 12:32:40.939 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[31m2020-02-27 12:32:40.939 UTC [chaincode.platform.node] GetDeploymentPayload -> ERRO 003[0m Error writing folder to tar package no source files found in '/opt/chaincode/node/reference_testchannel23904'
Error: error getting chaincode code reference_testchannel23904: error getting chaincode package bytes: Error writing Chaincode package contents: no source files found in '/opt/chaincode/node/reference_testchannel23904'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel20703 sberbank ; ./verify/test-channel-exists.sh testchannel20703 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel20703 sberbank VERIFY: test-channel-exists.sh testchannel20703 sberbank
[1;36m
Creating the <testchannel20703> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel20703[m[m[m
example.net

Create channel sberbank testchannel20703
--2020-02-27 12:33:55--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:33:55--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:33:55--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:33:55--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:33:56.055 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:33:56.117 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:33:56.117 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:33:56.117 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:33:56.117 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:33:56.117 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:33:56.117 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:33:56.117 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:33:56.117 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:33:56.166 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:33:56.166 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:33:56.166 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:33:56.166 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:33:56.166 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:33:56.166 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:33:56.166 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:33:56.166 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:33:56.167 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:33:56.167 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:33:56.167 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:33:56.167 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:33:56.168 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:33:56.168 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:33:56.235 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:33:56.271 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel20703.pb -o orderer.example.net:7050 -c testchannel20703 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:33:56.354 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:33:56.356 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:33:56.357 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:33:56.357 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel20703
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel20703 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:33:56.769 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:33:56.780 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel20703> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel20703> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:33:58.054 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:33:58.057 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:33:58.058 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:33:58.058 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel20703",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:33:56Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel20703> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel20703-02 vtb ; ./verify/test-channel-exists.sh testchannel20703-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel20703-02 vtb VERIFY: test-channel-exists.sh testchannel20703-02 vtb
[1;36m
Creating the <testchannel20703-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel20703-02[m[m[m
example.net

Create channel vtb testchannel20703-02
--2020-02-27 12:34:00--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:34:00--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:34:00--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:34:00--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:34:00.807 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:34:00.904 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:34:00.904 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:34:00.904 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:34:00.904 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:34:00.904 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:34:00.904 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:34:00.904 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:34:00.904 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:34:00.975 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:34:00.975 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:34:00.975 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:34:00.975 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:34:00.975 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:34:00.975 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:34:00.975 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:34:00.976 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:34:00.976 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:34:00.976 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:34:00.977 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:34:00.977 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:34:00.977 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:34:00.978 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:34:01.112 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:34:01.158 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel20703-02.pb -o orderer.example.net:7050 -c testchannel20703-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:34:01.245 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:34:01.248 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:34:01.249 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:34:01.249 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel20703-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel20703-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:34:01.613 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:34:01.627 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel20703-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel20703-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:34:02.869 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:34:02.871 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:34:02.873 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:34:02.873 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel20703-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:34:01Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel20703-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel20703 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel20703 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel20703> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel20703 sberbank vtb VERIFY: test-channel-add-org.sh testchannel20703 sberbank vtb
[1;36m
Add vtb to the testchannel20703 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel20703 vtb 7051 example.net[m[m[m
--2020-02-27 12:34:05--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:34:05--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:34:05--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel20703, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel20703.pb -o orderer.example.net:7050 -c testchannel20703 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:34:05.399 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:34:05.402 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:34:05.404 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:34:05.404 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel20703
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel20703 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:34:05.781 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:34:05.794 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel20703 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel20703 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:34:06.927 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:34:06.929 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:34:06.931 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:34:06.931 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel20703>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel20703 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel20703> channel'
RUNTEST: chaincode-install.sh testchannel20703 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel20703 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel20703[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference_testchannel20703[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=92e6643e5802
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel20703  /opt/chaincode/node/reference_testchannel20703 node 1.0
[34m2020-02-27 12:34:12.507 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-02-27 12:34:12.507 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-02-27 12:34:12.699 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in sberbank[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel32014 sberbank ; ./verify/test-channel-exists.sh testchannel32014 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel32014 sberbank VERIFY: test-channel-exists.sh testchannel32014 sberbank
[1;36m
Creating the <testchannel32014> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32014[m[m[m
example.net

Create channel sberbank testchannel32014
--2020-02-27 12:39:13--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:39:13--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:39:13--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:39:13--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:39:13.341 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:39:13.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:39:13.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:39:13.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:39:13.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:39:13.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:39:13.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:39:13.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:39:13.411 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:39:13.460 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:39:13.460 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:39:13.460 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:39:13.460 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:39:13.460 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:39:13.460 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:39:13.460 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:39:13.461 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:39:13.461 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:39:13.461 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:39:13.461 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:39:13.461 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:39:13.462 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:39:13.462 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:39:13.539 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:39:13.581 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel32014.pb -o orderer.example.net:7050 -c testchannel32014 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:39:13.667 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:39:13.669 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:39:13.670 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:39:13.671 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel32014
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32014 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:39:14.111 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:39:14.122 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel32014> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel32014> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:39:15.198 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:39:15.201 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:39:15.202 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:39:15.202 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel32014",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:39:14Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel32014> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel32014-02 vtb ; ./verify/test-channel-exists.sh testchannel32014-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel32014-02 vtb VERIFY: test-channel-exists.sh testchannel32014-02 vtb
[1;36m
Creating the <testchannel32014-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32014-02[m[m[m
example.net

Create channel vtb testchannel32014-02
--2020-02-27 12:39:17--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:39:17--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:39:17--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:39:17--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:39:17.631 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:39:17.693 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:39:17.693 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:39:17.693 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:39:17.693 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:39:17.693 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:39:17.693 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:39:17.693 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:39:17.693 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:39:17.742 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:39:17.742 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:39:17.742 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:39:17.742 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:39:17.742 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:39:17.742 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:39:17.742 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:39:17.742 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:39:17.743 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:39:17.743 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:39:17.743 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:39:17.743 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:39:17.744 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:39:17.744 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:39:17.827 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:39:17.866 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel32014-02.pb -o orderer.example.net:7050 -c testchannel32014-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:39:18.015 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:39:18.017 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:39:18.018 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:39:18.018 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel32014-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32014-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:39:18.423 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:39:18.437 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel32014-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel32014-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:39:19.641 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:39:19.646 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:39:19.651 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:39:19.651 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel32014-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:39:18Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel32014-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel32014 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel32014 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel32014> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel32014 sberbank vtb VERIFY: test-channel-add-org.sh testchannel32014 sberbank vtb
[1;36m
Add vtb to the testchannel32014 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel32014 vtb 7051 example.net[m[m[m
--2020-02-27 12:39:22--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:39:22--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:39:22--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel32014, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel32014.pb -o orderer.example.net:7050 -c testchannel32014 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:39:22.716 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:39:22.719 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:39:22.720 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:39:22.720 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel32014
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32014 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:39:23.146 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:39:23.157 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel32014 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel32014 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:39:24.262 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:39:24.264 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:39:24.265 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:39:24.265 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel32014>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel32014 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel32014> channel'
RUNTEST: chaincode-install.sh testchannel32014 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel32014 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel32014[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference_testchannel32014[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=aab0d3b7ab7f
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel32014  /opt/chaincode/node/reference_testchannel32014 node 1.0
[34m2020-02-27 12:39:29.279 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-02-27 12:39:29.279 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-02-27 12:39:29.482 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in sberbank[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel20349 sberbank ; ./verify/test-channel-exists.sh testchannel20349 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel20349 sberbank VERIFY: test-channel-exists.sh testchannel20349 sberbank
[1;36m
Creating the <testchannel20349> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel20349[m[m[m
example.net

Create channel sberbank testchannel20349
--2020-02-27 12:39:47--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:39:47--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:39:47--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:39:47--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:39:47.959 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:39:48.030 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:39:48.030 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:39:48.030 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:39:48.030 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:39:48.030 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:39:48.030 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:39:48.030 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:39:48.030 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:39:48.083 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:39:48.083 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:39:48.083 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:39:48.083 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:39:48.083 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:39:48.083 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:39:48.083 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:39:48.084 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:39:48.084 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:39:48.084 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:39:48.084 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:39:48.084 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:39:48.085 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:39:48.085 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:39:48.159 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:39:48.194 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel20349.pb -o orderer.example.net:7050 -c testchannel20349 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:39:48.285 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:39:48.289 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:39:48.293 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:39:48.294 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel20349
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel20349 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:39:48.683 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:39:48.696 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel20349> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel20349> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:39:50.179 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:39:50.196 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:39:50.200 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:39:50.200 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel20349",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:39:48Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel20349> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel20349-02 vtb ; ./verify/test-channel-exists.sh testchannel20349-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel20349-02 vtb VERIFY: test-channel-exists.sh testchannel20349-02 vtb
[1;36m
Creating the <testchannel20349-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel20349-02[m[m[m
example.net

Create channel vtb testchannel20349-02
--2020-02-27 12:39:53--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:39:53--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:39:53--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:39:53--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:39:53.106 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:39:53.179 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:39:53.179 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:39:53.179 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:39:53.179 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:39:53.179 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:39:53.179 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:39:53.179 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:39:53.179 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:39:53.227 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:39:53.227 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:39:53.227 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:39:53.227 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:39:53.227 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:39:53.227 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:39:53.227 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:39:53.227 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:39:53.228 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:39:53.228 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:39:53.228 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:39:53.228 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:39:53.228 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:39:53.229 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:39:53.294 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:39:53.336 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel20349-02.pb -o orderer.example.net:7050 -c testchannel20349-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:39:53.451 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:39:53.452 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:39:53.453 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:39:53.453 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel20349-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel20349-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:39:53.857 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:39:53.873 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel20349-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel20349-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:39:54.899 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:39:54.902 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:39:54.903 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:39:54.903 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel20349-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:39:53Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel20349-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel20349 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel20349 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel20349> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel20349 sberbank vtb VERIFY: test-channel-add-org.sh testchannel20349 sberbank vtb
[1;36m
Add vtb to the testchannel20349 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel20349 vtb 7051 example.net[m[m[m
--2020-02-27 12:39:57--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:39:57--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:39:57--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel20349, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel20349.pb -o orderer.example.net:7050 -c testchannel20349 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:39:57.396 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:39:57.398 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:39:57.399 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:39:57.399 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel20349
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel20349 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:39:57.785 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:39:57.799 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel20349 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel20349 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:39:58.793 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:39:58.795 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:39:58.796 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:39:58.796 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel20349>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel20349 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel20349> channel'
RUNTEST: chaincode-install.sh testchannel20349 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel20349 ;cp -R /opt/chaincode/node/reference/* /xx/opt/chaincode/node/reference_testchannel20349[m[m[m
cp: target '/xx/opt/chaincode/node/reference_testchannel20349' is not a directory
[1;31mError occurred. See console output above.[m[1;33m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel4076 sberbank ; ./verify/test-channel-exists.sh testchannel4076 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel4076 sberbank VERIFY: test-channel-exists.sh testchannel4076 sberbank
[1;36m
Creating the <testchannel4076> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4076[m[m[m
example.net

Create channel sberbank testchannel4076
--2020-02-27 12:40:17--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:40:17--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:40:17--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:40:17--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:40:17.882 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:40:17.958 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:40:17.958 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:40:17.958 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:40:17.958 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:40:17.958 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:40:17.958 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:40:17.958 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:40:17.958 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:40:18.023 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:40:18.023 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:40:18.023 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:40:18.023 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:40:18.023 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:40:18.023 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:40:18.023 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:40:18.024 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:40:18.024 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:40:18.024 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:40:18.024 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:40:18.025 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:40:18.025 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:40:18.025 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:40:18.106 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:40:18.143 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel4076.pb -o orderer.example.net:7050 -c testchannel4076 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:40:18.226 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:40:18.228 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:40:18.229 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:40:18.229 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel4076
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4076 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:40:18.625 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:40:18.637 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel4076> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel4076> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:40:20.350 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:40:20.355 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:40:20.358 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:40:20.358 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel4076",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:40:18Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel4076> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel4076-02 vtb ; ./verify/test-channel-exists.sh testchannel4076-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel4076-02 vtb VERIFY: test-channel-exists.sh testchannel4076-02 vtb
[1;36m
Creating the <testchannel4076-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4076-02[m[m[m
example.net

Create channel vtb testchannel4076-02
--2020-02-27 12:40:23--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:40:23--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:40:23--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:40:23--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:40:23.301 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:40:23.355 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:40:23.356 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:40:23.356 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:40:23.356 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:40:23.356 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:40:23.356 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:40:23.356 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:40:23.356 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:40:23.408 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:40:23.408 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:40:23.408 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:40:23.408 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:40:23.408 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:40:23.408 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:40:23.408 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:40:23.408 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:40:23.409 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:40:23.409 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:40:23.409 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:40:23.409 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:40:23.410 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:40:23.410 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:40:23.475 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:40:23.509 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel4076-02.pb -o orderer.example.net:7050 -c testchannel4076-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:40:23.585 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:40:23.587 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:40:23.588 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:40:23.589 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel4076-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4076-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:40:24.000 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:40:24.018 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel4076-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel4076-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:40:25.331 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:40:25.333 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:40:25.334 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:40:25.334 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel4076-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:40:24Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel4076-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel4076 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel4076 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel4076> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel4076 sberbank vtb VERIFY: test-channel-add-org.sh testchannel4076 sberbank vtb
[1;36m
Add vtb to the testchannel4076 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel4076 vtb 7051 example.net[m[m[m
--2020-02-27 12:40:27--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:40:27--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:40:27--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel4076, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel4076.pb -o orderer.example.net:7050 -c testchannel4076 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:40:27.843 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:40:27.846 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:40:27.847 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:40:27.847 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel4076
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4076 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:40:28.262 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:40:28.276 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel4076 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel4076 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:40:29.381 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:40:29.383 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:40:29.384 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:40:29.384 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel4076>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel4076 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel4076> channel'
RUNTEST: chaincode-install.sh testchannel4076 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel4076 ;cp -R /opt/chaincode/node/reference/* /xx/opt/chaincode/node/reference_testchannel4076[m[m[m
cp: target '/xx/opt/chaincode/node/reference_testchannel4076' is not a directory
[1;31mError occurred. See console output above.[m[1;33m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel16554 sberbank ; ./verify/test-channel-exists.sh testchannel16554 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel16554 sberbank VERIFY: test-channel-exists.sh testchannel16554 sberbank
[1;36m
Creating the <testchannel16554> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel16554[m[m[m
example.net

Create channel sberbank testchannel16554
--2020-02-27 12:40:54--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:40:54--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:40:54--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:40:54--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:40:54.432 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:40:54.493 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:40:54.493 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:40:54.493 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:40:54.493 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:40:54.493 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:40:54.493 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:40:54.493 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:40:54.493 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:40:54.561 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:40:54.561 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:40:54.561 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:40:54.561 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:40:54.561 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:40:54.561 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:40:54.561 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:40:54.561 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:40:54.562 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-27 12:40:54.562 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:40:54.562 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:40:54.563 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:40:54.563 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-27 12:40:54.563 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:40:54.639 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:40:54.679 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel16554.pb -o orderer.example.net:7050 -c testchannel16554 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:40:54.770 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:40:54.773 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:40:54.775 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:40:54.775 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel16554
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel16554 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:40:55.191 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:40:55.204 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel16554> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel16554> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:40:56.406 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:40:56.408 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:40:56.410 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:40:56.410 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel16554",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:40:55Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel16554> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel16554-02 vtb ; ./verify/test-channel-exists.sh testchannel16554-02 vtb
Step: 2_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel16554-02 vtb VERIFY: test-channel-exists.sh testchannel16554-02 vtb
[1;36m
Creating the <testchannel16554-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel16554-02[m[m[m
example.net

Create channel vtb testchannel16554-02
--2020-02-27 12:40:58--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:40:58--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:40:58--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:40:58--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-27 12:40:58.932 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-27 12:40:59.016 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:40:59.016 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:40:59.016 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-27 12:40:59.016 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-27 12:40:59.016 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-27 12:40:59.016 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-27 12:40:59.016 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-27 12:40:59.016 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:40:59.090 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-27 12:40:59.090 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-27 12:40:59.090 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-27 12:40:59.090 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-27 12:40:59.090 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-27 12:40:59.091 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:40:59.091 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:40:59.091 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:40:59.092 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-27 12:40:59.092 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-27 12:40:59.092 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-27 12:40:59.092 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-27 12:40:59.092 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-27 12:40:59.093 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-27 12:40:59.163 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:40:59.199 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel16554-02.pb -o orderer.example.net:7050 -c testchannel16554-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:40:59.278 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:40:59.280 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-27 12:40:59.281 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-27 12:40:59.281 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel16554-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel16554-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:40:59.774 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:40:59.797 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel16554-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel16554-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-27 12:41:01.951 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:41:01.954 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:41:01.955 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:41:01.955 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel16554-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-27T12:40:59Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel16554-02> exists and visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel16554 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel16554 sberbank vtb
Step: 3_cli Test 'Add <vtb> to channel <testchannel16554> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel16554 sberbank vtb VERIFY: test-channel-add-org.sh testchannel16554 sberbank vtb
[1;36m
Add vtb to the testchannel16554 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel16554 vtb 7051 example.net[m[m[m
--2020-02-27 12:41:04--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:41:04--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-27 12:41:04--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel16554, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel16554.pb -o orderer.example.net:7050 -c testchannel16554 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:41:04.380 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:41:04.382 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-27 12:41:04.383 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-27 12:41:04.383 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel16554
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel16554 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-27 12:41:04.773 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:41:04.787 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel16554 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel16554 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-27 12:41:05.896 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-27 12:41:05.899 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-27 12:41:05.900 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-27 12:41:05.900 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel16554>.[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=false ./cli/chaincode-install.sh testchannel16554 sberbank
Step: 4_cli Test 'Install test chaincode by <sberbank> to the <testchannel16554> channel'
RUNTEST: chaincode-install.sh testchannel16554 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel16554 ;cp -R /opt/chaincode/node/reference/* /opt/chaincode/node/reference_testchannel16554[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh reference__testchannel16554[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=11e1e19cb358
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference__testchannel16554  /opt/chaincode/node/reference__testchannel16554 node 1.0
[34m2020-02-27 12:41:11.227 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-02-27 12:41:11.227 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
Error: error getting chaincode code reference__testchannel16554: path to chaincode does not exist: /opt/chaincode/node/reference__testchannel16554
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 4_cli: exit code 1
