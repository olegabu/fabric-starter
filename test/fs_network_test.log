NO_RED_OUTPUT=false ./api/create-channel.sh testchannel18085 sberbank ; ./verify/test-channel-exists.sh testchannel18085 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel18085 sberbank VERIFY: test-channel-exists.sh testchannel18085 sberbank
[1;36mCreating testchannel18085 channel in sberbank.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyMDg5Nn0._GC7dlJfB3LtzUlwmmQfWuO-5CFopqkmazMCqOa5A1w
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.net:7051","name":"peer0.sberbank.example.net:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.net:7051","grpc.default_authority":"peer0.sberbank.example.net:7051"}}}] 200
[1;32mOK: Channel <testchannel18085> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel18085> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 12:41:39.280 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:41:39.284 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 12:41:39.286 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-26 12:41:39.286 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel18085",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T12:41:37Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel18085> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel18085-02 vtb ; ./verify/test-channel-exists.sh testchannel18085-02 vtb
Step: 2_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel18085-02 vtb VERIFY: test-channel-exists.sh testchannel18085-02 vtb
[1;36mCreating testchannel18085-02 channel in vtb.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4001
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyMDkwMH0.7D8wgEnezm8yXUk9KMlGfDsfQNYnoNJ1oJm8hJUvdKw
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.net:8051","name":"peer0.vtb.example.net:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.net:8051","grpc.default_authority":"peer0.vtb.example.net:8051"}}}] 200
[1;32mOK: Channel <testchannel18085-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel18085-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-26 12:41:44.192 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:41:44.198 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 12:41:44.203 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-26 12:41:44.203 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel18085-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T12:41:42Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel18085-02> exists and visible to vtb[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true ./api/add-org-to-channel.sh testchannel18085 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel18085 sberbank vtb
Step: 3_api Test 'Add <vtb> to channel <testchannel18085> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel18085 sberbank vtb VERIFY: test-channel-add-org.sh testchannel18085 sberbank vtb
[1;36mAdd vtb to the testchannel18085 channel using API...[m[m[m
[1;36mAdd vtb to the testchannel18085 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyMDkwNH0.S233EYWwPQsIqUgz83dodRtUe67tX49GdmdoB_v-ogA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
200
[1;32mOK: Organization vtb added to testchannel18085 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel18085 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 12:41:47.427 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:41:47.433 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-26 12:41:47.434 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-26 12:41:47.435 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel18085>.[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true ./api/add-org-to-channel.sh testchannel18085-02 vtb sberbank ; ./verify/test-channel-add-org.sh testchannel18085-02 vtb sberbank
Step: 4_api Test 'Add <sberbank> to channel <testchannel18085-02> created by the <vtb> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel18085-02 vtb sberbank VERIFY: test-channel-add-org.sh testchannel18085-02 vtb sberbank
[1;36mAdd sberbank to the testchannel18085-02 channel using API...[m[m[m
[1;36mAdd sberbank to the testchannel18085-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyMDkwOH0.bO5De8z_baJ4rxSq2WAuJ8OT07Th3iB2gCY1C8bfKB4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
200
[1;32mOK: Organization sberbank added to testchannel18085-02 channel[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel18085-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-26 12:41:52.200 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:41:52.203 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-26 12:41:52.204 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-26 12:41:52.205 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNKakNDQWN5Z0F3SUJBZ0lSQUlBZ3gxd3VidmxsSlJNdDFmNzNINjh3Q2dZSUtvWkl6ajBFQXdJd2V6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIVEFiQmdOVkJBb1RGSE5pWlhKaVlXNXJMbVY0WVcxd2JHVXVibVYwTVNBd0hnWURWUVFECkV4ZGpZUzV6WW1WeVltRnVheTVsZUdGdGNHeGxMbTVsZERBZUZ3MHlNREF5TWpFeE5qVTVNREJhRncwek1EQXkKTVRneE5qVTVNREJhTUY4eEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZdwpGQVlEVlFRSEV3MVRZVzRnUm5KaGJtTnBjMk52TVNNd0lRWURWUVFEREJwQlpHMXBia0J6WW1WeVltRnVheTVsCmVHRnRjR3hsTG01bGREQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDlBd0VIQTBJQUJOMGlmbE45Qkt4eWpldnIKSmZvSG9heVBmb1QrZU5lLzVpMm9GWEFlbzJMVVVPNGlobmpoUzc0VS91a00wdzVOQkxIaWpjUzVMTlBaWHdzbQowZ0lTR1ptalRUQkxNQTRHQTFVZER3RUIvd1FFQXdJSGdEQU1CZ05WSFJNQkFmOEVBakFBTUNzR0ExVWRJd1FrCk1DS0FJQ2xQaHl5YnRTUmhtUFovajB5bkNvd2xMaDRMeThjQzI2UDVYcytEcFhGak1Bb0dDQ3FHU000OUJBTUMKQTBnQU1FVUNJUURqK1B3MExCcEo1aCtnNGg2TXVIZndyanNXL0p1dElzVVU2aUdiNG8zYWtRSWdSSUxFa1Z3SApsVWdVdXprcGZPTlJmbnF6KzNZc1p4M3RwYWg0SGIvNWtWaz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "sberbank",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNZRENDQWdlZ0F3SUJBZ0lRV0hKSm50dVdaYzN4MHZZRm96aEtTVEFLQmdncWhrak9QUVFEQWpCN01Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RWRNQnNHQTFVRUNoTVVjMkpsY21KaGJtc3VaWGhoYlhCc1pTNXVaWFF4SURBZUJnTlZCQU1UCkYyTmhMbk5pWlhKaVlXNXJMbVY0WVcxd2JHVXVibVYwTUI0WERUSXdNREl5TVRFMk5Ua3dNRm9YRFRNd01ESXgKT0RFMk5Ua3dNRm93ZXpFTE1Ba0dBMVVFQmhNQ1ZWTXhFekFSQmdOVkJBZ1RDa05oYkdsbWIzSnVhV0V4RmpBVQpCZ05WQkFjVERWTmhiaUJHY21GdVkybHpZMjh4SFRBYkJnTlZCQW9URkhOaVpYSmlZVzVyTG1WNFlXMXdiR1V1CmJtVjBNU0F3SGdZRFZRUURFeGRqWVM1elltVnlZbUZ1YXk1bGVHRnRjR3hsTG01bGREQlpNQk1HQnlxR1NNNDkKQWdFR0NDcUdTTTQ5QXdFSEEwSUFCSXVMc1VSWEtwZWhoRUtEYndpaHU1ZHgxRjIrelR1cUMwOHhrdnBTUFZGTApCUjhYUGlRY0RpelFGQTJYdTJQQnFuYWxTbEQ1cCtlTERwYVpzbnBWN0tTamJUQnJNQTRHQTFVZER3RUIvd1FFCkF3SUJwakFkQmdOVkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXcKQXdFQi96QXBCZ05WSFE0RUlnUWdLVStITEp1MUpHR1k5bitQVEtjS2pDVXVIZ3ZMeHdMYm8vbGV6NE9sY1dNdwpDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdIYlJ2WkVkMWMxRWphbXNjZzJ3K0hlY0VmQzNtNnh0UUdpU2Nwd3NDCjM4d0NJQ2JyQ0FMemo5Tm9NSUhETFRvLzJDRWtTMXdtUEpsNWZlZ0Z5bW1hUFd2bgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNaekNDQWc2Z0F3SUJBZ0lSQU1NTHRySVQ2ZU9jTDZSN1JtTlZJUmN3Q2dZSUtvWkl6ajBFQXdJd2ZqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIVEFiQmdOVkJBb1RGSE5pWlhKaVlXNXJMbVY0WVcxd2JHVXVibVYwTVNNd0lRWURWUVFECkV4cDBiSE5qWVM1elltVnlZbUZ1YXk1bGVHRnRjR3hsTG01bGREQWVGdzB5TURBeU1qRXhOalU1TURCYUZ3MHoKTURBeU1UZ3hOalU1TURCYU1INHhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saApNUll3RkFZRFZRUUhFdzFUWVc0Z1JuSmhibU5wYzJOdk1SMHdHd1lEVlFRS0V4UnpZbVZ5WW1GdWF5NWxlR0Z0CmNHeGxMbTVsZERFak1DRUdBMVVFQXhNYWRHeHpZMkV1YzJKbGNtSmhibXN1WlhoaGJYQnNaUzV1WlhRd1dUQVQKQmdjcWhrak9QUUlCQmdncWhrak9QUU1CQndOQ0FBUnh2am5kaVVEc3YzR2FsS1dYTm9Mbkc4WEtSRm9tY3k3RwpMVmFVMmZDMlhnems3dnByMnpxcXdFQUdyVVdaUE1rNnN4QUhiY043R3RTaldibkVZOEx0bzIwd2F6QU9CZ05WCkhROEJBZjhFQkFNQ0FhWXdIUVlEVlIwbEJCWXdGQVlJS3dZQkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWQKRXdFQi93UUZNQU1CQWY4d0tRWURWUjBPQkNJRUlBYk8rb0ZxWjF4Q250UE0wTHovZWtIcGpHaytXaTBKNys0MwpzVVBpQ0pEb01Bb0dDQ3FHU000OUJBTUNBMGNBTUVRQ0lEMUQ4SXoxSmNGdlhsMEZNZlZOTnRZMm5Ma2hsWmh3ClNmU0pDN0l4MUgxUUFpQmhKYktEc2QwWHlKUWJYUXVFNXpLNWZPQXBMbFdLN1NudGFteWFmOVJ1S3c9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
sberbank
[1;32mOK: Organization <sberbank> is in the channel <testchannel18085-02>.[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=true ./api/join-channel.sh testchannel18085 vtb ; ./verify/test-join-channel.sh testchannel18085 vtb
Step: 5_api Test 'Join <vtb> to the <testchannel18085> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel18085 vtb VERIFY: test-join-channel.sh testchannel18085 vtb
[1;36mJoining vtb.example.net to the testchannel18085 channel using API...[m[m[m
[1;36mJoining vtb.example.net to the testchannel18085 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyMDkxM30.jlGV-pnIv8R3dPTy4yi4dJE_ey22LitsKXi4rl3AAXk
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
000
jq: error (at <stdin>:0): Cannot index number with number
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the vtb has joined the <testchannel18085> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-26 12:43:53.903 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The vtb has joined the <testchannel18085> channel[m[m[m
Step 5_api: exit code 0
NO_RED_OUTPUT=true ./api/join-channel.sh testchannel18085-02 sberbank ; ./verify/test-join-channel.sh testchannel18085-02 sberbank
Step: 6_api Test 'Join <sberbank> to the <testchannel18085-02> chanel created by the <vtb> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel18085-02 sberbank VERIFY: test-join-channel.sh testchannel18085-02 sberbank
[1;36mJoining sberbank.example.net to the testchannel18085-02 channel using API...[m[m[m
[1;36mJoining sberbank.example.net to the testchannel18085-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyMTAzNH0.3Ls3AG_o6CTk3_OvgcYuO4ZAIqfsqMdaHg4NwhaM8Ng
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
000
jq: error (at <stdin>:0): Cannot index number with number
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel18085-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 12:45:54.966 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel18085-02> channel[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel13222 sberbank ; ./verify/test-channel-exists.sh testchannel13222 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel13222 sberbank VERIFY: test-channel-exists.sh testchannel13222 sberbank
[1;36m
Creating the <testchannel13222> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel13222[m[m[m
example.net

Create channel sberbank testchannel13222
--2020-02-26 12:54:05--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 12:54:05--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 12:54:05--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 12:54:05--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-26 12:54:05.365 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-26 12:54:05.414 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 12:54:05.414 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 12:54:05.414 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-26 12:54:05.414 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-26 12:54:05.414 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-26 12:54:05.414 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-26 12:54:05.414 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-26 12:54:05.414 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 12:54:05.461 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 12:54:05.461 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 12:54:05.461 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-26 12:54:05.461 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 12:54:05.461 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-26 12:54:05.461 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 12:54:05.461 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 12:54:05.462 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 12:54:05.462 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-26 12:54:05.462 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 12:54:05.462 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 12:54:05.462 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 12:54:05.463 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-26 12:54:05.463 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-26 12:54:05.525 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:54:05.565 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel13222.pb -o orderer.example.net:7050 -c testchannel13222 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-26 12:54:05.683 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:54:05.685 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 12:54:05.686 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-26 12:54:05.686 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel13222
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel13222 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-26 12:54:06.044 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:54:06.057 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel13222> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel13222> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 12:54:08.401 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:54:08.402 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-26 12:54:08.403 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-26 12:54:08.403 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel13222",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T12:54:06Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel13222> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
./verify/test-channel-does-not-exist.sh testchannel13222 vtb
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel13222 vtb
[1;34m
Verifing if the <testchannel13222> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-26 12:54:09.007 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:54:09.010 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel13222> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh ^^^^^^testchannel13222 sberbank ; ./verify/test-channel-does-not-exist.sh ^^^^^^testchannel13222 sberbank
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel13222 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel13222 sberbank
[1;36m
Creating the <^^^^^^testchannel13222> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel13222[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel13222
--2020-02-26 12:54:11--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 12:54:11--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 12:54:11--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 12:54:11--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-26 12:54:11.435 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-26 12:54:11.483 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 12:54:11.483 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 12:54:11.483 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-26 12:54:11.483 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-26 12:54:11.483 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-26 12:54:11.483 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-26 12:54:11.483 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-26 12:54:11.483 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 12:54:11.530 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 12:54:11.530 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 12:54:11.530 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-26 12:54:11.530 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 12:54:11.530 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-26 12:54:11.530 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 12:54:11.530 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 12:54:11.530 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 12:54:11.531 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-26 12:54:11.531 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 12:54:11.531 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 12:54:11.531 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 12:54:11.531 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-26 12:54:11.531 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-26 12:54:11.589 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel13222' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel13222.pb -o orderer.example.net:7050 -c ^^^^^^testchannel13222 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-26 12:54:11.658 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:54:11.660 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel13222.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel13222.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel13222
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel13222 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-26 12:54:11.849 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel13222' != '^^^^^^testchannel13222'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel13222> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 12:54:12.961 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:54:12.963 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel13222> does not exist and in not visible to sberbank[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel13222 vtb ; ./verify/test-channel-does-not-exist.sh testchannel13222 vtb
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel13222 vtb VERIFY: test-channel-does-not-exist.sh testchannel13222 vtb
[1;36m
Creating the <testchannel13222> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel13222[m[m[m
example.net

Create channel vtb testchannel13222
--2020-02-26 12:54:15--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 12:54:15--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 12:54:15--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 12:54:15--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-26 12:54:15.376 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-26 12:54:15.424 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 12:54:15.424 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 12:54:15.424 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-26 12:54:15.424 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-26 12:54:15.424 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-26 12:54:15.424 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-26 12:54:15.424 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-26 12:54:15.424 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 12:54:15.470 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 12:54:15.470 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 12:54:15.470 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-26 12:54:15.470 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 12:54:15.470 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-26 12:54:15.470 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 12:54:15.470 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 12:54:15.470 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 12:54:15.471 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-26 12:54:15.471 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 12:54:15.471 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 12:54:15.471 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 12:54:15.472 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-26 12:54:15.472 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-26 12:54:15.537 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel13222.pb -o orderer.example.net:7050 -c testchannel13222 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-26 12:54:15.613 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:54:15.615 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel13222.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel13222.json: No such file or directory
>> Prepare config update from vtb for channel testchannel13222
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel13222 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-26 12:54:15.798 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel13222> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-26 12:54:16.817 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:54:16.818 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel13222> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel13222-02 vtb ; ./verify/test-channel-exists.sh testchannel13222-02 vtb
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel13222-02 vtb VERIFY: test-channel-exists.sh testchannel13222-02 vtb
[1;36m
Creating the <testchannel13222-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel13222-02[m[m[m
example.net

Create channel vtb testchannel13222-02
--2020-02-26 12:54:19--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 12:54:19--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 12:54:19--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 12:54:19--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-26 12:54:19.302 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-26 12:54:19.361 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 12:54:19.361 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 12:54:19.361 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-26 12:54:19.361 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-26 12:54:19.361 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-26 12:54:19.361 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-26 12:54:19.361 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-26 12:54:19.361 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 12:54:19.408 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 12:54:19.408 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 12:54:19.408 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-26 12:54:19.408 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 12:54:19.408 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-26 12:54:19.408 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 12:54:19.408 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 12:54:19.409 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 12:54:19.409 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-26 12:54:19.409 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 12:54:19.409 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 12:54:19.410 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 12:54:19.410 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-26 12:54:19.410 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-26 12:54:19.466 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:54:19.498 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel13222-02.pb -o orderer.example.net:7050 -c testchannel13222-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-26 12:54:19.571 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:54:19.573 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 12:54:19.574 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-26 12:54:19.574 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel13222-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel13222-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-26 12:54:19.923 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:54:19.933 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel13222-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel13222-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-26 12:54:22.296 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:54:22.298 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-26 12:54:22.299 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-26 12:54:22.299 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel13222-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T12:54:19Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel13222-02> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
./verify/test-channel-does-not-exist.sh testchannel13222-02 sberbank
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel13222-02 sberbank
[1;34m
Verifing if the <testchannel13222-02> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 12:54:22.886 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:54:22.887 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel13222-02> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel13222-02 sberbank ; ./verify/test-channel-does-not-exist.sh testchannel13222-02 sberbank
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel13222-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel13222-02 sberbank
[1;36m
Creating the <testchannel13222-02> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel13222-02[m[m[m
example.net

Create channel sberbank testchannel13222-02
--2020-02-26 12:54:25--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 12:54:25--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 12:54:25--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 12:54:25--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-26 12:54:25.224 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-26 12:54:25.274 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 12:54:25.274 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 12:54:25.274 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-26 12:54:25.274 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-26 12:54:25.274 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-26 12:54:25.274 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-26 12:54:25.274 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-26 12:54:25.274 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 12:54:25.323 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 12:54:25.323 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 12:54:25.323 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-26 12:54:25.323 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 12:54:25.323 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-26 12:54:25.323 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 12:54:25.323 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 12:54:25.323 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 12:54:25.324 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-26 12:54:25.324 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 12:54:25.324 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 12:54:25.324 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 12:54:25.324 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-26 12:54:25.324 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-26 12:54:25.403 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel13222-02.pb -o orderer.example.net:7050 -c testchannel13222-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-26 12:54:25.474 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:54:25.476 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel13222-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel13222-02.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel13222-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel13222-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-26 12:54:25.692 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel13222-02> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 12:54:26.827 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:54:26.829 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel13222-02> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel13222 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel13222 sberbank vtb
Step: 8_cli Test 'Add <vtb> to channel <testchannel13222> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel13222 sberbank vtb VERIFY: test-channel-add-org.sh testchannel13222 sberbank vtb
[1;36m
Add vtb to the testchannel13222 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel13222 vtb 7051 example.net[m[m[m
--2020-02-26 12:54:29--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 12:54:29--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 12:54:29--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel13222, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel13222.pb -o orderer.example.net:7050 -c testchannel13222 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-26 12:54:29.205 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:54:29.207 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-26 12:54:29.208 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-26 12:54:29.208 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel13222
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel13222 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-26 12:54:29.554 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:54:29.564 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel13222 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 12:54:31.340 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:54:31.343 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-26 12:54:31.344 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-26 12:54:31.344 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel13222>.[m[m[m
Step 8_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel13222-02 vtb sberbank ; ./verify/test-channel-add-org.sh testchannel13222-02 vtb sberbank
Step: 9_cli Test 'Add <sberbank> to channel <testchannel13222-02> created by the <vtb> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel13222-02 vtb sberbank VERIFY: test-channel-add-org.sh testchannel13222-02 vtb sberbank
[1;36m
Add sberbank to the testchannel13222-02 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel13222-02 sberbank 7051 example.net[m[m[m
--2020-02-26 12:54:33--  http://www.sberbank.example.net/msp/admincerts/Admin@sberbank.example.net-cert.pem
Resolving www.sberbank.example.net (www.sberbank.example.net)... 172.19.0.7
Connecting to www.sberbank.example.net (www.sberbank.example.net)|172.19.0.7|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/sberbank.example.net/msp/admincerts/Admin@sberbank.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 12:54:33--  http://www.sberbank.example.net/msp/cacerts/ca.sberbank.example.net-cert.pem
Resolving www.sberbank.example.net (www.sberbank.example.net)... 172.19.0.7
Connecting to www.sberbank.example.net (www.sberbank.example.net)|172.19.0.7|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/sberbank.example.net/msp/cacerts/ca.sberbank.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 12:54:33--  http://www.sberbank.example.net/msp/tlscacerts/tlsca.sberbank.example.net-cert.pem
Resolving www.sberbank.example.net (www.sberbank.example.net)... 172.19.0.7
Connecting to www.sberbank.example.net (www.sberbank.example.net)|172.19.0.7|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/sberbank.example.net/msp/tlscacerts/tlsca.sberbank.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'sberbank' to channel testchannel13222-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel13222-02.pb -o orderer.example.net:7050 -c testchannel13222-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-26 12:54:33.752 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:54:33.755 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-26 12:54:33.756 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-26 12:54:33.756 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from sberbank for channel testchannel13222-02
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel13222-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-26 12:54:34.133 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:54:34.142 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel13222-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-26 12:54:35.164 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:54:35.167 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-26 12:54:35.168 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-26 12:54:35.168 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNKakNDQWN5Z0F3SUJBZ0lSQUlBZ3gxd3VidmxsSlJNdDFmNzNINjh3Q2dZSUtvWkl6ajBFQXdJd2V6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIVEFiQmdOVkJBb1RGSE5pWlhKaVlXNXJMbVY0WVcxd2JHVXVibVYwTVNBd0hnWURWUVFECkV4ZGpZUzV6WW1WeVltRnVheTVsZUdGdGNHeGxMbTVsZERBZUZ3MHlNREF5TWpFeE5qVTVNREJhRncwek1EQXkKTVRneE5qVTVNREJhTUY4eEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZdwpGQVlEVlFRSEV3MVRZVzRnUm5KaGJtTnBjMk52TVNNd0lRWURWUVFEREJwQlpHMXBia0J6WW1WeVltRnVheTVsCmVHRnRjR3hsTG01bGREQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDlBd0VIQTBJQUJOMGlmbE45Qkt4eWpldnIKSmZvSG9heVBmb1QrZU5lLzVpMm9GWEFlbzJMVVVPNGlobmpoUzc0VS91a00wdzVOQkxIaWpjUzVMTlBaWHdzbQowZ0lTR1ptalRUQkxNQTRHQTFVZER3RUIvd1FFQXdJSGdEQU1CZ05WSFJNQkFmOEVBakFBTUNzR0ExVWRJd1FrCk1DS0FJQ2xQaHl5YnRTUmhtUFovajB5bkNvd2xMaDRMeThjQzI2UDVYcytEcFhGak1Bb0dDQ3FHU000OUJBTUMKQTBnQU1FVUNJUURqK1B3MExCcEo1aCtnNGg2TXVIZndyanNXL0p1dElzVVU2aUdiNG8zYWtRSWdSSUxFa1Z3SApsVWdVdXprcGZPTlJmbnF6KzNZc1p4M3RwYWg0SGIvNWtWaz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "sberbank",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNZRENDQWdlZ0F3SUJBZ0lRV0hKSm50dVdaYzN4MHZZRm96aEtTVEFLQmdncWhrak9QUVFEQWpCN01Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RWRNQnNHQTFVRUNoTVVjMkpsY21KaGJtc3VaWGhoYlhCc1pTNXVaWFF4SURBZUJnTlZCQU1UCkYyTmhMbk5pWlhKaVlXNXJMbVY0WVcxd2JHVXVibVYwTUI0WERUSXdNREl5TVRFMk5Ua3dNRm9YRFRNd01ESXgKT0RFMk5Ua3dNRm93ZXpFTE1Ba0dBMVVFQmhNQ1ZWTXhFekFSQmdOVkJBZ1RDa05oYkdsbWIzSnVhV0V4RmpBVQpCZ05WQkFjVERWTmhiaUJHY21GdVkybHpZMjh4SFRBYkJnTlZCQW9URkhOaVpYSmlZVzVyTG1WNFlXMXdiR1V1CmJtVjBNU0F3SGdZRFZRUURFeGRqWVM1elltVnlZbUZ1YXk1bGVHRnRjR3hsTG01bGREQlpNQk1HQnlxR1NNNDkKQWdFR0NDcUdTTTQ5QXdFSEEwSUFCSXVMc1VSWEtwZWhoRUtEYndpaHU1ZHgxRjIrelR1cUMwOHhrdnBTUFZGTApCUjhYUGlRY0RpelFGQTJYdTJQQnFuYWxTbEQ1cCtlTERwYVpzbnBWN0tTamJUQnJNQTRHQTFVZER3RUIvd1FFCkF3SUJwakFkQmdOVkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXcKQXdFQi96QXBCZ05WSFE0RUlnUWdLVStITEp1MUpHR1k5bitQVEtjS2pDVXVIZ3ZMeHdMYm8vbGV6NE9sY1dNdwpDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdIYlJ2WkVkMWMxRWphbXNjZzJ3K0hlY0VmQzNtNnh0UUdpU2Nwd3NDCjM4d0NJQ2JyQ0FMemo5Tm9NSUhETFRvLzJDRWtTMXdtUEpsNWZlZ0Z5bW1hUFd2bgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNaekNDQWc2Z0F3SUJBZ0lSQU1NTHRySVQ2ZU9jTDZSN1JtTlZJUmN3Q2dZSUtvWkl6ajBFQXdJd2ZqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIVEFiQmdOVkJBb1RGSE5pWlhKaVlXNXJMbVY0WVcxd2JHVXVibVYwTVNNd0lRWURWUVFECkV4cDBiSE5qWVM1elltVnlZbUZ1YXk1bGVHRnRjR3hsTG01bGREQWVGdzB5TURBeU1qRXhOalU1TURCYUZ3MHoKTURBeU1UZ3hOalU1TURCYU1INHhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saApNUll3RkFZRFZRUUhFdzFUWVc0Z1JuSmhibU5wYzJOdk1SMHdHd1lEVlFRS0V4UnpZbVZ5WW1GdWF5NWxlR0Z0CmNHeGxMbTVsZERFak1DRUdBMVVFQXhNYWRHeHpZMkV1YzJKbGNtSmhibXN1WlhoaGJYQnNaUzV1WlhRd1dUQVQKQmdjcWhrak9QUUlCQmdncWhrak9QUU1CQndOQ0FBUnh2am5kaVVEc3YzR2FsS1dYTm9Mbkc4WEtSRm9tY3k3RwpMVmFVMmZDMlhnems3dnByMnpxcXdFQUdyVVdaUE1rNnN4QUhiY043R3RTaldibkVZOEx0bzIwd2F6QU9CZ05WCkhROEJBZjhFQkFNQ0FhWXdIUVlEVlIwbEJCWXdGQVlJS3dZQkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWQKRXdFQi93UUZNQU1CQWY4d0tRWURWUjBPQkNJRUlBYk8rb0ZxWjF4Q250UE0wTHovZWtIcGpHaytXaTBKNys0MwpzVVBpQ0pEb01Bb0dDQ3FHU000OUJBTUNBMGNBTUVRQ0lEMUQ4SXoxSmNGdlhsMEZNZlZOTnRZMm5Ma2hsWmh3ClNmU0pDN0l4MUgxUUFpQmhKYktEc2QwWHlKUWJYUXVFNXpLNWZPQXBMbFdLN1NudGFteWFmOVJ1S3c9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
sberbank
[1;32mOK: Organization <sberbank> is in the channel <testchannel13222-02>.[m[m[m
Step 9_cli: exit code 0
NO_RED_OUTPUT=true ./cli/join-channel.sh testchannel13222 vtb ; ./verify/test-join-channel.sh testchannel13222 vtb
Step: 10_cli Test 'Join <vtb> to the <testchannel13222> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel13222 vtb VERIFY: test-join-channel.sh testchannel13222 vtb
[1;36m
Joining  vtb to the testchannel13222 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel13222[m[m[m
CORE_PEER_ADDRESS=peer0.vtb.example.net:8051
CORE_PEER_LOCALMSPID=vtb
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/vtb.example.net/users/Admin@vtb.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/vtb.example.net/peers/peer0.vtb.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/vtb.example.net/peers/peer0.vtb.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/vtb.example.net/peers/peer0.vtb.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=8888f1b8ca4a
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.net
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=vtb
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-02-26 12:54:37--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 12:54:37--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 12:54:37--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 12:54:37--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

Join vtb to channel testchannel13222
Execute: channel fetch 0 crypto-config/configtx/testchannel13222.pb -o orderer.example.net:7050 -c testchannel13222 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-26 12:54:37.409 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:54:37.412 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 12:54:37.471 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:54:37.681 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the vtb has joined the <testchannel13222> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-26 12:54:38.875 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The vtb has joined the <testchannel13222> channel[m[m[m
Step 10_cli: exit code 0
NO_RED_OUTPUT=true ./cli/join-channel.sh testchannel13222-02 sberbank ; ./verify/test-join-channel.sh testchannel13222-02 sberbank
Step: 11_cli Test 'Join <sberbank> to the <testchannel13222-02> chanel created by the <vtb> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel13222-02 sberbank VERIFY: test-join-channel.sh testchannel13222-02 sberbank
[1;36m
Joining  sberbank to the testchannel13222-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel13222-02[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=b9c5e553cac2
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.net
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-02-26 12:54:41--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 12:54:41--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 12:54:41--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 12:54:41--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

Join sberbank to channel testchannel13222-02
Execute: channel fetch 0 crypto-config/configtx/testchannel13222-02.pb -o orderer.example.net:7050 -c testchannel13222-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-26 12:54:41.877 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:54:41.879 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 12:54:42.005 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:54:42.270 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel13222-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 12:54:43.319 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel13222-02> channel[m[m[m
Step 11_cli: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel14301 sberbank ; ./verify/test-channel-exists.sh testchannel14301 sberbank
Step: 12_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel14301 sberbank VERIFY: test-channel-exists.sh testchannel14301 sberbank
[1;36mCreating testchannel14301 channel in sberbank.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyMTY4M30.uITxgUwyUviyXlU8yVPVp8LZ4-kqxA3XSIo8N1nc1XY
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.net:7051","name":"peer0.sberbank.example.net:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.net:7051","grpc.default_authority":"peer0.sberbank.example.net:7051"}}}] 200
[1;32mOK: Channel <testchannel14301> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel14301> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 12:54:46.746 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:54:46.748 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 12:54:46.750 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-26 12:54:46.750 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel14301",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T12:54:44Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel14301> exists and visible to sberbank[m[m[m
Step 12_api: exit code 0
./verify/test-channel-does-not-exist.sh testchannel14301 vtb
Step: 13_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel14301 vtb
[1;34m
Verifing if the <testchannel14301> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-26 12:54:47.683 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:54:47.686 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel14301> does not exist and in not visible to vtb[m[m[m
Step 13_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh ^^^^^^testchannel14301 sberbank ; ./verify/test-channel-does-not-exist.sh ^^^^^^testchannel14301 sberbank
Step: 14_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel14301 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel14301 sberbank
[1;36mCreating ^^^^^^testchannel14301 channel in sberbank.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyMTY4OH0.G06gd56Y69Jg0zLe3q6RjhkEq_Y5iWsu4XCAH_V0yMc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel14301\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel14301> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 12:54:51.672 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:54:51.677 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel14301> does not exist and in not visible to sberbank[m[m[m
Step 14_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh testchannel14301 vtb ; ./verify/test-channel-does-not-exist.sh testchannel14301 vtb
Step: 15_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel14301 vtb VERIFY: test-channel-does-not-exist.sh testchannel14301 vtb
[1;36mCreating testchannel14301 channel in vtb.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4001
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyMTY5Mn0.mlkIJdlWvKS8lE3WAlSRyq-bsK9MLMehHyyfzHtJYf8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel14301> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-26 12:54:55.726 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:54:55.728 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel14301> does not exist and in not visible to vtb[m[m[m
Step 15_api: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel14301-02 vtb ; ./verify/test-channel-exists.sh testchannel14301-02 vtb
Step: 16_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel14301-02 vtb VERIFY: test-channel-exists.sh testchannel14301-02 vtb
[1;36mCreating testchannel14301-02 channel in vtb.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4001
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyMTY5Nn0.5exK-2keYtHFdfWSKqX5UcJCAbyQNVuyo3wCIXcGS3A
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.net:8051","name":"peer0.vtb.example.net:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.net:8051","grpc.default_authority":"peer0.vtb.example.net:8051"}}}] 200
[1;32mOK: Channel <testchannel14301-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel14301-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-26 12:54:58.599 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:54:58.604 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 12:54:58.605 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-26 12:54:58.605 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel14301-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T12:54:57Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel14301-02> exists and visible to vtb[m[m[m
Step 16_api: exit code 0
./verify/test-channel-does-not-exist.sh testchannel14301-02 sberbank
Step: 17_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel14301-02 sberbank
[1;34m
Verifing if the <testchannel14301-02> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 12:54:59.228 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:54:59.229 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel14301-02> does not exist and in not visible to sberbank[m[m[m
Step 17_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh testchannel14301-02 sberbank ; ./verify/test-channel-does-not-exist.sh testchannel14301-02 sberbank
Step: 18_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel14301-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel14301-02 sberbank
[1;36mCreating testchannel14301-02 channel in sberbank.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyMTY5OX0.SSKP0eW-J_WwbEF3SSHxgOUJUq2bkLR5V7qdjlpvR2k
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel14301-02> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 12:55:03.402 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:55:03.404 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel14301-02> does not exist and in not visible to sberbank[m[m[m
Step 18_api: exit code 0
NO_RED_OUTPUT=true ./api/add-org-to-channel.sh testchannel14301 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel14301 sberbank vtb
Step: 19_api Test 'Add <vtb> to channel <testchannel14301> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel14301 sberbank vtb VERIFY: test-channel-add-org.sh testchannel14301 sberbank vtb
[1;36mAdd vtb to the testchannel14301 channel using API...[m[m[m
[1;36mAdd vtb to the testchannel14301 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyMTcwM30.dbl6oUMvUWyOdq9NUNI491NiTmPUNHmDThvFK4wz16k
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
200
[1;32mOK: Organization vtb added to testchannel14301 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel14301 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 12:55:06.626 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:55:06.632 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-26 12:55:06.640 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-26 12:55:06.641 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel14301>.[m[m[m
Step 19_api: exit code 0
NO_RED_OUTPUT=true ./api/add-org-to-channel.sh testchannel14301-02 vtb sberbank ; ./verify/test-channel-add-org.sh testchannel14301-02 vtb sberbank
Step: 20_api Test 'Add <sberbank> to channel <testchannel14301-02> created by the <vtb> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel14301-02 vtb sberbank VERIFY: test-channel-add-org.sh testchannel14301-02 vtb sberbank
[1;36mAdd sberbank to the testchannel14301-02 channel using API...[m[m[m
[1;36mAdd sberbank to the testchannel14301-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyMTcwN30.TlcsZg79M5ffJIe847eRRP_C9DoqK2h9D3d93Zy5qIc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
200
[1;32mOK: Organization sberbank added to testchannel14301-02 channel[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel14301-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-26 12:55:10.419 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 12:55:10.423 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-26 12:55:10.427 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-26 12:55:10.428 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNKakNDQWN5Z0F3SUJBZ0lSQUlBZ3gxd3VidmxsSlJNdDFmNzNINjh3Q2dZSUtvWkl6ajBFQXdJd2V6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIVEFiQmdOVkJBb1RGSE5pWlhKaVlXNXJMbVY0WVcxd2JHVXVibVYwTVNBd0hnWURWUVFECkV4ZGpZUzV6WW1WeVltRnVheTVsZUdGdGNHeGxMbTVsZERBZUZ3MHlNREF5TWpFeE5qVTVNREJhRncwek1EQXkKTVRneE5qVTVNREJhTUY4eEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZdwpGQVlEVlFRSEV3MVRZVzRnUm5KaGJtTnBjMk52TVNNd0lRWURWUVFEREJwQlpHMXBia0J6WW1WeVltRnVheTVsCmVHRnRjR3hsTG01bGREQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDlBd0VIQTBJQUJOMGlmbE45Qkt4eWpldnIKSmZvSG9heVBmb1QrZU5lLzVpMm9GWEFlbzJMVVVPNGlobmpoUzc0VS91a00wdzVOQkxIaWpjUzVMTlBaWHdzbQowZ0lTR1ptalRUQkxNQTRHQTFVZER3RUIvd1FFQXdJSGdEQU1CZ05WSFJNQkFmOEVBakFBTUNzR0ExVWRJd1FrCk1DS0FJQ2xQaHl5YnRTUmhtUFovajB5bkNvd2xMaDRMeThjQzI2UDVYcytEcFhGak1Bb0dDQ3FHU000OUJBTUMKQTBnQU1FVUNJUURqK1B3MExCcEo1aCtnNGg2TXVIZndyanNXL0p1dElzVVU2aUdiNG8zYWtRSWdSSUxFa1Z3SApsVWdVdXprcGZPTlJmbnF6KzNZc1p4M3RwYWg0SGIvNWtWaz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "sberbank",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNZRENDQWdlZ0F3SUJBZ0lRV0hKSm50dVdaYzN4MHZZRm96aEtTVEFLQmdncWhrak9QUVFEQWpCN01Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RWRNQnNHQTFVRUNoTVVjMkpsY21KaGJtc3VaWGhoYlhCc1pTNXVaWFF4SURBZUJnTlZCQU1UCkYyTmhMbk5pWlhKaVlXNXJMbVY0WVcxd2JHVXVibVYwTUI0WERUSXdNREl5TVRFMk5Ua3dNRm9YRFRNd01ESXgKT0RFMk5Ua3dNRm93ZXpFTE1Ba0dBMVVFQmhNQ1ZWTXhFekFSQmdOVkJBZ1RDa05oYkdsbWIzSnVhV0V4RmpBVQpCZ05WQkFjVERWTmhiaUJHY21GdVkybHpZMjh4SFRBYkJnTlZCQW9URkhOaVpYSmlZVzVyTG1WNFlXMXdiR1V1CmJtVjBNU0F3SGdZRFZRUURFeGRqWVM1elltVnlZbUZ1YXk1bGVHRnRjR3hsTG01bGREQlpNQk1HQnlxR1NNNDkKQWdFR0NDcUdTTTQ5QXdFSEEwSUFCSXVMc1VSWEtwZWhoRUtEYndpaHU1ZHgxRjIrelR1cUMwOHhrdnBTUFZGTApCUjhYUGlRY0RpelFGQTJYdTJQQnFuYWxTbEQ1cCtlTERwYVpzbnBWN0tTamJUQnJNQTRHQTFVZER3RUIvd1FFCkF3SUJwakFkQmdOVkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXcKQXdFQi96QXBCZ05WSFE0RUlnUWdLVStITEp1MUpHR1k5bitQVEtjS2pDVXVIZ3ZMeHdMYm8vbGV6NE9sY1dNdwpDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdIYlJ2WkVkMWMxRWphbXNjZzJ3K0hlY0VmQzNtNnh0UUdpU2Nwd3NDCjM4d0NJQ2JyQ0FMemo5Tm9NSUhETFRvLzJDRWtTMXdtUEpsNWZlZ0Z5bW1hUFd2bgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNaekNDQWc2Z0F3SUJBZ0lSQU1NTHRySVQ2ZU9jTDZSN1JtTlZJUmN3Q2dZSUtvWkl6ajBFQXdJd2ZqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIVEFiQmdOVkJBb1RGSE5pWlhKaVlXNXJMbVY0WVcxd2JHVXVibVYwTVNNd0lRWURWUVFECkV4cDBiSE5qWVM1elltVnlZbUZ1YXk1bGVHRnRjR3hsTG01bGREQWVGdzB5TURBeU1qRXhOalU1TURCYUZ3MHoKTURBeU1UZ3hOalU1TURCYU1INHhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saApNUll3RkFZRFZRUUhFdzFUWVc0Z1JuSmhibU5wYzJOdk1SMHdHd1lEVlFRS0V4UnpZbVZ5WW1GdWF5NWxlR0Z0CmNHeGxMbTVsZERFak1DRUdBMVVFQXhNYWRHeHpZMkV1YzJKbGNtSmhibXN1WlhoaGJYQnNaUzV1WlhRd1dUQVQKQmdjcWhrak9QUUlCQmdncWhrak9QUU1CQndOQ0FBUnh2am5kaVVEc3YzR2FsS1dYTm9Mbkc4WEtSRm9tY3k3RwpMVmFVMmZDMlhnems3dnByMnpxcXdFQUdyVVdaUE1rNnN4QUhiY043R3RTaldibkVZOEx0bzIwd2F6QU9CZ05WCkhROEJBZjhFQkFNQ0FhWXdIUVlEVlIwbEJCWXdGQVlJS3dZQkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWQKRXdFQi93UUZNQU1CQWY4d0tRWURWUjBPQkNJRUlBYk8rb0ZxWjF4Q250UE0wTHovZWtIcGpHaytXaTBKNys0MwpzVVBpQ0pEb01Bb0dDQ3FHU000OUJBTUNBMGNBTUVRQ0lEMUQ4SXoxSmNGdlhsMEZNZlZOTnRZMm5Ma2hsWmh3ClNmU0pDN0l4MUgxUUFpQmhKYktEc2QwWHlKUWJYUXVFNXpLNWZPQXBMbFdLN1NudGFteWFmOVJ1S3c9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
sberbank
[1;32mOK: Organization <sberbank> is in the channel <testchannel14301-02>.[m[m[m
Step 20_api: exit code 0
NO_RED_OUTPUT=true ./api/join-channel.sh testchannel14301 vtb ; ./verify/test-join-channel.sh testchannel14301 vtb
Step: 21_api Test 'Join <vtb> to the <testchannel14301> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel14301 vtb VERIFY: test-join-channel.sh testchannel14301 vtb
[1;36mJoining vtb.example.net to the testchannel14301 channel using API...[m[m[m
[1;36mJoining vtb.example.net to the testchannel14301 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyMTcxMX0.EtKIDXaaqFtWHYAOxgCUR-Db-vNwl6SgDxNo2dJE__k
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
000
jq: error (at <stdin>:0): Cannot index number with number
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the vtb has joined the <testchannel14301> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-26 12:57:12.530 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The vtb has joined the <testchannel14301> channel[m[m[m
Step 21_api: exit code 0
NO_RED_OUTPUT=true ./api/join-channel.sh testchannel14301-02 sberbank ; ./verify/test-join-channel.sh testchannel14301-02 sberbank
Step: 22_api Test 'Join <sberbank> to the <testchannel14301-02> chanel created by the <vtb> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel14301-02 sberbank VERIFY: test-join-channel.sh testchannel14301-02 sberbank
[1;36mJoining sberbank.example.net to the testchannel14301-02 channel using API...[m[m[m
[1;36mJoining sberbank.example.net to the testchannel14301-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyMTgzM30.v2uZWjd3jdcqYEpwymF03b35RKM_ZiYaT5oHa9Wo3FQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
000
jq: error (at <stdin>:0): Cannot index number with number
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel14301-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 12:59:13.671 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel14301-02> channel[m[m[m
Step 22_api: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel7889 sberbank ; ./verify/test-channel-exists.sh testchannel7889 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel7889 sberbank VERIFY: test-channel-exists.sh testchannel7889 sberbank
[1;36m
Creating the <testchannel7889> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel7889[m[m[m
example.net

Create channel sberbank testchannel7889
--2020-02-26 13:02:38--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 13:02:38--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 13:02:38--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 13:02:38--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-26 13:02:38.286 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-26 13:02:38.355 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 13:02:38.355 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 13:02:38.355 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-26 13:02:38.355 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-26 13:02:38.355 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-26 13:02:38.355 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-26 13:02:38.355 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-26 13:02:38.355 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 13:02:38.401 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 13:02:38.401 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 13:02:38.401 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-26 13:02:38.401 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 13:02:38.401 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-26 13:02:38.401 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 13:02:38.401 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 13:02:38.402 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 13:02:38.402 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-26 13:02:38.402 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 13:02:38.402 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 13:02:38.402 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 13:02:38.403 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-26 13:02:38.403 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-26 13:02:38.458 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:02:38.490 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel7889.pb -o orderer.example.net:7050 -c testchannel7889 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-26 13:02:38.556 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:02:38.558 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 13:02:38.559 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-26 13:02:38.559 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel7889
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel7889 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-26 13:02:38.871 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:02:38.879 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel7889> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel7889> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 13:02:41.080 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:02:41.087 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-26 13:02:41.088 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-26 13:02:41.089 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel7889",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T13:02:38Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel7889> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
./verify/test-channel-does-not-exist.sh testchannel7889 vtb
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel7889 vtb
[1;34m
Verifing if the <testchannel7889> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-26 13:02:42.240 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:02:42.242 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel7889> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh ^^^^^^testchannel7889 sberbank ; ./verify/test-channel-does-not-exist.sh ^^^^^^testchannel7889 sberbank
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel7889 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel7889 sberbank
[1;36m
Creating the <^^^^^^testchannel7889> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel7889[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel7889
--2020-02-26 13:02:44--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 13:02:44--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 13:02:44--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 13:02:44--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-26 13:02:44.352 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-26 13:02:44.418 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 13:02:44.418 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 13:02:44.418 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-26 13:02:44.418 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-26 13:02:44.418 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-26 13:02:44.418 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-26 13:02:44.418 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-26 13:02:44.418 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 13:02:44.464 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 13:02:44.464 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 13:02:44.464 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-26 13:02:44.464 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 13:02:44.464 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-26 13:02:44.464 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 13:02:44.464 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 13:02:44.465 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 13:02:44.465 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-26 13:02:44.465 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 13:02:44.465 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 13:02:44.466 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 13:02:44.466 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-26 13:02:44.466 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-26 13:02:44.530 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel7889' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel7889.pb -o orderer.example.net:7050 -c ^^^^^^testchannel7889 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-26 13:02:44.603 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:02:44.605 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel7889.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel7889.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel7889
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel7889 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-26 13:02:44.794 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel7889' != '^^^^^^testchannel7889'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel7889> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 13:02:45.784 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:02:45.785 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel7889> does not exist and in not visible to sberbank[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel7889 vtb ; ./verify/test-channel-does-not-exist.sh testchannel7889 vtb
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel7889 vtb VERIFY: test-channel-does-not-exist.sh testchannel7889 vtb
[1;36m
Creating the <testchannel7889> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel7889[m[m[m
example.net

Create channel vtb testchannel7889
--2020-02-26 13:02:47--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 13:02:47--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 13:02:47--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 13:02:47--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-26 13:02:48.059 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-26 13:02:48.113 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 13:02:48.113 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 13:02:48.113 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-26 13:02:48.113 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-26 13:02:48.113 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-26 13:02:48.113 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-26 13:02:48.113 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-26 13:02:48.113 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 13:02:48.160 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 13:02:48.160 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 13:02:48.160 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-26 13:02:48.160 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 13:02:48.160 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-26 13:02:48.160 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 13:02:48.160 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 13:02:48.161 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 13:02:48.161 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-26 13:02:48.161 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 13:02:48.161 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 13:02:48.161 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 13:02:48.162 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-26 13:02:48.162 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-26 13:02:48.226 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel7889.pb -o orderer.example.net:7050 -c testchannel7889 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-26 13:02:48.302 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:02:48.304 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel7889.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel7889.json: No such file or directory
>> Prepare config update from vtb for channel testchannel7889
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel7889 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-26 13:02:48.504 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel7889> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-26 13:02:49.621 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:02:49.622 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel7889> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false ./cli/create-channel.sh testchannel7889-02 vtb ; ./verify/test-channel-exists.sh testchannel7889-02 vtb
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel7889-02 vtb VERIFY: test-channel-exists.sh testchannel7889-02 vtb
[1;36m
Creating the <testchannel7889-02> channel for vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel7889-02[m[m[m
example.net

Create channel vtb testchannel7889-02
--2020-02-26 13:02:52--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 13:02:52--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 13:02:52--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 13:02:52--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-26 13:02:52.271 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-26 13:02:52.335 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 13:02:52.335 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 13:02:52.335 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-26 13:02:52.335 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-26 13:02:52.335 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-26 13:02:52.335 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-26 13:02:52.335 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-26 13:02:52.335 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 13:02:52.381 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 13:02:52.381 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 13:02:52.381 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-26 13:02:52.381 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 13:02:52.381 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-26 13:02:52.381 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 13:02:52.381 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 13:02:52.381 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 13:02:52.382 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-26 13:02:52.382 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 13:02:52.382 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 13:02:52.382 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 13:02:52.382 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-26 13:02:52.383 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-26 13:02:52.443 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:02:52.474 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel7889-02.pb -o orderer.example.net:7050 -c testchannel7889-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-26 13:02:52.563 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:02:52.567 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 13:02:52.568 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-26 13:02:52.568 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel7889-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel7889-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-26 13:02:52.926 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:02:52.935 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel7889-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel7889-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-26 13:02:55.375 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:02:55.382 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-26 13:02:55.383 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-26 13:02:55.383 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel7889-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T13:02:52Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel7889-02> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
./verify/test-channel-does-not-exist.sh testchannel7889-02 sberbank
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel7889-02 sberbank
[1;34m
Verifing if the <testchannel7889-02> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 13:02:56.150 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:02:56.152 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel7889-02> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true ./cli/create-channel.sh testchannel7889-02 sberbank ; ./verify/test-channel-does-not-exist.sh testchannel7889-02 sberbank
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel7889-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel7889-02 sberbank
[1;36m
Creating the <testchannel7889-02> channel for sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel7889-02[m[m[m
example.net

Create channel sberbank testchannel7889-02
--2020-02-26 13:02:58--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 13:02:58--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 13:02:58--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 13:02:58--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

[34m2020-02-26 13:02:58.705 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-26 13:02:58.778 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 13:02:58.779 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 13:02:58.779 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-26 13:02:58.779 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-26 13:02:58.779 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-26 13:02:58.779 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-26 13:02:58.779 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-26 13:02:58.779 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 13:02:58.857 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-26 13:02:58.857 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-26 13:02:58.857 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-26 13:02:58.857 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-26 13:02:58.857 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-26 13:02:58.858 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 13:02:58.858 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 13:02:58.858 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 13:02:58.859 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-26 13:02:58.859 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-26 13:02:58.859 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-26 13:02:58.859 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-26 13:02:58.860 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-26 13:02:58.860 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-26 13:02:58.929 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel7889-02.pb -o orderer.example.net:7050 -c testchannel7889-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-26 13:02:59.048 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:02:59.051 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel7889-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel7889-02.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel7889-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel7889-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-26 13:02:59.281 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel7889-02> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 13:03:00.481 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:03:00.482 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel7889-02> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel7889 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel7889 sberbank vtb
Step: 8_cli Test 'Add <vtb> to channel <testchannel7889> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel7889 sberbank vtb VERIFY: test-channel-add-org.sh testchannel7889 sberbank vtb
[1;36m
Add vtb to the testchannel7889 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel7889 vtb 7051 example.net[m[m[m
--2020-02-26 13:03:03--  http://www.vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/admincerts/Admin@vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 13:03:03--  http://www.vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/cacerts/ca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 13:03:03--  http://www.vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem
Resolving www.vtb.example.net (www.vtb.example.net)... 172.19.0.15
Connecting to www.vtb.example.net (www.vtb.example.net)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/vtb.example.net/msp/tlscacerts/tlsca.vtb.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel7889, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel7889.pb -o orderer.example.net:7050 -c testchannel7889 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-26 13:03:03.412 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:03:03.414 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-26 13:03:03.416 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-26 13:03:03.416 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel7889
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel7889 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-26 13:03:03.777 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:03:03.788 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel7889 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 13:03:04.809 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:03:04.811 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-26 13:03:04.812 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-26 13:03:04.812 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel7889>.[m[m[m
Step 8_cli: exit code 0
NO_RED_OUTPUT=true ./cli/add-org-to-channel.sh testchannel7889-02 vtb sberbank ; ./verify/test-channel-add-org.sh testchannel7889-02 vtb sberbank
Step: 9_cli Test 'Add <sberbank> to channel <testchannel7889-02> created by the <vtb> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel7889-02 vtb sberbank VERIFY: test-channel-add-org.sh testchannel7889-02 vtb sberbank
[1;36m
Add sberbank to the testchannel7889-02 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel7889-02 sberbank 7051 example.net[m[m[m
--2020-02-26 13:03:07--  http://www.sberbank.example.net/msp/admincerts/Admin@sberbank.example.net-cert.pem
Resolving www.sberbank.example.net (www.sberbank.example.net)... 172.19.0.7
Connecting to www.sberbank.example.net (www.sberbank.example.net)|172.19.0.7|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/sberbank.example.net/msp/admincerts/Admin@sberbank.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 13:03:07--  http://www.sberbank.example.net/msp/cacerts/ca.sberbank.example.net-cert.pem
Resolving www.sberbank.example.net (www.sberbank.example.net)... 172.19.0.7
Connecting to www.sberbank.example.net (www.sberbank.example.net)|172.19.0.7|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/sberbank.example.net/msp/cacerts/ca.sberbank.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 13:03:07--  http://www.sberbank.example.net/msp/tlscacerts/tlsca.sberbank.example.net-cert.pem
Resolving www.sberbank.example.net (www.sberbank.example.net)... 172.19.0.7
Connecting to www.sberbank.example.net (www.sberbank.example.net)|172.19.0.7|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/sberbank.example.net/msp/tlscacerts/tlsca.sberbank.example.net-cert.pem’ not modified on server. Omitting download.

>> Add new org 'sberbank' to channel testchannel7889-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel7889-02.pb -o orderer.example.net:7050 -c testchannel7889-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-26 13:03:07.285 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:03:07.288 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-26 13:03:07.289 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-26 13:03:07.289 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from sberbank for channel testchannel7889-02
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel7889-02 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-26 13:03:07.660 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:03:07.671 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel7889-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-26 13:03:08.779 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:03:08.781 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-02-26 13:03:08.782 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-02-26 13:03:08.783 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNKakNDQWN5Z0F3SUJBZ0lSQUlBZ3gxd3VidmxsSlJNdDFmNzNINjh3Q2dZSUtvWkl6ajBFQXdJd2V6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIVEFiQmdOVkJBb1RGSE5pWlhKaVlXNXJMbVY0WVcxd2JHVXVibVYwTVNBd0hnWURWUVFECkV4ZGpZUzV6WW1WeVltRnVheTVsZUdGdGNHeGxMbTVsZERBZUZ3MHlNREF5TWpFeE5qVTVNREJhRncwek1EQXkKTVRneE5qVTVNREJhTUY4eEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZdwpGQVlEVlFRSEV3MVRZVzRnUm5KaGJtTnBjMk52TVNNd0lRWURWUVFEREJwQlpHMXBia0J6WW1WeVltRnVheTVsCmVHRnRjR3hsTG01bGREQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDlBd0VIQTBJQUJOMGlmbE45Qkt4eWpldnIKSmZvSG9heVBmb1QrZU5lLzVpMm9GWEFlbzJMVVVPNGlobmpoUzc0VS91a00wdzVOQkxIaWpjUzVMTlBaWHdzbQowZ0lTR1ptalRUQkxNQTRHQTFVZER3RUIvd1FFQXdJSGdEQU1CZ05WSFJNQkFmOEVBakFBTUNzR0ExVWRJd1FrCk1DS0FJQ2xQaHl5YnRTUmhtUFovajB5bkNvd2xMaDRMeThjQzI2UDVYcytEcFhGak1Bb0dDQ3FHU000OUJBTUMKQTBnQU1FVUNJUURqK1B3MExCcEo1aCtnNGg2TXVIZndyanNXL0p1dElzVVU2aUdiNG8zYWtRSWdSSUxFa1Z3SApsVWdVdXprcGZPTlJmbnF6KzNZc1p4M3RwYWg0SGIvNWtWaz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "sberbank",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNZRENDQWdlZ0F3SUJBZ0lRV0hKSm50dVdaYzN4MHZZRm96aEtTVEFLQmdncWhrak9QUVFEQWpCN01Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RWRNQnNHQTFVRUNoTVVjMkpsY21KaGJtc3VaWGhoYlhCc1pTNXVaWFF4SURBZUJnTlZCQU1UCkYyTmhMbk5pWlhKaVlXNXJMbVY0WVcxd2JHVXVibVYwTUI0WERUSXdNREl5TVRFMk5Ua3dNRm9YRFRNd01ESXgKT0RFMk5Ua3dNRm93ZXpFTE1Ba0dBMVVFQmhNQ1ZWTXhFekFSQmdOVkJBZ1RDa05oYkdsbWIzSnVhV0V4RmpBVQpCZ05WQkFjVERWTmhiaUJHY21GdVkybHpZMjh4SFRBYkJnTlZCQW9URkhOaVpYSmlZVzVyTG1WNFlXMXdiR1V1CmJtVjBNU0F3SGdZRFZRUURFeGRqWVM1elltVnlZbUZ1YXk1bGVHRnRjR3hsTG01bGREQlpNQk1HQnlxR1NNNDkKQWdFR0NDcUdTTTQ5QXdFSEEwSUFCSXVMc1VSWEtwZWhoRUtEYndpaHU1ZHgxRjIrelR1cUMwOHhrdnBTUFZGTApCUjhYUGlRY0RpelFGQTJYdTJQQnFuYWxTbEQ1cCtlTERwYVpzbnBWN0tTamJUQnJNQTRHQTFVZER3RUIvd1FFCkF3SUJwakFkQmdOVkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXcKQXdFQi96QXBCZ05WSFE0RUlnUWdLVStITEp1MUpHR1k5bitQVEtjS2pDVXVIZ3ZMeHdMYm8vbGV6NE9sY1dNdwpDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdIYlJ2WkVkMWMxRWphbXNjZzJ3K0hlY0VmQzNtNnh0UUdpU2Nwd3NDCjM4d0NJQ2JyQ0FMemo5Tm9NSUhETFRvLzJDRWtTMXdtUEpsNWZlZ0Z5bW1hUFd2bgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNaekNDQWc2Z0F3SUJBZ0lSQU1NTHRySVQ2ZU9jTDZSN1JtTlZJUmN3Q2dZSUtvWkl6ajBFQXdJd2ZqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIVEFiQmdOVkJBb1RGSE5pWlhKaVlXNXJMbVY0WVcxd2JHVXVibVYwTVNNd0lRWURWUVFECkV4cDBiSE5qWVM1elltVnlZbUZ1YXk1bGVHRnRjR3hsTG01bGREQWVGdzB5TURBeU1qRXhOalU1TURCYUZ3MHoKTURBeU1UZ3hOalU1TURCYU1INHhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saApNUll3RkFZRFZRUUhFdzFUWVc0Z1JuSmhibU5wYzJOdk1SMHdHd1lEVlFRS0V4UnpZbVZ5WW1GdWF5NWxlR0Z0CmNHeGxMbTVsZERFak1DRUdBMVVFQXhNYWRHeHpZMkV1YzJKbGNtSmhibXN1WlhoaGJYQnNaUzV1WlhRd1dUQVQKQmdjcWhrak9QUUlCQmdncWhrak9QUU1CQndOQ0FBUnh2am5kaVVEc3YzR2FsS1dYTm9Mbkc4WEtSRm9tY3k3RwpMVmFVMmZDMlhnems3dnByMnpxcXdFQUdyVVdaUE1rNnN4QUhiY043R3RTaldibkVZOEx0bzIwd2F6QU9CZ05WCkhROEJBZjhFQkFNQ0FhWXdIUVlEVlIwbEJCWXdGQVlJS3dZQkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWQKRXdFQi93UUZNQU1CQWY4d0tRWURWUjBPQkNJRUlBYk8rb0ZxWjF4Q250UE0wTHovZWtIcGpHaytXaTBKNys0MwpzVVBpQ0pEb01Bb0dDQ3FHU000OUJBTUNBMGNBTUVRQ0lEMUQ4SXoxSmNGdlhsMEZNZlZOTnRZMm5Ma2hsWmh3ClNmU0pDN0l4MUgxUUFpQmhKYktEc2QwWHlKUWJYUXVFNXpLNWZPQXBMbFdLN1NudGFteWFmOVJ1S3c9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
sberbank
[1;32mOK: Organization <sberbank> is in the channel <testchannel7889-02>.[m[m[m
Step 9_cli: exit code 0
NO_RED_OUTPUT=true ./cli/join-channel.sh testchannel7889 vtb ; ./verify/test-join-channel.sh testchannel7889 vtb
Step: 10_cli Test 'Join <vtb> to the <testchannel7889> chanel created by the <sberbank> org'
SKIPAPI: RUNTESTNOERRPRINT: join-channel.sh testchannel7889 vtb VERIFY: test-join-channel.sh testchannel7889 vtb
[1;36m
Joining  vtb to the testchannel7889 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel7889[m[m[m
CORE_PEER_ADDRESS=peer0.vtb.example.net:8051
CORE_PEER_LOCALMSPID=vtb
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/vtb.example.net/users/Admin@vtb.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/vtb.example.net/peers/peer0.vtb.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/vtb.example.net/peers/peer0.vtb.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/vtb.example.net/peers/peer0.vtb.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=30b34d056d53
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.net
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=vtb
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-02-26 13:03:11--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 13:03:11--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 13:03:11--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 13:03:11--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

Join vtb to channel testchannel7889
Execute: channel fetch 0 crypto-config/configtx/testchannel7889.pb -o orderer.example.net:7050 -c testchannel7889 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-26 13:03:11.501 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:03:11.504 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 13:03:11.654 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:03:11.843 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the vtb has joined the <testchannel7889> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-26 13:03:13.020 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The vtb has joined the <testchannel7889> channel[m[m[m
Step 10_cli: exit code 0
NO_RED_OUTPUT=true ./cli/join-channel.sh testchannel7889-02 sberbank ; ./verify/test-join-channel.sh testchannel7889-02 sberbank
Step: 11_cli Test 'Join <sberbank> to the <testchannel7889-02> chanel created by the <vtb> org'
SKIPAPI: RUNTESTNOERRPRINT: join-channel.sh testchannel7889-02 sberbank VERIFY: test-join-channel.sh testchannel7889-02 sberbank
[1;36m
Joining  sberbank to the testchannel7889-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel7889-02[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.net:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/users/Admin@sberbank.example.net/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.net/peers/peer0.sberbank.example.net/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.net
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=acfe0cb7d408
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.net
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-02-26 13:03:15--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 13:03:15--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 13:03:15--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem’ not modified on server. Omitting download.

--2020-02-26 13:03:15--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.3
Connecting to www.example.net (www.example.net)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crt’ not modified on server. Omitting download.

Join sberbank to channel testchannel7889-02
Execute: channel fetch 0 crypto-config/configtx/testchannel7889-02.pb -o orderer.example.net:7050 -c testchannel7889-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-26 13:03:15.382 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:03:15.385 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 13:03:15.493 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:03:15.671 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel7889-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 13:03:16.981 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel7889-02> channel[m[m[m
Step 11_cli: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel30050 sberbank ; ./verify/test-channel-exists.sh testchannel30050 sberbank
Step: 12_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel30050 sberbank VERIFY: test-channel-exists.sh testchannel30050 sberbank
[1;36mCreating testchannel30050 channel in sberbank.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyMjE5N30.AexjMTixlPWrXPtLs9IA7_SCiANRL-VUOhACRi9m2Zg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.net:7051","name":"peer0.sberbank.example.net:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.net:7051","grpc.default_authority":"peer0.sberbank.example.net:7051"}}}] 200
[1;32mOK: Channel <testchannel30050> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel30050> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 13:03:20.489 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:03:20.494 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 13:03:20.496 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-26 13:03:20.496 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel30050",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T13:03:18Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel30050> exists and visible to sberbank[m[m[m
Step 12_api: exit code 0
./verify/test-channel-does-not-exist.sh testchannel30050 vtb
Step: 13_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel30050 vtb
[1;34m
Verifing if the <testchannel30050> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-26 13:03:22.420 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:03:22.423 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel30050> does not exist and in not visible to vtb[m[m[m
Step 13_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh ^^^^^^testchannel30050 sberbank ; ./verify/test-channel-does-not-exist.sh ^^^^^^testchannel30050 sberbank
Step: 14_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel30050 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel30050 sberbank
[1;36mCreating ^^^^^^testchannel30050 channel in sberbank.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyMjIwNH0.6pNpRLj0vNUIEMrML6zKR7TP7H-HcE15rFLEQa_GP9U
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel30050\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel30050> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 13:03:27.413 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:03:27.415 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel30050> does not exist and in not visible to sberbank[m[m[m
Step 14_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh testchannel30050 vtb ; ./verify/test-channel-does-not-exist.sh testchannel30050 vtb
Step: 15_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel30050 vtb VERIFY: test-channel-does-not-exist.sh testchannel30050 vtb
[1;36mCreating testchannel30050 channel in vtb.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4001
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyMjIwN30.TpDiiWnZxk7EnY8ix2KX1_GvgSewB3TSZHXIYDdWoq8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel30050> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-26 13:03:29.785 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:03:29.786 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel30050> does not exist and in not visible to vtb[m[m[m
Step 15_api: exit code 0
NO_RED_OUTPUT=false ./api/create-channel.sh testchannel30050-02 vtb ; ./verify/test-channel-exists.sh testchannel30050-02 vtb
Step: 16_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel30050-02 vtb VERIFY: test-channel-exists.sh testchannel30050-02 vtb
[1;36mCreating testchannel30050-02 channel in vtb.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4001
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyMjIxMH0.fIYPotltvtit2ndln5XWF-_ANTZPhoEK4x-bgoQIGNE
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.net:8051","name":"peer0.vtb.example.net:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.net:8051","grpc.default_authority":"peer0.vtb.example.net:8051"}}}] 200
[1;32mOK: Channel <testchannel30050-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel30050-02> channel exists in vtb.example.net...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-26 13:03:34.654 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:03:34.656 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-26 13:03:34.657 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-26 13:03:34.657 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel30050-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-26T13:03:31Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel30050-02> exists and visible to vtb[m[m[m
Step 16_api: exit code 0
./verify/test-channel-does-not-exist.sh testchannel30050-02 sberbank
Step: 17_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel30050-02 sberbank
[1;34m
Verifing if the <testchannel30050-02> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 13:03:35.593 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:03:35.599 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel30050-02> does not exist and in not visible to sberbank[m[m[m
Step 17_api: exit code 0
NO_RED_OUTPUT=true ./api/create-channel.sh testchannel30050-02 sberbank ; ./verify/test-channel-does-not-exist.sh testchannel30050-02 sberbank
Step: 18_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel30050-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel30050-02 sberbank
[1;36mCreating testchannel30050-02 channel in sberbank.example.net using API...[m[m[m
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyMjIxNn0.4nWB5LJ_Bu3etVliTOE6F3_stYcQoX3IxlCPzZkJukc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel30050-02> channel exists in sberbank.example.net...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 13:03:37.901 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:03:37.902 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel30050-02> does not exist and in not visible to sberbank[m[m[m
Step 18_api: exit code 0
NO_RED_OUTPUT=true ./api/add-org-to-channel.sh testchannel30050 sberbank vtb ; ./verify/test-channel-add-org.sh testchannel30050 sberbank vtb
Step: 19_api Test 'Add <vtb> to channel <testchannel30050> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel30050 sberbank vtb VERIFY: test-channel-add-org.sh testchannel30050 sberbank vtb
[1;36mAdd vtb to the testchannel30050 channel using API...[m[m[m
[1;36mAdd vtb to the testchannel30050 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyMjIxOH0.Ai2Gl_PCxll0co5AHrkupiwyyi9BTdUV54rjeG_ru0s
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
200
[1;32mOK: Organization vtb added to testchannel30050 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel30050 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 13:03:41.406 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:03:41.417 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-26 13:03:41.419 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-26 13:03:41.419 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRQjZyU0k1UjZGR1JxRnhzYmk5S3dvekFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFkblJpTG1WNFlXMXdiR1V1Ym1WME1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVmWWFBT3Q4aEY0NHdOVXFNRFQ0S3BZTTJnMFFWWXgyRlBpZGIKNVVvbnhtVkMwamlnSFZVNHlZdEgvSTk5SkFSOHpnckNMdVNoUXBQT012a2RVdEpQNTZOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWd5NysyZm9zN2tYcm1ISkRDCno0M2V2MVFCTzBQdWE3ajZNMTZZTkxLaDI5WXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBcmRtV3FqMHVOL2YKTEYxcXd2Z1dBWXUvWFA0aHh2eXVreWkxMzhFQldSMENJQmdnN1N5bmJkVFR6ak9obkFlZHRvRm5LU1hKbW5VcwpYNlV1cFhKRENyU0sKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUVENDQWZPZ0F3SUJBZ0lRZEFUUHBibHlsaWFSVzhXS0l2cDJjVEFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBkblJpTG1WNFlXMXdiR1V1Ym1WME1Sc3dHUVlEVlFRREV4SmpZUzUyCmRHSXVaWGhoYlhCc1pTNXVaWFF3SGhjTk1qQXdNakl4TVRjd01EQXdXaGNOTXpBd01qRTRNVGN3TURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QZG5SaUxtVjRZVzF3YkdVdWJtVjBNUnN3R1FZRFZRUURFeEpqCllTNTJkR0l1WlhoaGJYQnNaUzV1WlhRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSSzd1MEMKTjcxWkEybUkrNk1ZWTB6WjdjdmhvSnI2U0s4RVF6YXBhRjE5aGQ4MnphR3ZvTDhoN2ZnZWt6YkY5bXN6cnBwTgpmM2UvZFJXYTEzeHpJRysvbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSU11L3RuNkwKTzVGNjVoeVF3cytOM3I5VUFUdEQ3bXU0K2pOZW1EU3lvZHZXTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDTQowbGJLRHdSQzR6VWdLN2pEUWlHRlFERUZIbWsvODQyeitOaThBcStOVGdJZ1JwSTFJaE9LZU1YcDRaMEJIZ05DCkZQSEt3UkwvMkxSMlhQWkY2Ty9DUXZzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVekNDQWZxZ0F3SUJBZ0lSQVArYWpsdWtYUWY2djgveXFCaTZtVmN3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REM1owWWk1bGVHRnRjR3hsTG01bGRERWVNQndHQTFVRUF4TVZkR3h6ClkyRXVkblJpTG1WNFlXMXdiR1V1Ym1WME1CNFhEVEl3TURJeU1URTNNREF3TUZvWERUTXdNREl4T0RFM01EQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQzWjBZaTVsZUdGdGNHeGxMbTVsZERFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWRuUmlMbVY0WVcxd2JHVXVibVYwTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRVNHUFdJRjNkS3lTTHI4cGc0Zk5vcnFxUGpYUVhma0QyVkpxRFlHWmRCaVRpdGYyVGd4cWtiQ0JacSt2Mgp5N2pKcHo4WStOMVVzT2w3c0RtcC9rbDFpcU50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNEWTJFajM4MHdWUGFXdHlYRk9GaTJiQTZKZnFKeXY5RW0yNFBFM281VGh2VEFLQmdncWhrak9QUVFEQWdOSApBREJFQWlBS1VkbHB1WElKTGpraFhmRzh5NGFzNG5kLzhlQmF6UWRPU3JiamJrYWlPUUlnQ2h2WVhWVC9NeHMzCitrNVhodkRzaEVtN3lPRkpEMkZpQ2RnMFgvYStJa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel30050>.[m[m[m
Step 19_api: exit code 0
NO_RED_OUTPUT=true ./api/add-org-to-channel.sh testchannel30050-02 vtb sberbank ; ./verify/test-channel-add-org.sh testchannel30050-02 vtb sberbank
Step: 20_api Test 'Add <sberbank> to channel <testchannel30050-02> created by the <vtb> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel30050-02 vtb sberbank VERIFY: test-channel-add-org.sh testchannel30050-02 vtb sberbank
[1;36mAdd sberbank to the testchannel30050-02 channel using API...[m[m[m
[1;36mAdd sberbank to the testchannel30050-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MjcyMjIyNH0.LXRvQ5zGTxl635bEsatR8rXs--_LM1bsg88rlu63xi0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
200
[1;32mOK: Organization sberbank added to testchannel30050-02 channel[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel30050-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-26 13:03:47.078 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-26 13:03:47.082 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-26 13:03:47.083 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-26 13:03:47.083 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNKakNDQWN5Z0F3SUJBZ0lSQUlBZ3gxd3VidmxsSlJNdDFmNzNINjh3Q2dZSUtvWkl6ajBFQXdJd2V6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIVEFiQmdOVkJBb1RGSE5pWlhKaVlXNXJMbVY0WVcxd2JHVXVibVYwTVNBd0hnWURWUVFECkV4ZGpZUzV6WW1WeVltRnVheTVsZUdGdGNHeGxMbTVsZERBZUZ3MHlNREF5TWpFeE5qVTVNREJhRncwek1EQXkKTVRneE5qVTVNREJhTUY4eEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZdwpGQVlEVlFRSEV3MVRZVzRnUm5KaGJtTnBjMk52TVNNd0lRWURWUVFEREJwQlpHMXBia0J6WW1WeVltRnVheTVsCmVHRnRjR3hsTG01bGREQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDlBd0VIQTBJQUJOMGlmbE45Qkt4eWpldnIKSmZvSG9heVBmb1QrZU5lLzVpMm9GWEFlbzJMVVVPNGlobmpoUzc0VS91a00wdzVOQkxIaWpjUzVMTlBaWHdzbQowZ0lTR1ptalRUQkxNQTRHQTFVZER3RUIvd1FFQXdJSGdEQU1CZ05WSFJNQkFmOEVBakFBTUNzR0ExVWRJd1FrCk1DS0FJQ2xQaHl5YnRTUmhtUFovajB5bkNvd2xMaDRMeThjQzI2UDVYcytEcFhGak1Bb0dDQ3FHU000OUJBTUMKQTBnQU1FVUNJUURqK1B3MExCcEo1aCtnNGg2TXVIZndyanNXL0p1dElzVVU2aUdiNG8zYWtRSWdSSUxFa1Z3SApsVWdVdXprcGZPTlJmbnF6KzNZc1p4M3RwYWg0SGIvNWtWaz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "sberbank",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNZRENDQWdlZ0F3SUJBZ0lRV0hKSm50dVdaYzN4MHZZRm96aEtTVEFLQmdncWhrak9QUVFEQWpCN01Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RWRNQnNHQTFVRUNoTVVjMkpsY21KaGJtc3VaWGhoYlhCc1pTNXVaWFF4SURBZUJnTlZCQU1UCkYyTmhMbk5pWlhKaVlXNXJMbVY0WVcxd2JHVXVibVYwTUI0WERUSXdNREl5TVRFMk5Ua3dNRm9YRFRNd01ESXgKT0RFMk5Ua3dNRm93ZXpFTE1Ba0dBMVVFQmhNQ1ZWTXhFekFSQmdOVkJBZ1RDa05oYkdsbWIzSnVhV0V4RmpBVQpCZ05WQkFjVERWTmhiaUJHY21GdVkybHpZMjh4SFRBYkJnTlZCQW9URkhOaVpYSmlZVzVyTG1WNFlXMXdiR1V1CmJtVjBNU0F3SGdZRFZRUURFeGRqWVM1elltVnlZbUZ1YXk1bGVHRnRjR3hsTG01bGREQlpNQk1HQnlxR1NNNDkKQWdFR0NDcUdTTTQ5QXdFSEEwSUFCSXVMc1VSWEtwZWhoRUtEYndpaHU1ZHgxRjIrelR1cUMwOHhrdnBTUFZGTApCUjhYUGlRY0RpelFGQTJYdTJQQnFuYWxTbEQ1cCtlTERwYVpzbnBWN0tTamJUQnJNQTRHQTFVZER3RUIvd1FFCkF3SUJwakFkQmdOVkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXcKQXdFQi96QXBCZ05WSFE0RUlnUWdLVStITEp1MUpHR1k5bitQVEtjS2pDVXVIZ3ZMeHdMYm8vbGV6NE9sY1dNdwpDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdIYlJ2WkVkMWMxRWphbXNjZzJ3K0hlY0VmQzNtNnh0UUdpU2Nwd3NDCjM4d0NJQ2JyQ0FMemo5Tm9NSUhETFRvLzJDRWtTMXdtUEpsNWZlZ0Z5bW1hUFd2bgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNaekNDQWc2Z0F3SUJBZ0lSQU1NTHRySVQ2ZU9jTDZSN1JtTlZJUmN3Q2dZSUtvWkl6ajBFQXdJd2ZqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIVEFiQmdOVkJBb1RGSE5pWlhKaVlXNXJMbVY0WVcxd2JHVXVibVYwTVNNd0lRWURWUVFECkV4cDBiSE5qWVM1elltVnlZbUZ1YXk1bGVHRnRjR3hsTG01bGREQWVGdzB5TURBeU1qRXhOalU1TURCYUZ3MHoKTURBeU1UZ3hOalU1TURCYU1INHhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saApNUll3RkFZRFZRUUhFdzFUWVc0Z1JuSmhibU5wYzJOdk1SMHdHd1lEVlFRS0V4UnpZbVZ5WW1GdWF5NWxlR0Z0CmNHeGxMbTVsZERFak1DRUdBMVVFQXhNYWRHeHpZMkV1YzJKbGNtSmhibXN1WlhoaGJYQnNaUzV1WlhRd1dUQVQKQmdjcWhrak9QUUlCQmdncWhrak9QUU1CQndOQ0FBUnh2am5kaVVEc3YzR2FsS1dYTm9Mbkc4WEtSRm9tY3k3RwpMVmFVMmZDMlhnems3dnByMnpxcXdFQUdyVVdaUE1rNnN4QUhiY043R3RTaldibkVZOEx0bzIwd2F6QU9CZ05WCkhROEJBZjhFQkFNQ0FhWXdIUVlEVlIwbEJCWXdGQVlJS3dZQkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWQKRXdFQi93UUZNQU1CQWY4d0tRWURWUjBPQkNJRUlBYk8rb0ZxWjF4Q250UE0wTHovZWtIcGpHaytXaTBKNys0MwpzVVBpQ0pEb01Bb0dDQ3FHU000OUJBTUNBMGNBTUVRQ0lEMUQ4SXoxSmNGdlhsMEZNZlZOTnRZMm5Ma2hsWmh3ClNmU0pDN0l4MUgxUUFpQmhKYktEc2QwWHlKUWJYUXVFNXpLNWZPQXBMbFdLN1NudGFteWFmOVJ1S3c9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
sberbank
[1;32mOK: Organization <sberbank> is in the channel <testchannel30050-02>.[m[m[m
Step 20_api: exit code 0
./verify/test-join-channel.sh testchannel30050 vtb
Step: 21_api Test 'Join <vtb> to the <testchannel30050> chanel created by the <sberbank> org'
SKIPCLI: VERIFY: test-join-channel.sh testchannel30050 vtb
[1;34m
Verifing if the vtb has joined the <testchannel30050> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-02-26 13:03:47.748 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 21_api: exit code 1
./verify/test-join-channel.sh testchannel30050-02 sberbank
Step: 22_api Test 'Join <sberbank> to the <testchannel30050-02> chanel created by the <vtb> org'
SKIPCLI: VERIFY: test-join-channel.sh testchannel30050-02 sberbank
[1;34m
Verifing if the sberbank has joined the <testchannel30050-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-02-26 13:03:48.311 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 22_api: exit code 1
