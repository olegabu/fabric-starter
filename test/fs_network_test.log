Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel26401 sberbank VERIFY: test-channel-exists.sh testchannel26401 sberbank
[1;36m
Creating the <testchannel26401> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel26401[m[m[m
example.net

Create channel sberbank testchannel26401
--2020-02-13 14:47:01--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:47:01--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:47:01--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:47:01--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:47:01.426 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:47:01.532 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:47:01.532 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:47:01.532 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:47:01.532 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:47:01.532 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:47:01.532 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:47:01.532 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:47:01.532 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:47:01.635 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:47:01.635 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:47:01.635 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:47:01.635 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:47:01.635 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:47:01.635 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:47:01.636 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:47:01.636 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:47:01.637 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-13 14:47:01.637 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:47:01.637 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:47:01.637 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:47:01.638 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-13 14:47:01.638 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:47:01.758 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:47:01.818 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel26401.pb -o orderer.example.net:7050 -c testchannel26401 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:47:01.960 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:47:01.977 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-13 14:47:01.979 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-13 14:47:01.979 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel26401
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel26401 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:47:02.633 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:47:02.649 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel26401> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel26401> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-13 14:47:04.934 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:47:04.937 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-13 14:47:04.938 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-13 14:47:04.938 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel26401",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-13T14:47:02Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel26401> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel26401 vtb
[1;34m
Verifing if the <testchannel26401> channel exists in vtb.example.net...[m[m[m
[34m2020-02-13 14:47:05.546 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:47:05.548 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel26401> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel26401 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel26401> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel26401[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel26401
--2020-02-13 14:47:07--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:47:07--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:47:07--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:47:07--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:47:07.947 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:47:08.009 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:47:08.010 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:47:08.010 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:47:08.010 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:47:08.010 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:47:08.010 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:47:08.010 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:47:08.010 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:47:08.070 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:47:08.070 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:47:08.070 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:47:08.070 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:47:08.070 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:47:08.070 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:47:08.070 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:47:08.071 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:47:08.071 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-13 14:47:08.071 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:47:08.071 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:47:08.071 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:47:08.072 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-13 14:47:08.072 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:47:08.137 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel26401' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel26401.pb -o orderer.example.net:7050 -c ^^^^^^testchannel26401 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:47:08.220 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:47:08.222 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel26401.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel26401.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel26401
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel26401 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:47:08.419 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel26401' != '^^^^^^testchannel26401'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel26401 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel26401 vtb
[1;36m
Creating the <testchannel26401> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel26401[m[m[m
example.net

Create channel vtb testchannel26401
--2020-02-13 14:47:12--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:47:12--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:47:12--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:47:12--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:47:12.111 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:47:12.187 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:47:12.187 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:47:12.187 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:47:12.187 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:47:12.187 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:47:12.187 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:47:12.187 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:47:12.187 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:47:12.259 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:47:12.259 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:47:12.259 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:47:12.259 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:47:12.259 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:47:12.259 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:47:12.259 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:47:12.260 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:47:12.261 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-13 14:47:12.261 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:47:12.261 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:47:12.262 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:47:12.262 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-13 14:47:12.262 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:47:12.335 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel26401.pb -o orderer.example.net:7050 -c testchannel26401 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:47:12.429 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:47:12.431 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel26401.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel26401.json: No such file or directory
>> Prepare config update from vtb for channel testchannel26401
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel26401 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:47:12.667 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel26401> channel exists in vtb.example.net...[m[m[m
[34m2020-02-13 14:47:13.963 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:47:13.965 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel26401> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel264010 vtb VERIFY: test-channel-exists.sh testchannel264010 vtb
[1;36m
Creating the <testchannel264010> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel264010[m[m[m
example.net

Create channel vtb testchannel264010
--2020-02-13 14:47:16--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:47:16--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:47:16--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:47:16--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:47:16.519 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:47:16.574 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:47:16.574 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:47:16.574 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:47:16.574 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:47:16.575 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:47:16.575 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:47:16.575 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:47:16.575 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:47:16.629 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:47:16.629 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:47:16.629 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:47:16.629 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:47:16.629 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:47:16.629 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:47:16.629 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:47:16.630 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:47:16.630 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-13 14:47:16.630 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:47:16.630 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:47:16.630 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:47:16.631 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-13 14:47:16.631 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:47:16.711 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:47:16.746 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel264010.pb -o orderer.example.net:7050 -c testchannel264010 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:47:16.829 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:47:16.831 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-13 14:47:16.833 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-13 14:47:16.833 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel264010
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel264010 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:47:17.199 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:47:17.219 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel264010> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel264010> channel exists in vtb.example.net...[m[m[m
[34m2020-02-13 14:47:19.454 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:47:19.456 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-13 14:47:19.457 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-13 14:47:19.457 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel264010",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-13T14:47:17Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel264010> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel264010 sberbank
[1;34m
Verifing if the <testchannel264010> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-13 14:47:20.785 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:47:20.788 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel264010> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel264010 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel264010 sberbank
[1;36m
Creating the <testchannel264010> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel264010[m[m[m
example.net

Create channel sberbank testchannel264010
--2020-02-13 14:47:24--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:47:24--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:47:24--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:47:24--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:47:24.262 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:47:24.334 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:47:24.334 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:47:24.334 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:47:24.334 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:47:24.334 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:47:24.334 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:47:24.334 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:47:24.334 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:47:24.408 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:47:24.408 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:47:24.408 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:47:24.408 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:47:24.408 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:47:24.408 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:47:24.409 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:47:24.409 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:47:24.410 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-13 14:47:24.410 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:47:24.410 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:47:24.410 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:47:24.411 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-13 14:47:24.411 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:47:24.473 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel264010.pb -o orderer.example.net:7050 -c testchannel264010 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:47:24.548 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:47:24.550 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel264010.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel264010.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel264010
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel264010 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:47:24.765 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel264010> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-13 14:47:25.913 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:47:25.914 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel264010> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel11058 sberbank VERIFY: test-channel-exists.sh testchannel11058 sberbank
[1;36m
Creating the <testchannel11058> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel11058[m[m[m
example.net

Create channel sberbank testchannel11058
--2020-02-13 14:50:19--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:50:19--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:50:19--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:50:19--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:50:19.210 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:50:19.268 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:50:19.268 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:50:19.268 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:50:19.268 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:50:19.268 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:50:19.268 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:50:19.268 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:50:19.268 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:50:19.323 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:50:19.323 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:50:19.323 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:50:19.323 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:50:19.323 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:50:19.323 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:50:19.323 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:50:19.323 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:50:19.324 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-13 14:50:19.324 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:50:19.324 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:50:19.324 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:50:19.325 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-13 14:50:19.325 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:50:19.385 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:50:19.422 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel11058.pb -o orderer.example.net:7050 -c testchannel11058 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:50:19.514 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:50:19.516 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-13 14:50:19.517 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-13 14:50:19.517 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel11058
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel11058 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:50:20.104 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:50:20.130 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel11058> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel11058> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-13 14:50:22.610 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:50:22.612 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-13 14:50:22.615 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-13 14:50:22.615 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel11058",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-13T14:50:20Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel11058> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel11058 vtb
[1;34m
Verifing if the <testchannel11058> channel exists in vtb.example.net...[m[m[m
[34m2020-02-13 14:50:23.423 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:50:23.425 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel11058> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel11058 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel11058> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel11058[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel11058
--2020-02-13 14:50:25--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:50:25--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:50:25--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:50:25--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:50:26.012 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:50:26.072 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:50:26.072 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:50:26.072 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:50:26.072 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:50:26.072 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:50:26.072 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:50:26.072 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:50:26.072 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:50:26.128 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:50:26.128 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:50:26.128 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:50:26.128 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:50:26.128 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:50:26.128 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:50:26.128 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:50:26.128 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:50:26.129 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-13 14:50:26.129 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:50:26.129 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:50:26.129 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:50:26.129 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-13 14:50:26.130 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:50:26.195 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel11058' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel11058.pb -o orderer.example.net:7050 -c ^^^^^^testchannel11058 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:50:26.277 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:50:26.278 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel11058.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel11058.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel11058
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel11058 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:50:26.470 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel11058' != '^^^^^^testchannel11058'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel11058 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel11058 vtb
[1;36m
Creating the <testchannel11058> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel11058[m[m[m
example.net

Create channel vtb testchannel11058
--2020-02-13 14:50:29--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:50:29--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:50:29--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:50:29--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:50:29.418 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:50:29.494 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:50:29.494 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:50:29.494 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:50:29.494 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:50:29.494 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:50:29.494 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:50:29.494 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:50:29.494 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:50:29.558 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:50:29.558 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:50:29.558 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:50:29.558 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:50:29.558 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:50:29.558 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:50:29.558 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:50:29.559 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:50:29.560 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-13 14:50:29.560 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:50:29.560 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:50:29.561 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:50:29.561 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-13 14:50:29.562 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:50:29.663 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel11058.pb -o orderer.example.net:7050 -c testchannel11058 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:50:29.815 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:50:29.819 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel11058.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel11058.json: No such file or directory
>> Prepare config update from vtb for channel testchannel11058
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel11058 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:50:30.217 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel11058> channel exists in vtb.example.net...[m[m[m
[34m2020-02-13 14:50:32.197 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:50:32.201 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel11058> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel110580 vtb VERIFY: test-channel-exists.sh testchannel110580 vtb
[1;36m
Creating the <testchannel110580> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel110580[m[m[m
example.net

Create channel vtb testchannel110580
--2020-02-13 14:50:34--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:50:34--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:50:34--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:50:34--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:50:34.932 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:50:34.994 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:50:34.994 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:50:34.994 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:50:34.994 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:50:34.994 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:50:34.994 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:50:34.994 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:50:34.994 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:50:35.054 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:50:35.054 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:50:35.054 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:50:35.054 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:50:35.054 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:50:35.054 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:50:35.054 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:50:35.055 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:50:35.055 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-13 14:50:35.055 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:50:35.055 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:50:35.056 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:50:35.056 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-13 14:50:35.056 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:50:35.118 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:50:35.157 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel110580.pb -o orderer.example.net:7050 -c testchannel110580 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:50:35.229 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:50:35.233 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-13 14:50:35.234 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-13 14:50:35.234 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel110580
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel110580 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:50:35.602 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:50:35.612 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel110580> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel110580> channel exists in vtb.example.net...[m[m[m
[34m2020-02-13 14:50:37.821 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:50:37.823 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-13 14:50:37.825 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-13 14:50:37.825 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel110580",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-13T14:50:35Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel110580> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel110580 sberbank
[1;34m
Verifing if the <testchannel110580> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-13 14:50:38.467 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:50:38.468 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel110580> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel110580 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel110580 sberbank
[1;36m
Creating the <testchannel110580> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel110580[m[m[m
example.net

Create channel sberbank testchannel110580
--2020-02-13 14:50:41--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:50:41--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:50:41--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:50:41--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:50:41.331 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:50:41.431 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:50:41.431 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:50:41.431 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:50:41.431 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:50:41.432 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:50:41.432 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:50:41.432 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:50:41.432 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:50:41.520 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:50:41.520 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:50:41.520 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:50:41.520 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:50:41.520 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:50:41.520 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:50:41.520 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:50:41.521 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:50:41.522 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-13 14:50:41.522 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:50:41.522 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:50:41.522 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:50:41.526 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-13 14:50:41.527 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:50:41.722 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel110580.pb -o orderer.example.net:7050 -c testchannel110580 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:50:41.883 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:50:41.886 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel110580.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel110580.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel110580
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel110580 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:50:42.197 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel110580> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-13 14:50:43.663 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:50:43.665 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel110580> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel9891 sberbank VERIFY: test-channel-exists.sh testchannel9891 sberbank
[1;36m
Creating the <testchannel9891> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel9891[m[m[m
example.net

Create channel sberbank testchannel9891
--2020-02-13 14:51:46--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:51:46--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:51:46--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:51:46--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:51:47.043 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:51:47.102 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:51:47.103 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:51:47.103 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:51:47.103 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:51:47.103 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:51:47.103 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:51:47.103 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:51:47.103 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:51:47.160 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:51:47.160 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:51:47.160 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:51:47.160 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:51:47.160 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:51:47.160 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:51:47.160 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:51:47.160 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:51:47.161 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-13 14:51:47.161 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:51:47.161 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:51:47.161 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:51:47.161 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-13 14:51:47.162 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:51:47.224 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:51:47.257 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel9891.pb -o orderer.example.net:7050 -c testchannel9891 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:51:47.330 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:51:47.334 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-13 14:51:47.335 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-13 14:51:47.335 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel9891
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel9891 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:51:47.675 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:51:47.687 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel9891> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel9891> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-13 14:51:50.112 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:51:50.127 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-13 14:51:50.132 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-13 14:51:50.132 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel9891",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-13T14:51:47Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel9891> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel9891 vtb
[1;34m
Verifing if the <testchannel9891> channel exists in vtb.example.net...[m[m[m
[34m2020-02-13 14:51:51.268 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:51:51.270 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel9891> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel9891 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel9891> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel9891[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel9891
--2020-02-13 14:51:54--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:51:54--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:51:54--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:51:54--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:51:54.298 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:51:54.388 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:51:54.388 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:51:54.388 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:51:54.388 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:51:54.388 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:51:54.388 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:51:54.388 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:51:54.388 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:51:54.443 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:51:54.444 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:51:54.444 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:51:54.444 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:51:54.444 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:51:54.444 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:51:54.444 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:51:54.444 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:51:54.444 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-13 14:51:54.445 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:51:54.445 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:51:54.445 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:51:54.445 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-13 14:51:54.445 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:51:54.505 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel9891' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel9891.pb -o orderer.example.net:7050 -c ^^^^^^testchannel9891 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:51:54.591 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:51:54.593 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel9891.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel9891.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel9891
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel9891 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:51:54.801 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel9891' != '^^^^^^testchannel9891'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel9891 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel9891 vtb
[1;36m
Creating the <testchannel9891> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel9891[m[m[m
example.net

Create channel vtb testchannel9891
--2020-02-13 14:51:57--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:51:57--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:51:57--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:51:57--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:51:57.805 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:51:57.863 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:51:57.863 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:51:57.863 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:51:57.863 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:51:57.863 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:51:57.863 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:51:57.863 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:51:57.863 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:51:57.920 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:51:57.920 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:51:57.920 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:51:57.920 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:51:57.920 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:51:57.920 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:51:57.920 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:51:57.921 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:51:57.921 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-13 14:51:57.921 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:51:57.921 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:51:57.922 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:51:57.922 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-13 14:51:57.922 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:51:57.990 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel9891.pb -o orderer.example.net:7050 -c testchannel9891 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:51:58.074 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:51:58.076 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel9891.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel9891.json: No such file or directory
>> Prepare config update from vtb for channel testchannel9891
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel9891 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:51:58.302 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel9891> channel exists in vtb.example.net...[m[m[m
[34m2020-02-13 14:51:59.385 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:51:59.387 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel9891> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel98910 vtb VERIFY: test-channel-exists.sh testchannel98910 vtb
[1;36m
Creating the <testchannel98910> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel98910[m[m[m
example.net

Create channel vtb testchannel98910
--2020-02-13 14:52:02--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:52:02--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:52:02--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:52:02--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:52:02.607 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:52:02.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:52:02.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:52:02.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:52:02.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:52:02.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:52:02.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:52:02.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:52:02.685 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:52:02.760 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:52:02.760 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:52:02.760 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:52:02.760 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:52:02.760 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:52:02.760 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:52:02.760 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:52:02.761 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:52:02.761 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-13 14:52:02.761 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:52:02.762 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:52:02.762 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:52:02.762 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-13 14:52:02.763 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:52:02.833 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:52:02.874 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel98910.pb -o orderer.example.net:7050 -c testchannel98910 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:52:02.971 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:52:02.974 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-13 14:52:02.976 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-13 14:52:02.976 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel98910
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel98910 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:52:03.493 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:52:03.506 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel98910> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel98910> channel exists in vtb.example.net...[m[m[m
[34m2020-02-13 14:52:05.797 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:52:05.801 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-13 14:52:05.802 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-13 14:52:05.802 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel98910",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-13T14:52:03Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel98910> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel98910 sberbank
[1;34m
Verifing if the <testchannel98910> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-13 14:52:06.404 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:52:06.405 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel98910> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel98910 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel98910 sberbank
[1;36m
Creating the <testchannel98910> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel98910[m[m[m
example.net

Create channel sberbank testchannel98910
--2020-02-13 14:52:08--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:52:08--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:52:08--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:52:08--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:52:08.850 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:52:08.906 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:52:08.906 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:52:08.906 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:52:08.906 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:52:08.906 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:52:08.906 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:52:08.906 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:52:08.906 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:52:08.962 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:52:08.962 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:52:08.962 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:52:08.962 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:52:08.962 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:52:08.962 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:52:08.962 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:52:08.962 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:52:08.963 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-13 14:52:08.963 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:52:08.963 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:52:08.963 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:52:08.963 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-13 14:52:08.964 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:52:09.025 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel98910.pb -o orderer.example.net:7050 -c testchannel98910 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:52:09.112 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:52:09.115 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel98910.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel98910.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel98910
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel98910 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:52:09.308 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel98910> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-13 14:52:10.865 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:52:10.867 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel98910> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel26468 sberbank VERIFY: test-channel-exists.sh testchannel26468 sberbank
[1;36m
Creating the <testchannel26468> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel26468[m[m[m
example.net

Create channel sberbank testchannel26468
--2020-02-13 14:53:30--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:53:30--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:53:30--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:53:30--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:53:30.591 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:53:30.741 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:53:30.741 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:53:30.741 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:53:30.741 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:53:30.741 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:53:30.741 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:53:30.741 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:53:30.741 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:53:30.844 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:53:30.844 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:53:30.844 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:53:30.844 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:53:30.844 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:53:30.845 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:53:30.845 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:53:30.846 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:53:30.847 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-13 14:53:30.847 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:53:30.847 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:53:30.848 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:53:30.849 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-13 14:53:30.849 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:53:30.989 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:53:31.043 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel26468.pb -o orderer.example.net:7050 -c testchannel26468 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:53:31.288 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:53:31.299 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-13 14:53:31.301 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-13 14:53:31.301 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel26468
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel26468 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:53:32.142 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:53:32.170 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel26468> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel26468> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-13 14:53:34.411 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:53:34.414 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-13 14:53:34.415 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-13 14:53:34.415 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel26468",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-13T14:53:32Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel26468> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel26468 vtb
[1;34m
Verifing if the <testchannel26468> channel exists in vtb.example.net...[m[m[m
[34m2020-02-13 14:53:35.023 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:53:35.025 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel26468> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel26468 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel26468> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel26468[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel26468
--2020-02-13 14:53:37--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:53:37--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:53:37--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:53:37--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:53:37.502 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:53:37.565 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:53:37.565 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:53:37.565 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:53:37.566 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:53:37.566 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:53:37.566 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:53:37.566 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:53:37.566 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:53:37.628 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:53:37.628 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:53:37.628 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:53:37.628 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:53:37.628 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:53:37.628 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:53:37.628 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:53:37.629 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:53:37.629 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-13 14:53:37.629 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:53:37.629 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:53:37.630 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:53:37.630 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-13 14:53:37.630 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:53:37.698 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel26468' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel26468.pb -o orderer.example.net:7050 -c ^^^^^^testchannel26468 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:53:37.785 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:53:37.786 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel26468.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel26468.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel26468
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel26468 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:53:38.017 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel26468' != '^^^^^^testchannel26468'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel26468 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel26468 vtb
[1;36m
Creating the <testchannel26468> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel26468[m[m[m
example.net

Create channel vtb testchannel26468
--2020-02-13 14:53:41--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:53:41--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:53:41--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:53:41--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:53:41.466 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:53:41.585 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:53:41.585 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:53:41.589 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:53:41.589 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:53:41.589 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:53:41.590 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:53:41.590 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:53:41.590 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:53:41.713 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:53:41.713 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:53:41.714 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:53:41.714 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:53:41.714 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:53:41.714 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:53:41.714 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:53:41.714 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:53:41.715 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-13 14:53:41.715 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:53:41.715 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:53:41.715 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:53:41.716 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-13 14:53:41.716 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:53:41.867 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel26468.pb -o orderer.example.net:7050 -c testchannel26468 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:53:41.958 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:53:41.966 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel26468.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel26468.json: No such file or directory
>> Prepare config update from vtb for channel testchannel26468
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel26468 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:53:42.242 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel26468> channel exists in vtb.example.net...[m[m[m
[34m2020-02-13 14:53:43.715 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:53:43.717 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel26468> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel264680 vtb VERIFY: test-channel-exists.sh testchannel264680 vtb
[1;36m
Creating the <testchannel264680> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel264680[m[m[m
example.net

Create channel vtb testchannel264680
--2020-02-13 14:53:46--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:53:46--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:53:46--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:53:46--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:53:46.126 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:53:46.184 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:53:46.184 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:53:46.184 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:53:46.184 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:53:46.184 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:53:46.184 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:53:46.184 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:53:46.184 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:53:46.239 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:53:46.239 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:53:46.239 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:53:46.239 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:53:46.239 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:53:46.239 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:53:46.239 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:53:46.240 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:53:46.241 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-13 14:53:46.242 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:53:46.242 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:53:46.242 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:53:46.243 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-13 14:53:46.244 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:53:46.304 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:53:46.338 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel264680.pb -o orderer.example.net:7050 -c testchannel264680 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:53:46.411 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:53:46.414 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-13 14:53:46.415 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-13 14:53:46.415 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel264680
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel264680 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:53:46.756 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:53:46.765 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel264680> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel264680> channel exists in vtb.example.net...[m[m[m
[34m2020-02-13 14:53:49.032 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:53:49.034 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-13 14:53:49.035 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-13 14:53:49.035 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel264680",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-13T14:53:46Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel264680> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel264680 sberbank
[1;34m
Verifing if the <testchannel264680> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-13 14:53:49.702 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:53:49.704 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel264680> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel264680 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel264680 sberbank
[1;36m
Creating the <testchannel264680> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel264680[m[m[m
example.net

Create channel sberbank testchannel264680
--2020-02-13 14:53:53--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:53:53--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:53:53--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:53:53--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:53:53.228 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:53:53.298 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:53:53.298 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:53:53.298 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:53:53.298 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:53:53.298 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:53:53.298 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:53:53.298 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:53:53.298 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:53:53.377 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:53:53.377 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:53:53.377 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:53:53.377 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:53:53.377 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:53:53.377 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:53:53.377 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:53:53.377 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:53:53.378 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-13 14:53:53.378 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:53:53.378 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:53:53.378 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:53:53.379 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-13 14:53:53.379 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:53:53.456 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel264680.pb -o orderer.example.net:7050 -c testchannel264680 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:53:53.552 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:53:53.554 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel264680.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel264680.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel264680
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel264680 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:53:53.785 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel264680> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-13 14:53:55.018 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:53:55.020 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel264680> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel30062 sberbank VERIFY: test-channel-exists.sh testchannel30062 sberbank
[1;36m
Creating the <testchannel30062> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel30062[m[m[m
example.net

Create channel sberbank testchannel30062
--2020-02-13 14:55:05--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:55:05--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:55:05--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:55:05--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:55:05.888 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:55:05.946 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:55:05.947 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:55:05.947 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:55:05.947 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:55:05.947 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:55:05.947 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:55:05.947 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:55:05.947 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:55:06.004 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:55:06.004 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:55:06.004 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:55:06.004 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:55:06.004 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:55:06.004 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:55:06.004 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:55:06.005 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:55:06.005 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-13 14:55:06.005 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:55:06.005 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:55:06.005 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:55:06.006 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-13 14:55:06.006 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:55:06.071 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:55:06.110 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel30062.pb -o orderer.example.net:7050 -c testchannel30062 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:55:06.195 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:55:06.198 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-13 14:55:06.206 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-13 14:55:06.206 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel30062
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel30062 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:55:06.528 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:55:06.539 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel30062> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel30062> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-13 14:55:08.696 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:55:08.699 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-13 14:55:08.700 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-13 14:55:08.700 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel30062",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-13T14:55:06Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel30062> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel30062 vtb
[1;34m
Verifing if the <testchannel30062> channel exists in vtb.example.net...[m[m[m
[34m2020-02-13 14:55:09.371 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:55:09.381 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel30062> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel30062 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel30062> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel30062[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel30062
--2020-02-13 14:55:12--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:55:12--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:55:12--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:55:12--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:55:12.772 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:55:12.860 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:55:12.860 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:55:12.860 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:55:12.861 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:55:12.861 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:55:12.861 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:55:12.861 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:55:12.861 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:55:12.934 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:55:12.934 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:55:12.934 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:55:12.934 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:55:12.934 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:55:12.934 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:55:12.934 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:55:12.934 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:55:12.935 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-13 14:55:12.935 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:55:12.935 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:55:12.935 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:55:12.936 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-13 14:55:12.936 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:55:13.008 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel30062' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel30062.pb -o orderer.example.net:7050 -c ^^^^^^testchannel30062 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:55:13.150 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:55:13.153 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel30062.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel30062.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel30062
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel30062 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:55:13.471 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel30062' != '^^^^^^testchannel30062'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel30062 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel30062 vtb
[1;36m
Creating the <testchannel30062> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel30062[m[m[m
example.net

Create channel vtb testchannel30062
--2020-02-13 14:55:16--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:55:16--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:55:16--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:55:16--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:55:16.568 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:55:16.634 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:55:16.634 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:55:16.634 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:55:16.634 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:55:16.634 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:55:16.634 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:55:16.634 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:55:16.634 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:55:16.690 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:55:16.690 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:55:16.690 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:55:16.690 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:55:16.690 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:55:16.690 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:55:16.690 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:55:16.690 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:55:16.691 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-13 14:55:16.691 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:55:16.691 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:55:16.691 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:55:16.691 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-13 14:55:16.692 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:55:16.757 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel30062.pb -o orderer.example.net:7050 -c testchannel30062 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:55:16.838 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:55:16.840 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel30062.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel30062.json: No such file or directory
>> Prepare config update from vtb for channel testchannel30062
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel30062 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:55:17.033 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel30062> channel exists in vtb.example.net...[m[m[m
[34m2020-02-13 14:55:18.135 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:55:18.137 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel30062> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel300620 vtb VERIFY: test-channel-exists.sh testchannel300620 vtb
[1;36m
Creating the <testchannel300620> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel300620[m[m[m
example.net

Create channel vtb testchannel300620
--2020-02-13 14:55:20--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:55:20--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:55:20--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:55:20--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:55:20.662 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:55:20.728 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:55:20.728 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:55:20.728 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:55:20.728 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:55:20.728 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:55:20.728 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:55:20.728 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:55:20.728 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:55:20.823 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:55:20.824 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:55:20.824 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:55:20.824 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:55:20.824 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:55:20.824 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:55:20.824 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:55:20.825 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:55:20.826 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-13 14:55:20.827 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:55:20.827 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:55:20.827 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:55:20.828 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-13 14:55:20.829 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:55:20.932 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:55:20.974 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel300620.pb -o orderer.example.net:7050 -c testchannel300620 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:55:21.193 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:55:21.196 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-13 14:55:21.208 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-13 14:55:21.208 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel300620
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel300620 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:55:21.987 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:55:22.007 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel300620> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel300620> channel exists in vtb.example.net...[m[m[m
[34m2020-02-13 14:55:24.226 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:55:24.228 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-13 14:55:24.230 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-13 14:55:24.230 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel300620",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-13T14:55:22Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel300620> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel300620 sberbank
[1;34m
Verifing if the <testchannel300620> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-13 14:55:24.858 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:55:24.861 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel300620> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel300620 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel300620 sberbank
[1;36m
Creating the <testchannel300620> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel300620[m[m[m
example.net

Create channel sberbank testchannel300620
--2020-02-13 14:55:27--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:55:27--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:55:27--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-13 14:55:27--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-13 14:55:27.219 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-13 14:55:27.282 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:55:27.282 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:55:27.282 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-13 14:55:27.282 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-13 14:55:27.282 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-13 14:55:27.282 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-13 14:55:27.282 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-13 14:55:27.282 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:55:27.335 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-13 14:55:27.335 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-13 14:55:27.336 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-13 14:55:27.336 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-13 14:55:27.336 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-13 14:55:27.336 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:55:27.336 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:55:27.336 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:55:27.337 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-13 14:55:27.337 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-13 14:55:27.337 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-13 14:55:27.337 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-13 14:55:27.337 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-13 14:55:27.338 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-13 14:55:27.396 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel300620.pb -o orderer.example.net:7050 -c testchannel300620 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:55:27.472 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:55:27.477 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel300620.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel300620.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel300620
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel300620 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-13 14:55:27.670 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel300620> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-13 14:55:28.850 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-13 14:55:28.852 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel300620> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
Step: 1_cli,curl Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel10320 sberbank VERIFY: test-channel-exists.sh testchannel10320 sberbank
[1;34m
Verifing if the <testchannel10320> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:10:11.393 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:10:11.410 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 1_cli,curl: exit code 1
Step: 2_cli,curl Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel10320 vtb
[1;34m
Verifing if the <testchannel10320> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:10:12.018 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:10:12.028 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel10320> does not exist and in not visible to vtb[m[m[m
Step 2_cli,curl: exit code 0
Step: 3_cli,curl Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel10320 sberbank VERIFY: test-exit-code.sh
Step 3_cli,curl: exit code 127
Step: 4_cli,curl Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel10320 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel10320 vtb
[1;34m
Verifing if the <testchannel10320> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:10:12.550 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:10:12.551 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel10320> does not exist and in not visible to vtb[m[m[m
Step 4_cli,curl: exit code 0
Step: 5_cli,curl Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel103200 vtb VERIFY: test-channel-exists.sh testchannel103200 vtb
[1;34m
Verifing if the <testchannel103200> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:10:13.028 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:10:13.029 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 5_cli,curl: exit code 1
Step: 6_cli,curl Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel103200 sberbank
[1;34m
Verifing if the <testchannel103200> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:10:13.520 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:10:13.521 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel103200> does not exist and in not visible to sberbank[m[m[m
Step 6_cli,curl: exit code 0
Step: 7_cli,curl Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel103200 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel103200 sberbank
[1;34m
Verifing if the <testchannel103200> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:10:14.016 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:10:14.017 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel103200> does not exist and in not visible to sberbank[m[m[m
Step 7_cli,curl: exit code 0
Step: 8_sberbank Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel21589 sberbank VERIFY: test-channel-exists.sh testchannel21589 sberbank
[1;34m
Verifing if the <testchannel21589> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:10:14.556 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:10:14.557 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 8_sberbank: exit code 1
Step: 9_sberbank Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel21589 vtb
[1;34m
Verifing if the <testchannel21589> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:10:15.051 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:10:15.053 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel21589> does not exist and in not visible to vtb[m[m[m
Step 9_sberbank: exit code 0
Step: 10_sberbank Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel21589 sberbank VERIFY: test-exit-code.sh
Step 10_sberbank: exit code 127
Step: 11_sberbank Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel21589 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel21589 vtb
[1;34m
Verifing if the <testchannel21589> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:10:15.556 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:10:15.557 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel21589> does not exist and in not visible to vtb[m[m[m
Step 11_sberbank: exit code 0
Step: 12_sberbank Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel215890 vtb VERIFY: test-channel-exists.sh testchannel215890 vtb
[1;34m
Verifing if the <testchannel215890> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:10:16.041 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:10:16.043 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 12_sberbank: exit code 1
Step: 13_sberbank Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel215890 sberbank
[1;34m
Verifing if the <testchannel215890> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:10:16.549 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:10:16.550 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel215890> does not exist and in not visible to sberbank[m[m[m
Step 13_sberbank: exit code 0
Step: 14_sberbank Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel215890 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel215890 sberbank
[1;34m
Verifing if the <testchannel215890> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:10:17.049 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:10:17.050 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel215890> does not exist and in not visible to sberbank[m[m[m
Step 14_sberbank: exit code 0
Step: 15_vtb Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel4964 sberbank VERIFY: test-channel-exists.sh testchannel4964 sberbank
[1;34m
Verifing if the <testchannel4964> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:10:17.531 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:10:17.533 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 15_vtb: exit code 1
Step: 16_vtb Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel4964 vtb
[1;34m
Verifing if the <testchannel4964> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:10:18.384 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:10:18.386 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel4964> does not exist and in not visible to vtb[m[m[m
Step 16_vtb: exit code 0
Step: 17_vtb Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel4964 sberbank VERIFY: test-exit-code.sh
Step 17_vtb: exit code 127
Step: 18_vtb Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel4964 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel4964 vtb
[1;34m
Verifing if the <testchannel4964> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:10:19.427 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:10:19.431 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel4964> does not exist and in not visible to vtb[m[m[m
Step 18_vtb: exit code 0
Step: 19_vtb Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel49640 vtb VERIFY: test-channel-exists.sh testchannel49640 vtb
[1;34m
Verifing if the <testchannel49640> channel exists in vtb.example.net...[m[m[m
Step: 1_cli,curl Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel28596 sberbank VERIFY: test-channel-exists.sh testchannel28596 sberbank
[1;34m
Verifing if the <testchannel28596> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:13:27.817 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:13:27.818 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 1_cli,curl: exit code 1
Step: 2_cli,curl Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel28596 vtb
[1;34m
Verifing if the <testchannel28596> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:13:28.667 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:13:28.669 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel28596> does not exist and in not visible to vtb[m[m[m
Step 2_cli,curl: exit code 0
Step: 3_cli,curl Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel28596 sberbank VERIFY: test-exit-code.sh
Step 3_cli,curl: exit code 127
Step: 4_cli,curl Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel28596 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel28596 vtb
[1;34m
Verifing if the <testchannel28596> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:13:29.892 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:13:29.895 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel28596> does not exist and in not visible to vtb[m[m[m
Step 4_cli,curl: exit code 0
Step: 5_cli,curl Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel285960 vtb VERIFY: test-channel-exists.sh testchannel285960 vtb
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel8614 sberbank VERIFY: test-channel-exists.sh testchannel8614 sberbank
[1;36m
Creating the <testchannel8614> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel8614[m[m[m
example.net

Create channel sberbank testchannel8614
--2020-02-14 08:15:17--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:15:17--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:15:17--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:15:17--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 08:15:17.875 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 08:15:17.929 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:15:17.930 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:15:17.930 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 08:15:17.930 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 08:15:17.930 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 08:15:17.930 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 08:15:17.930 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 08:15:17.930 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:15:17.979 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:15:17.979 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:15:17.979 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 08:15:17.979 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:15:17.979 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 08:15:17.979 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:15:17.979 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:15:17.980 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:15:17.982 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 08:15:17.982 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:15:17.982 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:15:17.982 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:15:17.983 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 08:15:17.983 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 08:15:18.042 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:15:18.117 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel8614.pb -o orderer.example.net:7050 -c testchannel8614 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:15:18.252 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:15:18.257 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 08:15:18.259 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 08:15:18.259 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel8614
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel8614 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:15:19.078 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:15:19.105 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel8614> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel8614> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:15:21.308 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:15:21.310 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 08:15:21.311 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 08:15:21.311 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel8614",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T08:15:19Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel8614> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel8614 vtb
[1;34m
Verifing if the <testchannel8614> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:15:21.824 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:15:21.826 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel8614> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel8614 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel8614> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel8614[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel8614
--2020-02-14 08:15:24--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:15:24--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:15:24--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:15:24--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 08:15:24.099 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 08:15:24.154 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:15:24.154 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:15:24.154 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 08:15:24.154 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 08:15:24.154 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 08:15:24.154 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 08:15:24.154 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 08:15:24.154 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:15:24.208 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:15:24.208 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:15:24.208 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 08:15:24.208 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:15:24.208 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 08:15:24.208 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:15:24.208 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:15:24.208 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:15:24.209 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 08:15:24.209 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:15:24.209 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:15:24.209 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:15:24.209 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 08:15:24.210 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 08:15:24.266 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel8614' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel8614.pb -o orderer.example.net:7050 -c ^^^^^^testchannel8614 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:15:24.342 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:15:24.343 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel8614.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel8614.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel8614
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel8614 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:15:24.529 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel8614' != '^^^^^^testchannel8614'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel8614 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel8614 vtb
[1;36m
Creating the <testchannel8614> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel8614[m[m[m
example.net

Create channel vtb testchannel8614
--2020-02-14 08:15:27--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:15:27--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:15:27--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:15:27--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 08:15:27.370 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 08:15:27.420 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:15:27.420 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:15:27.420 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 08:15:27.420 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 08:15:27.420 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 08:15:27.420 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 08:15:27.420 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 08:15:27.420 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:15:27.475 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:15:27.475 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:15:27.475 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 08:15:27.475 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:15:27.475 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 08:15:27.475 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:15:27.475 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:15:27.475 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:15:27.477 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 08:15:27.477 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:15:27.477 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:15:27.477 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:15:27.478 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 08:15:27.478 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 08:15:27.536 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel8614.pb -o orderer.example.net:7050 -c testchannel8614 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:15:27.604 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:15:27.608 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel8614.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel8614.json: No such file or directory
>> Prepare config update from vtb for channel testchannel8614
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel8614 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:15:27.783 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel8614> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:15:29.742 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:15:29.748 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel8614> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel86140 vtb VERIFY: test-channel-exists.sh testchannel86140 vtb
[1;36m
Creating the <testchannel86140> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel86140[m[m[m
example.net

Create channel vtb testchannel86140
--2020-02-14 08:15:32--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:15:32--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:15:32--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:15:32--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 08:15:32.449 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 08:15:32.499 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:15:32.499 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:15:32.499 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 08:15:32.499 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 08:15:32.499 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 08:15:32.499 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 08:15:32.499 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 08:15:32.499 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:15:32.550 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:15:32.550 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:15:32.550 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 08:15:32.550 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:15:32.550 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 08:15:32.550 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:15:32.550 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:15:32.551 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:15:32.552 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 08:15:32.552 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:15:32.552 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:15:32.552 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:15:32.553 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 08:15:32.553 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 08:15:32.609 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:15:32.647 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel86140.pb -o orderer.example.net:7050 -c testchannel86140 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:15:32.724 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:15:32.726 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 08:15:32.727 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 08:15:32.727 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel86140
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel86140 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:15:33.031 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:15:33.042 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel86140> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel86140> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:15:35.294 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:15:35.299 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 08:15:35.300 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 08:15:35.301 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel86140",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T08:15:33Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel86140> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel86140 sberbank
[1;34m
Verifing if the <testchannel86140> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:15:35.916 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:15:35.919 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel86140> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel86140 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel86140 sberbank
[1;36m
Creating the <testchannel86140> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel86140[m[m[m
example.net

Create channel sberbank testchannel86140
--2020-02-14 08:15:38--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:15:38--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:15:38--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:15:38--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 08:15:38.222 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 08:15:38.339 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:15:38.339 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:15:38.340 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 08:15:38.340 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 08:15:38.341 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 08:15:38.341 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 08:15:38.341 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 08:15:38.342 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:15:38.455 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:15:38.455 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:15:38.456 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 08:15:38.456 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:15:38.456 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 08:15:38.457 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:15:38.457 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:15:38.458 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:15:38.459 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 08:15:38.460 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:15:38.460 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:15:38.461 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:15:38.462 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 08:15:38.462 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 08:15:38.599 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel86140.pb -o orderer.example.net:7050 -c testchannel86140 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:15:38.794 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:15:38.800 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel86140.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel86140.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel86140
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel86140 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:15:39.176 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel86140> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:15:40.876 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:15:40.878 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel86140> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
Step: 8_curl Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel30346 sberbank VERIFY: test-channel-exists.sh testchannel30346 sberbank
[1;36mCreating testchannel30346 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY2ODE0MX0.LRd1mCMUM9e5xYzic-aNgnbLPOiNeASZ5pUOaK4jUD0
[1;32mOK: JWT token obtained.[m[m[m
[{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.net:7051","name":"peer0.sberbank.example.net:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.net:7051","grpc.default_authority":"peer0.sberbank.example.net:7051"}},"isProposalResponse":true}] 200
[1;32mOK: Channel <testchannel30346> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel30346> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:15:43.045 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:15:43.046 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 08:15:43.048 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 08:15:43.048 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel30346",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-13T08:24:43Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel30346> exists and visible to sberbank[m[m[m
Step 8_curl: exit code 0
Step: 9_curl Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel30346 vtb
[1;34m
Verifing if the <testchannel30346> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:15:43.595 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:15:43.597 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel30346> does not exist and in not visible to vtb[m[m[m
Step 9_curl: exit code 0
Step: 10_curl Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel30346 sberbank VERIFY: test-exit-code.sh
[1;36mCreating ^^^^^^testchannel30346 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY2ODE0M30.p1p9C8NG0twOScmvZRvfJ3d44Pqy16bTprPt48MZ4X4
[1;32mOK: JWT token obtained.[m[m[m
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel30346\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 10_curl: exit code 127
Step: 11_curl Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel30346 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel30346 vtb
[1;36mCreating testchannel30346 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY2ODE0NX0.SUPlTBIvL23UEH3H_GCgnV83wJJ6niTWmiXWc9UzrOY
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel30346> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:15:47.199 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:15:47.201 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel30346> does not exist and in not visible to vtb[m[m[m
Step 11_curl: exit code 0
Step: 12_curl Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel303460 vtb VERIFY: test-channel-exists.sh testchannel303460 vtb
[1;36mCreating testchannel303460 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY2ODE0N30.O3QnG1WoM6eKPZBwnTigDJaE6pPj9wbTqFgMWV-fgTA
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.net:8051","name":"peer0.vtb.example.net:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.net:8051","grpc.default_authority":"peer0.vtb.example.net:8051"}}}] 200
[1;32mOK: Channel <testchannel303460> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel303460> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:15:50.694 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:15:50.696 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 08:15:50.697 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 08:15:50.698 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel303460",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T08:15:48Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel303460> exists and visible to vtb[m[m[m
Step 12_curl: exit code 0
Step: 13_curl Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel303460 sberbank
[1;34m
Verifing if the <testchannel303460> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:15:51.313 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:15:51.315 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel303460> does not exist and in not visible to sberbank[m[m[m
Step 13_curl: exit code 0
Step: 14_curl Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel303460 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel303460 sberbank
[1;36mCreating testchannel303460 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY2ODE1MX0.O-d1RYM7IyKyXOhYscxB6T6ZwZ2RPWT_fgcCGTElIP4
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel303460> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:15:53.289 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:15:53.291 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel303460> does not exist and in not visible to sberbank[m[m[m
Step 14_curl: exit code 0
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel6661 sberbank VERIFY: test-channel-exists.sh testchannel6661 sberbank
[1;36m
Creating the <testchannel6661> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel6661[m[m[m
example.net

Create channel sberbank testchannel6661
--2020-02-14 08:17:51--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:17:51--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:17:51--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:17:51--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 08:17:51.816 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 08:17:51.870 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:17:51.870 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:17:51.870 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 08:17:51.870 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 08:17:51.870 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 08:17:51.870 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 08:17:51.870 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 08:17:51.870 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
^C[34m2020-02-14 08:17:51.972 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: channel create configuration tx file not found open crypto-config/configtx/channel_testchannel6661.tx: no such file or directory
Execute: channel fetch config crypto-config/configtx/testchannel6661.pb -o orderer.example.net:7050 -c testchannel6661 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:17:52.042 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:17:52.044 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/testchannel6661.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel6661.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel6661
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel6661 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:17:52.221 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel86140' != 'testchannel6661'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel6661> channel exists in sberbank.example.net...[m[m[m
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel376 sberbank VERIFY: test-channel-exists.sh testchannel376 sberbank
[1;36m
Creating the <testchannel376> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel376[m[m[m
example.net

Create channel sberbank testchannel376
--2020-02-14 08:18:56--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:18:56--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:18:56--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:18:56--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 08:18:56.707 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 08:18:56.762 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:18:56.762 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:18:56.762 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 08:18:56.762 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 08:18:56.762 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 08:18:56.762 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 08:18:56.762 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 08:18:56.762 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:18:56.811 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:18:56.812 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:18:56.812 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 08:18:56.812 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:18:56.812 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 08:18:56.812 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:18:56.812 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:18:56.812 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:18:56.812 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 08:18:56.812 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:18:56.812 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:18:56.813 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:18:56.813 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 08:18:56.813 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 08:18:56.869 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:18:56.909 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel376.pb -o orderer.example.net:7050 -c testchannel376 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:18:56.983 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:18:56.984 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 08:18:56.985 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 08:18:56.986 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel376
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel376 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:18:57.319 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:18:57.330 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel376> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel376> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:19:00.055 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:19:00.058 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 08:19:00.060 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 08:19:00.061 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel376",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T08:18:57Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel376> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel376 vtb
[1;34m
Verifing if the <testchannel376> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:19:01.071 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:19:01.074 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel376> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel376 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel376> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel376[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel376
--2020-02-14 08:19:03--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:19:03--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:19:03--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:19:03--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 08:19:03.372 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 08:19:03.422 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:19:03.422 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:19:03.422 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 08:19:03.422 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 08:19:03.422 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 08:19:03.422 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 08:19:03.422 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 08:19:03.422 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:19:03.472 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:19:03.472 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:19:03.472 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 08:19:03.472 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:19:03.472 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 08:19:03.472 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:19:03.472 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:19:03.472 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:19:03.473 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 08:19:03.473 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:19:03.473 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:19:03.473 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:19:03.474 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 08:19:03.474 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 08:19:03.528 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel376' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel376.pb -o orderer.example.net:7050 -c ^^^^^^testchannel376 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:19:03.602 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:19:03.603 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel376.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel376.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel376
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel376 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:19:03.779 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel376' != '^^^^^^testchannel376'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel376 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel376 vtb
[1;36m
Creating the <testchannel376> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel376[m[m[m
example.net

Create channel vtb testchannel376
--2020-02-14 08:19:06--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:19:06--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:19:06--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:19:06--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 08:19:06.609 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 08:19:06.662 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:19:06.662 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:19:06.662 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 08:19:06.662 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 08:19:06.662 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 08:19:06.662 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 08:19:06.662 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 08:19:06.662 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:19:06.712 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:19:06.712 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:19:06.712 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 08:19:06.712 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:19:06.712 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 08:19:06.712 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:19:06.712 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:19:06.712 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:19:06.713 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 08:19:06.713 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:19:06.713 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:19:06.713 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:19:06.713 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 08:19:06.713 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 08:19:06.770 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel376.pb -o orderer.example.net:7050 -c testchannel376 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:19:06.839 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:19:06.840 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel376.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel376.json: No such file or directory
>> Prepare config update from vtb for channel testchannel376
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel376 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:19:07.012 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel376> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:19:07.982 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:19:07.983 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel376> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel3760 vtb VERIFY: test-channel-exists.sh testchannel3760 vtb
[1;36m
Creating the <testchannel3760> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel3760[m[m[m
example.net

Create channel vtb testchannel3760
--2020-02-14 08:19:10--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:19:10--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:19:10--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:19:10--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 08:19:10.966 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 08:19:11.034 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:19:11.034 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:19:11.034 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 08:19:11.034 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 08:19:11.034 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 08:19:11.034 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 08:19:11.034 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 08:19:11.034 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:19:11.105 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:19:11.105 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:19:11.105 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 08:19:11.105 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:19:11.105 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 08:19:11.105 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:19:11.105 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:19:11.106 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:19:11.106 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 08:19:11.106 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:19:11.107 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:19:11.107 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:19:11.107 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 08:19:11.108 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 08:19:11.176 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:19:11.215 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel3760.pb -o orderer.example.net:7050 -c testchannel3760 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:19:11.288 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:19:11.291 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 08:19:11.293 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 08:19:11.293 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel3760
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel3760 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:19:11.637 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:19:11.648 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel3760> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel3760> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:19:13.667 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:19:13.669 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 08:19:13.670 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 08:19:13.670 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel3760",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T08:19:11Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel3760> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel3760 sberbank
[1;34m
Verifing if the <testchannel3760> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:19:14.182 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:19:14.184 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel3760> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel3760 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel3760 sberbank
[1;36m
Creating the <testchannel3760> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel3760[m[m[m
example.net

Create channel sberbank testchannel3760
--2020-02-14 08:19:16--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:19:16--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:19:16--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:19:16--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 08:19:16.432 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 08:19:16.482 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:19:16.482 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:19:16.482 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 08:19:16.482 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 08:19:16.482 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 08:19:16.482 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 08:19:16.482 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 08:19:16.482 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:19:16.531 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:19:16.531 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:19:16.531 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 08:19:16.531 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:19:16.531 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 08:19:16.531 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:19:16.531 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:19:16.532 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:19:16.532 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 08:19:16.532 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:19:16.532 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:19:16.533 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:19:16.533 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 08:19:16.534 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 08:19:16.589 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel3760.pb -o orderer.example.net:7050 -c testchannel3760 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:19:16.663 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:19:16.665 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel3760.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel3760.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel3760
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel3760 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:19:16.846 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel3760> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:19:17.803 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:19:17.805 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel3760> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
Step: 8_curl Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel27660 sberbank VERIFY: test-channel-exists.sh testchannel27660 sberbank
[1;36mCreating testchannel27660 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY2ODM1OH0.g0w3u9IHBcq_KGV1VBLspV6WMZ1aBvN9byUj7Lrnzns
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.net:7051","name":"peer0.sberbank.example.net:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.net:7051","grpc.default_authority":"peer0.sberbank.example.net:7051"}}}] 200
[1;32mOK: Channel <testchannel27660> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel27660> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:19:21.920 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:19:21.921 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 08:19:21.922 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 08:19:21.922 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel27660",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T08:19:19Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel27660> exists and visible to sberbank[m[m[m
Step 8_curl: exit code 0
Step: 9_curl Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel27660 vtb
[1;34m
Verifing if the <testchannel27660> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:19:22.434 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:19:22.436 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel27660> does not exist and in not visible to vtb[m[m[m
Step 9_curl: exit code 0
Step: 10_curl Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel27660 sberbank VERIFY: test-exit-code.sh
[1;36mCreating ^^^^^^testchannel27660 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY2ODM2Mn0.2PAh0FolYfAABXMIKmRBucEHLTOjk9jglXBkSqulVYo
[1;32mOK: JWT token obtained.[m[m[m
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel27660\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 10_curl: exit code 127
Step: 11_curl Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel27660 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel27660 vtb
[1;36mCreating testchannel27660 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY2ODM2NH0.890uqC0Z29SVkfdMzsnZV2IhhGJkOW_U07QzlYVO67Y
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel27660> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:19:25.947 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:19:25.949 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel27660> does not exist and in not visible to vtb[m[m[m
Step 11_curl: exit code 0
Step: 12_curl Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel276600 vtb VERIFY: test-channel-exists.sh testchannel276600 vtb
[1;36mCreating testchannel276600 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY2ODM2Nn0.NDVGH4bYrFgUXPLfO4xPsKhAKW6aNUqkqWfMgXomduM
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.net:8051","name":"peer0.vtb.example.net:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.net:8051","grpc.default_authority":"peer0.vtb.example.net:8051"}}}] 200
[1;32mOK: Channel <testchannel276600> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel276600> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:19:28.310 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:19:28.312 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 08:19:28.313 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 08:19:28.313 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel276600",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T08:19:27Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel276600> exists and visible to vtb[m[m[m
Step 12_curl: exit code 0
Step: 13_curl Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel276600 sberbank
[1;34m
Verifing if the <testchannel276600> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:19:29.184 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:19:29.188 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel276600> does not exist and in not visible to sberbank[m[m[m
Step 13_curl: exit code 0
Step: 14_curl Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel276600 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel276600 sberbank
[1;36mCreating testchannel276600 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY2ODM3MH0.8NsGjXNWASejVZFnBW-n0y8DivTj18nU63akKMuS04s
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel276600> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:19:32.407 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:19:32.408 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel276600> does not exist and in not visible to sberbank[m[m[m
Step 14_curl: exit code 0
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel19512 sberbank VERIFY: test-channel-exists.sh testchannel19512 sberbank
[1;36m
Creating the <testchannel19512> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel19512[m[m[m
example.net

Create channel sberbank testchannel19512
--2020-02-14 08:20:47--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:20:47--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:20:47--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:20:47--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 08:20:47.588 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 08:20:47.640 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:20:47.640 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:20:47.640 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 08:20:47.640 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 08:20:47.640 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 08:20:47.640 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 08:20:47.640 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 08:20:47.640 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:20:47.691 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:20:47.691 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:20:47.691 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 08:20:47.691 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:20:47.691 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 08:20:47.691 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:20:47.691 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:20:47.691 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:20:47.692 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 08:20:47.692 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:20:47.692 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:20:47.692 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:20:47.692 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 08:20:47.693 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 08:20:47.748 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:20:47.785 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel19512.pb -o orderer.example.net:7050 -c testchannel19512 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:20:47.864 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:20:47.867 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 08:20:47.868 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 08:20:47.868 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel19512
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel19512 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:20:48.187 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:20:48.198 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel19512> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel19512> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:20:50.827 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:20:50.830 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 08:20:50.832 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 08:20:50.832 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel19512",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T08:20:48Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel19512> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel19512 vtb
[1;34m
Verifing if the <testchannel19512> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:20:51.405 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:20:51.406 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel19512> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel19512 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel19512> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel19512[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel19512
--2020-02-14 08:20:53--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:20:53--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:20:53--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:20:53--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 08:20:53.699 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 08:20:53.750 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:20:53.750 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:20:53.750 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 08:20:53.750 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 08:20:53.750 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 08:20:53.750 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 08:20:53.750 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 08:20:53.750 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:20:53.799 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:20:53.800 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:20:53.800 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 08:20:53.800 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:20:53.800 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 08:20:53.800 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:20:53.800 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:20:53.800 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:20:53.800 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 08:20:53.801 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:20:53.801 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:20:53.801 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:20:53.801 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 08:20:53.801 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 08:20:53.858 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel19512' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel19512.pb -o orderer.example.net:7050 -c ^^^^^^testchannel19512 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:20:53.926 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:20:53.927 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel19512.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel19512.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel19512
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel19512 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:20:54.098 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel19512' != '^^^^^^testchannel19512'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel19512 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel19512 vtb
[1;36m
Creating the <testchannel19512> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel19512[m[m[m
example.net

Create channel vtb testchannel19512
--2020-02-14 08:20:56--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:20:56--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:20:56--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:20:56--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 08:20:56.849 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 08:20:56.898 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:20:56.899 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:20:56.899 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 08:20:56.899 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 08:20:56.899 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 08:20:56.899 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 08:20:56.899 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 08:20:56.899 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:20:56.949 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:20:56.950 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:20:56.950 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 08:20:56.950 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:20:56.950 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 08:20:56.950 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:20:56.950 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:20:56.951 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:20:56.951 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 08:20:56.951 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:20:56.951 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:20:56.952 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:20:56.952 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 08:20:56.952 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 08:20:57.010 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel19512.pb -o orderer.example.net:7050 -c testchannel19512 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:20:57.080 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:20:57.082 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel19512.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel19512.json: No such file or directory
>> Prepare config update from vtb for channel testchannel19512
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel19512 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:20:57.258 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel19512> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:20:58.271 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:20:58.273 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel19512> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel195120 vtb VERIFY: test-channel-exists.sh testchannel195120 vtb
[1;36m
Creating the <testchannel195120> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel195120[m[m[m
example.net

Create channel vtb testchannel195120
--2020-02-14 08:21:01--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:21:01--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:21:01--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:21:01--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 08:21:01.418 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 08:21:01.483 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:21:01.483 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:21:01.484 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 08:21:01.484 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 08:21:01.484 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 08:21:01.484 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 08:21:01.484 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 08:21:01.484 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:21:01.556 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:21:01.556 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:21:01.556 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 08:21:01.556 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:21:01.556 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 08:21:01.556 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:21:01.556 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:21:01.557 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:21:01.557 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 08:21:01.557 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:21:01.557 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:21:01.557 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:21:01.558 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 08:21:01.558 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 08:21:01.625 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:21:01.663 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel195120.pb -o orderer.example.net:7050 -c testchannel195120 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:21:01.739 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:21:01.741 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 08:21:01.743 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 08:21:01.743 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel195120
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel195120 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:21:02.066 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:21:02.076 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel195120> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel195120> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:21:04.101 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:21:04.103 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 08:21:04.104 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 08:21:04.104 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel195120",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T08:21:02Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel195120> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel195120 sberbank
[1;34m
Verifing if the <testchannel195120> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:21:04.619 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:21:04.622 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel195120> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel195120 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel195120 sberbank
[1;36m
Creating the <testchannel195120> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel195120[m[m[m
example.net

Create channel sberbank testchannel195120
--2020-02-14 08:21:06--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:21:06--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:21:06--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:21:06--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 08:21:06.981 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 08:21:07.033 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:21:07.034 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:21:07.034 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 08:21:07.034 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 08:21:07.034 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 08:21:07.034 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 08:21:07.034 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 08:21:07.034 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:21:07.086 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:21:07.086 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:21:07.086 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 08:21:07.086 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:21:07.086 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 08:21:07.086 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:21:07.086 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:21:07.086 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:21:07.087 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 08:21:07.087 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:21:07.087 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:21:07.087 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:21:07.087 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 08:21:07.087 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 08:21:07.143 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel195120.pb -o orderer.example.net:7050 -c testchannel195120 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:21:07.213 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:21:07.215 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel195120.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel195120.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel195120
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel195120 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:21:07.387 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel195120> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:21:08.772 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:21:08.777 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel195120> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
Step: 8_curl Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel22431 sberbank VERIFY: test-channel-exists.sh testchannel22431 sberbank
[1;36mCreating testchannel22431 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY2ODQ3MH0.0dJzty3QpwI9tCyfXJ0Qr0JkmqqsHgDUkSDTsgeQ3Nw
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.net:7051","name":"peer0.sberbank.example.net:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.net:7051","grpc.default_authority":"peer0.sberbank.example.net:7051"}}}] 200
[1;32mOK: Channel <testchannel22431> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel22431> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:21:12.650 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:21:12.652 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 08:21:12.653 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 08:21:12.653 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel22431",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T08:21:11Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel22431> exists and visible to sberbank[m[m[m
Step 8_curl: exit code 0
Step: 9_curl Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel22431 vtb
[1;34m
Verifing if the <testchannel22431> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:21:13.263 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:21:13.265 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel22431> does not exist and in not visible to vtb[m[m[m
Step 9_curl: exit code 0
Step: 10_curl Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel22431 sberbank VERIFY: test-exit-code.sh
[1;36mCreating ^^^^^^testchannel22431 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY2ODQ3M30.EOeW8ZFNxzH7r5PDNf3MKeFwVuBUsc4VGEErITFa_PM
[1;32mOK: JWT token obtained.[m[m[m
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel22431\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 10_curl: exit code 127
Step: 11_curl Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel22431 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel22431 vtb
[1;36mCreating testchannel22431 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY2ODQ3NX0.MML9ok1gA0taeRr0tTy7iUPfEEaVy5CoARHOWjSAKZo
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel22431> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:21:16.845 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:21:16.849 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel22431> does not exist and in not visible to vtb[m[m[m
Step 11_curl: exit code 0
Step: 12_curl Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel224310 vtb VERIFY: test-channel-exists.sh testchannel224310 vtb
[1;36mCreating testchannel224310 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY2ODQ3N30.uNoVI4MIP4o8r1eY4xs5Y1NXIc8SEW1tkB-JaH0u6tE
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.net:8051","name":"peer0.vtb.example.net:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.net:8051","grpc.default_authority":"peer0.vtb.example.net:8051"}}}] 200
[1;32mOK: Channel <testchannel224310> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel224310> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:21:19.189 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:21:19.200 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 08:21:19.202 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 08:21:19.203 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel224310",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T08:21:17Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel224310> exists and visible to vtb[m[m[m
Step 12_curl: exit code 0
Step: 13_curl Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel224310 sberbank
[1;34m
Verifing if the <testchannel224310> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:21:20.666 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:21:20.668 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel224310> does not exist and in not visible to sberbank[m[m[m
Step 13_curl: exit code 0
Step: 14_curl Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel224310 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel224310 sberbank
[1;36mCreating testchannel224310 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY2ODQ4MX0.j-4nr4-mAlmH9ScDCG8jYWlAw1WKoWlvgqhEAK14aNU
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel224310> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:21:23.069 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:21:23.071 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel224310> does not exist and in not visible to sberbank[m[m[m
Step 14_curl: exit code 0
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel17358 sberbank VERIFY: test-channel-exists.sh testchannel17358 sberbank
[1;36m
Creating the <testchannel17358> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel17358[m[m[m
example.net

Create channel sberbank testchannel17358
--2020-02-14 08:47:52--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:47:52--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:47:52--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:47:52--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 08:47:52.217 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 08:47:52.334 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:47:52.334 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:47:52.334 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 08:47:52.334 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 08:47:52.334 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 08:47:52.334 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 08:47:52.334 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 08:47:52.334 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:47:52.449 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:47:52.450 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:47:52.450 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 08:47:52.450 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:47:52.451 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 08:47:52.451 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:47:52.451 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:47:52.453 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:47:52.456 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 08:47:52.458 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:47:52.458 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:47:52.459 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:47:52.460 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 08:47:52.461 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 08:47:52.564 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:47:52.619 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel17358.pb -o orderer.example.net:7050 -c testchannel17358 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:47:52.776 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:47:52.779 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 08:47:52.781 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 08:47:52.781 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel17358
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel17358 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:47:53.267 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:47:53.280 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel17358> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel17358> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:47:55.343 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:47:55.345 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 08:47:55.346 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 08:47:55.346 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel17358",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T08:47:53Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel17358> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel17358 vtb
[1;34m
Verifing if the <testchannel17358> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:47:55.881 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:47:55.883 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel17358> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel17358 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel17358> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel17358[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel17358
--2020-02-14 08:47:58--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:47:58--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:47:58--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:47:58--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 08:47:58.130 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 08:47:58.182 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:47:58.182 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:47:58.182 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 08:47:58.182 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 08:47:58.182 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 08:47:58.182 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 08:47:58.182 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 08:47:58.182 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:47:58.231 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:47:58.231 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:47:58.231 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 08:47:58.231 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:47:58.231 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 08:47:58.231 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:47:58.231 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:47:58.231 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:47:58.232 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 08:47:58.232 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:47:58.232 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:47:58.232 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:47:58.233 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 08:47:58.233 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 08:47:58.289 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel17358' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel17358.pb -o orderer.example.net:7050 -c ^^^^^^testchannel17358 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:47:58.366 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:47:58.367 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel17358.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel17358.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel17358
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel17358 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:47:58.548 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel17358' != '^^^^^^testchannel17358'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel17358 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel17358 vtb
[1;36m
Creating the <testchannel17358> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel17358[m[m[m
example.net

Create channel vtb testchannel17358
--2020-02-14 08:48:01--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:48:01--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:48:01--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:48:01--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 08:48:01.670 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 08:48:01.783 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:48:01.783 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:48:01.783 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 08:48:01.784 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 08:48:01.784 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 08:48:01.785 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 08:48:01.785 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 08:48:01.785 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:48:01.896 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:48:01.896 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:48:01.896 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 08:48:01.896 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:48:01.896 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 08:48:01.896 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:48:01.896 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:48:01.896 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:48:01.899 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 08:48:01.899 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:48:01.900 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:48:01.900 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:48:01.902 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 08:48:01.902 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 08:48:02.028 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel17358.pb -o orderer.example.net:7050 -c testchannel17358 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:48:02.222 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:48:02.227 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel17358.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel17358.json: No such file or directory
>> Prepare config update from vtb for channel testchannel17358
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel17358 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:48:02.581 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel17358> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:48:03.915 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:48:03.917 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel17358> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel173580 vtb VERIFY: test-channel-exists.sh testchannel173580 vtb
[1;36m
Creating the <testchannel173580> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel173580[m[m[m
example.net

Create channel vtb testchannel173580
--2020-02-14 08:48:06--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:48:06--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:48:06--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:48:06--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 08:48:06.262 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 08:48:06.310 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:48:06.310 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:48:06.310 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 08:48:06.310 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 08:48:06.310 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 08:48:06.310 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 08:48:06.310 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 08:48:06.310 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:48:06.359 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:48:06.359 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:48:06.359 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 08:48:06.359 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:48:06.359 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 08:48:06.359 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:48:06.359 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:48:06.360 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:48:06.360 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 08:48:06.360 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:48:06.360 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:48:06.361 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:48:06.361 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 08:48:06.361 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 08:48:06.417 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:48:06.452 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel173580.pb -o orderer.example.net:7050 -c testchannel173580 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:48:06.517 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:48:06.519 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 08:48:06.520 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 08:48:06.520 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel173580
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel173580 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:48:06.827 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:48:06.837 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel173580> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel173580> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:48:08.894 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:48:08.897 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 08:48:08.898 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 08:48:08.898 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel173580",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T08:48:06Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel173580> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel173580 sberbank
[1;34m
Verifing if the <testchannel173580> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:48:09.428 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:48:09.429 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel173580> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel173580 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel173580 sberbank
[1;36m
Creating the <testchannel173580> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel173580[m[m[m
example.net

Create channel sberbank testchannel173580
--2020-02-14 08:48:11--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:48:11--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:48:11--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:48:11--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 08:48:11.842 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 08:48:11.970 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:48:11.970 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:48:11.970 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 08:48:11.970 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 08:48:11.970 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 08:48:11.970 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 08:48:11.970 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 08:48:11.970 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:48:12.076 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:48:12.076 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:48:12.076 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 08:48:12.076 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:48:12.076 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 08:48:12.076 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:48:12.076 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:48:12.077 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:48:12.077 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 08:48:12.077 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:48:12.077 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:48:12.078 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:48:12.078 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 08:48:12.078 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 08:48:12.234 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel173580.pb -o orderer.example.net:7050 -c testchannel173580 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:48:12.351 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:48:12.355 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel173580.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel173580.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel173580
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel173580 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:48:12.761 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel173580> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:48:14.074 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:48:14.076 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel173580> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
Step: 8_curl Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel23868 sberbank VERIFY: test-channel-exists.sh testchannel23868 sberbank
[1;36mCreating testchannel23868 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3MDA5NH0.W-XFsc6mGSn2hM1hMrcT64dL8WTNCfv-_M8Xw_5tmNg
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.net:7051","name":"peer0.sberbank.example.net:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.net:7051","grpc.default_authority":"peer0.sberbank.example.net:7051"}}}] 200
[1;32mOK: Channel <testchannel23868> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel23868> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:48:16.295 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:48:16.297 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 08:48:16.298 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 08:48:16.298 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel23868",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T08:48:15Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel23868> exists and visible to sberbank[m[m[m
Step 8_curl: exit code 0
Step: 9_curl Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel23868 vtb
[1;34m
Verifing if the <testchannel23868> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:48:16.789 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:48:16.791 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel23868> does not exist and in not visible to vtb[m[m[m
Step 9_curl: exit code 0
Step: 10_curl Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel23868 sberbank VERIFY: test-exit-code.sh
[1;36mCreating ^^^^^^testchannel23868 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3MDA5N30.u-Zk-RzfG4x_MtqcbKuRjQ9k9qZoo9cesT5DiDoj0n0
[1;32mOK: JWT token obtained.[m[m[m
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel23868\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 10_curl: exit code 127
Step: 11_curl Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel23868 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel23868 vtb
[1;36mCreating testchannel23868 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3MDA5OH0.FkAmHJeH8ecXv6GGlvo0j5LNyYiVfv5w9URaV21qlFQ
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel23868> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:48:20.265 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:48:20.267 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel23868> does not exist and in not visible to vtb[m[m[m
Step 11_curl: exit code 0
Step: 12_curl Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel238680 vtb VERIFY: test-channel-exists.sh testchannel238680 vtb
[1;36mCreating testchannel238680 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3MDEwMH0.QRbLoDp5Du0irzwr2LY8ZBwxmnCmHtyFLNS7Cjj4_l0
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.net:8051","name":"peer0.vtb.example.net:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.net:8051","grpc.default_authority":"peer0.vtb.example.net:8051"}}}] 200
[1;32mOK: Channel <testchannel238680> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel238680> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:48:23.580 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:48:23.582 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 08:48:23.584 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 08:48:23.584 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel238680",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T08:48:22Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel238680> exists and visible to vtb[m[m[m
Step 12_curl: exit code 0
Step: 13_curl Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel238680 sberbank
[1;34m
Verifing if the <testchannel238680> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:48:24.089 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:48:24.091 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel238680> does not exist and in not visible to sberbank[m[m[m
Step 13_curl: exit code 0
Step: 14_curl Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel238680 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel238680 sberbank
[1;36mCreating testchannel238680 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3MDEwNH0.gCDdW8OQV-PS8hGYJxfSTHmGUsUwAyUF7qGsERjv84E
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel238680> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:48:26.105 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:48:26.106 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel238680> does not exist and in not visible to sberbank[m[m[m
Step 14_curl: exit code 0
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel15772 sberbank VERIFY: test-channel-exists.sh testchannel15772 sberbank
[1;36m
Creating the <testchannel15772> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel15772[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[34m2020-02-14 08:53:26.679 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:53:26.683 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
Step 1_cli: exit code 1
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel15772 vtb
[1;34m
Verifing if the <testchannel15772> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:53:27.326 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:53:27.328 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel15772> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel15772 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel15772> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel15772[m[m[m
^C[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel15772 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel15772 vtb
[1;36m
Creating the <testchannel15772> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel15772[m[m[m
example.net

Create channel vtb testchannel15772
--2020-02-14 08:53:33--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:53:33--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:53:33--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:53:33--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 08:53:33.601 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 08:53:33.746 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:53:33.746 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:53:33.746 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 08:53:33.746 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 08:53:33.746 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 08:53:33.746 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 08:53:33.746 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 08:53:33.746 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:53:33.901 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:53:33.901 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:53:33.901 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 08:53:33.902 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:53:33.902 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 08:53:33.902 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:53:33.903 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:53:33.903 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:53:33.907 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 08:53:33.907 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:53:33.907 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:53:33.908 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:53:33.909 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 08:53:33.910 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 08:53:34.056 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:53:34.121 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel15772.pb -o orderer.example.net:7050 -c testchannel15772 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:53:34.227 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:53:34.230 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 08:53:34.232 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 08:53:34.232 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel15772
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel15772 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:53:34.686 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:53:34.698 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel15772> creation run sucsessfuly.[m[m[m
Step 4_cli: exit code 1
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel157720 vtb VERIFY: test-channel-exists.sh testchannel157720 vtb
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel157720[m[m[m
example.net

Create channel vtb testchannel157720
--2020-02-14 08:53:39--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:53:39--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:53:39--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:53:39--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 08:53:39.253 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 08:53:39.304 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:53:39.304 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:53:39.304 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 08:53:39.304 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 08:53:39.304 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 08:53:39.304 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 08:53:39.304 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 08:53:39.304 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:53:39.361 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:53:39.361 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:53:39.361 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 08:53:39.361 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:53:39.361 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 08:53:39.361 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:53:39.362 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:53:39.362 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:53:39.362 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 08:53:39.362 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:53:39.362 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:53:39.363 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:53:39.363 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 08:53:39.363 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 08:53:39.422 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:53:39.455 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel157720.pb -o orderer.example.net:7050 -c testchannel157720 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:53:39.526 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:53:39.529 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 08:53:39.530 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 08:53:39.530 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel157720
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel157720 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:53:39.873 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:53:39.884 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel157720 sberbank
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel157720 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel157720 sberbank
[1;36m
Creating the <testchannel157720> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel157720[m[m[m
example.net

Create channel sberbank testchannel157720
--2020-02-14 08:53:46--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:53:46--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:53:46--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 08:53:46--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 08:53:46.447 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 08:53:46.499 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:53:46.499 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:53:46.499 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 08:53:46.499 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 08:53:46.499 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 08:53:46.499 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 08:53:46.499 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 08:53:46.499 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:53:46.553 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 08:53:46.553 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 08:53:46.553 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 08:53:46.553 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 08:53:46.553 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 08:53:46.553 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:53:46.553 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:53:46.554 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:53:46.554 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 08:53:46.554 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 08:53:46.554 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 08:53:46.555 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 08:53:46.555 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 08:53:46.555 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 08:53:46.615 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel157720.pb -o orderer.example.net:7050 -c testchannel157720 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:53:46.692 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:53:46.694 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel157720.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel157720.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel157720
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel157720 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 08:53:46.881 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel157720> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:53:48.028 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:53:48.030 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel157720> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
Step: 8_curl Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel20532 sberbank VERIFY: test-channel-exists.sh testchannel20532 sberbank
[1;36mCreating testchannel20532 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3MDQyOH0._1T6c9pk5xEvHlNgnc5QhJv7A4Kw9IQD3tQx1t4l_Ok
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.net:7051","name":"peer0.sberbank.example.net:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.net:7051","grpc.default_authority":"peer0.sberbank.example.net:7051"}}}] 200
[1;32mOK: Channel <testchannel20532> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel20532> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:53:50.602 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:53:50.605 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 08:53:50.606 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 08:53:50.606 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel20532",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T08:53:49Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel20532> exists and visible to sberbank[m[m[m
Step 8_curl: exit code 0
Step: 9_curl Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel20532 vtb
[1;34m
Verifing if the <testchannel20532> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 08:53:51.485 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:53:51.500 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel20532> does not exist and in not visible to vtb[m[m[m
Step 9_curl: exit code 0
Step: 10_curl Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel20532 sberbank VERIFY: test-exit-code.sh
[1;36mCreating ^^^^^^testchannel20532 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3MDQzM30.LFaI3PNvAGIadX19tlTLnT4eKf2l6GhP8xLvjqPCHCo
[1;32mOK: JWT token obtained.[m[m[m
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel28563 sberbank VERIFY: test-channel-exists.sh testchannel28563 sberbank
[1;36m
Creating the <testchannel28563> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel28563[m[m[m
^C[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel28563> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:54:00.064 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:54:00.065 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 1_cli: exit code 1
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel28563 vtb
[1;34m
Verifing if the <testchannel28563> channel exists in vtb.example.net...[m[m[m
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel13819 sberbank VERIFY: test-channel-exists.sh testchannel13819 sberbank
[1;36m
Creating the <testchannel13819> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel13819[m[m[m
^C[1;31mError occurred. See console output above.[m[1;33m[m
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel3312 sberbank VERIFY: test-channel-exists.sh testchannel3312 sberbank
[1;36m
Creating the <testchannel3312> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel3312[m[m[m
^C[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel3312> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 08:58:23.509 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 08:58:23.511 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 1_cli: exit code 1
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel3312 vtb
[1;34m
Verifing if the <testchannel3312> channel exists in vtb.example.net...[m[m[m
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel8308 sberbank VERIFY: test-channel-exists.sh testchannel8308 sberbank
[1;36m
Creating the <testchannel8308> channel for sberbank.example.net...[m[m[m
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel1886 sberbank VERIFY: test-channel-exists.sh testchannel1886 sberbank
[1;36m
Creating the <testchannel1886> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel1886[m[m[m
example.net

Create channel sberbank testchannel1886
--2020-02-14 09:01:43--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 09:01:43--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 09:01:43--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 09:01:43--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 09:01:43.234 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 09:01:43.423 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 09:01:43.423 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 09:01:43.423 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 09:01:43.423 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 09:01:43.428 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 09:01:43.428 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 09:01:43.428 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 09:01:43.428 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 09:01:43.598 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 09:01:43.599 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 09:01:43.599 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 09:01:43.599 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 09:01:43.599 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 09:01:43.599 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 09:01:43.599 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 09:01:43.599 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 09:01:43.600 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 09:01:43.600 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 09:01:43.600 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 09:01:43.600 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 09:01:43.601 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 09:01:43.601 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 09:01:43.758 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 09:01:43.805 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel1886.pb -o orderer.example.net:7050 -c testchannel1886 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 09:01:43.978 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 09:01:43.983 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 09:01:43.985 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 09:01:43.985 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel1886
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel1886 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 09:01:44.573 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 09:01:44.597 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel1886> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel1886> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 09:01:46.784 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 09:01:46.786 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 09:01:46.787 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 09:01:46.787 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel1886",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T09:01:44Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel1886> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel1886 vtb
[1;34m
Verifing if the <testchannel1886> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 09:01:47.304 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 09:01:47.306 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel1886> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel1886 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel1886> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel1886[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel1886
--2020-02-14 09:01:49--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 09:01:49--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 09:01:49--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 09:01:49--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 09:01:49.618 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 09:01:49.675 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 09:01:49.675 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 09:01:49.675 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 09:01:49.675 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 09:01:49.675 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 09:01:49.675 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 09:01:49.675 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 09:01:49.675 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 09:01:49.725 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 09:01:49.725 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 09:01:49.725 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 09:01:49.725 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 09:01:49.725 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 09:01:49.725 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 09:01:49.725 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 09:01:49.725 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 09:01:49.726 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 09:01:49.726 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 09:01:49.726 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 09:01:49.726 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 09:01:49.727 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 09:01:49.727 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 09:01:49.784 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel1886' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel1886.pb -o orderer.example.net:7050 -c ^^^^^^testchannel1886 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 09:01:49.859 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 09:01:49.860 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel1886.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel1886.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel1886
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel1886 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 09:01:50.039 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel1886' != '^^^^^^testchannel1886'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel1886 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel1886 vtb
[1;36m
Creating the <testchannel1886> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel1886[m[m[m
example.net

Create channel vtb testchannel1886
--2020-02-14 09:01:53--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 09:01:53--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 09:01:53--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 09:01:53--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 09:01:53.313 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 09:01:53.431 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 09:01:53.431 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 09:01:53.431 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 09:01:53.431 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 09:01:53.432 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 09:01:53.432 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 09:01:53.432 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 09:01:53.432 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 09:01:53.536 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 09:01:53.536 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 09:01:53.536 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 09:01:53.536 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 09:01:53.536 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 09:01:53.537 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 09:01:53.537 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 09:01:53.537 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 09:01:53.539 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 09:01:53.540 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 09:01:53.540 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 09:01:53.540 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 09:01:53.541 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 09:01:53.541 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 09:01:53.643 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel1886.pb -o orderer.example.net:7050 -c testchannel1886 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 09:01:53.771 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 09:01:53.773 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel1886.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel1886.json: No such file or directory
>> Prepare config update from vtb for channel testchannel1886
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel1886 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 09:01:54.024 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel1886> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 09:01:55.232 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 09:01:55.233 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel1886> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel18860 vtb VERIFY: test-channel-exists.sh testchannel18860 vtb
[1;36m
Creating the <testchannel18860> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel18860[m[m[m
example.net

Create channel vtb testchannel18860
--2020-02-14 09:01:57--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 09:01:57--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 09:01:57--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 09:01:57--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 09:01:57.577 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 09:01:57.632 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 09:01:57.632 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 09:01:57.632 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 09:01:57.632 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 09:01:57.632 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 09:01:57.632 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 09:01:57.632 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 09:01:57.632 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 09:01:57.687 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 09:01:57.687 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 09:01:57.687 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 09:01:57.687 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 09:01:57.687 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 09:01:57.687 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 09:01:57.688 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 09:01:57.688 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 09:01:57.688 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 09:01:57.688 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 09:01:57.688 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 09:01:57.689 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 09:01:57.689 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 09:01:57.689 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 09:01:57.749 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 09:01:57.783 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel18860.pb -o orderer.example.net:7050 -c testchannel18860 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 09:01:57.854 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 09:01:57.855 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 09:01:57.856 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 09:01:57.857 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel18860
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel18860 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 09:01:58.207 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 09:01:58.222 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel18860> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel18860> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 09:02:00.314 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 09:02:00.317 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 09:02:00.318 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 09:02:00.318 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel18860",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T09:01:58Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel18860> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel18860 sberbank
[1;34m
Verifing if the <testchannel18860> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 09:02:00.835 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 09:02:00.837 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel18860> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel18860 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel18860 sberbank
[1;36m
Creating the <testchannel18860> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel18860[m[m[m
example.net

Create channel sberbank testchannel18860
--2020-02-14 09:02:03--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 09:02:03--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 09:02:03--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 09:02:03--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 09:02:03.875 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 09:02:03.988 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 09:02:03.988 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 09:02:03.988 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 09:02:03.988 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 09:02:03.988 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 09:02:03.988 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 09:02:03.988 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 09:02:03.988 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 09:02:04.068 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 09:02:04.068 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 09:02:04.068 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 09:02:04.068 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 09:02:04.068 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 09:02:04.068 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 09:02:04.068 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 09:02:04.068 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 09:02:04.069 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 09:02:04.069 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 09:02:04.069 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 09:02:04.069 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 09:02:04.070 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 09:02:04.070 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 09:02:04.137 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel18860.pb -o orderer.example.net:7050 -c testchannel18860 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 09:02:04.244 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 09:02:04.246 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel18860.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel18860.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel18860
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel18860 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 09:02:04.479 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel18860> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 09:02:05.729 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 09:02:05.731 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel18860> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
Step: 8_curl Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel10583 sberbank VERIFY: test-channel-exists.sh testchannel10583 sberbank
[1;36mCreating testchannel10583 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3MDkyNn0.ZzU-lIyzb2PHzbf310_fCaiZtq6oq6aBRFbktKC-TWE
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.net:7051","name":"peer0.sberbank.example.net:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.net:7051","grpc.default_authority":"peer0.sberbank.example.net:7051"}}}] 200
[1;32mOK: Channel <testchannel10583> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel10583> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 09:02:08.132 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 09:02:08.134 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 09:02:08.135 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 09:02:08.135 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel10583",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T09:02:06Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel10583> exists and visible to sberbank[m[m[m
Step 8_curl: exit code 0
Step: 9_curl Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel10583 vtb
[1;34m
Verifing if the <testchannel10583> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 09:02:08.725 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 09:02:08.727 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel10583> does not exist and in not visible to vtb[m[m[m
Step 9_curl: exit code 0
Step: 10_curl Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel10583 sberbank VERIFY: test-exit-code.sh
[1;36mCreating ^^^^^^testchannel10583 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3MDkyOX0.p3645GAKZbfnQIpr7dVJ-F7Pn5v_hq1B55hYqxd0H4A
[1;32mOK: JWT token obtained.[m[m[m
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel10583\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 10_curl: exit code 127
Step: 11_curl Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel10583 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel10583 vtb
[1;36mCreating testchannel10583 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3MDkzMH0.7qkpa-ag1zw8JTg2RLU7pNw1tKVWiPHJPkuPtD7Ku5g
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel10583> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 09:02:13.099 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 09:02:13.102 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel10583> does not exist and in not visible to vtb[m[m[m
Step 11_curl: exit code 0
Step: 12_curl Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel105830 vtb VERIFY: test-channel-exists.sh testchannel105830 vtb
[1;36mCreating testchannel105830 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3MDkzM30._59ZUAeEOeq7L2dwoVAb8VcVHU3GgdMrTwm5FmJMLUE
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.net:8051","name":"peer0.vtb.example.net:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.net:8051","grpc.default_authority":"peer0.vtb.example.net:8051"}}}] 200
[1;32mOK: Channel <testchannel105830> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel105830> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 09:02:15.841 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 09:02:15.844 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 09:02:15.845 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 09:02:15.845 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel105830",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T09:02:14Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel105830> exists and visible to vtb[m[m[m
Step 12_curl: exit code 0
Step: 13_curl Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel105830 sberbank
[1;34m
Verifing if the <testchannel105830> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 09:02:16.435 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 09:02:16.436 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel105830> does not exist and in not visible to sberbank[m[m[m
Step 13_curl: exit code 0
Step: 14_curl Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel105830 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel105830 sberbank
[1;36mCreating testchannel105830 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3MDkzNn0.N0wR2F5_TVn-3nV45a6bUV3l6V1S79lcDgh3GYyls9Q
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel105830> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 09:02:18.417 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 09:02:18.419 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel105830> does not exist and in not visible to sberbank[m[m[m
Step 14_curl: exit code 0
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel4498 sberbank VERIFY: test-channel-exists.sh testchannel4498 sberbank
[1;36m
Creating the <testchannel4498> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4498[m[m[m
example.net

Create channel sberbank testchannel4498
--2020-02-14 10:44:13--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:44:13--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:44:13--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:44:13--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 10:44:14.093 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 10:44:14.157 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:44:14.157 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:44:14.157 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 10:44:14.157 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 10:44:14.157 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 10:44:14.157 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 10:44:14.157 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 10:44:14.157 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:44:14.208 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:44:14.208 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:44:14.208 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 10:44:14.208 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:44:14.208 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 10:44:14.208 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:44:14.208 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:44:14.209 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:44:14.211 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 10:44:14.211 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:44:14.211 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:44:14.211 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:44:14.211 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 10:44:14.212 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 10:44:14.271 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:44:14.305 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel4498.pb -o orderer.example.net:7050 -c testchannel4498 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:44:14.458 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:44:14.461 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 10:44:14.462 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 10:44:14.462 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel4498
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4498 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:44:14.774 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:44:14.783 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel4498> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel4498> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:44:16.888 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:44:16.891 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 10:44:16.893 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 10:44:16.893 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel4498",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T10:44:14Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel4498> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel4498 vtb
[1;34m
Verifing if the <testchannel4498> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:44:17.450 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:44:17.452 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel4498> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel4498 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel4498> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel4498[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel4498
--2020-02-14 10:44:19--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:44:19--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:44:19--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:44:19--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 10:44:19.732 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 10:44:19.783 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:44:19.783 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:44:19.783 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 10:44:19.783 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 10:44:19.783 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 10:44:19.783 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 10:44:19.783 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 10:44:19.783 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:44:19.861 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:44:19.861 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:44:19.861 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 10:44:19.861 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:44:19.861 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 10:44:19.861 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:44:19.861 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:44:19.862 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:44:19.862 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 10:44:19.862 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:44:19.862 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:44:19.863 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:44:19.863 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 10:44:19.864 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 10:44:20.006 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel4498' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel4498.pb -o orderer.example.net:7050 -c ^^^^^^testchannel4498 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:44:20.197 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:44:20.201 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel4498.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel4498.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel4498
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel4498 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:44:20.627 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel4498' != '^^^^^^testchannel4498'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel4498 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel4498 vtb
[1;36m
Creating the <testchannel4498> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4498[m[m[m
example.net

Create channel vtb testchannel4498
--2020-02-14 10:44:24--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:44:24--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:44:24--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:44:24--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 10:44:24.315 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 10:44:24.372 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:44:24.372 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:44:24.372 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 10:44:24.372 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 10:44:24.372 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 10:44:24.372 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 10:44:24.372 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 10:44:24.372 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:44:24.428 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:44:24.428 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:44:24.428 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 10:44:24.428 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:44:24.428 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 10:44:24.428 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:44:24.428 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:44:24.429 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:44:24.430 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 10:44:24.430 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:44:24.430 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:44:24.431 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:44:24.431 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 10:44:24.431 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 10:44:24.488 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel4498.pb -o orderer.example.net:7050 -c testchannel4498 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:44:24.559 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:44:24.562 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel4498.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel4498.json: No such file or directory
>> Prepare config update from vtb for channel testchannel4498
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4498 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:44:24.733 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel4498> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:44:25.704 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:44:25.707 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel4498> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel44980 vtb VERIFY: test-channel-exists.sh testchannel44980 vtb
[1;36m
Creating the <testchannel44980> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel44980[m[m[m
example.net

Create channel vtb testchannel44980
--2020-02-14 10:44:27--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:44:27--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:44:27--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:44:27--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 10:44:27.974 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 10:44:28.025 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:44:28.025 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:44:28.025 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 10:44:28.025 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 10:44:28.025 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 10:44:28.025 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 10:44:28.025 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 10:44:28.025 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:44:28.073 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:44:28.073 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:44:28.074 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 10:44:28.074 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:44:28.074 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 10:44:28.074 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:44:28.074 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:44:28.074 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:44:28.074 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 10:44:28.075 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:44:28.075 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:44:28.075 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:44:28.075 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 10:44:28.075 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 10:44:28.130 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:44:28.172 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel44980.pb -o orderer.example.net:7050 -c testchannel44980 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:44:28.257 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:44:28.260 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 10:44:28.261 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 10:44:28.261 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel44980
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel44980 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:44:28.553 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:44:28.564 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel44980> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel44980> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:44:31.317 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:44:31.321 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 10:44:31.323 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 10:44:31.323 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel44980",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T10:44:28Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel44980> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel44980 sberbank
[1;34m
Verifing if the <testchannel44980> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:44:32.185 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:44:32.188 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel44980> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel44980 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel44980 sberbank
[1;36m
Creating the <testchannel44980> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel44980[m[m[m
example.net

Create channel sberbank testchannel44980
--2020-02-14 10:44:34--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:44:34--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:44:34--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:44:34--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 10:44:34.587 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 10:44:34.646 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:44:34.646 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:44:34.647 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 10:44:34.647 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 10:44:34.647 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 10:44:34.647 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 10:44:34.647 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 10:44:34.647 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:44:34.699 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:44:34.699 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:44:34.699 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 10:44:34.699 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:44:34.699 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 10:44:34.699 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:44:34.699 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:44:34.700 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:44:34.700 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 10:44:34.700 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:44:34.700 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:44:34.700 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:44:34.701 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 10:44:34.701 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 10:44:34.759 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel44980.pb -o orderer.example.net:7050 -c testchannel44980 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:44:34.828 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:44:34.829 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel44980.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel44980.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel44980
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel44980 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:44:35.006 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel44980> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:44:35.977 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:44:35.980 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel44980> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
Step: 8_curl Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel273 sberbank VERIFY: test-channel-exists.sh testchannel273 sberbank
[1;36mCreating testchannel273 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3NzA3Nn0.WYC6P0BhD_JrbCr2duW7BRQsfAMVltBHtcH-ZO2sbfY
[1;32mOK: JWT token obtained.[m[m[m
[{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.net:7051","name":"peer0.sberbank.example.net:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.net:7051","grpc.default_authority":"peer0.sberbank.example.net:7051"}},"isProposalResponse":true}] 200
[1;32mOK: Channel <testchannel273> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel273> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:44:37.989 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:44:37.991 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 10:44:37.992 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 10:44:37.992 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel273",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-13T07:19:09Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel273> exists and visible to sberbank[m[m[m
Step 8_curl: exit code 0
Step: 9_curl Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel273 vtb
[1;34m
Verifing if the <testchannel273> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:44:38.509 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:44:38.511 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel273> does not exist and in not visible to vtb[m[m[m
Step 9_curl: exit code 0
Step: 10_curl Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel273 sberbank VERIFY: test-exit-code.sh
[1;36mCreating ^^^^^^testchannel273 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3NzA3OH0.FlNdDZdFgyjkPfyEIUGGU00VZ_y3bXWeR32D2i6-5nk
[1;32mOK: JWT token obtained.[m[m[m
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel273\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 10_curl: exit code 127
Step: 11_curl Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel273 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel273 vtb
[1;36mCreating testchannel273 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3NzA4MX0.NbU4AWUAtxdGfgZfo2SpFzRp_K751FRCoZVYOcnsAIE
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel273> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:44:43.272 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:44:43.274 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel273> does not exist and in not visible to vtb[m[m[m
Step 11_curl: exit code 0
Step: 12_curl Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel2730 vtb VERIFY: test-channel-exists.sh testchannel2730 vtb
[1;36mCreating testchannel2730 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3NzA4M30.G2AHf1MWu0ubghh01SfoDg_SRinZy60OS8Oe8E5G_8U
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.net:8051","name":"peer0.vtb.example.net:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.net:8051","grpc.default_authority":"peer0.vtb.example.net:8051"}}}] 200
[1;32mOK: Channel <testchannel2730> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel2730> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:44:45.471 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:44:45.472 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 10:44:45.473 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 10:44:45.473 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel2730",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T10:44:44Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel2730> exists and visible to vtb[m[m[m
Step 12_curl: exit code 0
Step: 13_curl Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel2730 sberbank
[1;34m
Verifing if the <testchannel2730> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:44:46.017 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:44:46.019 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel2730> does not exist and in not visible to sberbank[m[m[m
Step 13_curl: exit code 0
Step: 14_curl Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel2730 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel2730 sberbank
[1;36mCreating testchannel2730 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3NzA4Nn0.IG2pySzygxDGExJsA1OlOLpZ7ojmPH4bfIkeyut4WAo
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel2730> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:44:48.311 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:44:48.313 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel2730> does not exist and in not visible to sberbank[m[m[m
Step 14_curl: exit code 0
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel30834 sberbank VERIFY: test-channel-exists.sh testchannel30834 sberbank
[1;36m
Creating the <testchannel30834> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel30834[m[m[m
example.net

Create channel sberbank testchannel30834
--2020-02-14 10:45:00--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:45:00--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:45:00--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:45:00--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 10:45:00.683 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 10:45:00.792 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:45:00.792 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:45:00.792 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 10:45:00.792 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 10:45:00.792 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 10:45:00.792 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 10:45:00.792 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 10:45:00.792 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:45:00.892 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:45:00.892 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:45:00.892 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 10:45:00.892 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:45:00.892 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 10:45:00.892 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:45:00.892 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:45:00.892 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:45:00.893 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 10:45:00.893 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:45:00.893 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:45:00.894 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:45:00.894 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 10:45:00.895 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 10:45:01.007 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:45:01.080 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel30834.pb -o orderer.example.net:7050 -c testchannel30834 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:45:01.293 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:45:01.296 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 10:45:01.299 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 10:45:01.299 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel30834
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel30834 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:45:01.945 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:45:01.969 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel30834> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel30834> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:45:04.158 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:45:04.163 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 10:45:04.165 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 10:45:04.165 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel30834",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T10:45:01Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel30834> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel30834 vtb
[1;34m
Verifing if the <testchannel30834> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:45:04.715 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:45:04.717 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel30834> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel30834 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel30834> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel30834[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel30834
--2020-02-14 10:45:06--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:45:06--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:45:06--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:45:06--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 10:45:06.975 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 10:45:07.028 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:45:07.028 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:45:07.028 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 10:45:07.028 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 10:45:07.028 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 10:45:07.028 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 10:45:07.028 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 10:45:07.028 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:45:07.080 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:45:07.080 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:45:07.080 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 10:45:07.080 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:45:07.080 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 10:45:07.080 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:45:07.080 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:45:07.081 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:45:07.081 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 10:45:07.081 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:45:07.081 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:45:07.081 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:45:07.082 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 10:45:07.082 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 10:45:07.138 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel30834' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel30834.pb -o orderer.example.net:7050 -c ^^^^^^testchannel30834 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:45:07.210 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:45:07.211 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel30834.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel30834.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel30834
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel30834 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:45:07.381 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel30834' != '^^^^^^testchannel30834'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel30834 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel30834 vtb
[1;36m
Creating the <testchannel30834> channel for vtb.example.net...[m[m[m
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel6512 sberbank VERIFY: test-channel-exists.sh testchannel6512 sberbank
[1;36m
Creating the <testchannel6512> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel6512[m[m[m
^C[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel6512> channel exists in sberbank.example.net...[m[m[m
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel2041 sberbank VERIFY: test-channel-exists.sh testchannel2041 sberbank
[1;36m
Creating the <testchannel2041> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel2041[m[m[m
^C^C[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel2041> channel exists in sberbank.example.net...[m[m[m
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel32326 sberbank VERIFY: test-channel-exists.sh testchannel32326 sberbank
[1;36m
Creating the <testchannel32326> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32326[m[m[m
example.net

Create channel sberbank testchannel32326
--2020-02-14 10:47:42--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:47:42--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:47:42--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:47:42--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 10:47:42.213 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 10:47:42.318 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:47:42.318 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:47:42.319 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 10:47:42.319 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 10:47:42.319 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 10:47:42.319 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 10:47:42.319 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 10:47:42.319 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:47:42.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:47:42.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel1496 sberbank VERIFY: test-channel-exists.sh testchannel1496 sberbank
[1;36m
Creating the <testchannel1496> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel1496[m[m[m
example.net

Create channel sberbank testchannel1496
--2020-02-14 10:48:07--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:48:07--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:48:07--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:48:07--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 10:48:07.498 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 10:48:07.550 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:48:07.550 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:48:07.550 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 10:48:07.550 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 10:48:07.550 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 10:48:07.550 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 10:48:07.550 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 10:48:07.550 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:48:07.599 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:48:07.599 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:48:07.599 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 10:48:07.599 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:48:07.599 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 10:48:07.599 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:48:07.599 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:48:07.600 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:48:07.601 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 10:48:07.601 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:48:07.601 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:48:07.601 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:48:07.601 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 10:48:07.602 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 10:48:07.660 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:48:07.703 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel1496.pb -o orderer.example.net:7050 -c testchannel1496 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:48:07.844 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:48:07.846 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 10:48:07.847 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 10:48:07.847 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
^Cjq: error: Could not open file crypto-config/configtx/testchannel1496.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel1496
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel1496 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:48:08.011 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel1496': error authorizing update: ConfigUpdate for channel 'testchannel32326' but envelope for channel 'testchannel1496'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel1496> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:48:09.164 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:48:09.167 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 10:48:09.168 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 10:48:09.168 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel1496",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T10:48:07Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel1496> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel1496 vtb
[1;34m
Verifing if the <testchannel1496> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:48:09.715 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:48:09.717 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel1496> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel1496 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel1496> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel1496[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel1496
--2020-02-14 10:48:12--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:48:12--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:48:12--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:48:12--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 10:48:12.798 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 10:48:12.866 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:48:12.866 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:48:12.866 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 10:48:12.866 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 10:48:12.866 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 10:48:12.866 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 10:48:12.866 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 10:48:12.866 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:48:12.937 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:48:12.937 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:48:12.937 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 10:48:12.937 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:48:12.937 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 10:48:12.937 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:48:12.937 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:48:12.937 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:48:12.938 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 10:48:12.938 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:48:12.938 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:48:12.938 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:48:12.939 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 10:48:12.939 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 10:48:13.008 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel1496' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel1496.pb -o orderer.example.net:7050 -c ^^^^^^testchannel1496 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:48:13.107 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:48:13.108 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel1496.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel1496.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel1496
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel1496 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:48:13.328 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel32326' != '^^^^^^testchannel1496'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel1496 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel1496 vtb
[1;36m
Creating the <testchannel1496> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel1496[m[m[m
example.net

Create channel vtb testchannel1496
--2020-02-14 10:48:16--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:48:16--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:48:16--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:48:16--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 10:48:16.268 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 10:48:16.339 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:48:16.339 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:48:16.340 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 10:48:16.340 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 10:48:16.340 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 10:48:16.340 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 10:48:16.340 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 10:48:16.340 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:48:16.392 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:48:16.392 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:48:16.392 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 10:48:16.392 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:48:16.392 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 10:48:16.392 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:48:16.392 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:48:16.392 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:48:16.394 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 10:48:16.394 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:48:16.394 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:48:16.394 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:48:16.395 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 10:48:16.395 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 10:48:16.452 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel1496.pb -o orderer.example.net:7050 -c testchannel1496 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:48:16.555 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:48:16.557 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel1496.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel1496.json: No such file or directory
>> Prepare config update from vtb for channel testchannel1496
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel1496 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:48:16.827 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel1496> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:48:18.576 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:48:18.582 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel1496> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel14960 vtb VERIFY: test-channel-exists.sh testchannel14960 vtb
[1;36m
Creating the <testchannel14960> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel14960[m[m[m
example.net

Create channel vtb testchannel14960
--2020-02-14 10:48:21--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:48:21--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:48:21--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:48:21--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 10:48:21.153 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 10:48:21.265 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:48:21.265 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:48:21.266 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 10:48:21.266 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 10:48:21.266 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 10:48:21.266 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 10:48:21.266 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 10:48:21.266 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:48:21.375 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:48:21.376 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:48:21.376 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 10:48:21.376 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:48:21.376 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 10:48:21.376 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:48:21.376 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:48:21.376 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:48:21.377 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 10:48:21.377 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:48:21.377 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:48:21.378 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:48:21.378 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 10:48:21.379 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 10:48:21.474 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:48:21.501 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
[34m2020-02-14 10:48:21.523 UTC [channelCmd] InitCmdFactory -> INFO 003[0m Endorser and orderer connections initialized
[34m2020-02-14 10:48:21.726 UTC [cli.common] readBlock -> INFO 004[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel14960.pb -o orderer.example.net:7050 -c testchannel14960 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:48:21.930 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:48:21.934 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 10:48:21.935 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 10:48:21.936 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel14960
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel14960 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:48:22.506 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:48:22.541 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel14960> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel14960> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:48:24.837 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:48:24.839 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 10:48:24.840 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 10:48:24.840 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel14960",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T10:48:22Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel14960> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel14960 sberbank
[1;34m
Verifing if the <testchannel14960> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:48:25.383 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:48:25.385 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel14960> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel14960 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel14960 sberbank
[1;36m
Creating the <testchannel14960> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel14960[m[m[m
example.net

Create channel sberbank testchannel14960
--2020-02-14 10:48:27--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:48:27--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:48:27--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:48:27--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 10:48:27.590 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 10:48:27.657 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:48:27.657 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:48:27.657 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 10:48:27.657 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 10:48:27.657 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 10:48:27.657 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 10:48:27.657 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 10:48:27.657 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:48:27.728 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:48:27.728 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:48:27.728 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 10:48:27.728 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:48:27.728 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 10:48:27.728 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:48:27.728 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:48:27.728 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:48:27.729 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 10:48:27.729 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:48:27.729 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:48:27.729 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:48:27.729 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 10:48:27.729 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 10:48:27.787 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel14960.pb -o orderer.example.net:7050 -c testchannel14960 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:48:27.863 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:48:27.865 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel14960.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel14960.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel14960
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel14960 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:48:28.061 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel14960> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:48:29.131 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:48:29.132 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel14960> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
Step: 8_curl Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel25267 sberbank VERIFY: test-channel-exists.sh testchannel25267 sberbank
[1;36mCreating testchannel25267 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3NzMwOX0.oMFEQdEdKRCaDyb1O2makBXdAT6LgN8GVkA6n6rQWtw
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.net:7051","name":"peer0.sberbank.example.net:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.net:7051","grpc.default_authority":"peer0.sberbank.example.net:7051"}}}] 200
[1;32mOK: Channel <testchannel25267> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel25267> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:48:33.118 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:48:33.120 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 10:48:33.121 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 10:48:33.121 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel25267",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T10:48:30Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel25267> exists and visible to sberbank[m[m[m
Step 8_curl: exit code 0
Step: 9_curl Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel25267 vtb
[1;34m
Verifing if the <testchannel25267> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:48:33.684 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:48:33.693 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel25267> does not exist and in not visible to vtb[m[m[m
Step 9_curl: exit code 0
Step: 10_curl Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel25267 sberbank VERIFY: test-exit-code.sh
[1;36mCreating ^^^^^^testchannel25267 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3NzMxNH0.ui-ddldwtWfGGaz0IPZ0gda74zo5TqcqqOCC1G9WOgg
[1;32mOK: JWT token obtained.[m[m[m
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel25267\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 10_curl: exit code 127
Step: 11_curl Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel25267 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel25267 vtb
[1;36mCreating testchannel25267 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3NzMxNX0.NV3DWx2jrdGOCWarnX20Y2T4dvOGD5o-kjLF02fAqzA
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel25267> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:48:37.384 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:48:37.387 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel25267> does not exist and in not visible to vtb[m[m[m
Step 11_curl: exit code 0
Step: 12_curl Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel252670 vtb VERIFY: test-channel-exists.sh testchannel252670 vtb
[1;36mCreating testchannel252670 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3NzMxN30.EiMJqqMCLLaZ6VQJweNJEfP-RtZx_u27vNMzCnl-QXE
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.net:8051","name":"peer0.vtb.example.net:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.net:8051","grpc.default_authority":"peer0.vtb.example.net:8051"}}}] 200
[1;32mOK: Channel <testchannel252670> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel252670> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:48:39.661 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:48:39.664 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 10:48:39.665 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 10:48:39.665 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel252670",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T10:48:38Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel252670> exists and visible to vtb[m[m[m
Step 12_curl: exit code 0
Step: 13_curl Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel252670 sberbank
[1;34m
Verifing if the <testchannel252670> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:48:40.249 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:48:40.254 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel252670> does not exist and in not visible to sberbank[m[m[m
Step 13_curl: exit code 0
Step: 14_curl Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel252670 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel252670 sberbank
[1;36mCreating testchannel252670 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3NzMyMH0.LhgIHxPs__UcNrIhr0QQvBs9T5j0V4EsqzrhQ4XQEKc
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel252670> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:48:44.266 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:48:44.268 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel252670> does not exist and in not visible to sberbank[m[m[m
Step 14_curl: exit code 0
Step: 15_ssh Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel75 sberbank VERIFY: test-channel-exists.sh testchannel75 sberbank
[1;34m
Verifing if the <testchannel75> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:48:44.862 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:48:44.864 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 15_ssh: exit code 1
Step: 16_ssh Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel75 vtb
[1;34m
Verifing if the <testchannel75> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:48:45.361 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:48:45.363 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel75> does not exist and in not visible to vtb[m[m[m
Step 16_ssh: exit code 0
Step: 17_ssh Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel75 sberbank VERIFY: test-exit-code.sh
Step 17_ssh: exit code 127
Step: 18_ssh Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel75 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel75 vtb
[1;34m
Verifing if the <testchannel75> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:48:45.948 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:48:45.949 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel75> does not exist and in not visible to vtb[m[m[m
Step 18_ssh: exit code 0
Step: 19_ssh Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel750 vtb VERIFY: test-channel-exists.sh testchannel750 vtb
[1;34m
Verifing if the <testchannel750> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:48:46.476 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:48:46.477 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 19_ssh: exit code 1
Step: 20_ssh Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel750 sberbank
[1;34m
Verifing if the <testchannel750> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:48:47.034 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:48:47.036 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel750> does not exist and in not visible to sberbank[m[m[m
Step 20_ssh: exit code 0
Step: 21_ssh Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel750 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel750 sberbank
[1;34m
Verifing if the <testchannel750> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:48:47.538 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:48:47.539 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel750> does not exist and in not visible to sberbank[m[m[m
Step 21_ssh: exit code 0
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel25265 sberbank VERIFY: test-channel-exists.sh testchannel25265 sberbank
[1;36m
Creating the <testchannel25265> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel25265[m[m[m
example.net

Create channel sberbank testchannel25265
--2020-02-14 10:49:48--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:49:48--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:49:48--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:49:48--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 10:49:48.396 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 10:49:48.448 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:49:48.448 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:49:48.448 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 10:49:48.448 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 10:49:48.448 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 10:49:48.449 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 10:49:48.449 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 10:49:48.449 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:49:48.500 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:49:48.500 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:49:48.500 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 10:49:48.500 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:49:48.500 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 10:49:48.500 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:49:48.500 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:49:48.500 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:49:48.501 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 10:49:48.501 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:49:48.501 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:49:48.501 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:49:48.502 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 10:49:48.502 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 10:49:48.558 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:49:48.601 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel25265.pb -o orderer.example.net:7050 -c testchannel25265 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:49:48.685 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:49:48.687 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 10:49:48.688 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 10:49:48.688 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel25265
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel25265 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:49:48.993 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:49:49.005 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel25265> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel25265> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:49:51.331 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:49:51.335 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 10:49:51.337 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 10:49:51.338 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel25265",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T10:49:48Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel25265> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel25265 vtb
[1;34m
Verifing if the <testchannel25265> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:49:52.453 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:49:52.462 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel25265> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel25265 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel25265> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel25265[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
Step 3_cli: exit code 141
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel25265 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel25265 vtb
[1;36m
Creating the <testchannel25265> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel25265[m[m[m
example.net

Create channel vtb testchannel25265
--2020-02-14 10:49:55--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:49:55--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:49:55--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:49:55--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 10:49:55.886 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 10:49:55.935 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:49:55.935 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:49:55.935 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 10:49:55.935 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 10:49:55.935 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 10:49:55.935 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 10:49:55.935 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 10:49:55.935 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:49:55.985 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:49:55.986 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:49:55.986 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 10:49:55.986 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:49:55.986 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 10:49:55.986 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:49:55.986 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:49:55.986 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:49:55.986 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 10:49:55.986 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:49:55.987 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:49:55.987 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:49:55.987 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 10:49:55.987 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 10:49:56.052 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel25265.pb -o orderer.example.net:7050 -c testchannel25265 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:49:56.124 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:49:56.126 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel25265.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel25265.json: No such file or directory
>> Prepare config update from vtb for channel testchannel25265
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel25265 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:49:56.300 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel25265> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:49:57.302 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:49:57.304 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel25265> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel252650 vtb VERIFY: test-channel-exists.sh testchannel252650 vtb
[1;36m
Creating the <testchannel252650> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel252650[m[m[m
example.net

Create channel vtb testchannel252650
--2020-02-14 10:49:59--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:49:59--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:49:59--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:49:59--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 10:49:59.538 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 10:49:59.590 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:49:59.591 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:49:59.591 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 10:49:59.591 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 10:49:59.591 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 10:49:59.591 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 10:49:59.591 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 10:49:59.591 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:49:59.643 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:49:59.644 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:49:59.644 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 10:49:59.644 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:49:59.644 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 10:49:59.644 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:49:59.644 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:49:59.644 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:49:59.644 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 10:49:59.644 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:49:59.645 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:49:59.645 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:49:59.645 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 10:49:59.646 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 10:49:59.702 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:49:59.739 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel252650.pb -o orderer.example.net:7050 -c testchannel252650 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:49:59.816 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:49:59.818 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 10:49:59.819 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 10:49:59.819 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel252650
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel252650 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:50:00.140 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:50:00.155 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel252650> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel252650> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:50:03.012 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:50:03.014 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 10:50:03.015 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 10:50:03.015 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel252650",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T10:50:00Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel252650> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel252650 sberbank
[1;34m
Verifing if the <testchannel252650> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:50:03.550 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:50:03.552 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel252650> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel252650 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel252650 sberbank
[1;36m
Creating the <testchannel252650> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel252650[m[m[m
example.net

Create channel sberbank testchannel252650
--2020-02-14 10:50:05--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:50:05--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:50:05--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:50:05--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 10:50:05.798 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 10:50:05.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:50:05.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:50:05.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 10:50:05.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 10:50:05.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 10:50:05.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 10:50:05.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 10:50:05.847 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:50:05.895 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:50:05.895 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:50:05.895 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 10:50:05.895 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:50:05.895 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 10:50:05.895 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:50:05.896 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:50:05.896 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:50:05.896 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 10:50:05.896 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:50:05.896 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:50:05.897 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:50:05.897 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 10:50:05.897 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 10:50:05.953 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel252650.pb -o orderer.example.net:7050 -c testchannel252650 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:50:06.020 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:50:06.022 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel252650.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel252650.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel252650
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel252650 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:50:06.206 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel252650> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:50:07.284 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:50:07.286 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel252650> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
Step: 8_curl Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel22216 sberbank VERIFY: test-channel-exists.sh testchannel22216 sberbank
[1;36mCreating testchannel22216 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3NzQwN30.lZBRcpdmEPvSyfNfI87h7csCvsgHCGdTBQgBFHTLZHE
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.net:7051","name":"peer0.sberbank.example.net:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.net:7051","grpc.default_authority":"peer0.sberbank.example.net:7051"}}}] 200
[1;32mOK: Channel <testchannel22216> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel22216> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:50:09.563 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:50:09.565 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 10:50:09.568 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 10:50:09.568 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel22216",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T10:50:08Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel22216> exists and visible to sberbank[m[m[m
Step 8_curl: exit code 0
Step: 9_curl Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel22216 vtb
[1;34m
Verifing if the <testchannel22216> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:50:10.093 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:50:10.095 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel22216> does not exist and in not visible to vtb[m[m[m
Step 9_curl: exit code 0
Step: 10_curl Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel22216 sberbank VERIFY: test-exit-code.sh
[1;36mCreating ^^^^^^testchannel22216 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3NzQxMH0.fdNZDZt1xv8hgliE6sDbwIpSX2_qvB8MsidWPc7sQiI
[1;32mOK: JWT token obtained.[m[m[m
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel22216\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 10_curl: exit code 127
Step: 11_curl Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel22216 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel22216 vtb
[1;36mCreating testchannel22216 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3NzQxNH0.WH4k4CiQnfChh_DljJC5DSLkVV__WwY96hPHGkSVwb4
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel22216> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:50:15.807 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:50:15.808 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel22216> does not exist and in not visible to vtb[m[m[m
Step 11_curl: exit code 0
Step: 12_curl Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel222160 vtb VERIFY: test-channel-exists.sh testchannel222160 vtb
[1;36mCreating testchannel222160 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3NzQxNn0.wjstKvLQW09JHsnuBjGeDgg4vKoVatiUUTL-KQlfzqQ
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.net:8051","name":"peer0.vtb.example.net:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.net:8051","grpc.default_authority":"peer0.vtb.example.net:8051"}}}] 200
[1;32mOK: Channel <testchannel222160> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel222160> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:50:18.037 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:50:18.040 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 10:50:18.041 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 10:50:18.041 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel222160",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T10:50:16Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel222160> exists and visible to vtb[m[m[m
Step 12_curl: exit code 0
Step: 13_curl Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel222160 sberbank
[1;34m
Verifing if the <testchannel222160> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:50:18.590 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:50:18.592 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel222160> does not exist and in not visible to sberbank[m[m[m
Step 13_curl: exit code 0
Step: 14_curl Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel222160 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel222160 sberbank
[1;36mCreating testchannel222160 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3NzQxOH0.3TY480tzxAW9om3rbG3jVA1VZJPvVIOjZpClOMQwvgk
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel222160> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:50:20.881 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:50:20.885 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel222160> does not exist and in not visible to sberbank[m[m[m
Step 14_curl: exit code 0
Step: 15_ssh Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel4783 sberbank VERIFY: test-channel-exists.sh testchannel4783 sberbank
[1;34m
Verifing if the <testchannel4783> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:50:21.630 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:50:21.632 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 15_ssh: exit code 1
Step: 16_ssh Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel4783 vtb
[1;34m
Verifing if the <testchannel4783> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:50:22.604 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:50:22.615 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel4783> does not exist and in not visible to vtb[m[m[m
Step 16_ssh: exit code 0
Step: 17_ssh Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel4783 sberbank VERIFY: test-exit-code.sh
Step 17_ssh: exit code 127
Step: 18_ssh Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel4783 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel4783 vtb
[1;34m
Verifing if the <testchannel4783> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:50:23.551 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:50:23.559 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel4783> does not exist and in not visible to vtb[m[m[m
Step 18_ssh: exit code 0
Step: 19_ssh Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel47830 vtb VERIFY: test-channel-exists.sh testchannel47830 vtb
[1;34m
Verifing if the <testchannel47830> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:50:24.148 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:50:24.149 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 19_ssh: exit code 1
Step: 20_ssh Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel47830 sberbank
[1;34m
Verifing if the <testchannel47830> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:50:24.664 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:50:24.666 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel47830> does not exist and in not visible to sberbank[m[m[m
Step 20_ssh: exit code 0
Step: 21_ssh Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel47830 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel47830 sberbank
[1;34m
Verifing if the <testchannel47830> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:50:25.196 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:50:25.197 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel47830> does not exist and in not visible to sberbank[m[m[m
Step 21_ssh: exit code 0
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel28597 sberbank VERIFY: test-channel-exists.sh testchannel28597 sberbank
[1;36m
Creating the <testchannel28597> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel28597[m[m[m
example.net

Create channel sberbank testchannel28597
--2020-02-14 10:52:40--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:52:40--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:52:40--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:52:40--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 10:52:40.535 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 10:52:40.660 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:52:40.660 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:52:40.660 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 10:52:40.660 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 10:52:40.660 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 10:52:40.660 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 10:52:40.660 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 10:52:40.660 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:52:40.780 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:52:40.780 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:52:40.781 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 10:52:40.781 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:52:40.781 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 10:52:40.781 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:52:40.781 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:52:40.782 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:52:40.782 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 10:52:40.782 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:52:40.782 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:52:40.783 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:52:40.783 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 10:52:40.783 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 10:52:40.848 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:52:40.886 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel28597.pb -o orderer.example.net:7050 -c testchannel28597 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:52:40.969 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:52:40.971 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 10:52:40.972 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 10:52:40.972 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel28597
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel28597 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:52:41.409 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:52:41.419 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel28597> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel28597> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:52:43.682 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:52:43.684 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 10:52:43.685 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 10:52:43.685 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel28597",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T10:52:41Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel28597> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel28597 vtb
[1;34m
Verifing if the <testchannel28597> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:52:44.176 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:52:44.177 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel28597> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel28597 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel28597> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel28597[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel28597
--2020-02-14 10:52:46--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:52:46--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:52:46--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:52:46--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 10:52:46.315 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 10:52:46.366 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:52:46.367 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:52:46.367 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 10:52:46.367 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 10:52:46.367 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 10:52:46.367 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 10:52:46.367 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 10:52:46.367 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:52:46.418 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:52:46.418 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:52:46.418 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 10:52:46.418 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:52:46.418 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 10:52:46.418 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:52:46.418 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:52:46.419 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:52:46.419 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 10:52:46.419 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:52:46.419 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:52:46.419 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:52:46.420 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 10:52:46.420 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 10:52:46.477 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel28597' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel28597.pb -o orderer.example.net:7050 -c ^^^^^^testchannel28597 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:52:46.545 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:52:46.547 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel28597.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel28597.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel28597
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel28597 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:52:46.721 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel28597' != '^^^^^^testchannel28597'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel28597 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel28597 vtb
[1;36m
Creating the <testchannel28597> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel28597[m[m[m
example.net

Create channel vtb testchannel28597
--2020-02-14 10:52:49--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:52:49--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:52:49--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:52:49--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 10:52:49.599 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 10:52:49.660 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:52:49.660 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:52:49.660 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 10:52:49.660 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 10:52:49.660 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 10:52:49.660 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 10:52:49.660 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 10:52:49.660 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:52:49.710 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:52:49.710 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:52:49.710 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 10:52:49.710 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:52:49.710 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 10:52:49.710 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:52:49.710 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:52:49.710 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:52:49.711 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 10:52:49.711 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:52:49.711 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:52:49.711 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:52:49.711 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 10:52:49.711 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 10:52:49.768 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel28597.pb -o orderer.example.net:7050 -c testchannel28597 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:52:49.838 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:52:49.840 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel28597.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel28597.json: No such file or directory
>> Prepare config update from vtb for channel testchannel28597
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel28597 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:52:50.012 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel28597> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:52:51.348 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:52:51.351 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel28597> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel285970 vtb VERIFY: test-channel-exists.sh testchannel285970 vtb
[1;36m
Creating the <testchannel285970> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel285970[m[m[m
example.net

Create channel vtb testchannel285970
--2020-02-14 10:52:54--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:52:54--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:52:54--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:52:54--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 10:52:54.424 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 10:52:54.472 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:52:54.472 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:52:54.472 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 10:52:54.472 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 10:52:54.472 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 10:52:54.472 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 10:52:54.472 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 10:52:54.472 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:52:54.522 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:52:54.522 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:52:54.522 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 10:52:54.522 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:52:54.522 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 10:52:54.522 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:52:54.522 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:52:54.522 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:52:54.523 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 10:52:54.523 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:52:54.523 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:52:54.523 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:52:54.523 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 10:52:54.524 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 10:52:54.578 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:52:54.613 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel285970.pb -o orderer.example.net:7050 -c testchannel285970 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:52:54.739 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:52:54.741 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 10:52:54.742 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 10:52:54.742 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel285970
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel285970 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:52:55.057 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:52:55.067 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel285970> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel285970> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:52:57.252 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:52:57.254 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 10:52:57.255 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 10:52:57.255 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel285970",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T10:52:55Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel285970> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel285970 sberbank
[1;34m
Verifing if the <testchannel285970> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:52:57.905 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:52:57.906 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel285970> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel285970 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel285970 sberbank
[1;36m
Creating the <testchannel285970> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel285970[m[m[m
example.net

Create channel sberbank testchannel285970
--2020-02-14 10:53:00--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:53:00--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:53:00--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 10:53:00--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 10:53:00.507 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 10:53:00.661 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:53:00.661 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:53:00.661 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 10:53:00.661 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 10:53:00.661 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 10:53:00.662 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 10:53:00.662 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 10:53:00.662 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:53:00.812 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 10:53:00.812 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 10:53:00.812 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 10:53:00.812 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 10:53:00.812 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 10:53:00.812 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:53:00.812 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:53:00.812 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:53:00.813 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 10:53:00.813 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 10:53:00.813 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 10:53:00.813 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 10:53:00.814 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 10:53:00.814 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 10:53:00.905 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel285970.pb -o orderer.example.net:7050 -c testchannel285970 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:53:01.047 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:53:01.050 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel285970.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel285970.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel285970
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel285970 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 10:53:01.374 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel285970> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:53:03.499 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:53:03.504 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel285970> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
Step: 8_curl Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel25148 sberbank VERIFY: test-channel-exists.sh testchannel25148 sberbank
[1;36mCreating testchannel25148 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3NzU4NH0.LHmctHyOfV3byOEa60ecmmhKM6BFESpMjl3N36gPLTI
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.net:7051","name":"peer0.sberbank.example.net:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.net:7051","grpc.default_authority":"peer0.sberbank.example.net:7051"}}}] 200
[1;32mOK: Channel <testchannel25148> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel25148> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:53:06.263 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:53:06.264 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 10:53:06.266 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 10:53:06.266 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel25148",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T10:53:05Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel25148> exists and visible to sberbank[m[m[m
Step 8_curl: exit code 0
Step: 9_curl Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel25148 vtb
[1;34m
Verifing if the <testchannel25148> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:53:06.868 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:53:06.870 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel25148> does not exist and in not visible to vtb[m[m[m
Step 9_curl: exit code 0
Step: 10_curl Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel25148 sberbank VERIFY: test-exit-code.sh
[1;36mCreating ^^^^^^testchannel25148 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3NzU4N30.BLm7yiqGHJV4rInGIBLTvgqBIg5qCBghFtvqEyAaZLo
[1;32mOK: JWT token obtained.[m[m[m
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel25148\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 10_curl: exit code 127
Step: 11_curl Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel25148 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel25148 vtb
[1;36mCreating testchannel25148 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3NzU4OH0.DU0wcMHymHXEjTisIrqF5FvNWrqpRlFZsPUOs5JIP_c
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel25148> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:53:10.510 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:53:10.515 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel25148> does not exist and in not visible to vtb[m[m[m
Step 11_curl: exit code 0
Step: 12_curl Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel251480 vtb VERIFY: test-channel-exists.sh testchannel251480 vtb
[1;36mCreating testchannel251480 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3NzU5MX0.AhEmNjavpUJrfUrBpuUnNaEIpvytIJVcncyh1Kr-dCc
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.net:8051","name":"peer0.vtb.example.net:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.net:8051","grpc.default_authority":"peer0.vtb.example.net:8051"}}}] 200
[1;32mOK: Channel <testchannel251480> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel251480> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:53:14.203 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:53:14.205 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 10:53:14.206 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 10:53:14.207 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel251480",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T10:53:12Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel251480> exists and visible to vtb[m[m[m
Step 12_curl: exit code 0
Step: 13_curl Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel251480 sberbank
[1;34m
Verifing if the <testchannel251480> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:53:14.854 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:53:14.856 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel251480> does not exist and in not visible to sberbank[m[m[m
Step 13_curl: exit code 0
Step: 14_curl Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel251480 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel251480 sberbank
[1;36mCreating testchannel251480 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3NzU5NX0.AzeU-90L7RsngVMtu4xwJ6FBH0U-LpJNd8ag8jRXFb4
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel251480> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:53:17.215 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:53:17.218 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel251480> does not exist and in not visible to sberbank[m[m[m
Step 14_curl: exit code 0
Step: 15_ssh Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel9888 sberbank VERIFY: test-channel-exists.sh testchannel9888 sberbank
[1;34m
Verifing if the <testchannel9888> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:53:17.877 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:53:17.879 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 15_ssh: exit code 1
Step: 16_ssh Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel9888 vtb
[1;34m
Verifing if the <testchannel9888> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:53:18.491 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:53:18.492 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel9888> does not exist and in not visible to vtb[m[m[m
Step 16_ssh: exit code 0
Step: 17_ssh Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel9888 sberbank VERIFY: test-exit-code.sh
Step 17_ssh: exit code 127
Step: 18_ssh Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel9888 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel9888 vtb
[1;34m
Verifing if the <testchannel9888> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:53:19.134 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:53:19.136 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel9888> does not exist and in not visible to vtb[m[m[m
Step 18_ssh: exit code 0
Step: 19_ssh Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel98880 vtb VERIFY: test-channel-exists.sh testchannel98880 vtb
[1;34m
Verifing if the <testchannel98880> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 10:53:19.679 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:53:19.680 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 19_ssh: exit code 1
Step: 20_ssh Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel98880 sberbank
[1;34m
Verifing if the <testchannel98880> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:53:20.200 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:53:20.201 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel98880> does not exist and in not visible to sberbank[m[m[m
Step 20_ssh: exit code 0
Step: 21_ssh Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel98880 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel98880 sberbank
[1;34m
Verifing if the <testchannel98880> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 10:53:21.165 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 10:53:21.167 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel98880> does not exist and in not visible to sberbank[m[m[m
Step 21_ssh: exit code 0
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel5953 sberbank VERIFY: test-channel-exists.sh testchannel5953 sberbank
[1;36m
Creating the <testchannel5953> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel5953[m[m[m
example.net

Create channel sberbank testchannel5953
--2020-02-14 11:09:29--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:09:29--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:09:29--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:09:29--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:09:29.312 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:09:29.364 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:09:29.364 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:09:29.364 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:09:29.364 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:09:29.364 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:09:29.364 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:09:29.364 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:09:29.364 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:09:29.413 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:09:29.414 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:09:29.414 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:09:29.414 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:09:29.414 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:09:29.414 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:09:29.414 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:09:29.414 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:09:29.416 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 11:09:29.416 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:09:29.416 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:09:29.416 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:09:29.416 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 11:09:29.417 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:09:29.472 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:09:29.506 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel5953.pb -o orderer.example.net:7050 -c testchannel5953 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:09:29.583 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:09:29.585 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 11:09:29.586 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 11:09:29.586 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel5953
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel5953 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:09:29.904 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:09:29.913 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel5953> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel5953> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:09:32.316 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:09:32.320 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 11:09:32.322 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 11:09:32.322 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel5953",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T11:09:29Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel5953> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel5953 vtb
[1;34m
Verifing if the <testchannel5953> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:09:33.415 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:09:33.421 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel5953> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel5953 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel5953> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel5953[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel5953
--2020-02-14 11:09:36--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:09:36--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:09:36--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:09:36--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:09:36.089 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:09:36.140 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:09:36.140 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:09:36.141 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:09:36.141 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:09:36.141 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:09:36.141 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:09:36.141 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:09:36.141 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:09:36.196 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:09:36.196 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:09:36.196 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:09:36.196 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:09:36.196 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:09:36.196 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:09:36.196 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:09:36.197 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:09:36.198 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 11:09:36.198 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:09:36.198 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:09:36.198 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:09:36.199 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 11:09:36.199 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:09:36.255 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel5953' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel5953.pb -o orderer.example.net:7050 -c ^^^^^^testchannel5953 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:09:36.327 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:09:36.328 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel5953.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel5953.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel5953
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel5953 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:09:36.503 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel5953' != '^^^^^^testchannel5953'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel5953 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel5953 vtb
[1;36m
Creating the <testchannel5953> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel5953[m[m[m
example.net

Create channel vtb testchannel5953
--2020-02-14 11:09:39--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:09:39--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:09:39--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:09:39--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:09:39.403 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:09:39.453 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:09:39.453 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:09:39.453 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:09:39.453 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:09:39.453 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:09:39.453 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:09:39.453 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:09:39.453 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:09:39.505 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:09:39.505 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:09:39.505 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:09:39.505 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:09:39.505 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:09:39.505 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:09:39.505 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:09:39.505 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:09:39.507 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 11:09:39.507 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:09:39.507 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:09:39.508 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:09:39.508 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 11:09:39.508 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:09:39.562 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel5953.pb -o orderer.example.net:7050 -c testchannel5953 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:09:39.646 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:09:39.648 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel5953.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel5953.json: No such file or directory
>> Prepare config update from vtb for channel testchannel5953
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel5953 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:09:39.821 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel5953> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:09:40.819 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:09:40.821 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel5953> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel59530 vtb VERIFY: test-channel-exists.sh testchannel59530 vtb
[1;36m
Creating the <testchannel59530> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel59530[m[m[m
example.net

Create channel vtb testchannel59530
--2020-02-14 11:09:43--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:09:43--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:09:43--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:09:43--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:09:43.919 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:09:43.985 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:09:43.985 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:09:43.986 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:09:43.986 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:09:43.986 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:09:43.986 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:09:43.986 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:09:43.986 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:09:44.054 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:09:44.054 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:09:44.054 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:09:44.054 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:09:44.054 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:09:44.054 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:09:44.054 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:09:44.055 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:09:44.055 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 11:09:44.055 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:09:44.055 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:09:44.055 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:09:44.056 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 11:09:44.056 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:09:44.147 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:09:44.194 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel59530.pb -o orderer.example.net:7050 -c testchannel59530 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:09:44.267 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:09:44.270 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 11:09:44.272 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 11:09:44.272 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel59530
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel59530 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:09:44.643 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:09:44.653 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel59530> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel59530> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:09:46.754 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:09:46.756 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 11:09:46.758 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 11:09:46.758 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel59530",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T11:09:44Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel59530> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel59530 sberbank
[1;34m
Verifing if the <testchannel59530> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:09:47.351 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:09:47.353 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel59530> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel59530 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel59530 sberbank
[1;36m
Creating the <testchannel59530> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel59530[m[m[m
example.net

Create channel sberbank testchannel59530
--2020-02-14 11:09:49--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:09:49--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:09:49--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:09:49--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:09:49.997 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:09:50.084 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:09:50.084 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:09:50.084 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:09:50.084 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:09:50.084 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:09:50.084 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:09:50.084 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:09:50.084 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:09:50.159 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:09:50.160 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:09:50.160 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:09:50.160 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:09:50.160 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:09:50.160 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:09:50.160 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:09:50.160 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:09:50.161 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 11:09:50.161 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:09:50.161 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:09:50.161 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:09:50.162 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 11:09:50.162 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:09:50.242 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel59530.pb -o orderer.example.net:7050 -c testchannel59530 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:09:50.331 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:09:50.335 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel59530.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel59530.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel59530
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel59530 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:09:50.557 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel59530> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:09:52.590 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:09:52.593 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel59530> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
Step: 8_curl Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel11297 sberbank VERIFY: test-channel-exists.sh testchannel11297 sberbank
[1;36mCreating testchannel11297 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3ODU5NH0.IFGRl_F_B9laZLVSM8ApQ3NgGZgsiTyJbBJcJha5ips
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.net:7051","name":"peer0.sberbank.example.net:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.net:7051","grpc.default_authority":"peer0.sberbank.example.net:7051"}}}] 200
[1;32mOK: Channel <testchannel11297> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel11297> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:09:57.324 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:09:57.327 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 11:09:57.327 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 11:09:57.328 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel11297",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T11:09:55Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel11297> exists and visible to sberbank[m[m[m
Step 8_curl: exit code 0
Step: 9_curl Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel11297 vtb
[1;34m
Verifing if the <testchannel11297> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:09:57.982 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:09:57.984 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel11297> does not exist and in not visible to vtb[m[m[m
Step 9_curl: exit code 0
Step: 10_curl Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel11297 sberbank VERIFY: test-exit-code.sh
[1;36mCreating ^^^^^^testchannel11297 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3ODU5OH0.BXnMjyvsG79CqI2Pnq4flRWEDijM5faP3dA5AIKzyDg
[1;32mOK: JWT token obtained.[m[m[m
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel11297\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 10_curl: exit code 127
Step: 11_curl Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel11297 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel11297 vtb
[1;36mCreating testchannel11297 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3ODYwMH0.hS9J1xkkfs7M1xQvR682OReLdSttuZOlsBDv2BkAq_A
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel11297> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:10:04.215 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:10:04.223 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel11297> does not exist and in not visible to vtb[m[m[m
Step 11_curl: exit code 0
Step: 12_curl Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel112970 vtb VERIFY: test-channel-exists.sh testchannel112970 vtb
[1;36mCreating testchannel112970 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3ODYwNH0.jw6Qa126MrkSZi4eGttJ8HeNQVTkmEvvZ2rCC3RHQM4
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.net:8051","name":"peer0.vtb.example.net:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.net:8051","grpc.default_authority":"peer0.vtb.example.net:8051"}}}] 200
[1;32mOK: Channel <testchannel112970> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel112970> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:10:06.991 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:10:06.994 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 11:10:06.995 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 11:10:06.995 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel112970",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T11:10:05Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel112970> exists and visible to vtb[m[m[m
Step 12_curl: exit code 0
Step: 13_curl Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel112970 sberbank
[1;34m
Verifing if the <testchannel112970> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:10:07.543 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:10:07.545 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel112970> does not exist and in not visible to sberbank[m[m[m
Step 13_curl: exit code 0
Step: 14_curl Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel112970 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel112970 sberbank
[1;36mCreating testchannel112970 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3ODYwN30.pIKtOf6Y5MwFzpi6N14kHWySa_MmuhSZ8Ykz3_-6a8o
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel112970> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:10:09.721 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:10:09.723 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel112970> does not exist and in not visible to sberbank[m[m[m
Step 14_curl: exit code 0
Step: 15_ssh Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel17768 sberbank VERIFY: test-channel-exists.sh testchannel17768 sberbank
[1;34m
Verifing if the <testchannel17768> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:10:10.274 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:10:10.275 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 15_ssh: exit code 1
Step: 16_ssh Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel17768 vtb
[1;34m
Verifing if the <testchannel17768> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:10:10.732 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:10:10.734 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel17768> does not exist and in not visible to vtb[m[m[m
Step 16_ssh: exit code 0
Step: 17_ssh Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel17768 sberbank VERIFY: test-exit-code.sh
Step 17_ssh: exit code 127
Step: 18_ssh Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel17768 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel17768 vtb
[1;34m
Verifing if the <testchannel17768> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:10:11.335 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:10:11.336 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel17768> does not exist and in not visible to vtb[m[m[m
Step 18_ssh: exit code 0
Step: 19_ssh Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel177680 vtb VERIFY: test-channel-exists.sh testchannel177680 vtb
[1;34m
Verifing if the <testchannel177680> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:10:11.960 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:10:11.962 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 19_ssh: exit code 1
Step: 20_ssh Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel177680 sberbank
[1;34m
Verifing if the <testchannel177680> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:10:13.211 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:10:13.213 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel177680> does not exist and in not visible to sberbank[m[m[m
Step 20_ssh: exit code 0
Step: 21_ssh Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel177680 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel177680 sberbank
[1;34m
Verifing if the <testchannel177680> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:10:14.897 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:10:14.903 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel177680> does not exist and in not visible to sberbank[m[m[m
Step 21_ssh: exit code 0
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel23470 sberbank VERIFY: test-channel-exists.sh testchannel23470 sberbank
[1;36m
Creating the <testchannel23470> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel23470[m[m[m
example.net

Create channel sberbank testchannel23470
--2020-02-14 11:12:05--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:12:05--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:12:05--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:12:05--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:12:05.855 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:12:05.931 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:12:05.931 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:12:05.931 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:12:05.931 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:12:05.931 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:12:05.931 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:12:05.931 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:12:05.931 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:12:05.980 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:12:05.980 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:12:05.980 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:12:05.980 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:12:05.980 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:12:05.980 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:12:05.980 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:12:05.980 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:12:05.981 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 11:12:05.981 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:12:05.981 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:12:05.981 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:12:05.982 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 11:12:05.982 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:12:06.041 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:12:06.079 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel23470.pb -o orderer.example.net:7050 -c testchannel23470 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:12:06.229 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:12:06.231 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 11:12:06.232 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 11:12:06.232 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel23470
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel23470 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:12:06.536 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:12:06.545 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel23470> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel23470> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:12:08.753 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:12:08.756 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 11:12:08.757 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 11:12:08.757 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel23470",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T11:12:06Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel23470> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel23470 vtb
[1;34m
Verifing if the <testchannel23470> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:12:09.296 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:12:09.298 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel23470> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel23470 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel23470> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel23470[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel23470
--2020-02-14 11:12:11--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:12:11--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:12:11--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:12:11--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:12:11.554 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:12:11.603 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:12:11.603 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:12:11.603 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:12:11.603 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:12:11.603 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:12:11.603 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:12:11.603 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:12:11.603 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:12:11.654 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:12:11.654 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:12:11.654 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:12:11.654 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:12:11.654 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:12:11.654 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:12:11.654 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:12:11.654 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:12:11.655 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 11:12:11.655 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:12:11.655 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:12:11.655 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:12:11.656 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 11:12:11.656 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:12:11.711 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel23470' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel23470.pb -o orderer.example.net:7050 -c ^^^^^^testchannel23470 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:12:11.781 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:12:11.782 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel23470.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel23470.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel23470
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel23470 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:12:11.953 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel23470' != '^^^^^^testchannel23470'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel23470 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel23470 vtb
[1;36m
Creating the <testchannel23470> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel23470[m[m[m
example.net

Create channel vtb testchannel23470
--2020-02-14 11:12:15--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:12:15--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:12:15--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:12:15--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:12:15.963 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:12:16.015 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:12:16.015 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:12:16.015 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:12:16.015 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:12:16.015 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:12:16.015 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:12:16.015 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:12:16.015 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:12:16.066 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:12:16.066 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:12:16.066 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:12:16.066 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:12:16.066 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:12:16.066 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:12:16.067 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:12:16.067 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:12:16.069 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 11:12:16.069 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:12:16.069 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:12:16.069 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:12:16.069 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 11:12:16.069 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:12:16.126 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel23470.pb -o orderer.example.net:7050 -c testchannel23470 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:12:16.200 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:12:16.202 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel23470.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel23470.json: No such file or directory
>> Prepare config update from vtb for channel testchannel23470
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel23470 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:12:16.374 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
^C[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel23470> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:12:17.339 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:12:17.340 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel23470> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel234700 vtb VERIFY: test-channel-exists.sh testchannel234700 vtb
[1;36m
Creating the <testchannel234700> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel234700[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[34m2020-02-14 11:12:18.493 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:12:18.494 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
Step 5_cli: exit code 1
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel234700 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel21874 sberbank VERIFY: test-channel-exists.sh testchannel21874 sberbank
[1;36m
Creating the <testchannel21874> channel for sberbank.example.netr...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel21874[m[m[m
example.netr

Create channel sberbank testchannel21874
--2020-02-14 11:12:36--  http://www.example.netr/msp/admincerts/Admin@example.netr-cert.pem
Resolving www.example.netr (www.example.netr)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.example.netrâ€™
--2020-02-14 11:12:36--  http://www.example.netr/msp/cacerts/ca.example.netr-cert.pem
Resolving www.example.netr (www.example.netr)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.example.netrâ€™
--2020-02-14 11:12:36--  http://www.example.netr/msp/tlscacerts/tlsca.example.netr-cert.pem
Resolving www.example.netr (www.example.netr)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.example.netrâ€™
--2020-02-14 11:12:36--  http://www.example.netr/msp/orderer.example.netr/tls/server.crt
Resolving www.example.netr (www.example.netr)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.example.netrâ€™
[34m2020-02-14 11:12:37.105 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:12:37.182 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:12:37.182 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:12:37.182 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:12:37.182 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:12:37.182 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:12:37.182 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:12:37.182 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:12:37.182 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:12:37.234 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:12:37.234 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:12:37.234 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:12:37.234 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:12:37.234 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:12:37.234 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:12:37.234 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[35m2020-02-14 11:12:37.234 UTC [common.tools.configtxgen] main -> FATA 011[0m Error on outputChannelCreateTx: could not generate default config template: error parsing configuration: could not create orderer group: failed to create orderer org: 1 - Error loading MSP configuration for org: Orderer: could not load a valid ca certificate from directory /etc/hyperledger/crypto-config/ordererOrganizations/example.netr/msp/cacerts: stat /etc/hyperledger/crypto-config/ordererOrganizations/example.netr/msp/cacerts: no such file or directory
[31m2020-02-14 11:12:37.282 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.netr/users/Admin@sberbank.example.netr/msp" does not exist
cat: crypto-config/peerOrganizations/sberbank.example.netr/msp/admincerts/Admin@sberbank.example.netr-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/sberbank.example.netr/msp/cacerts/ca.sberbank.example.netr-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/sberbank.example.netr/msp/tlscacerts/tlsca.sberbank.example.netr-cert.pem: No such file or directory
Execute: channel fetch config crypto-config/configtx/testchannel21874.pb -o orderer.example.netr:7050 -c testchannel21874 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.netr/msp/tlscacerts/tlsca.example.netr-cert.pem
[31m2020-02-14 11:12:37.337 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.netr/users/Admin@sberbank.example.netr/msp" does not exist
configtxlator: error: open crypto-config/configtx/testchannel21874.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel21874.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel21874
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel21874 -o orderer.example.netr:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.netr/msp/tlscacerts/tlsca.example.netr-cert.pem
[31m2020-02-14 11:12:37.496 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.netr/users/Admin@sberbank.example.netr/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel21874> channel exists in sberbank.example.netr...[m[m[m
Error: No such container: cli.sberbank.example.netr
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 1_cli: exit code 1
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel21874 vtb
[1;34m
Verifing if the <testchannel21874> channel exists in vtb.example.netr...[m[m[m
Error: No such container: cli.vtb.example.netr
[1;32mOK: The channel <testchannel21874> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel21874 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel21874> channel for sberbank.example.netr...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel21874[m[m[m
example.netr

Create channel sberbank ^^^^^^testchannel21874
--2020-02-14 11:12:40--  http://www.example.netr/msp/admincerts/Admin@example.netr-cert.pem
Resolving www.example.netr (www.example.netr)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.example.netrâ€™
--2020-02-14 11:12:40--  http://www.example.netr/msp/cacerts/ca.example.netr-cert.pem
Resolving www.example.netr (www.example.netr)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.example.netrâ€™
--2020-02-14 11:12:40--  http://www.example.netr/msp/tlscacerts/tlsca.example.netr-cert.pem
Resolving www.example.netr (www.example.netr)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.example.netrâ€™
--2020-02-14 11:12:40--  http://www.example.netr/msp/orderer.example.netr/tls/server.crt
Resolving www.example.netr (www.example.netr)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.example.netrâ€™
[34m2020-02-14 11:12:40.881 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:12:40.932 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:12:40.932 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:12:40.932 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:12:40.933 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:12:40.933 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:12:40.933 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:12:40.933 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:12:40.933 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:12:40.983 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:12:40.983 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:12:40.983 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:12:40.983 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:12:40.983 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:12:40.983 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:12:40.983 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[35m2020-02-14 11:12:40.983 UTC [common.tools.configtxgen] main -> FATA 011[0m Error on outputChannelCreateTx: could not generate default config template: error parsing configuration: could not create orderer group: failed to create orderer org: 1 - Error loading MSP configuration for org: Orderer: could not load a valid ca certificate from directory /etc/hyperledger/crypto-config/ordererOrganizations/example.netr/msp/cacerts: stat /etc/hyperledger/crypto-config/ordererOrganizations/example.netr/msp/cacerts: no such file or directory
[31m2020-02-14 11:12:41.032 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.netr/users/Admin@sberbank.example.netr/msp" does not exist
cat: crypto-config/peerOrganizations/sberbank.example.netr/msp/admincerts/Admin@sberbank.example.netr-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/sberbank.example.netr/msp/cacerts/ca.sberbank.example.netr-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/sberbank.example.netr/msp/tlscacerts/tlsca.sberbank.example.netr-cert.pem: No such file or directory
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel21874.pb -o orderer.example.netr:7050 -c ^^^^^^testchannel21874 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.netr/msp/tlscacerts/tlsca.example.netr-cert.pem
[31m2020-02-14 11:12:41.092 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.netr/users/Admin@sberbank.example.netr/msp" does not exist
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel21874.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel21874.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel21874
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel21874 -o orderer.example.netr:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.netr/msp/tlscacerts/tlsca.example.netr-cert.pem
[31m2020-02-14 11:12:41.316 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.netr/users/Admin@sberbank.example.netr/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel21874 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel21874 vtb
[1;36m
Creating the <testchannel21874> channel for vtb.example.netr...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel21874[m[m[m
example.netr

Create channel vtb testchannel21874
--2020-02-14 11:12:44--  http://www.example.netr/msp/admincerts/Admin@example.netr-cert.pem
Resolving www.example.netr (www.example.netr)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.example.netrâ€™
--2020-02-14 11:12:44--  http://www.example.netr/msp/cacerts/ca.example.netr-cert.pem
Resolving www.example.netr (www.example.netr)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.example.netrâ€™
--2020-02-14 11:12:45--  http://www.example.netr/msp/tlscacerts/tlsca.example.netr-cert.pem
Resolving www.example.netr (www.example.netr)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.example.netrâ€™
--2020-02-14 11:12:45--  http://www.example.netr/msp/orderer.example.netr/tls/server.crt
Resolving www.example.netr (www.example.netr)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.example.netrâ€™
[34m2020-02-14 11:12:45.290 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:12:45.353 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:12:45.353 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:12:45.353 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:12:45.353 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:12:45.353 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:12:45.353 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:12:45.353 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:12:45.353 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:12:45.404 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:12:45.404 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:12:45.404 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:12:45.404 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:12:45.404 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:12:45.404 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:12:45.404 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[35m2020-02-14 11:12:45.404 UTC [common.tools.configtxgen] main -> FATA 011[0m Error on outputChannelCreateTx: could not generate default config template: error parsing configuration: could not create orderer group: failed to create orderer org: 1 - Error loading MSP configuration for org: Orderer: could not load a valid ca certificate from directory /etc/hyperledger/crypto-config/ordererOrganizations/example.netr/msp/cacerts: stat /etc/hyperledger/crypto-config/ordererOrganizations/example.netr/msp/cacerts: no such file or directory
[31m2020-02-14 11:12:45.452 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/vtb.example.netr/users/Admin@vtb.example.netr/msp" does not exist
cat: crypto-config/peerOrganizations/vtb.example.netr/msp/admincerts/Admin@vtb.example.netr-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/vtb.example.netr/msp/cacerts/ca.vtb.example.netr-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/vtb.example.netr/msp/tlscacerts/tlsca.vtb.example.netr-cert.pem: No such file or directory
Execute: channel fetch config crypto-config/configtx/testchannel21874.pb -o orderer.example.netr:7050 -c testchannel21874 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.netr/msp/tlscacerts/tlsca.example.netr-cert.pem
[31m2020-02-14 11:12:45.507 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/vtb.example.netr/users/Admin@vtb.example.netr/msp" does not exist
configtxlator: error: open crypto-config/configtx/testchannel21874.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel21874.json: No such file or directory
>> Prepare config update from vtb for channel testchannel21874
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel21874 -o orderer.example.netr:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.netr/msp/tlscacerts/tlsca.example.netr-cert.pem
[31m2020-02-14 11:12:45.672 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/vtb.example.netr/users/Admin@vtb.example.netr/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel21874> channel exists in vtb.example.netr...[m[m[m
Error: No such container: cli.vtb.example.netr
[1;32mOK: The channel <testchannel21874> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel218740 vtb VERIFY: test-channel-exists.sh testchannel218740 vtb
[1;36m
Creating the <testchannel218740> channel for vtb.example.netr...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel218740[m[m[m
example.netr

Create channel vtb testchannel218740
--2020-02-14 11:12:48--  http://www.example.netr/msp/admincerts/Admin@example.netr-cert.pem
Resolving www.example.netr (www.example.netr)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.example.netrâ€™
--2020-02-14 11:12:48--  http://www.example.netr/msp/cacerts/ca.example.netr-cert.pem
Resolving www.example.netr (www.example.netr)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.example.netrâ€™
--2020-02-14 11:12:48--  http://www.example.netr/msp/tlscacerts/tlsca.example.netr-cert.pem
Resolving www.example.netr (www.example.netr)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.example.netrâ€™
--2020-02-14 11:12:48--  http://www.example.netr/msp/orderer.example.netr/tls/server.crt
Resolving www.example.netr (www.example.netr)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.example.netrâ€™
[34m2020-02-14 11:12:48.985 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:12:49.051 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:12:49.052 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:12:49.052 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:12:49.052 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:12:49.052 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:12:49.052 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:12:49.052 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:12:49.052 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:12:49.101 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:12:49.101 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:12:49.101 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:12:49.102 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:12:49.102 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:12:49.102 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:12:49.102 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[35m2020-02-14 11:12:49.102 UTC [common.tools.configtxgen] main -> FATA 011[0m Error on outputChannelCreateTx: could not generate default config template: error parsing configuration: could not create orderer group: failed to create orderer org: 1 - Error loading MSP configuration for org: Orderer: could not load a valid ca certificate from directory /etc/hyperledger/crypto-config/ordererOrganizations/example.netr/msp/cacerts: stat /etc/hyperledger/crypto-config/ordererOrganizations/example.netr/msp/cacerts: no such file or directory
[31m2020-02-14 11:12:49.165 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/vtb.example.netr/users/Admin@vtb.example.netr/msp" does not exist
cat: crypto-config/peerOrganizations/vtb.example.netr/msp/admincerts/Admin@vtb.example.netr-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/vtb.example.netr/msp/cacerts/ca.vtb.example.netr-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/vtb.example.netr/msp/tlscacerts/tlsca.vtb.example.netr-cert.pem: No such file or directory
Execute: channel fetch config crypto-config/configtx/testchannel218740.pb -o orderer.example.netr:7050 -c testchannel218740 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.netr/msp/tlscacerts/tlsca.example.netr-cert.pem
[31m2020-02-14 11:12:49.222 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/vtb.example.netr/users/Admin@vtb.example.netr/msp" does not exist
configtxlator: error: open crypto-config/configtx/testchannel218740.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel218740.json: No such file or directory
>> Prepare config update from vtb for channel testchannel218740
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel218740 -o orderer.example.netr:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.netr/msp/tlscacerts/tlsca.example.netr-cert.pem
[31m2020-02-14 11:12:49.388 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/vtb.example.netr/users/Admin@vtb.example.netr/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel218740> channel exists in vtb.example.netr...[m[m[m
Error: No such container: cli.vtb.example.netr
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 5_cli: exit code 1
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel218740 sberbank
[1;34m
Verifing if the <testchannel218740> channel exists in sberbank.example.netr...[m[m[m
Error: No such container: cli.sberbank.example.netr
[1;32mOK: The channel <testchannel218740> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel218740 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel218740 sberbank
[1;36m
Creating the <testchannel218740> channel for sberbank.example.netr...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel218740[m[m[m
example.netr

Create channel sberbank testchannel218740
--2020-02-14 11:12:52--  http://www.example.netr/msp/admincerts/Admin@example.netr-cert.pem
Resolving www.example.netr (www.example.netr)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.example.netrâ€™
--2020-02-14 11:12:52--  http://www.example.netr/msp/cacerts/ca.example.netr-cert.pem
Resolving www.example.netr (www.example.netr)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.example.netrâ€™
--2020-02-14 11:12:52--  http://www.example.netr/msp/tlscacerts/tlsca.example.netr-cert.pem
Resolving www.example.netr (www.example.netr)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.example.netrâ€™
--2020-02-14 11:12:52--  http://www.example.netr/msp/orderer.example.netr/tls/server.crt
Resolving www.example.netr (www.example.netr)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.example.netrâ€™
[34m2020-02-14 11:12:53.082 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:12:53.186 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:12:53.186 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:12:53.186 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:12:53.186 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:12:53.186 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:12:53.186 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:12:53.186 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:12:53.186 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:12:53.291 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:12:53.291 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:12:53.291 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:12:53.291 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:12:53.291 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:12:53.291 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:12:53.291 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[35m2020-02-14 11:12:53.291 UTC [common.tools.configtxgen] main -> FATA 011[0m Error on outputChannelCreateTx: could not generate default config template: error parsing configuration: could not create orderer group: failed to create orderer org: 1 - Error loading MSP configuration for org: Orderer: could not load a valid ca certificate from directory /etc/hyperledger/crypto-config/ordererOrganizations/example.netr/msp/cacerts: stat /etc/hyperledger/crypto-config/ordererOrganizations/example.netr/msp/cacerts: no such file or directory
[31m2020-02-14 11:12:53.389 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.netr/users/Admin@sberbank.example.netr/msp" does not exist
cat: crypto-config/peerOrganizations/sberbank.example.netr/msp/admincerts/Admin@sberbank.example.netr-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/sberbank.example.netr/msp/cacerts/ca.sberbank.example.netr-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/sberbank.example.netr/msp/tlscacerts/tlsca.sberbank.example.netr-cert.pem: No such file or directory
Execute: channel fetch config crypto-config/configtx/testchannel218740.pb -o orderer.example.netr:7050 -c testchannel218740 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.netr/msp/tlscacerts/tlsca.example.netr-cert.pem
[31m2020-02-14 11:12:53.528 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.netr/users/Admin@sberbank.example.netr/msp" does not exist
configtxlator: error: open crypto-config/configtx/testchannel218740.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel218740.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel218740
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel218740 -o orderer.example.netr:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.netr/msp/tlscacerts/tlsca.example.netr-cert.pem
[31m2020-02-14 11:12:53.888 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.netr/users/Admin@sberbank.example.netr/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel218740> channel exists in sberbank.example.netr...[m[m[m
Error: No such container: cli.sberbank.example.netr
[1;32mOK: The channel <testchannel218740> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
Step: 8_curl Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel7514 sberbank VERIFY: test-channel-exists.sh testchannel7514 sberbank
[1;36mCreating testchannel7514 channel in sberbank.example.netr using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3ODc3NX0.1I117MV86mnP6P9Jq9o4FFEu984FOS8MXRPbiOeyrlU
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.net:7051","name":"peer0.sberbank.example.net:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.net:7051","grpc.default_authority":"peer0.sberbank.example.net:7051"}}}] 200
[1;32mOK: Channel <testchannel7514> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel7514> channel exists in sberbank.example.netr...[m[m[m
Error: No such container: cli.sberbank.example.netr
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 8_curl: exit code 1
Step: 9_curl Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel7514 vtb
[1;34m
Verifing if the <testchannel7514> channel exists in vtb.example.netr...[m[m[m
Error: No such container: cli.vtb.example.netr
[1;32mOK: The channel <testchannel7514> does not exist and in not visible to vtb[m[m[m
Step 9_curl: exit code 0
Step: 10_curl Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel7514 sberbank VERIFY: test-exit-code.sh
[1;36mCreating ^^^^^^testchannel7514 channel in sberbank.example.netr using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3ODc3N30.gUA1-Wu6GzkLo_PF4utiWIazHq6Ap3STYrSF7yoiUmk
[1;32mOK: JWT token obtained.[m[m[m
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel7514\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 10_curl: exit code 127
Step: 11_curl Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel7514 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel7514 vtb
[1;36mCreating testchannel7514 channel in vtb.example.netr using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3ODc3OH0.45-pgs0Bo2ph2g3AlzvPTHQ4kn3BWRSXAlTF5I_ocVI
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel7514> channel exists in vtb.example.netr...[m[m[m
Error: No such container: cli.vtb.example.netr
[1;32mOK: The channel <testchannel7514> does not exist and in not visible to vtb[m[m[m
Step 11_curl: exit code 0
Step: 12_curl Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel75140 vtb VERIFY: test-channel-exists.sh testchannel75140 vtb
[1;36mCreating testchannel75140 channel in vtb.example.netr using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3ODc4MH0.KCN14mWoOmr_BjeLHNhUtM7r3caao77GFcViYd2m5E8
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.net:8051","name":"peer0.vtb.example.net:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.net:8051","grpc.default_authority":"peer0.vtb.example.net:8051"}}}] 200
[1;32mOK: Channel <testchannel75140> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel75140> channel exists in vtb.example.netr...[m[m[m
Error: No such container: cli.vtb.example.netr
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 12_curl: exit code 1
Step: 13_curl Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel75140 sberbank
[1;34m
Verifing if the <testchannel75140> channel exists in sberbank.example.netr...[m[m[m
Error: No such container: cli.sberbank.example.netr
[1;32mOK: The channel <testchannel75140> does not exist and in not visible to sberbank[m[m[m
Step 13_curl: exit code 0
Step: 14_curl Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel75140 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel75140 sberbank
[1;36mCreating testchannel75140 channel in sberbank.example.netr using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3ODc4Mn0.8Qua0bl9kqO8VB797HK1DMfx11TrHHTdn9LAsIPCKLg
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel75140> channel exists in sberbank.example.netr...[m[m[m
Error: No such container: cli.sberbank.example.netr
[1;32mOK: The channel <testchannel75140> does not exist and in not visible to sberbank[m[m[m
Step 14_curl: exit code 0
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel4568 sberbank VERIFY: test-channel-exists.sh testchannel4568 sberbank
[1;36m
Creating the <testchannel4568> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4568[m[m[m
example.net

Create channel sberbank testchannel4568
--2020-02-14 11:13:33--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:13:33--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:13:33--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:13:33--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:13:33.840 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:13:33.947 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:13:33.947 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:13:33.947 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:13:33.947 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:13:33.947 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:13:33.947 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:13:33.947 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:13:33.948 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:13:34.059 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:13:34.059 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:13:34.059 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:13:34.059 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:13:34.059 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:13:34.059 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:13:34.060 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:13:34.060 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:13:34.061 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 11:13:34.061 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:13:34.061 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:13:34.061 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:13:34.062 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 11:13:34.062 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:13:34.170 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:13:34.221 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel4568.pb -o orderer.example.net:7050 -c testchannel4568 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:13:34.371 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:13:34.374 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 11:13:34.376 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 11:13:34.376 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel4568
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4568 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:13:34.836 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:13:34.848 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel4568> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel4568> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:13:36.926 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:13:36.929 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 11:13:36.931 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 11:13:36.931 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel4568",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T11:13:34Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel4568> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel4568 vtb
[1;34m
Verifing if the <testchannel4568> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:13:37.641 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:13:37.642 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel4568> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel4568 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel4568> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel4568[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel4568
--2020-02-14 11:13:40--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:13:40--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:13:40--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:13:40--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:13:40.131 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:13:40.184 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:13:40.184 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:13:40.184 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:13:40.184 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:13:40.184 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:13:40.184 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:13:40.184 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:13:40.184 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:13:40.235 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:13:40.235 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:13:40.235 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:13:40.235 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:13:40.235 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:13:40.235 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:13:40.235 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:13:40.235 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:13:40.236 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 11:13:40.236 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:13:40.236 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:13:40.236 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:13:40.237 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 11:13:40.237 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:13:40.307 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel4568' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel4568.pb -o orderer.example.net:7050 -c ^^^^^^testchannel4568 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:13:40.384 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:13:40.385 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel4568.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel4568.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel4568
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel4568 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:13:40.590 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel4568' != '^^^^^^testchannel4568'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel4568 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel4568 vtb
[1;36m
Creating the <testchannel4568> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4568[m[m[m
example.net

Create channel vtb testchannel4568
--2020-02-14 11:13:43--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:13:43--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:13:43--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:13:43--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:13:44.088 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:13:44.191 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:13:44.191 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:13:44.191 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:13:44.191 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:13:44.191 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:13:44.191 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:13:44.191 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:13:44.191 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:13:44.284 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:13:44.284 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:13:44.284 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:13:44.284 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:13:44.284 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:13:44.284 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:13:44.285 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:13:44.285 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:13:44.286 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 11:13:44.286 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:13:44.287 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:13:44.287 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:13:44.287 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 11:13:44.288 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:13:44.453 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel4568.pb -o orderer.example.net:7050 -c testchannel4568 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:13:44.563 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:13:44.565 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel4568.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel4568.json: No such file or directory
>> Prepare config update from vtb for channel testchannel4568
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4568 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:13:44.870 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel4568> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:13:46.007 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:13:46.009 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel4568> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel45680 vtb VERIFY: test-channel-exists.sh testchannel45680 vtb
[1;36m
Creating the <testchannel45680> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel45680[m[m[m
example.net

Create channel vtb testchannel45680
--2020-02-14 11:13:48--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:13:48--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:13:48--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:13:48--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:13:48.362 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:13:48.412 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:13:48.412 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:13:48.412 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:13:48.412 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:13:48.412 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:13:48.412 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:13:48.412 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:13:48.412 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:13:48.461 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:13:48.461 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:13:48.461 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:13:48.461 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:13:48.461 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:13:48.461 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:13:48.461 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:13:48.461 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:13:48.462 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 11:13:48.462 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:13:48.462 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:13:48.462 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:13:48.462 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 11:13:48.462 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:13:48.517 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:13:48.552 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel45680.pb -o orderer.example.net:7050 -c testchannel45680 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:13:48.616 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:13:48.620 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 11:13:48.621 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 11:13:48.621 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel45680
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel45680 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:13:48.938 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:13:48.947 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel45680> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel45680> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:13:51.072 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:13:51.074 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 11:13:51.076 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 11:13:51.076 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel45680",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T11:13:48Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel45680> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel45680 sberbank
[1;34m
Verifing if the <testchannel45680> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:13:51.627 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:13:51.629 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel45680> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel45680 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel45680 sberbank
[1;36m
Creating the <testchannel45680> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel45680[m[m[m
example.net

Create channel sberbank testchannel45680
--2020-02-14 11:13:54--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:13:54--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:13:54--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:13:54--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:13:54.865 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:13:54.935 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:13:54.935 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:13:54.935 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:13:54.936 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:13:54.936 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:13:54.936 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:13:54.936 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:13:54.936 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:13:54.999 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:13:54.999 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:13:54.999 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:13:54.999 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:13:54.999 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:13:54.999 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:13:54.999 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:13:54.999 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:13:55.000 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 11:13:55.000 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:13:55.000 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:13:55.000 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:13:55.001 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 11:13:55.001 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:13:55.082 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel45680.pb -o orderer.example.net:7050 -c testchannel45680 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:13:55.245 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:13:55.251 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel45680.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel45680.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel45680
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel45680 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:13:55.549 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel45680> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:13:56.557 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:13:56.563 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel45680> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
Step: 8_curl Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel14922 sberbank VERIFY: test-channel-exists.sh testchannel14922 sberbank
[1;36mCreating testchannel14922 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3ODgzNn0.yqLS_riUgjpR_u7grokhgUF4eZIPuV3IhJrWPmTXxWo
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.net:7051","name":"peer0.sberbank.example.net:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.net:7051","grpc.default_authority":"peer0.sberbank.example.net:7051"}}}] 200
[1;32mOK: Channel <testchannel14922> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel14922> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:13:58.910 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:13:58.911 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 11:13:58.912 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 11:13:58.912 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel14922",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T11:13:57Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel14922> exists and visible to sberbank[m[m[m
Step 8_curl: exit code 0
Step: 9_curl Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel14922 vtb
[1;34m
Verifing if the <testchannel14922> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:13:59.484 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:13:59.487 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel14922> does not exist and in not visible to vtb[m[m[m
Step 9_curl: exit code 0
Step: 10_curl Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel14922 sberbank VERIFY: test-exit-code.sh
[1;36mCreating ^^^^^^testchannel14922 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3ODgzOX0.CBOvNLdFyLbXutzcNxAedD3nABbSMpNShWn4pSWPkFQ
[1;32mOK: JWT token obtained.[m[m[m
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel14922\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 10_curl: exit code 127
Step: 11_curl Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel14922 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel14922 vtb
[1;36mCreating testchannel14922 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3ODg0MX0.EOgiY1PoLzUBfSRJmxBLvkC3c8-vMu8K6f4jHTOCgHc
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel14922> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:14:04.067 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:14:04.071 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel14922> does not exist and in not visible to vtb[m[m[m
Step 11_curl: exit code 0
Step: 12_curl Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel149220 vtb VERIFY: test-channel-exists.sh testchannel149220 vtb
[1;36mCreating testchannel149220 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3ODg0NH0.4MliS0HUNSq6-zEy0329f4CMP4K-7BCmxriDbzSjE1s
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.net:8051","name":"peer0.vtb.example.net:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.net:8051","grpc.default_authority":"peer0.vtb.example.net:8051"}}}] 200
[1;32mOK: Channel <testchannel149220> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel149220> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:14:06.620 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:14:06.622 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 11:14:06.623 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 11:14:06.623 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel149220",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T11:14:05Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel149220> exists and visible to vtb[m[m[m
Step 12_curl: exit code 0
Step: 13_curl Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel149220 sberbank
[1;34m
Verifing if the <testchannel149220> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:14:07.166 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:14:07.169 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel149220> does not exist and in not visible to sberbank[m[m[m
Step 13_curl: exit code 0
Step: 14_curl Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel149220 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel149220 sberbank
[1;36mCreating testchannel149220 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3ODg0N30.6AQNZzacuMQNrkB84Ugov_WkSURaGTN18l4y1ecFqp4
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel149220> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:14:09.324 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:14:09.327 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel149220> does not exist and in not visible to sberbank[m[m[m
Step 14_curl: exit code 0
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel12936 sberbank VERIFY: test-channel-exists.sh testchannel12936 sberbank
[1;36m
Creating the <testchannel12936> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel12936[m[m[m
example.net

Create channel sberbank testchannel12936
--2020-02-14 11:18:48--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:18:48--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:18:48--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:18:48--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:18:48.371 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:18:48.420 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:18:48.420 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:18:48.420 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:18:48.420 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:18:48.420 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:18:48.420 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:18:48.420 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:18:48.420 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:18:48.469 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:18:48.469 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:18:48.469 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:18:48.469 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:18:48.469 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:18:48.469 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:18:48.469 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:18:48.470 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:18:48.470 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 11:18:48.470 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:18:48.470 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:18:48.471 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:18:48.471 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 11:18:48.471 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:18:48.530 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:18:48.563 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel12936.pb -o orderer.example.net:7050 -c testchannel12936 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:18:48.651 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:18:48.652 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 11:18:48.653 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 11:18:48.653 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel12936
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel12936 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:18:48.992 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:18:49.001 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel12936> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel12936> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:18:51.118 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:18:51.121 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 11:18:51.122 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 11:18:51.122 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel12936",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T11:18:48Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel12936> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel12936 vtb
[1;34m
Verifing if the <testchannel12936> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:18:51.653 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:18:51.655 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel12936> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel12936 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel12936> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel12936[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel12936
--2020-02-14 11:18:54--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:18:54--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:18:54--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:18:54--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:18:54.302 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:18:54.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:18:54.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:18:54.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:18:54.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:18:54.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:18:54.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:18:54.411 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:18:54.411 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:18:54.548 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:18:54.548 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:18:54.548 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:18:54.549 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:18:54.549 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:18:54.549 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:18:54.550 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:18:54.551 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:18:54.552 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 11:18:54.553 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:18:54.553 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:18:54.554 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:18:54.555 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 11:18:54.555 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:18:54.695 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel12936' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel12936.pb -o orderer.example.net:7050 -c ^^^^^^testchannel12936 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:18:54.848 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:18:54.851 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel12936.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel12936.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel12936
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel12936 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:18:55.060 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel12936' != '^^^^^^testchannel12936'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel12936 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel12936 vtb
[1;36m
Creating the <testchannel12936> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel12936[m[m[m
example.net

Create channel vtb testchannel12936
--2020-02-14 11:18:57--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:18:57--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:18:57--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:18:57--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:18:57.959 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:18:58.012 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:18:58.012 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:18:58.012 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:18:58.012 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:18:58.012 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:18:58.012 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:18:58.012 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:18:58.012 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:18:58.063 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:18:58.063 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:18:58.063 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:18:58.063 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:18:58.063 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:18:58.063 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:18:58.063 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:18:58.064 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:18:58.064 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 11:18:58.064 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:18:58.064 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:18:58.064 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:18:58.065 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 11:18:58.065 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:18:58.120 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel12936.pb -o orderer.example.net:7050 -c testchannel12936 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:18:58.192 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:18:58.194 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel12936.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel12936.json: No such file or directory
>> Prepare config update from vtb for channel testchannel12936
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel12936 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:18:58.365 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel12936> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:18:59.344 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:18:59.347 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel12936> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel129360 vtb VERIFY: test-channel-exists.sh testchannel129360 vtb
[1;36m
Creating the <testchannel129360> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel129360[m[m[m
example.net

Create channel vtb testchannel129360
--2020-02-14 11:19:01--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:19:01--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:19:01--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:19:01--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:19:01.650 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:19:01.721 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:19:01.721 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:19:01.722 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:19:01.722 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:19:01.722 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:19:01.722 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:19:01.722 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:19:01.722 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:19:01.779 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:19:01.779 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:19:01.779 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:19:01.779 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:19:01.779 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:19:01.779 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:19:01.779 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:19:01.780 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:19:01.780 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 11:19:01.780 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:19:01.780 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:19:01.780 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:19:01.781 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 11:19:01.781 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:19:01.836 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:19:01.877 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel129360.pb -o orderer.example.net:7050 -c testchannel129360 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:19:02.021 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:19:02.023 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 11:19:02.024 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 11:19:02.024 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel129360
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel129360 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:19:02.348 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:19:02.357 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel129360> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel129360> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:19:05.096 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:19:05.100 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 11:19:05.102 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 11:19:05.102 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel129360",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T11:19:02Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel129360> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel129360 sberbank
[1;34m
Verifing if the <testchannel129360> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:19:05.742 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:19:05.745 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel129360> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel129360 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel129360 sberbank
[1;36m
Creating the <testchannel129360> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel129360[m[m[m
example.net

Create channel sberbank testchannel129360
--2020-02-14 11:19:08--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:19:08--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:19:08--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:19:08--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:19:08.112 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:19:08.164 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:19:08.164 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:19:08.164 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:19:08.164 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:19:08.164 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:19:08.164 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:19:08.164 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:19:08.164 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:19:08.213 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:19:08.213 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:19:08.213 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:19:08.213 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:19:08.213 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:19:08.213 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:19:08.213 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:19:08.214 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:19:08.214 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 11:19:08.214 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:19:08.214 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:19:08.214 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:19:08.215 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 11:19:08.215 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:19:08.271 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel129360.pb -o orderer.example.net:7050 -c testchannel129360 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:19:08.336 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:19:08.338 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel129360.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel129360.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel129360
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel129360 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:19:08.506 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel129360> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:19:09.581 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:19:09.583 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel129360> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
Step: 8_curl Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel32509 sberbank VERIFY: test-channel-exists.sh testchannel32509 sberbank
[1;36mCreating testchannel32509 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3OTE0OX0.PLFFwH7tQdM2f73G6N081sktY_9LqySdz930iowrwVU
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.net:7051","name":"peer0.sberbank.example.net:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.net:7051","grpc.default_authority":"peer0.sberbank.example.net:7051"}}}] 200
[1;32mOK: Channel <testchannel32509> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel32509> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:19:11.831 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:19:11.833 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 11:19:11.834 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 11:19:11.834 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel32509",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T11:19:10Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel32509> exists and visible to sberbank[m[m[m
Step 8_curl: exit code 0
Step: 9_curl Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel32509 vtb
[1;34m
Verifing if the <testchannel32509> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:19:12.352 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:19:12.354 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel32509> does not exist and in not visible to vtb[m[m[m
Step 9_curl: exit code 0
Step: 10_curl Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel32509 sberbank VERIFY: test-exit-code.sh
[1;36mCreating ^^^^^^testchannel32509 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3OTE1Mn0.Tjhp08NY8Rlj3A1-nfeQFaFAgzpOLHr6KDM_nCW7JxE
[1;32mOK: JWT token obtained.[m[m[m
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel32509\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 10_curl: exit code 127
Step: 11_curl Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel32509 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel32509 vtb
[1;36mCreating testchannel32509 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3OTE1Nn0.0uctzoxCJ43t8Ju8gi5r1E9kQGUFBffQDtkL_EzzCKA
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel32509> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:19:17.733 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:19:17.735 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel32509> does not exist and in not visible to vtb[m[m[m
Step 11_curl: exit code 0
Step: 12_curl Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel325090 vtb VERIFY: test-channel-exists.sh testchannel325090 vtb
[1;36mCreating testchannel325090 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3OTE1OH0.IBEj0IAMcEz8v83pXmuFWJ9IpY0Q0-ejJkITSQ8VQUE
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.net:8051","name":"peer0.vtb.example.net:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.net:8051","grpc.default_authority":"peer0.vtb.example.net:8051"}}}] 200
[1;32mOK: Channel <testchannel325090> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel325090> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:19:19.969 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:19:19.972 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 11:19:19.973 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 11:19:19.974 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel325090",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T11:19:18Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel325090> exists and visible to vtb[m[m[m
Step 12_curl: exit code 0
Step: 13_curl Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel325090 sberbank
[1;34m
Verifing if the <testchannel325090> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:19:20.496 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:19:20.499 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel325090> does not exist and in not visible to sberbank[m[m[m
Step 13_curl: exit code 0
Step: 14_curl Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel325090 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel325090 sberbank
[1;36mCreating testchannel325090 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3OTE2MH0._mFnTCvOnSRdMMo5PlKcjhq5qCppa7x-WrFXC4zYoKY
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel325090> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:19:22.547 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:19:22.548 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel325090> does not exist and in not visible to sberbank[m[m[m
Step 14_curl: exit code 0
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel1927 sberbank VERIFY: test-channel-exists.sh testchannel1927 sberbank
[1;36m
Creating the <testchannel1927> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel1927[m[m[m
example.net

Create channel sberbank testchannel1927
--2020-02-14 11:20:02--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:20:02--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:20:02--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:20:02--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:20:02.848 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:20:02.898 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:20:02.898 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:20:02.898 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:20:02.898 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:20:02.898 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:20:02.898 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:20:02.898 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:20:02.898 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:20:02.968 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:20:02.968 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:20:02.968 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:20:02.968 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:20:02.968 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:20:02.968 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:20:02.968 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:20:02.969 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:20:02.969 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 11:20:02.969 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:20:02.969 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:20:02.970 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:20:02.970 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 11:20:02.970 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:20:03.074 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:20:03.154 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel1927.pb -o orderer.example.net:7050 -c testchannel1927 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:20:03.386 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:20:03.392 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 11:20:03.395 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 11:20:03.395 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel1927
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel1927 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:20:04.127 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:20:04.158 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel1927> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel1927> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:20:06.336 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:20:06.338 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 11:20:06.339 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 11:20:06.339 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel1927",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T11:20:04Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel1927> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel1927 vtb
[1;34m
Verifing if the <testchannel1927> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:20:06.882 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:20:06.884 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel1927> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel1927 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel1927> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel1927[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel1927
--2020-02-14 11:20:09--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:20:09--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:20:09--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:20:09--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:20:09.195 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:20:09.245 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:20:09.245 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:20:09.245 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:20:09.245 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:20:09.245 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:20:09.245 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:20:09.245 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:20:09.245 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:20:09.294 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:20:09.294 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:20:09.295 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:20:09.295 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:20:09.295 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:20:09.295 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:20:09.295 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:20:09.295 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:20:09.295 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 11:20:09.295 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:20:09.295 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:20:09.296 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:20:09.296 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 11:20:09.296 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:20:09.353 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel1927' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel1927.pb -o orderer.example.net:7050 -c ^^^^^^testchannel1927 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:20:09.424 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:20:09.425 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel1927.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel1927.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel1927
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel1927 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:20:09.620 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel1927' != '^^^^^^testchannel1927'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel1927 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel1927 vtb
[1;36m
Creating the <testchannel1927> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel1927[m[m[m
example.net

Create channel vtb testchannel1927
--2020-02-14 11:20:12--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:20:12--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:20:12--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:20:12--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:20:12.499 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:20:12.565 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:20:12.565 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:20:12.565 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:20:12.565 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:20:12.565 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:20:12.565 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:20:12.565 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:20:12.565 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:20:12.629 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:20:12.629 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:20:12.630 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:20:12.630 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:20:12.630 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:20:12.630 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:20:12.630 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:20:12.630 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:20:12.631 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 11:20:12.631 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:20:12.631 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:20:12.631 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:20:12.631 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 11:20:12.631 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:20:12.712 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel1927.pb -o orderer.example.net:7050 -c testchannel1927 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:20:12.801 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:20:12.805 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel1927.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel1927.json: No such file or directory
>> Prepare config update from vtb for channel testchannel1927
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel1927 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:20:13.017 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel1927> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:20:15.302 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:20:15.305 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel1927> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel19270 vtb VERIFY: test-channel-exists.sh testchannel19270 vtb
[1;36m
Creating the <testchannel19270> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel19270[m[m[m
example.net

Create channel vtb testchannel19270
--2020-02-14 11:20:17--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:20:17--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:20:17--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:20:17--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:20:17.945 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:20:17.996 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:20:17.996 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:20:17.996 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:20:17.996 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:20:17.996 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:20:17.996 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:20:17.996 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:20:17.996 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:20:18.051 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:20:18.051 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:20:18.051 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:20:18.051 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:20:18.051 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:20:18.051 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:20:18.051 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:20:18.051 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:20:18.052 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 11:20:18.052 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:20:18.052 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:20:18.052 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:20:18.053 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 11:20:18.053 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:20:18.113 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:20:18.148 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel19270.pb -o orderer.example.net:7050 -c testchannel19270 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:20:18.214 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:20:18.217 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 11:20:18.218 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 11:20:18.219 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel19270
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel19270 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:20:18.549 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:20:18.561 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel19270> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel19270> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:20:20.857 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:20:20.859 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 11:20:20.860 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 11:20:20.860 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel19270",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T11:20:18Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel19270> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel19270 sberbank
[1;34m
Verifing if the <testchannel19270> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:20:21.430 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:20:21.431 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel19270> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel19270 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel19270 sberbank
[1;36m
Creating the <testchannel19270> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel19270[m[m[m
example.net

Create channel sberbank testchannel19270
--2020-02-14 11:20:24--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:20:24--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:20:24--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:20:24--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:20:24.145 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:20:24.284 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:20:24.284 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:20:24.284 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:20:24.284 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:20:24.284 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:20:24.284 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:20:24.284 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:20:24.284 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:20:24.453 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:20:24.453 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:20:24.453 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:20:24.453 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:20:24.453 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:20:24.453 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:20:24.453 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:20:24.454 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:20:24.454 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 11:20:24.454 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:20:24.454 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:20:24.455 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:20:24.455 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 11:20:24.455 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:20:24.697 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel19270.pb -o orderer.example.net:7050 -c testchannel19270 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:20:24.965 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:20:24.977 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel19270.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel19270.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel19270
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel19270 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:20:25.606 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel19270> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:20:27.512 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:20:27.516 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel19270> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
Step: 8_curl Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel3553 sberbank VERIFY: test-channel-exists.sh testchannel3553 sberbank
[1;36mCreating testchannel3553 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3OTIyOH0.ghei9yEW_0k4AG1AlbI-Kg-dr5wa55YV53Qf86bkOFI
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.net:7051","name":"peer0.sberbank.example.net:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.net:7051","grpc.default_authority":"peer0.sberbank.example.net:7051"}}}] 200
[1;32mOK: Channel <testchannel3553> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel3553> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:20:30.425 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:20:30.428 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 11:20:30.430 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 11:20:30.430 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel3553",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T11:20:29Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel3553> exists and visible to sberbank[m[m[m
Step 8_curl: exit code 0
Step: 9_curl Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel3553 vtb
[1;34m
Verifing if the <testchannel3553> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:20:31.087 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:20:31.089 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel3553> does not exist and in not visible to vtb[m[m[m
Step 9_curl: exit code 0
Step: 10_curl Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel3553 sberbank VERIFY: test-exit-code.sh
[1;36mCreating ^^^^^^testchannel3553 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3OTIzMX0.eZVmhActNSltWYPfXoizpF_OcXeiHyiZB9_P9Btu6aA
[1;32mOK: JWT token obtained.[m[m[m
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel3553\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 10_curl: exit code 127
Step: 11_curl Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel3553 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel3553 vtb
[1;36mCreating testchannel3553 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3OTIzM30.XuMpW-sk1-w03YP7eVqlo5QNKn5VUOWvua4BsE9p_QQ
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel3553> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:20:36.730 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:20:36.732 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel3553> does not exist and in not visible to vtb[m[m[m
Step 11_curl: exit code 0
Step: 12_curl Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel35530 vtb VERIFY: test-channel-exists.sh testchannel35530 vtb
[1;36mCreating testchannel35530 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3OTIzN30.UciW0x5fqGR2bvOErd4Zql4E_PDJsuEW_9_KoZ1pow8
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.net:8051","name":"peer0.vtb.example.net:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.net:8051","grpc.default_authority":"peer0.vtb.example.net:8051"}}}] 200
[1;32mOK: Channel <testchannel35530> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel35530> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:20:39.197 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:20:39.200 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 11:20:39.201 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 11:20:39.201 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel35530",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T11:20:37Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel35530> exists and visible to vtb[m[m[m
Step 12_curl: exit code 0
Step: 13_curl Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel35530 sberbank
[1;34m
Verifing if the <testchannel35530> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:20:39.847 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:20:39.850 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel35530> does not exist and in not visible to sberbank[m[m[m
Step 13_curl: exit code 0
Step: 14_curl Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel35530 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel35530 sberbank
[1;36mCreating testchannel35530 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY3OTI0MH0.TDlv_zOZMSkY4WMYT_EN6KTNIdQS382q3wDPmjKy_N0
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel35530> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:20:42.252 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:20:42.255 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel35530> does not exist and in not visible to sberbank[m[m[m
Step 14_curl: exit code 0
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel30698 sberbank VERIFY: test-channel-exists.sh testchannel30698 sberbank
[1;36m
Creating the <testchannel30698> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel30698[m[m[m
example.net

Create channel sberbank testchannel30698
--2020-02-14 11:20:56--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:20:56--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:20:56--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:20:56--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:20:56.694 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:20:56.745 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:20:56.745 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:20:56.745 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:20:56.745 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:20:56.745 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:20:56.745 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:20:56.745 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:20:56.745 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:20:56.796 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:20:56.796 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:20:56.796 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:20:56.796 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:20:56.796 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:20:56.796 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:20:56.796 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:20:56.796 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:20:56.797 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 11:20:56.797 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:20:56.797 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:20:56.797 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:20:56.798 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 11:20:56.798 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:20:56.854 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:20:56.887 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel30698.pb -o orderer.example.net:7050 -c testchannel30698 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:20:56.951 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:20:56.953 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 11:20:56.954 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 11:20:56.955 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel30698
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel30698 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:20:57.273 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:20:57.283 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel30698> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel30698> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:20:59.383 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:20:59.387 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 11:20:59.388 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 11:20:59.388 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel30698",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T11:20:57Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel30698> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel30698 vtb
[1;34m
Verifing if the <testchannel30698> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:20:59.958 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:20:59.959 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel30698> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel30698 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel30698> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel30698[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel30698
--2020-02-14 11:21:02--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:21:02--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:21:02--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:21:02--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:21:02.138 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:21:02.190 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:21:02.190 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:21:02.190 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:21:02.190 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:21:02.190 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:21:02.190 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:21:02.190 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:21:02.190 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:21:02.239 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:21:02.239 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:21:02.239 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:21:02.239 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:21:02.239 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:21:02.239 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:21:02.239 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:21:02.239 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:21:02.240 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 11:21:02.240 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:21:02.240 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:21:02.240 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:21:02.240 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 11:21:02.241 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:21:02.295 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel30698' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel30698.pb -o orderer.example.net:7050 -c ^^^^^^testchannel30698 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:21:02.365 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:21:02.367 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel30698.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel30698.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel30698
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel30698 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:21:02.540 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel30698' != '^^^^^^testchannel30698'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel30698 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel30698 vtb
[1;36m
Creating the <testchannel30698> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel30698[m[m[m
example.net

Create channel vtb testchannel30698
--2020-02-14 11:21:06--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:21:06--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:21:06--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:21:06--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:21:06.439 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:21:06.497 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:21:06.497 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:21:06.497 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:21:06.497 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:21:06.497 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:21:06.497 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:21:06.497 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:21:06.497 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:21:06.547 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:21:06.547 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:21:06.547 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:21:06.547 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:21:06.547 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:21:06.547 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:21:06.547 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:21:06.548 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:21:06.548 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 11:21:06.548 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:21:06.548 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:21:06.549 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:21:06.549 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 11:21:06.549 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:21:06.605 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel30698.pb -o orderer.example.net:7050 -c testchannel30698 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:21:06.675 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:21:06.677 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel30698.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel30698.json: No such file or directory
>> Prepare config update from vtb for channel testchannel30698
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel30698 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:21:06.851 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel30698> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:21:07.847 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:21:07.849 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel30698> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel306980 vtb VERIFY: test-channel-exists.sh testchannel306980 vtb
[1;36m
Creating the <testchannel306980> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel306980[m[m[m
example.net

Create channel vtb testchannel306980
--2020-02-14 11:21:10--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:21:10--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:21:10--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:21:10--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:21:10.135 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:21:10.187 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:21:10.187 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:21:10.187 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:21:10.187 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:21:10.187 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:21:10.187 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:21:10.187 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:21:10.187 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:21:10.235 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:21:10.235 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:21:10.235 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:21:10.235 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:21:10.235 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:21:10.235 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:21:10.235 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:21:10.235 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:21:10.236 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 11:21:10.236 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:21:10.236 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:21:10.236 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:21:10.236 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 11:21:10.237 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:21:10.292 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:21:10.328 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel306980.pb -o orderer.example.net:7050 -c testchannel306980 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:21:10.393 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:21:10.395 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 11:21:10.396 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 11:21:10.396 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel306980
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel306980 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:21:10.697 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:21:10.706 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel306980> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel306980> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:21:12.834 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:21:12.837 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 11:21:12.838 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 11:21:12.838 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel306980",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T11:21:10Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel306980> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel306980 sberbank
[1;34m
Verifing if the <testchannel306980> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:21:13.796 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:21:13.801 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel306980> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel306980 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel306980 sberbank
[1;36m
Creating the <testchannel306980> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel306980[m[m[m
example.net

Create channel sberbank testchannel306980
--2020-02-14 11:21:16--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:21:16--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:21:16--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:21:16--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:21:16.765 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:21:16.824 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:21:16.824 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:21:16.824 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:21:16.824 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:21:16.824 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:21:16.824 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:21:16.824 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:21:16.824 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:21:16.878 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:21:16.878 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:21:16.878 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:21:16.878 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:21:16.878 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:21:16.878 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:21:16.878 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:21:16.878 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:21:16.879 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 11:21:16.879 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:21:16.879 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:21:16.879 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:21:16.880 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 11:21:16.880 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:21:16.936 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel306980.pb -o orderer.example.net:7050 -c testchannel306980 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:21:17.009 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:21:17.011 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel306980.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel306980.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel306980
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel306980 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:21:17.204 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel306980> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:21:18.172 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:21:18.174 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel306980> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel12949 sberbank VERIFY: test-channel-exists.sh testchannel12949 sberbank
[1;36m
Creating the <testchannel12949> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel12949[m[m[m
example.net

Create channel sberbank testchannel12949
--2020-02-14 11:23:03--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:23:03--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:23:03--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:23:03--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:23:03.222 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:23:03.356 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:23:03.356 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:23:03.356 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:23:03.356 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:23:03.356 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:23:03.356 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:23:03.356 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:23:03.356 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:23:03.491 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:23:03.491 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:23:03.492 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:23:03.492 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:23:03.492 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:23:03.492 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:23:03.492 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:23:03.494 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:23:03.496 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 11:23:03.497 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:23:03.497 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:23:03.498 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:23:03.499 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 11:23:03.500 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:23:03.654 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:23:03.707 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel12949.pb -o orderer.example.net:7050 -c testchannel12949 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:23:03.862 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:23:03.866 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 11:23:03.868 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 11:23:03.868 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel12949
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel12949 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:23:04.634 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:23:04.658 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel12949> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel12949> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:23:06.716 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:23:06.719 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 11:23:06.720 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 11:23:06.720 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel12949",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T11:23:04Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel12949> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel12949 vtb
[1;34m
Verifing if the <testchannel12949> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:23:07.277 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:23:07.279 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel12949> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel12949 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel12949> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel12949[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel12949
--2020-02-14 11:23:09--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:23:09--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:23:09--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:23:09--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:23:09.686 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:23:09.735 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:23:09.735 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:23:09.735 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:23:09.735 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:23:09.735 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:23:09.735 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:23:09.735 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:23:09.735 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:23:09.786 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:23:09.786 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:23:09.786 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:23:09.786 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:23:09.786 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:23:09.786 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:23:09.787 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:23:09.787 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:23:09.787 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 11:23:09.787 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:23:09.787 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:23:09.788 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:23:09.788 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 11:23:09.788 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:23:09.850 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel12949' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel12949.pb -o orderer.example.net:7050 -c ^^^^^^testchannel12949 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:23:09.926 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:23:09.928 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel12949.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel12949.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel12949
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel12949 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:23:10.104 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel12949' != '^^^^^^testchannel12949'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel12949 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel12949 vtb
[1;36m
Creating the <testchannel12949> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel12949[m[m[m
example.net

Create channel vtb testchannel12949
--2020-02-14 11:23:12--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:23:12--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:23:12--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:23:12--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:23:12.932 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:23:12.982 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:23:12.982 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:23:12.982 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:23:12.982 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:23:12.982 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:23:12.982 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:23:12.982 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:23:12.982 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:23:13.034 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:23:13.034 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:23:13.034 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:23:13.034 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:23:13.034 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:23:13.034 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:23:13.034 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:23:13.035 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:23:13.035 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 11:23:13.035 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:23:13.035 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:23:13.036 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:23:13.036 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 11:23:13.036 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:23:13.098 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel12949.pb -o orderer.example.net:7050 -c testchannel12949 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:23:13.176 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:23:13.178 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel12949.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel12949.json: No such file or directory
>> Prepare config update from vtb for channel testchannel12949
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel12949 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:23:13.723 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel12949> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:23:15.611 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:23:15.615 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel12949> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel129490 vtb VERIFY: test-channel-exists.sh testchannel129490 vtb
[1;36m
Creating the <testchannel129490> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel129490[m[m[m
example.net

Create channel vtb testchannel129490
--2020-02-14 11:23:18--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:23:18--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:23:18--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:23:18--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:23:18.108 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:23:18.159 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:23:18.159 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:23:18.159 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:23:18.159 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:23:18.159 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:23:18.159 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:23:18.159 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:23:18.159 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:23:18.208 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:23:18.208 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:23:18.208 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:23:18.208 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:23:18.208 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:23:18.208 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:23:18.208 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:23:18.209 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:23:18.209 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 11:23:18.209 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:23:18.209 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:23:18.210 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:23:18.210 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 11:23:18.210 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:23:18.266 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:23:18.303 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel129490.pb -o orderer.example.net:7050 -c testchannel129490 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:23:18.367 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:23:18.369 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 11:23:18.370 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 11:23:18.371 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel129490
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel129490 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:23:18.668 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:23:18.677 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel129490> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel129490> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:23:20.753 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:23:20.756 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 11:23:20.757 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 11:23:20.757 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel129490",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T11:23:18Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel129490> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel129490 sberbank
[1;34m
Verifing if the <testchannel129490> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:23:21.304 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:23:21.306 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel129490> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel129490 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel129490 sberbank
[1;36m
Creating the <testchannel129490> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel129490[m[m[m
example.net

Create channel sberbank testchannel129490
--2020-02-14 11:23:23--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:23:23--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:23:23--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:23:23--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:23:23.905 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:23:24.005 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:23:24.005 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:23:24.005 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:23:24.005 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:23:24.005 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:23:24.005 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:23:24.005 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:23:24.006 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:23:24.092 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:23:24.092 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:23:24.092 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:23:24.092 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:23:24.092 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:23:24.092 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:23:24.092 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:23:24.093 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:23:24.093 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 11:23:24.093 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:23:24.093 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:23:24.094 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:23:24.094 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 11:23:24.095 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:23:24.343 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel129490.pb -o orderer.example.net:7050 -c testchannel129490 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:23:24.614 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:23:24.617 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel129490.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel129490.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel129490
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel129490 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:23:24.988 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel129490> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:23:26.377 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:23:26.379 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel129490> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel21103 sberbank VERIFY: test-channel-exists.sh testchannel21103 sberbank
[1;36m
Creating the <testchannel21103> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel21103[m[m[m
example.net

Create channel sberbank testchannel21103
--2020-02-14 11:56:51--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:56:51--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:56:51--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:56:51--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:56:51.314 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:56:51.365 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:56:51.366 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:56:51.366 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:56:51.366 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:56:51.366 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:56:51.366 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:56:51.366 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:56:51.366 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:56:51.416 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:56:51.416 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:56:51.416 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:56:51.416 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:56:51.416 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:56:51.416 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:56:51.416 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:56:51.416 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:56:51.417 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 11:56:51.417 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:56:51.417 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:56:51.418 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:56:51.418 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 11:56:51.418 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:56:51.475 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:56:51.511 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel21103.pb -o orderer.example.net:7050 -c testchannel21103 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:56:51.595 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:56:51.597 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 11:56:51.598 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 11:56:51.598 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel21103
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel21103 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:56:51.909 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:56:51.919 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel21103> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel21103> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:56:53.990 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:56:53.993 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 11:56:53.994 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 11:56:53.994 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel21103",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T11:56:51Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel21103> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel21103 vtb
[1;34m
Verifing if the <testchannel21103> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:56:54.490 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:56:54.492 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel21103> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel21103 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel21103> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel21103[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel21103
--2020-02-14 11:56:57--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:56:57--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:56:57--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:56:57--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:56:57.255 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:56:57.364 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:56:57.364 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:56:57.364 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:56:57.364 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:56:57.364 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:56:57.365 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:56:57.365 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:56:57.365 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:56:57.473 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:56:57.473 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:56:57.473 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:56:57.473 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:56:57.473 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:56:57.473 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:56:57.473 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:56:57.474 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:56:57.474 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 11:56:57.474 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:56:57.475 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:56:57.475 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:56:57.475 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 11:56:57.476 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:56:57.588 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel21103' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel21103.pb -o orderer.example.net:7050 -c ^^^^^^testchannel21103 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:56:57.772 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:56:57.775 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel21103.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel21103.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel21103
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel21103 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:56:58.029 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel21103' != '^^^^^^testchannel21103'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel21103 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel21103 vtb
[1;36m
Creating the <testchannel21103> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel21103[m[m[m
example.net

Create channel vtb testchannel21103
--2020-02-14 11:57:00--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:57:00--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:57:00--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:57:00--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:57:00.953 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:57:01.002 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:57:01.002 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:57:01.002 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:57:01.002 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:57:01.002 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:57:01.002 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:57:01.002 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:57:01.002 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:57:01.053 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:57:01.053 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:57:01.053 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:57:01.053 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:57:01.053 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:57:01.053 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:57:01.053 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:57:01.053 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:57:01.054 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 11:57:01.054 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:57:01.054 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:57:01.054 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:57:01.055 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 11:57:01.055 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:57:01.110 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel21103.pb -o orderer.example.net:7050 -c testchannel21103 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:57:01.180 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:57:01.181 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel21103.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel21103.json: No such file or directory
>> Prepare config update from vtb for channel testchannel21103
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel21103 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:57:01.354 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel21103> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:57:02.316 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:57:02.318 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel21103> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel211030 vtb VERIFY: test-channel-exists.sh testchannel211030 vtb
[1;36m
Creating the <testchannel211030> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel211030[m[m[m
example.net

Create channel vtb testchannel211030
--2020-02-14 11:57:04--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:57:04--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:57:04--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 11:57:04--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 11:57:04.597 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 11:57:04.652 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:57:04.652 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:57:04.652 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 11:57:04.652 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 11:57:04.652 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 11:57:04.652 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 11:57:04.652 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 11:57:04.653 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:57:04.703 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 11:57:04.703 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 11:57:04.703 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 11:57:04.703 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 11:57:04.703 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 11:57:04.703 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:57:04.703 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:57:04.704 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:57:04.704 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 11:57:04.704 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 11:57:04.704 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 11:57:04.705 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 11:57:04.705 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 11:57:04.705 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 11:57:04.760 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:57:04.793 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel211030.pb -o orderer.example.net:7050 -c testchannel211030 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:57:04.858 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:57:04.862 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 11:57:04.875 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 11:57:04.875 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel211030
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel211030 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 11:57:05.206 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:57:05.215 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel211030> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel211030> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 11:57:07.785 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:57:07.789 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 11:57:07.791 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 11:57:07.792 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel211030",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T11:57:05Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel211030> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel211030 sberbank
[1;34m
Verifing if the <testchannel211030> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 11:57:08.448 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 11:57:08.450 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel211030> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel211030 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel211030 sberbank
[1;36m
Creating the <testchannel211030> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel211030[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel7898 sberbank VERIFY: test-channel-exists.sh testchannel7898 sberbank
[1;36m
Creating the <testchannel7898> channel for sberbank.example.net...[m[m[m
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel29053 sberbank VERIFY: test-channel-exists.sh testchannel29053 sberbank
[1;36m
Creating the <testchannel29053> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel29053[m[m[m
example.net

Create channel sberbank testchannel29053
--2020-02-14 12:00:22--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:00:22--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:00:22--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:00:22--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 12:00:22.367 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 12:00:22.418 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:00:22.418 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:00:22.418 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 12:00:22.418 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 12:00:22.418 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 12:00:22.418 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 12:00:22.418 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 12:00:22.418 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:00:22.467 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:00:22.467 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:00:22.467 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 12:00:22.467 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:00:22.467 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 12:00:22.467 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:00:22.467 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:00:22.468 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:00:22.468 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 12:00:22.468 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:00:22.468 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:00:22.469 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:00:22.469 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 12:00:22.469 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 12:00:22.527 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:00:22.561 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel29053.pb -o orderer.example.net:7050 -c testchannel29053 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:00:22.650 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:00:22.652 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 12:00:22.653 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 12:00:22.653 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel29053
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel29053 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:00:22.961 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:00:22.971 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel29053> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel29053> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 12:00:25.010 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:00:25.012 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 12:00:25.013 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 12:00:25.013 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel29053",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T12:00:22Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel29053> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel29053 vtb
[1;34m
Verifing if the <testchannel29053> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 12:00:25.541 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:00:25.543 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel29053> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel29053 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel29053> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel29053[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel29053
--2020-02-14 12:00:28--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:00:28--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:00:28--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:00:28--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 12:00:28.747 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 12:00:28.804 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:00:28.804 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:00:28.804 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 12:00:28.804 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 12:00:28.804 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 12:00:28.804 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 12:00:28.804 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 12:00:28.804 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:00:28.871 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:00:28.871 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:00:28.871 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 12:00:28.871 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:00:28.871 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 12:00:28.871 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:00:28.871 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:00:28.871 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:00:28.872 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 12:00:28.872 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:00:28.872 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:00:28.872 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:00:28.873 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 12:00:28.873 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 12:00:28.938 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel29053' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel29053.pb -o orderer.example.net:7050 -c ^^^^^^testchannel29053 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:00:29.009 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:00:29.010 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel29053.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel29053.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel29053
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel29053 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:00:29.227 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel29053' != '^^^^^^testchannel29053'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel29053 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel29053 vtb
[1;36m
Creating the <testchannel29053> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel29053[m[m[m
example.net

Create channel vtb testchannel29053
--2020-02-14 12:00:31--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:00:31--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:00:31--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:00:31--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 12:00:31.823 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 12:00:31.875 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:00:31.875 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:00:31.875 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 12:00:31.875 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 12:00:31.875 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 12:00:31.875 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 12:00:31.875 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 12:00:31.875 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:00:31.925 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:00:31.925 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:00:31.925 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 12:00:31.925 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:00:31.925 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 12:00:31.925 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:00:31.925 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:00:31.926 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:00:31.926 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 12:00:31.926 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:00:31.926 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:00:31.926 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:00:31.927 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 12:00:31.927 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 12:00:31.982 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel29053.pb -o orderer.example.net:7050 -c testchannel29053 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:00:32.058 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:00:32.059 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel29053.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel29053.json: No such file or directory
>> Prepare config update from vtb for channel testchannel29053
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel29053 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:00:32.233 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel29053> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 12:00:33.290 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:00:33.292 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel29053> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel290530 vtb VERIFY: test-channel-exists.sh testchannel290530 vtb
[1;36m
Creating the <testchannel290530> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel290530[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[34m2020-02-14 12:00:34.641 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:00:34.643 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
Step 5_cli: exit code 1
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel290530 sberbank
[1;34m
Verifing if the <testchannel290530> channel exists in sberbank.example.net...[m[m[m
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel22343 sberbank VERIFY: test-channel-exists.sh testchannel22343 sberbank
[1;36m
Creating the <testchannel22343> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel22343[m[m[m
example.net

Create channel sberbank testchannel22343
--2020-02-14 12:02:29--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:02:29--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:02:29--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:02:29--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 12:02:30.012 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 12:02:30.067 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:02:30.067 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:02:30.067 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 12:02:30.067 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 12:02:30.067 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 12:02:30.067 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 12:02:30.067 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 12:02:30.067 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:02:30.118 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:02:30.118 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:02:30.118 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 12:02:30.118 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:02:30.118 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 12:02:30.118 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:02:30.118 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:02:30.118 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:02:30.119 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 12:02:30.119 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:02:30.119 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:02:30.119 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:02:30.119 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 12:02:30.120 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 12:02:30.179 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:02:30.212 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel22343.pb -o orderer.example.net:7050 -c testchannel22343 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:02:30.286 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:02:30.288 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 12:02:30.290 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 12:02:30.290 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel22343
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel22343 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:02:30.591 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:02:30.601 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel22343> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel22343> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 12:02:32.723 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:02:32.726 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 12:02:32.727 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 12:02:32.727 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel22343",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T12:02:30Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel22343> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel22343 vtb
[1;34m
Verifing if the <testchannel22343> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 12:02:33.229 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:02:33.231 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel22343> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel22343 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel22343> channel for sberbank.example.net...[m[m[m
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel17574 sberbank VERIFY: test-channel-exists.sh testchannel17574 sberbank
[1;36m
Creating the <testchannel17574> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel17574[m[m[m
example.net

Create channel sberbank testchannel17574
--2020-02-14 12:07:11--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:07:11--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:07:11--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:07:11--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 12:07:11.480 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 12:07:11.531 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:07:11.531 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:07:11.531 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 12:07:11.531 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 12:07:11.531 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 12:07:11.531 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 12:07:11.531 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 12:07:11.531 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:07:11.580 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:07:11.581 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:07:11.581 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 12:07:11.581 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:07:11.581 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 12:07:11.581 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:07:11.581 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:07:11.581 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:07:11.582 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 12:07:11.582 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:07:11.582 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:07:11.583 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:07:11.583 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 12:07:11.583 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 12:07:11.638 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:07:11.672 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel17574.pb -o orderer.example.net:7050 -c testchannel17574 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:07:11.782 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:07:11.784 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 12:07:11.785 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 12:07:11.786 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel17574
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel17574 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:07:12.095 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:07:12.108 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel17574> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel17574> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 12:07:14.106 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:07:14.109 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 12:07:14.111 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 12:07:14.111 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel17574",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T12:07:12Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel17574> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel17574 vtb
[1;34m
Verifing if the <testchannel17574> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 12:07:14.670 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:07:14.672 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel17574> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel17574 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel17574> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel17574[m[m[m
^C
[1;31mError occurred. See console output above.[m[1;33m[m
Step 3_cli: exit code 141
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel17574 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel17574 vtb
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel11224 sberbank VERIFY: test-channel-exists.sh testchannel11224 sberbank
[1;36m
Creating the <testchannel11224> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel11224[m[m[m
example.net

Create channel sberbank testchannel11224
--2020-02-14 12:09:50--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:09:50--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:09:50--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:09:50--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 12:09:50.779 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 12:09:50.828 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:09:50.828 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:09:50.828 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 12:09:50.828 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 12:09:50.828 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 12:09:50.828 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 12:09:50.828 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 12:09:50.828 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:09:50.880 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:09:50.880 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:09:50.880 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 12:09:50.880 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:09:50.880 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 12:09:50.880 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:09:50.880 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:09:50.881 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:09:50.881 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 12:09:50.881 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:09:50.881 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:09:50.882 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:09:50.882 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 12:09:50.882 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 12:09:50.938 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:09:50.971 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel11224.pb -o orderer.example.net:7050 -c testchannel11224 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:09:51.077 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:09:51.079 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 12:09:51.080 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 12:09:51.080 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel11224
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel11224 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:09:51.406 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:09:51.416 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel11224> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel11224> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 12:09:53.441 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:09:53.444 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 12:09:53.445 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 12:09:53.445 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel11224",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T12:09:51Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel11224> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel11224 vtb
[1;34m
Verifing if the <testchannel11224> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 12:09:53.957 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:09:53.958 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel11224> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel11224 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel11224> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel11224[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel11224
--2020-02-14 12:09:56--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:09:56--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel19555 sberbank VERIFY: test-channel-exists.sh testchannel19555 sberbank
[1;36m
Creating the <testchannel19555> channel for sberbank.example.net...[m[m[m
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel27745 sberbank VERIFY: test-channel-exists.sh testchannel27745 sberbank
[1;36m
Creating the <testchannel27745> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel27745[m[m[m
example.net

Create channel sberbank testchannel27745
--2020-02-14 12:19:31--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:19:31--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:19:31--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:19:31--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 12:19:31.949 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 12:19:32.001 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:19:32.001 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:19:32.001 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 12:19:32.002 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 12:19:32.002 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 12:19:32.002 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 12:19:32.002 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 12:19:32.002 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:19:32.053 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:19:32.053 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:19:32.054 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 12:19:32.054 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:19:32.054 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 12:19:32.054 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:19:32.054 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:19:32.054 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:19:32.055 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 12:19:32.055 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:19:32.055 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:19:32.055 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:19:32.056 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 12:19:32.056 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 12:19:32.114 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:19:32.160 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel27745.pb -o orderer.example.net:7050 -c testchannel27745 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:19:32.240 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:19:32.242 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 12:19:32.243 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 12:19:32.244 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel27745
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel27745 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:19:32.548 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:19:32.557 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel27745> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel27745> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 12:19:34.663 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:19:34.667 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 12:19:34.668 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 12:19:34.668 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel27745",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T12:19:32Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel27745> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel27745 vtb
[1;34m
Verifing if the <testchannel27745> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 12:19:35.184 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:19:35.187 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel27745> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel27745 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel27745> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel27745[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel27745
--2020-02-14 12:19:37--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:19:37--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:19:37--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:19:37--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 12:19:37.553 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 12:19:37.712 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:19:37.712 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:19:37.713 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 12:19:37.713 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 12:19:37.713 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 12:19:37.713 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 12:19:37.713 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 12:19:37.713 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:19:37.825 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:19:37.825 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:19:37.825 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 12:19:37.825 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:19:37.825 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 12:19:37.825 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:19:37.825 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:19:37.826 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:19:37.826 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 12:19:37.826 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:19:37.826 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:19:37.827 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:19:37.827 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 12:19:37.828 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 12:19:37.989 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel27745' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel27745.pb -o orderer.example.net:7050 -c ^^^^^^testchannel27745 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:19:38.170 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:19:38.188 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel27745.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel27745.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel27745
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel27745 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:19:38.734 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel27745' != '^^^^^^testchannel27745'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel27745 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel27745 vtb
[1;36m
Creating the <testchannel27745> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel27745[m[m[m
example.net

Create channel vtb testchannel27745
--2020-02-14 12:19:42--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:19:42--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:19:42--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:19:42--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 12:19:42.086 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 12:19:42.141 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:19:42.141 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:19:42.141 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 12:19:42.141 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 12:19:42.141 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 12:19:42.141 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 12:19:42.141 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 12:19:42.141 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:19:42.191 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:19:42.191 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:19:42.191 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 12:19:42.191 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:19:42.191 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 12:19:42.191 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:19:42.191 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:19:42.191 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:19:42.192 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 12:19:42.192 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:19:42.192 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:19:42.192 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:19:42.192 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 12:19:42.193 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 12:19:42.252 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel27745.pb -o orderer.example.net:7050 -c testchannel27745 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:19:42.327 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:19:42.328 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel27745.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel27745.json: No such file or directory
>> Prepare config update from vtb for channel testchannel27745
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel27745 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:19:42.498 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel27745> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 12:19:43.511 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:19:43.521 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel27745> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel277450 vtb VERIFY: test-channel-exists.sh testchannel277450 vtb
[1;36m
Creating the <testchannel277450> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel277450[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[34m2020-02-14 12:19:44.644 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:19:44.646 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
Step 5_cli: exit code 1
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel277450 sberbank
[1;34m
Verifing if the <testchannel277450> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 12:19:45.192 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:19:45.193 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel277450> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel277450 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel277450 sberbank
[1;36m
Creating the <testchannel277450> channel for sberbank.example.net...[m[m[m
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel12946 sberbank VERIFY: test-channel-exists.sh testchannel12946 sberbank
[1;36m
Creating the <testchannel12946> channel for sberbank.example.net...[m[m[m
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel10376 sberbank VERIFY: test-channel-exists.sh testchannel10376 sberbank
[1;36m
Creating the <testchannel10376> channel for sberbank.example.net...[m[m[m
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel26778 sberbank VERIFY: test-channel-exists.sh testchannel26778 sberbank
[1;36m
Creating the <testchannel26778> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel26778[m[m[m
example.net

Create channel sberbank testchannel26778
--2020-02-14 12:30:57--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:30:57--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:30:57--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:30:57--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 12:30:57.683 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 12:30:57.733 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:30:57.733 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:30:57.733 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 12:30:57.733 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 12:30:57.733 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 12:30:57.733 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 12:30:57.733 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 12:30:57.733 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:30:57.782 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:30:57.782 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:30:57.782 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 12:30:57.782 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:30:57.782 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 12:30:57.782 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:30:57.782 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:30:57.783 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:30:57.783 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 12:30:57.783 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:30:57.783 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:30:57.783 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:30:57.784 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 12:30:57.784 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 12:30:57.840 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:30:57.880 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel26778.pb -o orderer.example.net:7050 -c testchannel26778 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:30:57.977 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:30:57.979 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 12:30:57.980 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 12:30:57.980 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel26778
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel26778 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:30:58.574 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:30:58.598 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel26778> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel26778> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 12:31:00.983 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:31:00.987 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 12:31:00.989 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 12:31:00.989 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel26778",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T12:30:58Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel26778> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel26778 vtb
[1;34m
Verifing if the <testchannel26778> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 12:31:01.590 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:31:01.592 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel26778> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel26778 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel26778> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel26778[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel26778
--2020-02-14 12:31:03--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:31:03--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:31:03--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:31:03--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 12:31:03.898 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 12:31:03.948 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:31:03.948 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:31:03.948 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 12:31:03.948 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 12:31:03.949 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 12:31:03.949 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 12:31:03.949 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 12:31:03.949 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
^C[34m2020-02-14 12:31:04.018 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: channel create configuration tx file not found open crypto-config/configtx/channel_^^^^^^testchannel26778.tx: no such file or directory
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel26778.pb -o orderer.example.net:7050 -c ^^^^^^testchannel26778 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:31:04.093 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:31:04.095 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel26778.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel26778.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel26778
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel26778 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:31:04.275 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel26778' != '^^^^^^testchannel26778'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel26778 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel26778 vtb
[1;36m
Creating the <testchannel26778> channel for vtb.example.net...[m[m[m
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel29475 sberbank VERIFY: test-channel-exists.sh testchannel29475 sberbank
[1;36m
Creating the <testchannel29475> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel29475[m[m[m
example.net

Create channel sberbank testchannel29475
--2020-02-14 12:31:31--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:31:31--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:31:31--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:31:31--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 12:31:32.002 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 12:31:32.054 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:31:32.054 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:31:32.054 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 12:31:32.054 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 12:31:32.054 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 12:31:32.054 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 12:31:32.054 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 12:31:32.054 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:31:32.104 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:31:32.104 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:31:32.104 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 12:31:32.104 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:31:32.104 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 12:31:32.104 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:31:32.104 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:31:32.104 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:31:32.104 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 12:31:32.105 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:31:32.105 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:31:32.105 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:31:32.105 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 12:31:32.105 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 12:31:32.165 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:31:32.202 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel29475.pb -o orderer.example.net:7050 -c testchannel29475 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:31:32.283 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:31:32.285 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 12:31:32.286 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 12:31:32.286 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel29475
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel29475 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:31:32.591 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:31:32.600 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel29475> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel29475> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 12:31:34.697 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:31:34.700 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 12:31:34.700 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 12:31:34.700 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel29475",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T12:31:32Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel29475> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel29475 vtb
[1;34m
Verifing if the <testchannel29475> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 12:31:35.201 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:31:35.203 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel29475> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel29475 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel29475> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel29475[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel29475
--2020-02-14 12:31:37--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:31:37--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:31:37--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:31:37--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 12:31:37.524 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 12:31:37.576 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:31:37.576 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:31:37.576 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 12:31:37.576 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 12:31:37.576 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 12:31:37.576 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 12:31:37.576 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 12:31:37.576 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:31:37.628 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:31:37.628 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:31:37.628 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 12:31:37.628 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:31:37.628 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 12:31:37.628 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:31:37.628 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:31:37.628 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:31:37.629 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 12:31:37.629 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:31:37.629 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:31:37.629 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:31:37.629 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 12:31:37.630 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 12:31:37.686 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel29475' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel29475.pb -o orderer.example.net:7050 -c ^^^^^^testchannel29475 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:31:37.755 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:31:37.756 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel29475.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel29475.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel29475
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel29475 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:31:37.939 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel29475' != '^^^^^^testchannel29475'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel29475 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel29475 vtb
[1;36m
Creating the <testchannel29475> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel29475[m[m[m
example.net

Create channel vtb testchannel29475
--2020-02-14 12:31:41--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:31:41--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:31:41--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:31:41--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 12:31:41.983 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 12:31:42.034 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:31:42.034 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:31:42.034 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 12:31:42.034 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 12:31:42.034 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 12:31:42.035 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 12:31:42.035 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 12:31:42.035 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:31:42.086 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:31:42.086 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:31:42.087 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 12:31:42.087 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:31:42.087 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 12:31:42.087 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:31:42.087 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:31:42.087 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:31:42.088 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 12:31:42.088 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:31:42.088 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:31:42.088 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:31:42.089 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 12:31:42.089 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 12:31:42.146 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel29475.pb -o orderer.example.net:7050 -c testchannel29475 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:31:42.218 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:31:42.221 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel29475.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel29475.json: No such file or directory
>> Prepare config update from vtb for channel testchannel29475
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel29475 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:31:42.393 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel29475> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 12:31:43.348 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:31:43.351 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel29475> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel294750 vtb VERIFY: test-channel-exists.sh testchannel294750 vtb
[1;36m
Creating the <testchannel294750> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel294750[m[m[m
example.net

Create channel vtb testchannel294750
--2020-02-14 12:31:45--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:31:45--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:31:45--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:31:45--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 12:31:45.718 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 12:31:45.767 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:31:45.768 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:31:45.768 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 12:31:45.768 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 12:31:45.768 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 12:31:45.768 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 12:31:45.768 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 12:31:45.768 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:31:45.818 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:31:45.818 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:31:45.818 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 12:31:45.818 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:31:45.818 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 12:31:45.818 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:31:45.818 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:31:45.818 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:31:45.819 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 12:31:45.819 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:31:45.819 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:31:45.819 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:31:45.819 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 12:31:45.820 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 12:31:45.878 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:31:45.913 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel294750.pb -o orderer.example.net:7050 -c testchannel294750 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:31:45.978 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:31:45.980 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 12:31:45.981 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 12:31:45.981 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel294750
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel294750 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:31:46.372 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:31:46.382 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel294750> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel294750> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 12:31:48.962 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:31:48.968 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 12:31:48.970 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 12:31:48.970 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel294750",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T12:31:46Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel294750> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel294750 sberbank
[1;34m
Verifing if the <testchannel294750> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 12:31:50.106 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:31:50.110 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel294750> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel294750 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel294750 sberbank
[1;36m
Creating the <testchannel294750> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel294750[m[m[m
example.net

Create channel sberbank testchannel294750
--2020-02-14 12:31:52--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:31:52--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:31:52--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:31:52--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 12:31:52.848 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 12:31:52.901 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:31:52.901 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:31:52.901 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 12:31:52.901 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 12:31:52.901 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 12:31:52.901 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 12:31:52.901 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 12:31:52.901 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:31:52.950 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:31:52.950 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:31:52.950 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 12:31:52.950 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:31:52.950 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 12:31:52.950 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:31:52.950 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:31:52.951 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:31:52.951 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 12:31:52.951 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:31:52.951 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:31:52.951 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:31:52.952 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 12:31:52.952 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 12:31:53.010 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel294750.pb -o orderer.example.net:7050 -c testchannel294750 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:31:53.078 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:31:53.080 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel294750.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel294750.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel294750
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel294750 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:31:53.285 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel294750> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 12:31:54.266 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:31:54.268 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel294750> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
Step: 8_curl Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel820 sberbank VERIFY: test-channel-exists.sh testchannel820 sberbank
[1;36mCreating testchannel820 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY4MzUxNH0._F0M_p93czjGTkabPK_MxyO6ZAW4g7NnO9cVu3t2QTk
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.net:7051","name":"peer0.sberbank.example.net:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.net:7051","grpc.default_authority":"peer0.sberbank.example.net:7051"}}}] 200
[1;32mOK: Channel <testchannel820> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel820> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 12:31:56.782 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:31:56.785 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 12:31:56.786 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 12:31:56.786 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel820",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T12:31:55Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel820> exists and visible to sberbank[m[m[m
Step 8_curl: exit code 0
Step: 9_curl Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel820 vtb
[1;34m
Verifing if the <testchannel820> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 12:31:57.284 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:31:57.285 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel820> does not exist and in not visible to vtb[m[m[m
Step 9_curl: exit code 0
Step: 10_curl Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel820 sberbank VERIFY: test-exit-code.sh
[1;36mCreating ^^^^^^testchannel820 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY4MzUxN30.tCcNY_zt_vEY7i5BnkEueTD6yn0em0xShmDa-64U3-Q
[1;32mOK: JWT token obtained.[m[m[m
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel29978 sberbank VERIFY: test-channel-exists.sh testchannel29978 sberbank
[1;36m
Creating the <testchannel29978> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel29978[m[m[m
example.net

Create channel sberbank testchannel29978
--2020-02-14 12:32:33--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:32:33--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:32:33--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:32:33--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 12:32:33.345 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 12:32:33.395 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:32:33.395 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:32:33.395 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 12:32:33.395 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 12:32:33.395 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 12:32:33.395 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 12:32:33.395 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 12:32:33.395 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:32:33.446 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:32:33.446 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:32:33.446 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 12:32:33.446 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:32:33.446 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 12:32:33.446 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:32:33.446 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:32:33.446 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:32:33.447 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 12:32:33.447 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:32:33.447 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:32:33.447 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:32:33.447 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 12:32:33.448 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 12:32:33.503 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:32:33.537 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel29978.pb -o orderer.example.net:7050 -c testchannel29978 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:32:33.605 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:32:33.607 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 12:32:33.608 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 12:32:33.608 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel29978
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel29978 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:32:33.912 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:32:33.921 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel29978> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel29978> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 12:32:36.015 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:32:36.018 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 12:32:36.019 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 12:32:36.019 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel29978",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T12:32:33Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel29978> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel28990 sberbank VERIFY: test-channel-exists.sh testchannel28990 sberbank
[1;36m
Creating the <testchannel28990> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel28990[m[m[m
example.net

Create channel sberbank testchannel28990
--2020-02-14 12:34:29--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:34:29--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:34:29--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:34:29--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 12:34:29.758 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 12:34:29.866 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:34:29.867 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:34:29.867 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 12:34:29.867 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 12:34:29.867 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 12:34:29.867 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 12:34:29.867 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 12:34:29.867 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:34:29.933 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:34:29.933 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:34:29.933 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 12:34:29.933 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:34:29.933 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 12:34:29.933 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:34:29.933 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:34:29.934 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:34:29.934 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 12:34:29.934 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:34:29.934 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:34:29.935 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:34:29.935 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 12:34:29.935 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 12:34:30.040 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:34:30.099 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel28990.pb -o orderer.example.net:7050 -c testchannel28990 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:34:30.254 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:34:30.257 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 12:34:30.259 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 12:34:30.259 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel28990
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel28990 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:34:30.796 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:34:30.813 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel28990> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel28990> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 12:34:32.953 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:34:32.956 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 12:34:32.958 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 12:34:32.958 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel28990",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T12:34:30Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel28990> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel5389 sberbank VERIFY: test-channel-exists.sh testchannel5389 sberbank
[1;36m
Creating the <testchannel5389> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel5389[m[m[m
example.net

Create channel sberbank testchannel5389
--2020-02-14 12:35:47--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:35:47--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:35:47--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:35:47--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 12:35:47.624 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 12:35:47.675 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:35:47.675 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:35:47.675 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 12:35:47.675 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 12:35:47.675 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 12:35:47.675 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 12:35:47.675 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 12:35:47.675 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:35:47.728 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:35:47.729 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:35:47.729 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 12:35:47.729 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:35:47.729 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 12:35:47.729 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:35:47.729 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:35:47.729 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:35:47.730 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 12:35:47.730 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:35:47.730 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:35:47.730 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:35:47.730 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 12:35:47.731 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 12:35:47.790 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:35:47.825 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel5389.pb -o orderer.example.net:7050 -c testchannel5389 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:35:47.898 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:35:47.899 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 12:35:47.901 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 12:35:47.901 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel5389
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel5389 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:35:48.231 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:35:48.241 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel5389> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel5389> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 12:35:50.898 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:35:50.901 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 12:35:50.902 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 12:35:50.903 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel5389",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T12:35:48Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel5389> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel5389 vtb
[1;34m
Verifing if the <testchannel5389> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 12:35:51.493 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:35:51.495 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel5389> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel5389 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel5389> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel5389[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel5389
--2020-02-14 12:35:53--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:35:53--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:35:53--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:35:53--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 12:35:53.759 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 12:35:53.814 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:35:53.814 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:35:53.814 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 12:35:53.814 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 12:35:53.814 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 12:35:53.814 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 12:35:53.814 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 12:35:53.814 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:35:53.867 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:35:53.867 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:35:53.867 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 12:35:53.867 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:35:53.867 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 12:35:53.867 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:35:53.867 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:35:53.868 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:35:53.868 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 12:35:53.868 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:35:53.868 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:35:53.868 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:35:53.869 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 12:35:53.869 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 12:35:53.924 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel5389' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel5389.pb -o orderer.example.net:7050 -c ^^^^^^testchannel5389 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:35:53.995 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:35:53.996 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel5389.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel5389.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel5389
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel5389 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:35:54.193 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel5389' != '^^^^^^testchannel5389'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel5389 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel5389 vtb
[1;36m
Creating the <testchannel5389> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel5389[m[m[m
example.net

Create channel vtb testchannel5389
--2020-02-14 12:35:56--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:35:56--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:35:56--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:35:56--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 12:35:57.010 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 12:35:57.062 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:35:57.062 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:35:57.062 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 12:35:57.062 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 12:35:57.062 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 12:35:57.062 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 12:35:57.062 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 12:35:57.062 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:35:57.111 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:35:57.111 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:35:57.111 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 12:35:57.111 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:35:57.111 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 12:35:57.111 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:35:57.112 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:35:57.112 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:35:57.112 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 12:35:57.112 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:35:57.112 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:35:57.113 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:35:57.113 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 12:35:57.113 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 12:35:57.170 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel5389.pb -o orderer.example.net:7050 -c testchannel5389 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:35:57.237 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:35:57.238 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel5389.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel5389.json: No such file or directory
>> Prepare config update from vtb for channel testchannel5389
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel5389 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:35:57.432 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel5389> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 12:35:58.471 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:35:58.474 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel5389> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel53890 vtb VERIFY: test-channel-exists.sh testchannel53890 vtb
[1;36m
Creating the <testchannel53890> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel53890[m[m[m
example.net

Create channel vtb testchannel53890
--2020-02-14 12:36:01--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:36:01--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:36:01--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:36:02--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 12:36:02.043 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 12:36:02.093 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:36:02.093 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:36:02.093 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 12:36:02.093 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 12:36:02.093 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 12:36:02.093 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 12:36:02.093 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 12:36:02.093 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:36:02.144 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:36:02.144 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:36:02.144 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 12:36:02.144 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:36:02.144 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 12:36:02.144 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:36:02.144 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:36:02.145 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:36:02.145 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 12:36:02.145 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:36:02.145 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:36:02.145 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:36:02.146 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 12:36:02.146 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 12:36:02.201 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:36:02.234 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel53890.pb -o orderer.example.net:7050 -c testchannel53890 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:36:02.310 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:36:02.313 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 12:36:02.314 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 12:36:02.314 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel53890
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel53890 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:36:02.614 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:36:02.626 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel53890> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel53890> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 12:36:04.725 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:36:04.727 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 12:36:04.729 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 12:36:04.729 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel53890",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T12:36:02Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel53890> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel53890 sberbank
[1;34m
Verifing if the <testchannel53890> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 12:36:05.246 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:36:05.248 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel53890> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel53890 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel53890 sberbank
[1;36m
Creating the <testchannel53890> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel53890[m[m[m
example.net

Create channel sberbank testchannel53890
--2020-02-14 12:36:07--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:36:07--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:36:07--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:36:07--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 12:36:07.601 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 12:36:07.651 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:36:07.651 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:36:07.651 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 12:36:07.651 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 12:36:07.652 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 12:36:07.652 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 12:36:07.652 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 12:36:07.652 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:36:07.701 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:36:07.702 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:36:07.702 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 12:36:07.702 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:36:07.702 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 12:36:07.702 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:36:07.702 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:36:07.702 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:36:07.702 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 12:36:07.702 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:36:07.703 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:36:07.703 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:36:07.703 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 12:36:07.703 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 12:36:07.759 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel53890.pb -o orderer.example.net:7050 -c testchannel53890 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:36:07.830 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:36:07.832 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel53890.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel53890.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel53890
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel53890 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:36:08.036 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel53890> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 12:36:09.918 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:36:09.921 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel53890> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
Step: 8_curl Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel17888 sberbank VERIFY: test-channel-exists.sh testchannel17888 sberbank
[1;36mCreating testchannel17888 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY4Mzc3MX0.j61H3P6fCcdiqnyE9_81fL-GqvUKfgk9_yPCma0cB8k
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.net:7051","name":"peer0.sberbank.example.net:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.net:7051","grpc.default_authority":"peer0.sberbank.example.net:7051"}}}] 200
[1;32mOK: Channel <testchannel17888> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel17888> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 12:36:13.092 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:36:13.094 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 12:36:13.095 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 12:36:13.095 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel17888",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T12:36:12Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel17888> exists and visible to sberbank[m[m[m
Step 8_curl: exit code 0
Step: 9_curl Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel17888 vtb
[1;34m
Verifing if the <testchannel17888> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 12:36:13.612 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:36:13.615 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel17888> does not exist and in not visible to vtb[m[m[m
Step 9_curl: exit code 0
Step: 10_curl Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel17888 sberbank VERIFY: test-exit-code.sh
[1;36mCreating ^^^^^^testchannel17888 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY4Mzc3M30.cKrvpw2cXFi6tBgv-Bi-l1B0b63Pta5Zu0LEirRMRFY
[1;32mOK: JWT token obtained.[m[m[m
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel17888\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 10_curl: exit code 127
Step: 11_curl Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel17888 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel17888 vtb
[1;36mCreating testchannel17888 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY4Mzc3NX0.xcmApoWLytbQfGCMLqn1QMFazW9Nqs0KRrurt6dj5wk
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel17888> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 12:36:17.066 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:36:17.069 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel17888> does not exist and in not visible to vtb[m[m[m
Step 11_curl: exit code 0
Step: 12_curl Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel178880 vtb VERIFY: test-channel-exists.sh testchannel178880 vtb
[1;36mCreating testchannel178880 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY4Mzc3N30.oFx_xitIa_PBySZWXyPy699QaEQhjXvTvbNulpNnJjg
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.net:8051","name":"peer0.vtb.example.net:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.net:8051","grpc.default_authority":"peer0.vtb.example.net:8051"}}}] 200
[1;32mOK: Channel <testchannel178880> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel178880> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 12:36:20.474 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:36:20.477 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 12:36:20.480 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 12:36:20.480 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel178880",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T12:36:18Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel178880> exists and visible to vtb[m[m[m
Step 12_curl: exit code 0
Step: 13_curl Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel178880 sberbank
[1;34m
Verifing if the <testchannel178880> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 12:36:21.365 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:36:21.369 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel178880> does not exist and in not visible to sberbank[m[m[m
Step 13_curl: exit code 0
Step: 14_curl Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel178880 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel178880 sberbank
[1;36mCreating testchannel178880 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY4Mzc4MX0.7d7qI_QSCYBFD4tVNksRXYnueZKF4xmSFpUfyu81JIs
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel178880> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 12:36:23.359 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:36:23.361 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel178880> does not exist and in not visible to sberbank[m[m[m
Step 14_curl: exit code 0
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4001
queryContainerNetworkSettings returns: 8051
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel30385 sberbank VERIFY: test-channel-exists.sh testchannel30385 sberbank
[1;36m
Creating the <testchannel30385> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel30385[m[m[m
example.net

Create channel sberbank testchannel30385
--2020-02-14 12:41:58--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:41:58--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:41:58--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:41:58--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 12:41:58.163 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 12:41:58.213 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:41:58.213 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:41:58.213 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 12:41:58.213 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 12:41:58.213 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 12:41:58.213 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 12:41:58.213 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 12:41:58.213 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:41:58.262 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:41:58.262 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:41:58.262 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 12:41:58.262 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:41:58.262 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 12:41:58.262 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:41:58.262 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:41:58.263 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:41:58.263 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 12:41:58.263 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:41:58.263 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:41:58.263 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:41:58.264 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 12:41:58.264 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 12:41:58.318 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:41:58.353 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel30385.pb -o orderer.example.net:7050 -c testchannel30385 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:41:58.417 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:41:58.419 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 12:41:58.421 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 12:41:58.421 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel30385
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel30385 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:41:58.728 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:41:58.737 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel30385> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel30385> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 12:42:01.487 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:42:01.491 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 12:42:01.492 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 12:42:01.492 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel30385",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T12:41:58Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel30385> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel30385 vtb
[1;34m
Verifing if the <testchannel30385> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 12:42:02.100 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:42:02.102 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel30385> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel30385 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel30385> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel30385[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel30385
--2020-02-14 12:42:04--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:42:04--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:42:04--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:42:04--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 12:42:04.441 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 12:42:04.491 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:42:04.491 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:42:04.491 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 12:42:04.491 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 12:42:04.491 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 12:42:04.491 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 12:42:04.491 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 12:42:04.491 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:42:04.542 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:42:04.543 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:42:04.543 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 12:42:04.543 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:42:04.543 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 12:42:04.543 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:42:04.543 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:42:04.543 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:42:04.543 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 12:42:04.544 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:42:04.544 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:42:04.544 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:42:04.544 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 12:42:04.544 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 12:42:04.601 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel30385' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel30385.pb -o orderer.example.net:7050 -c ^^^^^^testchannel30385 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:42:04.674 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:42:04.676 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel30385.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel30385.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel30385
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel30385 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:42:04.857 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel30385' != '^^^^^^testchannel30385'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel30385 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel30385 vtb
[1;36m
Creating the <testchannel30385> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel30385[m[m[m
example.net

Create channel vtb testchannel30385
--2020-02-14 12:42:07--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:42:07--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:42:07--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:42:07--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 12:42:07.792 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 12:42:07.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:42:07.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:42:07.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 12:42:07.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 12:42:07.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 12:42:07.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 12:42:07.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 12:42:07.847 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:42:07.898 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:42:07.898 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:42:07.898 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 12:42:07.898 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:42:07.898 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 12:42:07.898 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:42:07.898 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:42:07.898 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:42:07.899 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 12:42:07.899 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:42:07.899 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:42:07.899 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:42:07.900 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 12:42:07.900 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 12:42:07.956 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel30385.pb -o orderer.example.net:7050 -c testchannel30385 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:42:08.025 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:42:08.027 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel30385.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel30385.json: No such file or directory
>> Prepare config update from vtb for channel testchannel30385
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel30385 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:42:08.231 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel30385> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 12:42:09.497 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:42:09.501 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel30385> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel303850 vtb VERIFY: test-channel-exists.sh testchannel303850 vtb
[1;36m
Creating the <testchannel303850> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel303850[m[m[m
example.net

Create channel vtb testchannel303850
--2020-02-14 12:42:12--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:42:12--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:42:12--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 12:42:12--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 12:42:12.883 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 12:42:12.933 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:42:12.933 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:42:12.933 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 12:42:12.933 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 12:42:12.933 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 12:42:12.933 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 12:42:12.933 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 12:42:12.933 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:42:12.982 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 12:42:12.982 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 12:42:12.982 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 12:42:12.982 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 12:42:12.982 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 12:42:12.982 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:42:12.982 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:42:12.982 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:42:12.983 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 12:42:12.983 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 12:42:12.983 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 12:42:12.983 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 12:42:12.983 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 12:42:12.984 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 12:42:13.039 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:42:13.079 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel303850.pb -o orderer.example.net:7050 -c testchannel303850 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:42:13.159 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:42:13.161 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 12:42:13.163 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 12:42:13.163 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel303850
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel303850 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 12:42:13.465 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:42:13.475 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel303850> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel303850> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 12:42:15.626 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:42:15.628 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 12:42:15.630 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 12:42:15.630 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel303850",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T12:42:13Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel303850> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel303850 sberbank
[1;34m
Verifing if the <testchannel303850> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 12:42:16.158 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 12:42:16.160 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel303850> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel303850 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel303850 sberbank
[1;36m
Creating the <testchannel303850> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel303850[m[m[m
^C[1;31mError occurred. See console output above.[m[1;33m[m
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel31671 sberbank VERIFY: test-channel-exists.sh testchannel31671 sberbank
[1;36m
Creating the <testchannel31671> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel31671[m[m[m
^C[1;31mError occurred. See console output above.[m[1;33m[m
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel7624 sberbank VERIFY: test-channel-exists.sh testchannel7624 sberbank
[1;36m
Creating the <testchannel7624> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel7624[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel10026 sberbank VERIFY: test-channel-exists.sh testchannel10026 sberbank
[1;36m
Creating the <testchannel10026> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel10026[m[m[m
^C[1;31mError occurred. See console output above.[m[1;33m[m
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel21121 sberbank VERIFY: test-channel-exists.sh testchannel21121 sberbank
[1;36m
Creating the <testchannel21121> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel21121[m[m[m
^C[1;31mError occurred. See console output above.[m[1;33m[m
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel19541 sberbank VERIFY: test-channel-exists.sh testchannel19541 sberbank
[1;36m
Creating the <testchannel19541> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel19541[m[m[m
example.net

Create channel sberbank testchannel19541
--2020-02-14 13:25:25--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:25:25--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:25:25--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:25:25--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 13:25:25.979 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 13:25:26.034 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:25:26.034 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:25:26.034 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 13:25:26.034 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 13:25:26.034 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 13:25:26.034 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 13:25:26.034 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 13:25:26.034 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:25:26.088 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:25:26.088 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:25:26.088 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 13:25:26.088 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:25:26.088 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 13:25:26.088 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:25:26.089 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:25:26.089 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:25:26.090 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 13:25:26.090 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:25:26.090 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:25:26.090 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:25:26.090 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 13:25:26.091 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 13:25:26.151 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:25:26.192 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel19541.pb -o orderer.example.net:7050 -c testchannel19541 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:25:26.330 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:25:26.332 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 13:25:26.333 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 13:25:26.333 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel19541
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel19541 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:25:26.672 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:25:26.684 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel19541> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel19541> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 13:25:28.861 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:25:28.863 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 13:25:28.864 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 13:25:28.864 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel19541",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T13:25:26Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel19541> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel19541 vtb
[1;34m
Verifing if the <testchannel19541> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 13:25:29.405 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:25:29.407 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel19541> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel19541 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel19541> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel19541[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel19541
--2020-02-14 13:25:31--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:25:31--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:25:31--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:25:31--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 13:25:31.722 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 13:25:31.776 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:25:31.776 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:25:31.776 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 13:25:31.776 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 13:25:31.776 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 13:25:31.776 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 13:25:31.776 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 13:25:31.776 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:25:31.826 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:25:31.826 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:25:31.826 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 13:25:31.826 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:25:31.826 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 13:25:31.826 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:25:31.826 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:25:31.827 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:25:31.827 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 13:25:31.827 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:25:31.827 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:25:31.828 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:25:31.828 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 13:25:31.828 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 13:25:31.885 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel19541' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel19541.pb -o orderer.example.net:7050 -c ^^^^^^testchannel19541 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:25:31.955 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:25:31.957 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel19541.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel19541.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel19541
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel19541 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:25:32.163 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel19541' != '^^^^^^testchannel19541'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel19541 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel19541 vtb
[1;36m
Creating the <testchannel19541> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel19541[m[m[m
example.net

Create channel vtb testchannel19541
--2020-02-14 13:25:36--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:25:36--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:25:36--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:25:36--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 13:25:36.497 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 13:25:36.548 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:25:36.548 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:25:36.548 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 13:25:36.548 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 13:25:36.548 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 13:25:36.548 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 13:25:36.548 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 13:25:36.548 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:25:36.601 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:25:36.601 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:25:36.601 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 13:25:36.601 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:25:36.601 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 13:25:36.601 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:25:36.601 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:25:36.602 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:25:36.602 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 13:25:36.602 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:25:36.602 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:25:36.603 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:25:36.603 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 13:25:36.603 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 13:25:36.662 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel19541.pb -o orderer.example.net:7050 -c testchannel19541 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:25:36.736 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:25:36.738 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel19541.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel19541.json: No such file or directory
>> Prepare config update from vtb for channel testchannel19541
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel19541 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:25:36.914 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel19541> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 13:25:37.990 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:25:37.992 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel19541> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel195410 vtb VERIFY: test-channel-exists.sh testchannel195410 vtb
[1;36m
Creating the <testchannel195410> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel195410[m[m[m
example.net

Create channel vtb testchannel195410
--2020-02-14 13:25:40--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:25:40--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:25:40--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:25:40--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 13:25:40.363 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 13:25:40.417 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:25:40.417 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:25:40.417 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 13:25:40.417 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 13:25:40.417 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 13:25:40.417 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 13:25:40.417 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 13:25:40.417 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:25:40.467 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:25:40.467 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:25:40.467 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 13:25:40.467 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:25:40.467 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 13:25:40.467 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:25:40.467 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:25:40.468 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:25:40.468 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 13:25:40.468 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:25:40.468 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:25:40.469 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:25:40.469 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 13:25:40.469 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 13:25:40.524 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:25:40.559 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel195410.pb -o orderer.example.net:7050 -c testchannel195410 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:25:40.633 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:25:40.636 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 13:25:40.637 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 13:25:40.637 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel195410
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel195410 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:25:40.955 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:25:40.964 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel195410> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel195410> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 13:25:43.921 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:25:43.925 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 13:25:43.928 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 13:25:43.928 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel195410",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T13:25:40Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel195410> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel195410 sberbank
[1;34m
Verifing if the <testchannel195410> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 13:25:45.078 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:25:45.084 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel195410> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel195410 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel195410 sberbank
[1;36m
Creating the <testchannel195410> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel195410[m[m[m
example.net

Create channel sberbank testchannel195410
--2020-02-14 13:25:47--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:25:47--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:25:47--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:25:47--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 13:25:47.626 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 13:25:47.736 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:25:47.736 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:25:47.736 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 13:25:47.736 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 13:25:47.736 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 13:25:47.736 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 13:25:47.736 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 13:25:47.736 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:25:47.825 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:25:47.825 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:25:47.825 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 13:25:47.825 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:25:47.825 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 13:25:47.825 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:25:47.825 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:25:47.825 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:25:47.826 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 13:25:47.826 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:25:47.826 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:25:47.826 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:25:47.827 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 13:25:47.827 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 13:25:47.909 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel195410.pb -o orderer.example.net:7050 -c testchannel195410 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:25:48.017 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:25:48.019 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel195410.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel195410.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel195410
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel195410 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:25:48.242 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel195410> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 13:25:49.234 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:25:49.236 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel195410> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
Step: 8_curl Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel22671 sberbank VERIFY: test-channel-exists.sh testchannel22671 sberbank
[1;36mCreating testchannel22671 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY4Njc0OX0.fjDL9ZnksOUtQrW_2AdTJ1-rok67xaeCc3TtMVke0-0
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.net:7051","name":"peer0.sberbank.example.net:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.net:7051","grpc.default_authority":"peer0.sberbank.example.net:7051"}}}] 200
[1;32mOK: Channel <testchannel22671> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel22671> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 13:25:51.770 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:25:51.772 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 13:25:51.774 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 13:25:51.774 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel22671",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T13:25:50Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel22671> exists and visible to sberbank[m[m[m
Step 8_curl: exit code 0
Step: 9_curl Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel22671 vtb
[1;34m
Verifing if the <testchannel22671> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 13:25:52.319 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:25:52.321 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel22671> does not exist and in not visible to vtb[m[m[m
Step 9_curl: exit code 0
Step: 10_curl Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel22671 sberbank VERIFY: test-exit-code.sh
[1;36mCreating ^^^^^^testchannel22671 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY4Njc1M30.IOHYYxEuKudY7x3gjtIqERUx3aD1ewq7QpkxO38bs4Y
[1;32mOK: JWT token obtained.[m[m[m
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel22671\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 10_curl: exit code 127
Step: 11_curl Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel22671 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel22671 vtb
[1;36mCreating testchannel22671 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY4Njc1Nn0.fV2BnJgpeiNxAeIqoDRlJSkiM7Eq-0Y6S-MJ8mI_0Kk
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel22671> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 13:25:59.012 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:25:59.017 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel22671> does not exist and in not visible to vtb[m[m[m
Step 11_curl: exit code 0
Step: 12_curl Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel226710 vtb VERIFY: test-channel-exists.sh testchannel226710 vtb
[1;36mCreating testchannel226710 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY4Njc1OX0.WUfOj-JX5_N5YrvOy-LRGjU8ZIwLPuKBPHe-Y8N2S0M
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.net:8051","name":"peer0.vtb.example.net:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.net:8051","grpc.default_authority":"peer0.vtb.example.net:8051"}}}] 200
[1;32mOK: Channel <testchannel226710> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel226710> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 13:26:02.001 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:26:02.006 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 13:26:02.009 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 13:26:02.009 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel226710",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T13:26:00Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel226710> exists and visible to vtb[m[m[m
Step 12_curl: exit code 0
Step: 13_curl Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel226710 sberbank
[1;34m
Verifing if the <testchannel226710> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 13:26:03.233 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:26:03.237 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel226710> does not exist and in not visible to sberbank[m[m[m
Step 13_curl: exit code 0
Step: 14_curl Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel226710 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel226710 sberbank
[1;36mCreating testchannel226710 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY4Njc2NX0.Yrs90UdvtPdTqQow8IvrtlDIkAFSzqw232RqFdGl3Fw
[1;32mOK: JWT token obtained.[m[m[m
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel556 sberbank VERIFY: test-channel-exists.sh testchannel556 sberbank
[1;36m
Creating the <testchannel556> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel556[m[m[m
example.net

Create channel sberbank testchannel556
--2020-02-14 13:26:20--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:26:20--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:26:20--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:26:20--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 13:26:20.822 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 13:26:20.881 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:26:20.881 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:26:20.881 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 13:26:20.881 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 13:26:20.881 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 13:26:20.881 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 13:26:20.881 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 13:26:20.881 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:26:20.930 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:26:20.930 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:26:20.930 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 13:26:20.930 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:26:20.930 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 13:26:20.930 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:26:20.930 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:26:20.930 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:26:20.931 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 13:26:20.931 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:26:20.931 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:26:20.931 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:26:20.931 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 13:26:20.932 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 13:26:20.986 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:26:21.022 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel556.pb -o orderer.example.net:7050 -c testchannel556 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:26:21.096 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:26:21.098 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 13:26:21.100 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 13:26:21.100 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel556
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel556 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:26:21.448 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:26:21.457 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel556> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel556> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 13:26:24.336 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:26:24.345 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 13:26:24.347 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 13:26:24.347 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel556",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T13:26:21Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel556> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel556 vtb
[1;34m
Verifing if the <testchannel556> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 13:26:25.329 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:26:25.333 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel556> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel556 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel556> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel556[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel556
--2020-02-14 13:26:27--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:26:27--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:26:27--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:26:27--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 13:26:27.709 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 13:26:27.761 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:26:27.761 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:26:27.761 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 13:26:27.761 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 13:26:27.761 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 13:26:27.761 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 13:26:27.761 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 13:26:27.761 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:26:27.813 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:26:27.813 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:26:27.813 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 13:26:27.813 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:26:27.813 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 13:26:27.813 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:26:27.813 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:26:27.814 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:26:27.815 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 13:26:27.815 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:26:27.815 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:26:27.815 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:26:27.815 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 13:26:27.815 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 13:26:27.873 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel556' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel556.pb -o orderer.example.net:7050 -c ^^^^^^testchannel556 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:26:27.946 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:26:27.948 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel556.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel556.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel556
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel556 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:26:28.137 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel556' != '^^^^^^testchannel556'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel556 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel556 vtb
[1;36m
Creating the <testchannel556> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel556[m[m[m
example.net

Create channel vtb testchannel556
--2020-02-14 13:26:30--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:26:30--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:26:30--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:26:30--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 13:26:30.965 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 13:26:31.021 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:26:31.021 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:26:31.021 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 13:26:31.021 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 13:26:31.021 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 13:26:31.021 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 13:26:31.021 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 13:26:31.021 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:26:31.071 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:26:31.071 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:26:31.071 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 13:26:31.071 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:26:31.071 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 13:26:31.071 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:26:31.071 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:26:31.072 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:26:31.072 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 13:26:31.072 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:26:31.072 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:26:31.072 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:26:31.073 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 13:26:31.073 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 13:26:31.129 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel556.pb -o orderer.example.net:7050 -c testchannel556 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:26:31.203 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:26:31.206 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel556.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel556.json: No such file or directory
>> Prepare config update from vtb for channel testchannel556
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel556 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:26:31.384 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel556> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 13:26:32.383 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:26:32.385 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel556> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel5560 vtb VERIFY: test-channel-exists.sh testchannel5560 vtb
[1;36m
Creating the <testchannel5560> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel5560[m[m[m
example.net

Create channel vtb testchannel5560
--2020-02-14 13:26:35--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:26:35--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:26:35--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:26:35--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 13:26:35.813 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 13:26:35.884 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:26:35.884 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:26:35.884 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 13:26:35.884 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 13:26:35.884 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 13:26:35.884 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 13:26:35.884 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 13:26:35.884 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:26:35.938 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:26:35.938 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:26:35.938 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 13:26:35.938 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:26:35.938 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 13:26:35.938 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:26:35.938 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:26:35.939 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:26:35.939 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 13:26:35.939 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:26:35.939 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:26:35.940 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:26:35.940 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 13:26:35.940 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 13:26:36.020 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:26:36.056 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel5560.pb -o orderer.example.net:7050 -c testchannel5560 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:26:36.158 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:26:36.160 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 13:26:36.164 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 13:26:36.164 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel5560
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel5560 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:26:36.526 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:26:36.537 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel5560> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel5560> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 13:26:38.605 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:26:38.607 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 13:26:38.608 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 13:26:38.608 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel5560",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T13:26:36Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel5560> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel5560 sberbank
[1;34m
Verifing if the <testchannel5560> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 13:26:39.201 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:26:39.203 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel5560> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel5560 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel5560 sberbank
[1;36m
Creating the <testchannel5560> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel5560[m[m[m
example.net

Create channel sberbank testchannel5560
--2020-02-14 13:26:41--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:26:41--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:26:41--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:26:41--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 13:26:41.623 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 13:26:41.676 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:26:41.676 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:26:41.676 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 13:26:41.676 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 13:26:41.676 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 13:26:41.676 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 13:26:41.676 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 13:26:41.676 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:26:41.731 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:26:41.731 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:26:41.731 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 13:26:41.731 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:26:41.731 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 13:26:41.731 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:26:41.731 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:26:41.731 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:26:41.731 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 13:26:41.732 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:26:41.732 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:26:41.732 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:26:41.732 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 13:26:41.732 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 13:26:41.788 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel5560.pb -o orderer.example.net:7050 -c testchannel5560 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:26:41.859 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:26:41.860 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel5560.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel5560.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel5560
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel5560 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:26:42.043 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel5560> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 13:26:43.793 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:26:43.804 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel5560> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
Step: 8_curl Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel6927 sberbank VERIFY: test-channel-exists.sh testchannel6927 sberbank
[1;36mCreating testchannel6927 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY4NjgwNH0.X4wVxqXPYW2MVmI8JUT2S8Pbu_haT4ChB2YoFky_w3Q
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.net:7051","name":"peer0.sberbank.example.net:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.net:7051","grpc.default_authority":"peer0.sberbank.example.net:7051"}}}] 200
[1;32mOK: Channel <testchannel6927> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel6927> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 13:26:47.235 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:26:47.237 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 13:26:47.238 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 13:26:47.238 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel6927",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T13:26:45Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel6927> exists and visible to sberbank[m[m[m
Step 8_curl: exit code 0
Step: 9_curl Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel6927 vtb
[1;34m
Verifing if the <testchannel6927> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 13:26:47.788 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:26:47.790 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel6927> does not exist and in not visible to vtb[m[m[m
Step 9_curl: exit code 0
Step: 10_curl Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel6927 sberbank VERIFY: test-exit-code.sh
[1;36mCreating ^^^^^^testchannel6927 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY4NjgwOH0.EvN_nvBS5b3yOmjb40LjeQX_JIuOmn6Ykczbpcgr6M0
[1;32mOK: JWT token obtained.[m[m[m
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel6927\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 10_curl: exit code 127
Step: 11_curl Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel6927 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel6927 vtb
[1;36mCreating testchannel6927 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY4NjgwOX0.MUdL-csM6WQI0X0_62APQCy_KpMRrB884U9c03UZhz8
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel6927> channel exists in vtb.example.net...[m[m[m
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel4953 sberbank VERIFY: test-channel-exists.sh testchannel4953 sberbank
[1;36m
Creating the <testchannel4953> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4953[m[m[m
example.net

Create channel sberbank testchannel4953
--2020-02-14 13:27:28--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:27:28--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:27:28--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:27:28--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 13:27:28.102 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 13:27:28.156 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:27:28.156 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:27:28.156 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 13:27:28.156 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 13:27:28.156 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 13:27:28.156 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 13:27:28.156 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 13:27:28.156 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:27:28.207 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:27:28.207 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:27:28.207 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 13:27:28.207 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:27:28.207 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 13:27:28.207 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:27:28.207 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:27:28.208 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:27:28.208 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 13:27:28.208 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:27:28.208 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:27:28.208 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:27:28.209 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 13:27:28.209 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 13:27:28.267 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:27:28.300 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel4953.pb -o orderer.example.net:7050 -c testchannel4953 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:27:28.364 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:27:28.367 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 13:27:28.368 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 13:27:28.368 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel4953
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4953 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:27:28.684 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:27:28.693 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update

[1;31mError occurred. See console output above.[m[1;33m[m
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel20265 sberbank VERIFY: test-channel-exists.sh testchannel20265 sberbank
[1;36m
Creating the <testchannel20265> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel20265[m[m[m
example.net

Create channel sberbank testchannel20265
--2020-02-14 13:28:16--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:28:16--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:28:16--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:28:16--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 13:28:16.526 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 13:28:16.575 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:28:16.575 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:28:16.575 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 13:28:16.575 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 13:28:16.575 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 13:28:16.575 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 13:28:16.575 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 13:28:16.575 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:28:16.629 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:28:16.629 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:28:16.629 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 13:28:16.629 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:28:16.629 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 13:28:16.629 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:28:16.629 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:28:16.630 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:28:16.630 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 13:28:16.630 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:28:16.630 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:28:16.631 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:28:16.631 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 13:28:16.631 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 13:28:16.688 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:28:16.722 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel20265.pb -o orderer.example.net:7050 -c testchannel20265 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:28:16.790 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:28:16.792 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 13:28:16.793 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 13:28:16.793 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel20265
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel20265 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:28:17.112 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:28:17.125 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel20265> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel20265> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 13:28:19.288 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:28:19.294 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 13:28:19.295 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 13:28:19.295 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel20265",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T13:28:17Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel20265> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel30944 sberbank VERIFY: test-channel-exists.sh testchannel30944 sberbank
[1;36m
Creating the <testchannel30944> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel30944[m[m[m
example.net

Create channel sberbank testchannel30944
--2020-02-14 13:29:47--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:29:47--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:29:47--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:29:47--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 13:29:47.112 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 13:29:47.167 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:29:47.167 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:29:47.167 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 13:29:47.167 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 13:29:47.167 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 13:29:47.167 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 13:29:47.167 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 13:29:47.167 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:29:47.217 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:29:47.217 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:29:47.217 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 13:29:47.217 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:29:47.217 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 13:29:47.217 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:29:47.217 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:29:47.217 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:29:47.218 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 13:29:47.218 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:29:47.218 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:29:47.218 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:29:47.218 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 13:29:47.219 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 13:29:47.277 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:29:47.322 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel30944.pb -o orderer.example.net:7050 -c testchannel30944 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:29:47.475 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:29:47.478 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 13:29:47.479 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 13:29:47.479 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel30944
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel30944 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:29:47.811 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:29:47.822 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel30944> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel30944> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 13:29:49.986 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:29:49.989 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 13:29:49.990 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 13:29:49.990 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel30944",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T13:29:47Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel30944> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel30944 vtb
[1;34m
Verifing if the <testchannel30944> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 13:29:50.517 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:29:50.519 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel30944> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel30944 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel30944> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel30944[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel30944
--2020-02-14 13:29:52--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:29:52--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:29:52--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:29:52--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 13:29:52.923 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 13:29:53.078 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:29:53.078 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:29:53.078 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 13:29:53.078 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 13:29:53.078 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 13:29:53.078 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 13:29:53.078 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 13:29:53.078 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:29:53.302 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:29:53.302 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:29:53.302 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 13:29:53.302 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:29:53.302 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 13:29:53.302 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:29:53.302 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:29:53.303 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:29:53.304 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 13:29:53.304 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:29:53.304 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:29:53.304 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:29:53.305 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 13:29:53.305 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 13:29:53.468 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel30944' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel30944.pb -o orderer.example.net:7050 -c ^^^^^^testchannel30944 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:29:53.607 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:29:53.609 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel30944.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel30944.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel30944
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel30944 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:29:54.015 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel30944' != '^^^^^^testchannel30944'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel30944 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel30944 vtb
[1;36m
Creating the <testchannel30944> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel30944[m[m[m
example.net

Create channel vtb testchannel30944
--2020-02-14 13:29:57--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:29:57--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:29:57--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:29:57--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 13:29:57.581 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 13:29:57.633 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:29:57.633 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:29:57.633 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 13:29:57.633 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 13:29:57.633 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 13:29:57.633 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 13:29:57.633 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 13:29:57.633 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:29:57.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:29:57.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:29:57.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 13:29:57.685 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:29:57.685 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 13:29:57.685 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:29:57.685 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:29:57.686 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:29:57.686 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 13:29:57.686 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:29:57.686 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:29:57.686 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:29:57.687 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 13:29:57.687 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 13:29:57.743 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel30944.pb -o orderer.example.net:7050 -c testchannel30944 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:29:57.811 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:29:57.814 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel30944.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel30944.json: No such file or directory
>> Prepare config update from vtb for channel testchannel30944
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel30944 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:29:57.988 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel30944> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 13:29:58.940 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:29:58.942 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel30944> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel309440 vtb VERIFY: test-channel-exists.sh testchannel309440 vtb
[1;36m
Creating the <testchannel309440> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel309440[m[m[m
example.net

Create channel vtb testchannel309440
--2020-02-14 13:30:01--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:30:01--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:30:01--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:30:01--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 13:30:01.411 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 13:30:01.461 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:30:01.461 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:30:01.461 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 13:30:01.461 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 13:30:01.461 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 13:30:01.461 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 13:30:01.461 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 13:30:01.461 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:30:01.511 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:30:01.511 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:30:01.511 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 13:30:01.511 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:30:01.511 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 13:30:01.511 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:30:01.511 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:30:01.512 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:30:01.512 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 13:30:01.512 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:30:01.512 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:30:01.512 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:30:01.513 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 13:30:01.513 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 13:30:01.572 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:30:01.615 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel309440.pb -o orderer.example.net:7050 -c testchannel309440 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:30:01.747 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:30:01.749 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 13:30:01.750 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 13:30:01.750 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel309440
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel309440 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:30:02.056 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:30:02.066 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel309440> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel309440> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 13:30:04.886 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:30:04.892 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 13:30:04.894 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 13:30:04.894 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel309440",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T13:30:02Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel309440> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel309440 sberbank
[1;34m
Verifing if the <testchannel309440> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 13:30:05.753 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:30:05.755 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel309440> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel309440 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel309440 sberbank
[1;36m
Creating the <testchannel309440> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel309440[m[m[m
example.net

Create channel sberbank testchannel309440
--2020-02-14 13:30:08--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:30:08--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:30:08--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:30:08--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 13:30:08.145 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 13:30:08.200 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:30:08.200 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:30:08.200 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 13:30:08.200 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 13:30:08.200 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 13:30:08.200 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 13:30:08.200 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 13:30:08.200 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:30:08.249 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:30:08.250 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:30:08.250 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 13:30:08.250 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:30:08.250 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 13:30:08.250 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:30:08.250 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:30:08.250 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:30:08.250 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 13:30:08.251 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:30:08.251 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:30:08.251 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:30:08.251 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 13:30:08.251 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 13:30:08.308 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel309440.pb -o orderer.example.net:7050 -c testchannel309440 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:30:08.384 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:30:08.386 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel309440.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel309440.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel309440
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel309440 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:30:08.557 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel309440> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 13:30:09.640 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:30:09.641 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel309440> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
Step: 8_curl Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel30944 sberbank VERIFY: test-channel-exists.sh testchannel30944 sberbank
[1;36mCreating testchannel30944 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY4NzAwOX0.lNEADs9otHtzYNogb2gJR5-M7dDjY8Ird1r7lPmnj0U
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.net:7051","name":"peer0.sberbank.example.net:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.net:7051","grpc.default_authority":"peer0.sberbank.example.net:7051"}}}] 200
[1;32mOK: Channel <testchannel30944> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel30944> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 13:30:12.014 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:30:12.016 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 13:30:12.017 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 13:30:12.017 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel30944",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T13:29:47Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel30944> exists and visible to sberbank[m[m[m
Step 8_curl: exit code 0
Step: 9_curl Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel30944 vtb
[1;34m
Verifing if the <testchannel30944> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 13:30:12.532 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:30:12.533 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel30944> does not exist and in not visible to vtb[m[m[m
Step 9_curl: exit code 0
Step: 10_curl Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel30944 sberbank VERIFY: test-exit-code.sh
[1;36mCreating ^^^^^^testchannel30944 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY4NzAxM30.OyYrQC3wFoH-uJ_nj-qRLuXFpqKAfPKOxI3ZrGB9LRY
[1;32mOK: JWT token obtained.[m[m[m
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel30944\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 10_curl: exit code 127
Step: 11_curl Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel30944 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel30944 vtb
[1;36mCreating testchannel30944 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY4NzAxNn0.vJ3uERrQbjLcxsWVKOjApTHzjVCkMbEhix2YgvpPYoM
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel30944> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 13:30:18.213 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:30:18.216 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel30944> does not exist and in not visible to vtb[m[m[m
Step 11_curl: exit code 0
Step: 12_curl Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel309440 vtb VERIFY: test-channel-exists.sh testchannel309440 vtb
[1;36mCreating testchannel309440 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY4NzAxOH0.Q5f8QfiXoGuhcuxh8Du8KvOWdwshpqSymS95F2OzmP4
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.net:8051","name":"peer0.vtb.example.net:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.net:8051","grpc.default_authority":"peer0.vtb.example.net:8051"}}}] 200
[1;32mOK: Channel <testchannel309440> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel309440> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 13:30:20.407 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:30:20.409 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 13:30:20.410 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 13:30:20.410 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel309440",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T13:30:02Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel309440> exists and visible to vtb[m[m[m
Step 12_curl: exit code 0
Step: 13_curl Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel309440 sberbank
[1;34m
Verifing if the <testchannel309440> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 13:30:20.964 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:30:20.966 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel309440> does not exist and in not visible to sberbank[m[m[m
Step 13_curl: exit code 0
Step: 14_curl Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel309440 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel309440 sberbank
[1;36mCreating testchannel309440 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY4NzAyMX0.5CD0al2-VgWXomBL-mD_iM20O8WY4YraH-9qKEXtQO4
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel309440> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 13:30:23.131 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:30:23.136 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel309440> does not exist and in not visible to sberbank[m[m[m
Step 14_curl: exit code 0
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel3731 sberbank VERIFY: test-channel-exists.sh testchannel3731 sberbank
[1;36m
Creating the <testchannel3731> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel3731[m[m[m
example.net

Create channel sberbank testchannel3731
--2020-02-14 13:31:42--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:31:42--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:31:42--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:31:42--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 13:31:42.447 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 13:31:42.498 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:31:42.498 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:31:42.498 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 13:31:42.498 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 13:31:42.498 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 13:31:42.498 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 13:31:42.498 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 13:31:42.498 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:31:42.553 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:31:42.553 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:31:42.553 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 13:31:42.553 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:31:42.553 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 13:31:42.553 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:31:42.554 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:31:42.554 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:31:42.554 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 13:31:42.554 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:31:42.554 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:31:42.555 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:31:42.555 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 13:31:42.555 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 13:31:42.612 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:31:42.647 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel3731.pb -o orderer.example.net:7050 -c testchannel3731 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:31:42.712 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:31:42.715 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 13:31:42.716 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 13:31:42.716 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel3731
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel3731 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:31:43.159 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:31:43.177 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel3731> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel3731> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 13:31:45.805 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:31:45.810 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 13:31:45.811 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 13:31:45.811 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel3731",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T13:31:43Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel3731> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel3731 vtb
[1;34m
Verifing if the <testchannel3731> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 13:31:46.353 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:31:46.355 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel3731> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel3731 sberbank VERIFY: test-exit-code.sh
[1;36m
Creating the <^^^^^^testchannel3731> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel3731[m[m[m
example.net

Create channel sberbank ^^^^^^testchannel3731
--2020-02-14 13:31:48--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:31:48--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:31:48--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:31:48--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 13:31:48.749 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 13:31:48.813 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:31:48.813 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:31:48.813 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 13:31:48.814 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 13:31:48.814 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 13:31:48.814 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 13:31:48.814 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 13:31:48.814 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:31:48.877 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:31:48.877 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:31:48.877 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 13:31:48.877 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:31:48.877 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 13:31:48.877 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:31:48.877 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:31:48.878 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:31:48.878 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 13:31:48.878 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:31:48.878 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:31:48.878 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:31:48.879 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 13:31:48.879 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 13:31:48.940 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel3731' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel3731.pb -o orderer.example.net:7050 -c ^^^^^^testchannel3731 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:31:49.013 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:31:49.014 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel3731.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel3731.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel3731
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel3731 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:31:49.227 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel3731' != '^^^^^^testchannel3731'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 127
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel3731 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel3731 vtb
[1;36m
Creating the <testchannel3731> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel3731[m[m[m
example.net

Create channel vtb testchannel3731
--2020-02-14 13:31:52--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:31:52--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:31:52--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:31:52--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 13:31:52.134 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 13:31:52.187 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:31:52.188 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:31:52.188 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 13:31:52.188 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 13:31:52.188 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 13:31:52.188 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 13:31:52.188 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 13:31:52.188 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:31:52.236 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:31:52.236 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:31:52.236 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 13:31:52.236 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:31:52.236 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 13:31:52.236 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:31:52.236 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:31:52.237 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:31:52.237 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 13:31:52.237 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:31:52.237 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:31:52.237 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:31:52.238 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 13:31:52.238 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 13:31:52.293 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel3731.pb -o orderer.example.net:7050 -c testchannel3731 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:31:52.366 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:31:52.369 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel3731.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel3731.json: No such file or directory
>> Prepare config update from vtb for channel testchannel3731
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel3731 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:31:52.547 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel3731> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 13:31:54.485 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:31:54.488 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel3731> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel37310 vtb VERIFY: test-channel-exists.sh testchannel37310 vtb
[1;36m
Creating the <testchannel37310> channel for vtb.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel37310[m[m[m
example.net

Create channel vtb testchannel37310
--2020-02-14 13:31:57--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:31:57--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:31:57--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:31:57--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 13:31:57.369 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 13:31:57.421 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:31:57.421 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:31:57.421 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 13:31:57.421 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 13:31:57.421 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 13:31:57.421 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 13:31:57.421 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 13:31:57.421 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:31:57.470 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:31:57.470 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:31:57.470 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 13:31:57.470 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:31:57.470 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 13:31:57.470 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:31:57.470 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:31:57.470 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:31:57.471 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-02-14 13:31:57.471 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:31:57.471 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:31:57.471 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:31:57.472 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-02-14 13:31:57.472 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 13:31:57.528 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:31:57.563 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel37310.pb -o orderer.example.net:7050 -c testchannel37310 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:31:57.632 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:31:57.634 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-02-14 13:31:57.635 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-02-14 13:31:57.635 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel37310
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel37310 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:31:57.939 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:31:57.949 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel37310> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel37310> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 13:32:00.083 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:32:00.086 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 13:32:00.087 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 13:32:00.087 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel37310",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T13:31:57Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel37310> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel37310 sberbank
[1;34m
Verifing if the <testchannel37310> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 13:32:00.648 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:32:00.650 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel37310> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel37310 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel37310 sberbank
[1;36m
Creating the <testchannel37310> channel for sberbank.example.net...[m[m[m
[1;32mExecute: docker-compose -f docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel37310[m[m[m
example.net

Create channel sberbank testchannel37310
--2020-02-14 13:32:02--  http://www.example.net/msp/admincerts/Admin@example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/admincerts/Admin@example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:32:02--  http://www.example.net/msp/cacerts/ca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/cacerts/ca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:32:02--  http://www.example.net/msp/tlscacerts/tlsca.example.net-cert.pem
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pemâ€™ not modified on server. Omitting download.

--2020-02-14 13:32:02--  http://www.example.net/msp/orderer.example.net/tls/server.crt
Resolving www.example.net (www.example.net)... 172.19.0.4
Connecting to www.example.net (www.example.net)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.net/msp/orderer.example.net/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-02-14 13:32:02.935 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-02-14 13:32:03.026 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:32:03.026 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:32:03.026 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-02-14 13:32:03.026 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-02-14 13:32:03.026 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-02-14 13:32:03.026 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-02-14 13:32:03.026 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-02-14 13:32:03.026 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:32:03.108 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-02-14 13:32:03.108 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-02-14 13:32:03.108 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-02-14 13:32:03.108 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-02-14 13:32:03.108 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-02-14 13:32:03.109 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:32:03.109 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:32:03.110 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:32:03.111 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-02-14 13:32:03.111 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-02-14 13:32:03.111 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-02-14 13:32:03.112 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-02-14 13:32:03.113 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-02-14 13:32:03.113 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-02-14 13:32:03.271 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel37310.pb -o orderer.example.net:7050 -c testchannel37310 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:32:03.457 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:32:03.460 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel37310.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel37310.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel37310
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel37310 -o orderer.example.net:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.net/msp/tlscacerts/tlsca.example.net-cert.pem
[34m2020-02-14 13:32:04.053 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel37310> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 13:32:05.969 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:32:05.971 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel37310> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
Step: 8_curl Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel3731 sberbank VERIFY: test-channel-exists.sh testchannel3731 sberbank
[1;36mCreating testchannel3731 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY4NzEyNn0.IGJfNVKfunyKbkVQeyBvm0RTZvC0zmGuQK3eiDCkAso
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.net:7051","name":"peer0.sberbank.example.net:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.net:7051","grpc.default_authority":"peer0.sberbank.example.net:7051"}}}] 200
[1;32mOK: Channel <testchannel3731> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel3731> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 13:32:08.408 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:32:08.410 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 13:32:08.411 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 13:32:08.411 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel3731",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T13:31:43Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel3731> exists and visible to sberbank[m[m[m
Step 8_curl: exit code 0
Step: 9_curl Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel3731 vtb
[1;34m
Verifing if the <testchannel3731> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 13:32:08.940 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:32:08.942 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel3731> does not exist and in not visible to vtb[m[m[m
Step 9_curl: exit code 0
Step: 10_curl Test 'Can not create the channel with incorrect name in ORG1'
RUNTEST: create-channel.sh ^^^^^^testchannel3731 sberbank VERIFY: test-exit-code.sh
[1;36mCreating ^^^^^^testchannel3731 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY4NzEyOX0.NGkcxLes171V1qqZUVw7JgrbxcL-fOCN-rEcSGyG8Jo
[1;32mOK: JWT token obtained.[m[m[m
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel3731\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 10_curl: exit code 127
Step: 11_curl Test 'Can not create channel in ORG2 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel3731 vtb RUN: export NO_RED_OUTPUT=false VERIFY: test-channel-does-not-exist.sh testchannel3731 vtb
[1;36mCreating testchannel3731 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY4NzEzMH0.DUONBMZ1wnnwoNhml6uPzT-mJniHAeMBKd7j6usAV2A
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel3731> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 13:32:12.694 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:32:12.696 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel3731> does not exist and in not visible to vtb[m[m[m
Step 11_curl: exit code 0
Step: 12_curl Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel37310 vtb VERIFY: test-channel-exists.sh testchannel37310 vtb
[1;36mCreating testchannel37310 channel in vtb.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY4NzEzM30.BCd30yOL5Xpa3XG_hhEVWurzSC_52SZvo0ORehrehPw
[1;32mOK: JWT token obtained.[m[m[m
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.vtb.example.net:8051","name":"peer0.vtb.example.net:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.vtb.example.net:8051","grpc.default_authority":"peer0.vtb.example.net:8051"}}}] 200
[1;32mOK: Channel <testchannel37310> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel37310> channel exists in vtb.example.net...[m[m[m
[34m2020-02-14 13:32:16.957 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:32:16.958 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-02-14 13:32:16.959 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-02-14 13:32:16.959 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel37310",
"epoch": "0",
"extension": null,
"timestamp": "2020-02-14T13:31:57Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel37310> exists and visible to vtb[m[m[m
Step 12_curl: exit code 0
Step: 13_curl Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel37310 sberbank
[1;34m
Verifing if the <testchannel37310> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 13:32:17.653 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:32:17.656 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel37310> does not exist and in not visible to sberbank[m[m[m
Step 13_curl: exit code 0
Step: 14_curl Test 'Can not create channel in ORG1 with the same name'
RUN: export NO_RED_OUTPUT=true RUNTEST: create-channel.sh testchannel37310 sberbank RUN: export NO_RED_OUTPUT= VERIFY: test-channel-does-not-exist.sh testchannel37310 sberbank
[1;36mCreating testchannel37310 channel in sberbank.example.net using API...[m[m[m
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4MTY4NzEzOH0.9uqo-DiujvlKWDvJJczbuQCD6rQbiAEVrXT6sVxk2IE
[1;32mOK: JWT token obtained.[m[m[m
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel37310> channel exists in sberbank.example.net...[m[m[m
[34m2020-02-14 13:32:19.846 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-02-14 13:32:19.849 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel37310> does not exist and in not visible to sberbank[m[m[m
Step 14_curl: exit code 0
