NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel21914 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel21914 org1
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel21914 org1 VERIFY: test-channel-exists.sh testchannel21914 org1
[1;36m
Creating the <testchannel21914> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel21914
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel21914[m[m[m
example.com

Create channel org1 testchannel21914
--2020-03-27 11:01:01--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 11:01:01--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 11:01:01--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 11:01:01--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-27 11:01:01.673 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-27 11:01:01.729 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-27 11:01:01.730 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-27 11:01:01.730 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-27 11:01:01.731 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-27 11:01:01.731 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-27 11:01:01.731 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-27 11:01:01.732 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-27 11:01:01.732 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-27 11:01:01.787 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-27 11:01:01.787 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-27 11:01:01.788 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-27 11:01:01.788 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-27 11:01:01.788 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-27 11:01:01.789 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-27 11:01:01.789 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-27 11:01:01.790 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-27 11:01:01.791 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-27 11:01:01.791 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-27 11:01:01.792 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-27 11:01:01.792 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-27 11:01:01.793 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-27 11:01:01.794 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-27 11:01:01.852 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 11:01:01.872 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel21914.pb -o orderer.example.com:7050 -c testchannel21914 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 11:01:01.944 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 11:01:01.947 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-27 11:01:01.949 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-27 11:01:01.949 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel21914
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel21914 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 11:01:02.273 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 11:01:02.287 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel21914> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel21914> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 11:01:04.514 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 11:01:04.517 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-27 11:01:04.518 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-27 11:01:04.519 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel21914",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-27T11:01:02Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/file1RUt4y _testchannel21914_
[1;32mOK: The channel <testchannel21914> exists and visible to org1[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel21914 org2
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel21914 org2
[1;34m
Verifing if the <testchannel21914> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 11:01:06.606 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 11:01:06.608 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file1reByN _null_
[1;32mOK: The channel <testchannel21914> does not exist and in not visible to org2[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel21914 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel21914 org1
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel21914 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel21914 org1
[1;36m
Creating the <^^^^^^testchannel21914> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel21914
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel21914[m[m[m
example.com

Create channel org1 ^^^^^^testchannel21914
--2020-03-27 11:01:09--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 11:01:09--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 11:01:09--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 11:01:09--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-27 11:01:09.660 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-27 11:01:09.720 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-27 11:01:09.721 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-27 11:01:09.721 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-27 11:01:09.721 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-27 11:01:09.722 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-27 11:01:09.722 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-27 11:01:09.722 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-27 11:01:09.723 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-27 11:01:09.779 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-27 11:01:09.780 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-27 11:01:09.780 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-27 11:01:09.781 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-27 11:01:09.781 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-27 11:01:09.781 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-27 11:01:09.782 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-27 11:01:09.782 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-27 11:01:09.783 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-27 11:01:09.784 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-27 11:01:09.784 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-27 11:01:09.785 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-27 11:01:09.786 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-27 11:01:09.786 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-27 11:01:09.845 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel21914' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel21914.pb -o orderer.example.com:7050 -c ^^^^^^testchannel21914 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 11:01:09.939 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 11:01:09.941 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel21914.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel21914.json: No such file or directory
>> Prepare config update from org1 for channel ^^^^^^testchannel21914
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel21914 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 11:01:10.176 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel21914' != '^^^^^^testchannel21914'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel21914> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 11:01:12.725 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 11:01:12.727 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/filejaLZVd _null_
[1;32mOK: The channel <^^^^^^testchannel21914> does not exist and in not visible to org1[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel21914 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel21914 org2
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel21914 org2 VERIFY: test-channel-does-not-exist.sh testchannel21914 org2
[1;36m
Creating the <testchannel21914> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel21914
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel21914[m[m[m
example.com

Create channel org2 testchannel21914
--2020-03-27 11:01:15--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 11:01:15--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 11:01:15--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 11:01:15--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-27 11:01:15.832 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-27 11:01:15.923 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-27 11:01:15.924 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-27 11:01:15.924 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-27 11:01:15.925 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-27 11:01:15.925 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-27 11:01:15.925 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-27 11:01:15.926 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-27 11:01:15.926 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-27 11:01:16.026 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-27 11:01:16.027 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-27 11:01:16.028 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-27 11:01:16.029 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-27 11:01:16.030 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-27 11:01:16.031 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-27 11:01:16.033 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-27 11:01:16.034 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-27 11:01:16.036 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-27 11:01:16.037 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-27 11:01:16.038 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-27 11:01:16.040 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-27 11:01:16.042 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-27 11:01:16.043 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-27 11:01:16.151 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel21914.pb -o orderer.example.com:7050 -c testchannel21914 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 11:01:16.308 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 11:01:16.315 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel21914.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel21914.json: No such file or directory
>> Prepare config update from org2 for channel testchannel21914
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel21914 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 11:01:16.643 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel21914> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 11:01:19.033 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 11:01:19.036 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filef3KpsR _null_
[1;32mOK: The channel <testchannel21914> does not exist and in not visible to org2[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel21914-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel21914-02 org2
Step: 5_cli Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel21914-02 org2 VERIFY: test-channel-exists.sh testchannel21914-02 org2
[1;36m
Creating the <testchannel21914-02> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel21914-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel21914-02[m[m[m
example.com

Create channel org2 testchannel21914-02
--2020-03-27 11:01:21--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 11:01:21--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 11:01:21--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 11:01:21--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-27 11:01:21.855 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-27 11:01:21.911 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-27 11:01:21.911 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-27 11:01:21.912 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-27 11:01:21.912 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-27 11:01:21.913 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-27 11:01:21.913 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-27 11:01:21.913 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-27 11:01:21.914 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-27 11:01:21.974 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-27 11:01:21.975 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-27 11:01:21.975 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-27 11:01:21.976 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-27 11:01:21.976 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-27 11:01:21.977 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-27 11:01:21.977 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-27 11:01:21.978 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-27 11:01:21.979 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-27 11:01:21.979 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-27 11:01:21.979 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-27 11:01:21.980 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-27 11:01:21.981 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-27 11:01:21.981 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-27 11:01:22.046 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 11:01:22.072 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel21914-02.pb -o orderer.example.com:7050 -c testchannel21914-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 11:01:22.155 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 11:01:22.158 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-27 11:01:22.161 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-27 11:01:22.161 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org2 for channel testchannel21914-02
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel21914-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 11:01:22.471 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 11:01:22.487 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel21914-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel21914-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 11:01:25.003 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 11:01:25.006 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-27 11:01:25.008 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-27 11:01:25.009 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel21914-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-27T11:01:22Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/file3crIV5 _testchannel21914-02_
[1;32mOK: The channel <testchannel21914-02> exists and visible to org2[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel21914-02 org1
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel21914-02 org1
[1;34m
Verifing if the <testchannel21914-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 11:01:27.217 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 11:01:27.220 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filev0hiRp _null_
[1;32mOK: The channel <testchannel21914-02> does not exist and in not visible to org1[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel21914-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel21914-02 org1
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel21914-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel21914-02 org1
[1;36m
Creating the <testchannel21914-02> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel21914-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel21914-02[m[m[m
example.com

Create channel org1 testchannel21914-02
--2020-03-27 11:01:30--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 11:01:30--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 11:01:30--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 11:01:30--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-27 11:01:30.329 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-27 11:01:30.392 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-27 11:01:30.393 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-27 11:01:30.393 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-27 11:01:30.394 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-27 11:01:30.394 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-27 11:01:30.395 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-27 11:01:30.395 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-27 11:01:30.396 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-27 11:01:30.461 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-27 11:01:30.462 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-27 11:01:30.462 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-27 11:01:30.462 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-27 11:01:30.463 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-27 11:01:30.463 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-27 11:01:30.463 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-27 11:01:30.464 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-27 11:01:30.465 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-27 11:01:30.466 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-27 11:01:30.466 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-27 11:01:30.467 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-27 11:01:30.468 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-27 11:01:30.469 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-27 11:01:30.528 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel21914-02.pb -o orderer.example.com:7050 -c testchannel21914-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 11:01:30.611 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 11:01:30.615 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel21914-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel21914-02.json: No such file or directory
>> Prepare config update from org1 for channel testchannel21914-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel21914-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 11:01:30.801 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel21914-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 11:01:33.103 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 11:01:33.106 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileupra3z _null_
[1;32mOK: The channel <testchannel21914-02> does not exist and in not visible to org1[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel21914 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel21914 org1 org2
Step: 8_cli Test 'Add <org2> to channel <testchannel21914> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel21914 org1 org2 VERIFY: test-channel-add-org.sh testchannel21914 org1 org2
[1;36m
Add org2 to the testchannel21914 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel21914 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel21914 org2 7051 example.com[m[m[m
--2020-03-27 11:01:36--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.101
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 11:01:36--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.101
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 11:01:36--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.101
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel21914, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel21914.pb -o orderer.example.com:7050 -c testchannel21914 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 11:01:36.464 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 11:01:36.468 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-27 11:01:36.471 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-27 11:01:36.472 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel21914
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel21914 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 11:01:36.831 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 11:01:36.861 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization org2 added to testchannel21914 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel21914 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 11:01:39.283 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 11:01:39.286 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-27 11:01:39.287 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-27 11:01:39.288 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRVldCOWwwUGIzMzJxemNFalpsU2hXREFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpjd09UUXdNREJhRncwek1EQXpNalV3T1RRd01EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFekhZUEZiU1VhK1JLUnRBT2RNOStYdnY0RjBFWG5BUTEKaERUdnkxNmRxTXVtUHVVN2hseG1mWlYwMG9xWEVYdll6WWtQeFBYUGJoSmZpemNyMkZtZldxTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnWHB0QXUvT3dwZHRmClZ5aEdkMDZhTW5XYlNScWtWK204eTErOWFWR2N3Z293Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnUytpRXp5RGkKaXFQT3hGQXhPMFdzWVpOcnhxaEVlYTFuZlFSNktiNjI3QnNDSUhvTUJNUmVtWE5GSU5nNk5RZnJTL0RoRHA0QQp6SUlWbi9HVW83OHNSajkyCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZlZ0F3SUJBZ0lRSnNRTVQ2VkFKV0d0NFNnamwzS25yekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpjd09UUXdNREJhRncwek1EQXpNalV3T1RRd01EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKQ09ON0g0djMzZmtOREVmVTd2d0xDOVM1ZzFhU3laVmo2RzlyOVIza29EK21aSkZRSDErU1lVS1JqV2RiemhOWQo1a3g0bGNhajl2czdUenlDZVFacXNhTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQmUKbTBDNzg3Q2wyMTlYS0VaM1Rwb3lkWnRKR3FSWDZiekxYNzFwVVp6Q0NqQUtCZ2dxaGtqT1BRUURBZ05JQURCRgpBaUVBbGVndkNsLy9RQzFGdXhsZzlUcUhOMWJYbEovbFdwQlFtUGZaczZJT1BVa0NJRVB0YUtlR090MWV3cnljCmRYNUVwN3REdmZ1ZFFxczBkTzhjaTVNRjZRalMKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNXRENDQWY2Z0F3SUJBZ0lSQU9XbDVmdStoZDFDcUtDdDM3WUJPMGt3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpJdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016STNNRGswTURBd1doY05NekF3TXpJMU1EazAKTURBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCSEtVMGdIOUdQRmI0L0hUVHlXdGZqOGJ5N2U3Q1NPS04xZjkyRGcxVEo0cGxrUDNhdkJoVU5WRQptQko4RGpkU1I4NWs2S3YzcU5uMTkrTVk0VFE4VnJlamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdSS2hBRUlNYzFaYVpIQ0RQMnVTZm1TZ1VVSFE3eFNPYlFtVmJJdmMycXJFd0NnWUlLb1pJemowRQpBd0lEU0FBd1JRSWhBTFJQUjRHVmhRNXdLaFhkV1Z0dU9wVVdoTkNNN2hOYzVScnhnNmNWNVpZVkFpQU9rN2tHCjB1elBGMXE0MldmOTVsb0FYdVZvV1JITW03eldrMDRlWkt1ZkJRPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
]
},
"type": 0
}
cat /tmp/file1vxGWS _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel21914>.[m[m[m
Step 8_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel21914-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel21914-02 org2 org1
Step: 9_cli Test 'Add <org1> to channel <testchannel21914-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel21914-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel21914-02 org2 org1
[1;36m
Add org1 to the testchannel21914-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel21914-02 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel21914-02 org2 7051 example.com[m[m[m
--2020-03-27 11:01:42--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.5
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.5|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 11:01:42--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.5
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.5|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 11:01:42--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.5
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.5|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel21914-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel21914-02.pb -o orderer.example.com:7050 -c testchannel21914-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 11:01:42.682 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 11:01:42.686 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-27 11:01:42.689 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-27 11:01:42.690 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel21914-02
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel21914-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 11:01:43.015 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel21914-02': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application/org2 be at version 0, but it is currently at version 1
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org1> added to testchannel21914-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 11:01:45.407 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 11:01:45.410 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-27 11:01:45.413 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-27 11:01:45.413 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
null
cat /tmp/filetl3sJh _null_
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 9_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel21914 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel21914 org1
Step: 10_cli Test 'Join <org1> to the <testchannel21914> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel21914 org1 VERIFY: test-join-channel.sh testchannel21914 org1
[1;36m
Joining  org1 to the testchannel21914 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel21914
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel21914[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=9e1241410b3e
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-27 11:01:48--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 11:01:48--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 11:01:48--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 11:01:48--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org1 to channel testchannel21914
Execute: channel fetch 0 crypto-config/configtx/testchannel21914.pb -o orderer.example.com:7050 -c testchannel21914 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 11:01:48.857 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 11:01:48.860 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-27 11:01:48.918 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 11:01:48.988 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org1 has been joined to testchannel21914 channel[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel21914> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 11:01:51.611 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel21914> channel[m[m[m
Step 10_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel21914 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel21914 org2
Step: 11_cli Test 'Join <org2> to the <testchannel21914> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel21914 org2 VERIFY: test-join-channel.sh testchannel21914 org2
[1;36m
Joining  org2 to the testchannel21914 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel21914
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel21914[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=bf6fa294c2b9
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-27 11:01:54--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 11:01:54--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 11:01:54--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 11:01:54--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel21914
Execute: channel fetch 0 crypto-config/configtx/testchannel21914.pb -o orderer.example.com:7050 -c testchannel21914 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 11:01:54.654 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 11:01:54.658 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-27 11:01:54.717 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 11:01:54.775 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel21914 channel[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel21914> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 11:01:57.188 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel21914> channel[m[m[m
Step 11_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel21914-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel21914-02 org1
Step: 12_cli Test 'Join <org1> to the <testchannel21914-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel21914-02 org1 VERIFY: test-join-channel.sh testchannel21914-02 org1
[1;36m
Joining  org1 to the testchannel21914-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel21914-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel21914-02[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=52ea643636d2
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-27 11:02:00--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 11:02:00--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 11:02:00--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 11:02:00--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org1 to channel testchannel21914-02
Execute: channel fetch 0 crypto-config/configtx/testchannel21914-02.pb -o orderer.example.com:7050 -c testchannel21914-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 11:02:00.246 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 11:02:00.248 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
[34m2020-03-27 11:02:00.307 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: genesis block file not found open crypto-config/configtx/testchannel21914-02.pb: no such file or directory
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel21914-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 11:02:02.489 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 12_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel21914-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel21914-02 org2
Step: 13_cli Test 'Join <org2> to the <testchannel21914-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel21914-02 org2 VERIFY: test-join-channel.sh testchannel21914-02 org2
[1;36m
Joining  org2 to the testchannel21914-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel21914-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel21914-02[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=cfc60c53e73a
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-27 11:02:05--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 11:02:05--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 11:02:05--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 11:02:05--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel21914-02
Execute: channel fetch 0 crypto-config/configtx/testchannel21914-02.pb -o orderer.example.com:7050 -c testchannel21914-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 11:02:05.231 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 11:02:05.234 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-27 11:02:05.292 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 11:02:05.348 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel21914-02 channel[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel21914-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 11:02:07.782 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel21914-02> channel[m[m[m
Step 13_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel21914 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel21914 org1
Step: 14_cli Test 'Install test chaincode by <org1> to the <testchannel21914> channel'
RUNTEST: chaincode-install.sh testchannel21914 org1 VERIFY: test-chaincode-installed.sh testchannel21914 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in org1...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel21914 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel21914[m[m[m
cp: cannot stat '/opt/chaincode/node/reference/*': No such file or directory
[1;31mError occurred. See console output above.[m[1;33m[m
[1;36m
Installing testchannel21914  chaincode in org1...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel21914'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=a2fe67d537e9
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel21914  /opt/chaincode/node/reference_testchannel21914 node 1.0
[34m2020-03-27 11:02:12.617 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-27 11:02:12.619 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[31m2020-03-27 11:02:12.621 UTC [chaincode.platform.node] GetDeploymentPayload -> ERRO 003[0m Error writing folder to tar package no source files found in '/opt/chaincode/node/reference_testchannel21914'
Error: error getting chaincode code reference_testchannel21914: error getting chaincode package bytes: Error writing Chaincode package contents: no source files found in '/opt/chaincode/node/reference_testchannel21914'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode installed in org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel21914' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel12104, Version: 1.0, Path: /tmp/reference_testchannel12104, Id: 378025edc6d5f1229af5f8b2247b627ff46efa4cb9c277bb2218dbfa0ccc35e2
Name: reference_testchannel17809, Version: 1.0, Path: /tmp/reference_testchannel17809, Id: 291131365b79f103e90a729d9b176dcf39d032434284f231c35ed77646a9446e
Name: reference_testchannel4718, Version: 1.0, Path: /tmp/reference_testchannel4718, Id: e0f60e270ee4ed1f08f996211920d8c62a95860a53376a7de2289f42e6b8421c

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 14_cli: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel21914-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel21914-02 org2
Step: 15_cli Test 'Install test chaincode by <org2> to the <testchannel21914-02> channel'
RUNTEST: chaincode-install.sh testchannel21914-02 org2 VERIFY: test-chaincode-installed.sh testchannel21914-02 org2
[1;36m
Installing test chaincode in org2...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in org2...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel21914-02 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel21914-02[m[m[m
cp: cannot stat '/opt/chaincode/node/reference/*': No such file or directory
[1;31mError occurred. See console output above.[m[1;33m[m
[1;36m
Installing testchannel21914-02  chaincode in org2...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel21914-02'[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=a565b8028f95
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel21914-02  /opt/chaincode/node/reference_testchannel21914-02 node 1.0
[34m2020-03-27 11:02:19.910 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-27 11:02:19.911 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[31m2020-03-27 11:02:19.912 UTC [chaincode.platform.node] GetDeploymentPayload -> ERRO 003[0m Error writing folder to tar package no source files found in '/opt/chaincode/node/reference_testchannel21914-02'
Error: error getting chaincode code reference_testchannel21914-02: error getting chaincode package bytes: Error writing Chaincode package contents: no source files found in '/opt/chaincode/node/reference_testchannel21914-02'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;32mOK: Test chaincode installed in org2[m[m[m
[1;34m
Verifing if the test chaincode installed in org2 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel21914-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel12104-02, Version: 1.0, Path: /tmp/reference_testchannel12104-02, Id: c931222f5f5c96adfca7806ad8f821f4749be80df5140a3d563c4fb080c3ff2e
Name: reference_testchannel17809-02, Version: 1.0, Path: /tmp/reference_testchannel17809-02, Id: 6613cec72ff441bd73ce49f8140dbc8f2106fea8362ce24deca515d5a407c410
Name: reference_testchannel4718-02, Version: 1.0, Path: /tmp/reference_testchannel4718-02, Id: 4ea674c5946c2955b09dda368710e0eeba35b1cb22035c14bb41c5ad1a067ea8

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 15_cli: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-instantiate.sh testchannel21914 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel21914 org1
Step: 16_cli Test 'Instantiate test chaincode by <org1> to the <testchannel21914> channel'
RUNTEST: chaincode-instantiate.sh testchannel21914 org1 VERIFY: test-chaincode-instantiated.sh testchannel21914 org1
[1;36m
Instantiate test chaincode in testchannel21914 in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-instantiate.sh testchannel21914 reference_testchannel21914[m[m[m
Instantiate chaincode testchannel21914 reference_testchannel21914 '[]' 1.0  
[34m2020-03-27 11:02:26.468 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-27 11:02:26.469 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
Error: could not assemble transaction, err proposal response was not successful, error code 500, msg cannot get package for chaincode (reference_testchannel21914:1.0)
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel21914 channel by org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel21914' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel21914:

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 16_cli: exit code 1
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-invoke.sh testchannel21914 org1 reference_testchannel21914 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-query.sh testchannel21914 org1 reference_testchannel21914
Step: 17_cli Test 'Test chaincode invocation and query:  <org1> <-> <org2>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel21914 org1 reference_testchannel21914 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel21914 org1 reference_testchannel21914
[1;36m
Invoke test chaincode on the <testchannel21914> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-invoke.sh testchannel21914 reference_testchannel21914 '["put","testchannel21914","testchannel21914"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-invoke.sh  testchannel21914 reference_testchannel21914 '["put","testchannel21914","testchannel21914"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode invoke -n reference_testchannel21914 -C testchannel21914 -c '{"Args":["put","testchannel21914","testchannel21914"]}'
[34m2020-03-27 11:02:47.691 UTC [chaincodeCmd] InitCmdFactory -> INFO 001[0m Retrieved channel (testchannel21914) orderer endpoint: orderer.example.com:7050
Error: endorsement failure during invoke. response: status:500 message:"make sure the chaincode reference_testchannel21914 has been successfully instantiated and try again: chaincode reference_testchannel21914 not found" 
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;36m
Query test chaincode on the <testchannel21914> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel21914 reference_testchannel21914 '["range","testchannel21914"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel21914 reference_testchannel21914 '["range","testchannel21914"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode query -n reference_testchannel21914 -C testchannel21914 -c '{"Args":["range","testchannel21914"]}'
Error: endorsement failure during query. response: status:500 message:"make sure the chaincode reference_testchannel21914 has been successfully instantiated and try again: chaincode reference_testchannel21914 not found" 
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 17_cli: exit code 1
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/./test-containers-list.sh org1 example.com orderer www cli.orderer
Step: 1_cli Test 'Docker containers for orderer are up and running'
VERIFY: ./test-containers-list.sh org1 example.com orderer www cli.orderer
[1;34m
Verifing that all the test network containers example.com are up and running[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mOK: All the test network containers are up and running[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/./test-containers-list.sh org1 org1.example.com api ca cli couchdb.peer0 peer0 www
Step: 2_cli Test 'Docker containers for <org1> are up and running'
VERIFY: ./test-containers-list.sh org1 org1.example.com api ca cli couchdb.peer0 peer0 www
[1;34m
Verifing that all the test network containers example.com are up and running[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mOK: All the test network containers are up and running[m[m[m
Step 2_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/./test-containers-list.sh org2 org2.example.com api ca cli couchdb.peer0 peer0 www
Step: 3_cli Test 'Docker containers for <org2> are up and running'
VERIFY: ./test-containers-list.sh org2 org2.example.com api ca cli couchdb.peer0 peer0 www
[1;34m
Verifing that all the test network containers example.com are up and running[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mOK: All the test network containers are up and running[m[m[m
Step 3_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh common org1
Step: 4_cli Test 'Organization <org1> is in <common> channel'
VERIFY: test-channel-exists.sh common org1
[1;34m
Verifing if the <common> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:40:43.726 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:40:43.729 UTC [cli.common] readBlock -> INFO 002[0m Received block: 7
[34m2020-03-27 12:40:43.731 UTC [cli.common] readBlock -> INFO 003[0m Received block: 5
[34m2020-03-27 12:40:43.731 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 5
{
"channel_id": "common",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-27T12:37:12Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileKS9StD _common_
[1;32mOK: The channel <common> exists and visible to org1[m[m[m
Step 4_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh common org2
Step: 5_cli Test 'Organization <org2> is in <common> channel'
VERIFY: test-channel-exists.sh common org2
[1;34m
Verifing if the <common> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:40:46.055 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:40:46.059 UTC [cli.common] readBlock -> INFO 002[0m Received block: 7
[34m2020-03-27 12:40:46.061 UTC [cli.common] readBlock -> INFO 003[0m Received block: 5
[34m2020-03-27 12:40:46.061 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 5
{
"channel_id": "common",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-27T12:37:12Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileTJrdp1 _common_
[1;32mOK: The channel <common> exists and visible to org2[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh common org1
Step: 6_cli Test 'Organization <org1> joined the <common> channel'
VERIFY: test-join-channel.sh common org1
[1;34m
Verifing if the org1 has joined the <common> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:40:48.287 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <common> channel[m[m[m
Step 6_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh common org2
Step: 7_cli Test 'Organization <org2> joined the <common> channel'
VERIFY: test-join-channel.sh common org2
[1;34m
Verifing if the org2 has joined the <common> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:40:50.595 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <common> channel[m[m[m
Step 7_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/./test-containers-list.sh org1 example.com orderer www cli.orderer
Step: 1_api Test 'Docker containers for orderer are up and running'
VERIFY: ./test-containers-list.sh org1 example.com orderer www cli.orderer
[1;34m
Verifing that all the test network containers example.com are up and running[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mOK: All the test network containers are up and running[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/./test-containers-list.sh org1 org1.example.com api ca cli couchdb.peer0 peer0 www
Step: 2_api Test 'Docker containers for <org1> are up and running'
VERIFY: ./test-containers-list.sh org1 org1.example.com api ca cli couchdb.peer0 peer0 www
[1;34m
Verifing that all the test network containers example.com are up and running[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mOK: All the test network containers are up and running[m[m[m
Step 2_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/./test-containers-list.sh org2 org2.example.com api ca cli couchdb.peer0 peer0 www
Step: 3_api Test 'Docker containers for <org2> are up and running'
VERIFY: ./test-containers-list.sh org2 org2.example.com api ca cli couchdb.peer0 peer0 www
[1;34m
Verifing that all the test network containers example.com are up and running[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mOK: All the test network containers are up and running[m[m[m
Step 3_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh common org1
Step: 4_api Test 'Organization <org1> is in <common> channel'
VERIFY: test-channel-exists.sh common org1
[1;34m
Verifing if the <common> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:41:07.058 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:41:07.060 UTC [cli.common] readBlock -> INFO 002[0m Received block: 7
[34m2020-03-27 12:41:07.062 UTC [cli.common] readBlock -> INFO 003[0m Received block: 5
[34m2020-03-27 12:41:07.062 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 5
{
"channel_id": "common",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-27T12:37:12Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileVjqMo7 _common_
[1;32mOK: The channel <common> exists and visible to org1[m[m[m
Step 4_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh common org2
Step: 5_api Test 'Organization <org2> is in <common> channel'
VERIFY: test-channel-exists.sh common org2
[1;34m
Verifing if the <common> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:41:09.307 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:41:09.309 UTC [cli.common] readBlock -> INFO 002[0m Received block: 7
[34m2020-03-27 12:41:09.311 UTC [cli.common] readBlock -> INFO 003[0m Received block: 5
[34m2020-03-27 12:41:09.312 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 5
{
"channel_id": "common",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-27T12:37:12Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filegCH1Hj _common_
[1;32mOK: The channel <common> exists and visible to org2[m[m[m
Step 5_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh common org1
Step: 6_api Test 'Organization <org1> joined the <common> channel'
VERIFY: test-join-channel.sh common org1
[1;34m
Verifing if the org1 has joined the <common> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:41:11.319 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <common> channel[m[m[m
Step 6_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh common org2
Step: 7_api Test 'Organization <org2> joined the <common> channel'
VERIFY: test-join-channel.sh common org2
[1;34m
Verifing if the org2 has joined the <common> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:41:13.279 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <common> channel[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel14208 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel14208 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel14208 org1 VERIFY: test-channel-exists.sh testchannel14208 org1
[1;36mCreating testchannel14208 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjg4NH0.GvyT9-AOdybM20cA1-K6Afa49Ax0BkF_cfOl8-CBI2Q"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjg4NH0.GvyT9-AOdybM20cA1-K6Afa49Ax0BkF_cfOl8-CBI2Q", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjg4NH0.GvyT9-AOdybM20cA1-K6Afa49Ax0BkF_cfOl8-CBI2Q
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels {"channelId":"testchannel14208","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjg4NH0.GvyT9-AOdybM20cA1-K6Afa49Ax0BkF_cfOl8-CBI2Q
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel14208> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel14208> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:41:30.171 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:41:30.173 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-27 12:41:30.174 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-27 12:41:30.175 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel14208",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-27T12:41:27Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileZJmjbg _testchannel14208_
[1;32mOK: The channel <testchannel14208> exists and visible to org1[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel14208 org2
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel14208 org2
[1;34m
Verifing if the <testchannel14208> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:41:32.431 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:41:32.438 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileOAlp5t _null_
[1;32mOK: The channel <testchannel14208> does not exist and in not visible to org2[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel14208 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel14208 org1
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel14208 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel14208 org1
[1;36mCreating ^^^^^^testchannel14208 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjg5NX0.wVe4evaKYicEHKsrg98fIda9p5yLa1DFlJiBX5RXPPs"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjg5NX0.wVe4evaKYicEHKsrg98fIda9p5yLa1DFlJiBX5RXPPs", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjg5NX0.wVe4evaKYicEHKsrg98fIda9p5yLa1DFlJiBX5RXPPs
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels {"channelId":"^^^^^^testchannel14208","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjg5NX0.wVe4evaKYicEHKsrg98fIda9p5yLa1DFlJiBX5RXPPs
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel14208\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel14208\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel14208\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel14208> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:41:40.361 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:41:40.362 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileDOOgpQ _null_
[1;32mOK: The channel <^^^^^^testchannel14208> does not exist and in not visible to org1[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel14208 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel14208 org2
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel14208 org2 VERIFY: test-channel-does-not-exist.sh testchannel14208 org2
[1;36mCreating testchannel14208 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjkwM30.lzj11KlO9AP4EbMhibekMB328PcGaVsABnGHRhY9F5g"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjkwM30.lzj11KlO9AP4EbMhibekMB328PcGaVsABnGHRhY9F5g", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjkwM30.lzj11KlO9AP4EbMhibekMB328PcGaVsABnGHRhY9F5g
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/channels {"channelId":"testchannel14208","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjkwM30.lzj11KlO9AP4EbMhibekMB328PcGaVsABnGHRhY9F5g
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel14208> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:41:48.380 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:41:48.383 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileEsZEEe _null_
[1;32mOK: The channel <testchannel14208> does not exist and in not visible to org2[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel14208-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel14208-02 org2
Step: 5_api Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel14208-02 org2 VERIFY: test-channel-exists.sh testchannel14208-02 org2
[1;36mCreating testchannel14208-02 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjkxMH0.zJ73-cG55FU3vuG-OH1YZVZIIbaVKKju7mymeXHlKKg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjkxMH0.zJ73-cG55FU3vuG-OH1YZVZIIbaVKKju7mymeXHlKKg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjkxMH0.zJ73-cG55FU3vuG-OH1YZVZIIbaVKKju7mymeXHlKKg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/channels {"channelId":"testchannel14208-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjkxMH0.zJ73-cG55FU3vuG-OH1YZVZIIbaVKKju7mymeXHlKKg
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel14208-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel14208-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:41:56.265 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:41:56.268 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-27 12:41:56.269 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-27 12:41:56.270 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel14208-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-27T12:41:53Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileAUwVJt _testchannel14208-02_
[1;32mOK: The channel <testchannel14208-02> exists and visible to org2[m[m[m
Step 5_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel14208-02 org1
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel14208-02 org1
[1;34m
Verifing if the <testchannel14208-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:41:58.947 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:41:58.951 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileOFlPk9 _null_
[1;32mOK: The channel <testchannel14208-02> does not exist and in not visible to org1[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel14208-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel14208-02 org1
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel14208-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel14208-02 org1
[1;36mCreating testchannel14208-02 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjkyMX0.vhKhvD9ZfNDAmLoxVpP9vdEQPVFEx8SADjH9HpIuMtI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjkyMX0.vhKhvD9ZfNDAmLoxVpP9vdEQPVFEx8SADjH9HpIuMtI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjkyMX0.vhKhvD9ZfNDAmLoxVpP9vdEQPVFEx8SADjH9HpIuMtI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels {"channelId":"testchannel14208-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjkyMX0.vhKhvD9ZfNDAmLoxVpP9vdEQPVFEx8SADjH9HpIuMtI
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel14208-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:42:07.604 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:42:07.608 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file5eu14m _null_
[1;32mOK: The channel <testchannel14208-02> does not exist and in not visible to org1[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel14208 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel14208 org1 org2
Step: 8_api Test 'Add <org2> to channel <testchannel14208> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel14208 org1 org2 VERIFY: test-channel-add-org.sh testchannel14208 org1 org2
[1;36mAdd org2 to the testchannel14208 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel14208 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjkzMH0.y4gG9LHSVCsUrsZPHbuJd0M17cSaZWoohyfgnv1XQDQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjkzMH0.y4gG9LHSVCsUrsZPHbuJd0M17cSaZWoohyfgnv1XQDQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjkzMH0.y4gG9LHSVCsUrsZPHbuJd0M17cSaZWoohyfgnv1XQDQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels/testchannel14208/orgs {"orgId":"org2","orgIp":"192.168.99.100","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjkzMH0.y4gG9LHSVCsUrsZPHbuJd0M17cSaZWoohyfgnv1XQDQ
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org2 added to testchannel14208 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel14208 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:42:22.846 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:42:22.849 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-27 12:42:22.851 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-27 12:42:22.851 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWIrZ0F3SUJBZ0lRRjcxNWZCMndadDR3TkNlcFhqZlBBakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpjeE1qTXlNREJhRncwek1EQXpNalV4TWpNeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFVkhqY2tnOWZpMG8rZjdVNlBKSThLQzFieFVBWGZCc3IKMlZsc0NGOEtrM2N1KzNLOU5scVZhLzkxUE84SEhtOW4vNFBNUDAzeXVjK1J2Nmh4VGtYOEVhTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0Fnci9qSUZMMHdDaGx1CkhEajgzQ1o2WWxWTlNBLzhkeFZabjFnTG9idTczWFV3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQU5OYjlYRGQKM0NYNVBFM1Z6YW40TzBHL0N3SW8vQXpYRSs0aXVsbXhVOE1iQWlCMWxGWVJHSEFuZ3VMa2RKQjZ0d245OWU4MAo0R3A4alR2anZiRGtCRGJVSUE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRYTlJSzRPVC9pd2hHTzZjNFNnb0o3akFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpjeE1qTXlNREJhRncwek1EQXpNalV4TWpNeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKN0VQMU1PY2ZDdDY1NVhmN0NadE10MS9MQk1ndEZ6TE4vM0tsWFhmWHRrd1Z4eHV0d1ZIemRGU1doMzJWMG5JOQovNzNoSHhUNjlUcG9kSzF1NnZ1V2I2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ3YKK01nVXZUQUtHVzRjT1B6Y0pucGlWVTFJRC94M0ZWbWZXQXVodTd2ZGRUQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUFtV1ZQM1ZybWp6aVN4WHhnbGh4Rnl5TmdPNE5SVVpLbmV2Qmx5NXpJK1ZBSWdWZFo3UjhyNUhPZmhMQmd2Clo5a1ZWMGttL2Rvb3RyVHN5SHFIYzNjVzFLbz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU9mMDluNW1iYVdjQkFOVGJ2eXZ1a293Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpJdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016STNNVEl6TWpBd1doY05NekF3TXpJMU1USXoKTWpBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCTFRYNUVnK05TT0RlanBWUU00bzk5Qk0rOFRDUm5lbjRhSHFSWHZZanFJbE9GdjRzTHN5ZWR1eQpaZ204WnNHdk42WWtORVl3cmlRdVJJc2dJZXBtRXl5amJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdydzJudk1LcHZMTFFFZEwvemFwSDFPdmlaeFVnU2hHNVllK0c3czlZNEpVd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdWejhJV3dBMEtnUmZJeFdJWTV1RERDWms3Y1d3TUFQVG1HL0NiRFl4TWVFQ0lIdkU0MW93CmN6Uzg0TTk0MDhqZlhwYzBlTXlQZ0hBUWtOKytGMC9oVC96YgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileUnxQzd _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel14208>.[m[m[m
Step 8_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel14208-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel14208-02 org2 org1
Step: 9_api Test 'Add <org1> to channel <testchannel14208-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel14208-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel14208-02 org2 org1
[1;36mAdd org1 to the testchannel14208-02 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel14208-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjk0Nn0.G345Tf_zlTaGrEeK0lTWH-HgGxG-u8fOWDYVUYbNrd8"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjk0Nn0.G345Tf_zlTaGrEeK0lTWH-HgGxG-u8fOWDYVUYbNrd8", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjk0Nn0.G345Tf_zlTaGrEeK0lTWH-HgGxG-u8fOWDYVUYbNrd8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/channels/testchannel14208-02/orgs {"orgId":"org1","orgIp":"192.168.99.101","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjk0Nn0.G345Tf_zlTaGrEeK0lTWH-HgGxG-u8fOWDYVUYbNrd8
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org1 added to testchannel14208-02 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel14208-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:42:38.588 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:42:38.592 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-27 12:42:38.594 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-27 12:42:38.594 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWIrZ0F3SUJBZ0lRVCsxZHNqNFFlSFBMaXZXcnJYbTJLVEFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NUzVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpjeE1qTXdNREJhRncwek1EQXpNalV4TWpNd01EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeExtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFU0dHeDV5WnlXcXVJenRxSXFYNmx1dXhiallKalI1RDEKejc3MUVSOHdUYUlyR1QybTR4bG1HeVJaaUJrK1NrelpoVm5jR1NvL2xBbW4zL2RIb1RHSGVLTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnbkVWL21ObmRhdlFmCm5mZ1VIV2FhWlVydktaTWE2emNWWmJEVHI5dnhqaEV3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQU9IRm1jKzEKVUpHbVo5WGx2RCtFd1c1Z1Z4QXdTcVJkQUFTbnNmb2pWRytoQWlBRWhVb2NVMklRMS80czNDc1MyYU5UUEdYeQp4RzNhWiswd2dEbHlhMXFwY0E9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQVBSLzUxbjJqcnVBZy9tdlNITHpFU1F3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpJM01USXpNREF3V2hjTk16QXdNekkxTVRJek1EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQkxkRHlldHVGdHNnZHhkSk5RcXBWRkM2QkZZaWtGSzlSZnhmWVM3cHRzTEVRMTJQNEVxVHNmb3lpc1pvYjNEMApIenhVRFZDK0FLdjUyQjhXekNkSFdCU2piVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKbkVWL21ObmRhdlFmbmZnVUhXYWFaVXJ2S1pNYTZ6Y1ZaYkRUcjl2eGpoRXdDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnVnNVWnAwWk5OV3g5NXdvWWwxL1E4RlkyVk50dGg5K2l4VTYrWEFxQU10Z0NJRXpvd1JSRnl5SEtSdFVHCmg1RmZOMVpmWmdWNzVZNWpqTDNrOXhyMWlOMFgKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNXRENDQWY2Z0F3SUJBZ0lSQUxUVkR0SVlYdGNTRFBOK1AxdzJEU1V3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016STNNVEl6TURBd1doY05NekF3TXpJMU1USXoKTURBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCTDg4aWVxc0pCRy9oNjBIc0FOYWJ5dStRQmxXQlRoc2FnQjZxMGdGWXQ0QWRRb0tIWkw1a1VGawpXeW5lSEliMEgrdVQwODRtYkp4S0RGY2JxRGJ5OTl1amJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdRK3lYSDZtOWMzejNhdjN4RHNoSDh0dTVzOHJ0eUNlNGYxMTVQQ1VxM25Fd0NnWUlLb1pJemowRQpBd0lEU0FBd1JRSWhBTzBYaktwM01jdkVONkoyRXA0Q0xnWmNxdkY5MXh4S1dablZ3ai80dUMrZkFpQmlWWjlPCkw5MTFOVllhaWpReURkd1VtYldpUTdzNXBKTy8yV2tIZkEvQzJBPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
]
},
"type": 0
}
cat /tmp/fileobEGWG _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel14208-02>.[m[m[m
Step 9_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel14208 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel14208 org1
Step: 10_api Test 'Join <org1> to the <testchannel14208> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel14208 org1 VERIFY: test-join-channel.sh testchannel14208 org1
[1;36mJoining org1.example.com to the testchannel14208 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel14208 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjk2MX0.9u_F6z37y-n5UcyIqc-jjI-w8lKW0RInfVdbZUiFt4k"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjk2MX0.9u_F6z37y-n5UcyIqc-jjI-w8lKW0RInfVdbZUiFt4k", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjk2MX0.9u_F6z37y-n5UcyIqc-jjI-w8lKW0RInfVdbZUiFt4k
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels/testchannel14208 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjk2MX0.9u_F6z37y-n5UcyIqc-jjI-w8lKW0RInfVdbZUiFt4k
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel14208> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:42:46.447 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel14208> channel[m[m[m
Step 10_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel14208 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel14208 org2
Step: 11_api Test 'Join <org2> to the <testchannel14208> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel14208 org2 VERIFY: test-join-channel.sh testchannel14208 org2
[1;36mJoining org2.example.com to the testchannel14208 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel14208 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjk2OX0.BoGdtigchol0nC-r9hh2WdSYcIYacMdUmHAQnzV1AsU"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjk2OX0.BoGdtigchol0nC-r9hh2WdSYcIYacMdUmHAQnzV1AsU", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjk2OX0.BoGdtigchol0nC-r9hh2WdSYcIYacMdUmHAQnzV1AsU
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/channels/testchannel14208 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMjk2OX0.BoGdtigchol0nC-r9hh2WdSYcIYacMdUmHAQnzV1AsU
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel14208> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:44:53.690 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel14208> channel[m[m[m
Step 11_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel14208-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel14208-02 org1
Step: 12_api Test 'Join <org1> to the <testchannel14208-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel14208-02 org1 VERIFY: test-join-channel.sh testchannel14208-02 org1
[1;36mJoining org1.example.com to the testchannel14208-02 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel14208-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMzA5Nn0.32aSwVOgr9sLFf1n4LOqtdMYaPN5HO-BzIO65YgAsGU"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMzA5Nn0.32aSwVOgr9sLFf1n4LOqtdMYaPN5HO-BzIO65YgAsGU", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMzA5Nn0.32aSwVOgr9sLFf1n4LOqtdMYaPN5HO-BzIO65YgAsGU
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels/testchannel14208-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMzA5Nn0.32aSwVOgr9sLFf1n4LOqtdMYaPN5HO-BzIO65YgAsGU
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel14208-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:47:00.740 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel14208-02> channel[m[m[m
Step 12_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel14208-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel14208-02 org2
Step: 13_api Test 'Join <org2> to the <testchannel14208-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel14208-02 org2 VERIFY: test-join-channel.sh testchannel14208-02 org2
[1;36mJoining org2.example.com to the testchannel14208-02 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel14208-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMzIyM30.ja6pF2xcgoi0lKhnu4e58pgNPuJMpAjG9GboxNJa6KA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMzIyM30.ja6pF2xcgoi0lKhnu4e58pgNPuJMpAjG9GboxNJa6KA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMzIyM30.ja6pF2xcgoi0lKhnu4e58pgNPuJMpAjG9GboxNJa6KA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/channels/testchannel14208-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMzIyM30.ja6pF2xcgoi0lKhnu4e58pgNPuJMpAjG9GboxNJa6KA
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel14208-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:47:08.314 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel14208-02> channel[m[m[m
Step 13_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel14208 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel14208 org1
Step: 14_api Test 'Install test chaincode by <org1> to the <testchannel14208> channel'
RUNTEST: chaincode-install.sh testchannel14208 org1 VERIFY: test-chaincode-installed.sh testchannel14208 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMzIzMX0.KFIZ7To-gKMJmegTRUa02Sq8TkmIky4vaolE1Gzy_lM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMzIzMX0.KFIZ7To-gKMJmegTRUa02Sq8TkmIky4vaolE1Gzy_lM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMzIzMX0.KFIZ7To-gKMJmegTRUa02Sq8TkmIky4vaolE1Gzy_lM
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel14208/chaincode-reference.js (deflated 27%)
adding: reference_testchannel14208/index.js (deflated 27%)
adding: reference_testchannel14208/package.json (deflated 41%)
adding: reference_testchannel14208/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12292 Ð¼Ð°Ñ€ 27 15:47 /tmp/reference_testchannel14208.zip
/tmp/reference_testchannel14208.zip
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel14208:1.0 successfully installed""
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode installed in org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel14208' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: No such file or directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel14208, Version: 1.0, Path: /tmp/reference_testchannel14208, Id: 103997782e8611e3e30239be9e14e18d19802004c085a33904a1e90ea1fd99fd
reference_testchannel14208
[1;32mOK: The test chaincode installed in org1[m[m[m
Step 14_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel14208-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel14208-02 org2
Step: 15_api Test 'Install test chaincode by <org2> to the <testchannel14208-02> channel'
RUNTEST: chaincode-install.sh testchannel14208-02 org2 VERIFY: test-chaincode-installed.sh testchannel14208-02 org2
[1;36m
Installing test chaincode in org2...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMzIzOH0.UTok-m2tli4TQ9bon7TxUGGTUTgHVHolmv-Uj3rW6LM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMzIzOH0.UTok-m2tli4TQ9bon7TxUGGTUTgHVHolmv-Uj3rW6LM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMzIzOH0.UTok-m2tli4TQ9bon7TxUGGTUTgHVHolmv-Uj3rW6LM
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel14208-02/chaincode-reference.js (deflated 27%)
adding: reference_testchannel14208-02/index.js (deflated 27%)
adding: reference_testchannel14208-02/package.json (deflated 41%)
adding: reference_testchannel14208-02/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12316 Ð¼Ð°Ñ€ 27 15:47 /tmp/reference_testchannel14208-02.zip
/tmp/reference_testchannel14208-02.zip
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel14208-02:1.0 successfully installed""
[1;32mOK: Test chaincode installed in org2[m[m[m
[1;34m
Verifing if the test chaincode installed in org2 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel14208-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: No such file or directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel14208-02, Version: 1.0, Path: /tmp/reference_testchannel14208-02, Id: 62ae7ca959d56f58174a26a47278fab680fea1279d903c2285d7ee7ce06d8f75
reference_testchannel14208-02
[1;32mOK: The test chaincode installed in org2[m[m[m
Step 15_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-instantiate.sh testchannel14208 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel14208 org1
Step: 16_api Test 'Instantiate test chaincode by <org1> to the <testchannel14208> channel'
RUNTEST: chaincode-instantiate.sh testchannel14208 org1 VERIFY: test-chaincode-instantiated.sh testchannel14208 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMzI0NX0.o0Zxfsq4PFiFr7Y4xhDMhuQeoprgzBToExsv71v1hnM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMzI0NX0.o0Zxfsq4PFiFr7Y4xhDMhuQeoprgzBToExsv71v1hnM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMzI0NX0.o0Zxfsq4PFiFr7Y4xhDMhuQeoprgzBToExsv71v1hnM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels/testchannel14208/chaincodes {"channelId":"testchannel14208","chaincodeId":"reference_testchannel14208","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMzI0NX0.o0Zxfsq4PFiFr7Y4xhDMhuQeoprgzBToExsv71v1hnM
curlGetIt got _ {"txid":"bc53ffbdb213f52b1e673d065eadf08276ca9c5f5f2f59694d4ab08c10e2f0d9","status":"VALID","blockNumber":"2"}200 _ result
body is {"txid":"bc53ffbdb213f52b1e673d065eadf08276ca9c5f5f2f59694d4ab08c10e2f0d9","status":"VALID","blockNumber":"2"}, code is 200
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel14208 channel by org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel14208' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel14208:
Name: reference_testchannel14208, Version: 1.0, Path: /tmp/reference_testchannel14208, Input: <nil>, Escc: escc, Vscc: vscc
reference_testchannel14208
[1;32mOK: The test chaincode installed in testchannel14208 channel by org1 org[m[m[m
Step 16_api: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-invoke.sh testchannel14208 org1 reference_testchannel14208 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-query.sh testchannel14208 org1 reference_testchannel14208
Step: 17_api Test 'Test chaincode invocation and query:  <org1> <-> <org2>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel14208 org1 reference_testchannel14208 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel14208 org1 reference_testchannel14208
[1;36m
Invoke test chaincode on the <testchannel14208> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMzI5Nn0.1nNQ8_yclySKLaEtXVGqMUL7zVkalPCUhxp8q3eI5Gw"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMzI5Nn0.1nNQ8_yclySKLaEtXVGqMUL7zVkalPCUhxp8q3eI5Gw", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMzI5Nn0.1nNQ8_yclySKLaEtXVGqMUL7zVkalPCUhxp8q3eI5Gw
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels/testchannel14208/chaincodes/reference_testchannel14208 {"fcn":"put","args":["testchannel14208","testchannel14208"],"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxMzI5Nn0.1nNQ8_yclySKLaEtXVGqMUL7zVkalPCUhxp8q3eI5Gw
curlGetIt got _ {"txid":"36ce5062c0a6589be07083d78175c5e88b34117a6d5c7bfe16eda31a1f855a42","status":"VALID","blockNumber":"3"}200 _ result
body is {"txid":"36ce5062c0a6589be07083d78175c5e88b34117a6d5c7bfe16eda31a1f855a42","status":"VALID","blockNumber":"3"}, code is 200
[1;32mOK: Chaincode reference_testchannel14208 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel14208> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel14208 reference_testchannel14208 '["range","testchannel14208"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel14208 reference_testchannel14208 '["range","testchannel14208"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode query -n reference_testchannel14208 -C testchannel14208 -c '{"Args":["range","testchannel14208"]}'
[{"key":"testchannel14208","value":"testchannel14208"}]
[1;32mOK: Chaincode reference_testchannel14208 invoked sucsessfuly.[m[m[m
Step 17_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel20655 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel20655 org1
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel20655 org1 VERIFY: test-channel-exists.sh testchannel20655 org1
[1;36m
Creating the <testchannel20655> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel20655
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel20655[m[m[m
example.com

Create channel org1 testchannel20655
--2020-03-27 12:49:52--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 12:49:52--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 12:49:52--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 12:49:52--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-27 12:49:52.422 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-27 12:49:52.482 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-27 12:49:52.482 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-27 12:49:52.483 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-27 12:49:52.483 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-27 12:49:52.483 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-27 12:49:52.484 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-27 12:49:52.484 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-27 12:49:52.485 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-27 12:49:52.539 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-27 12:49:52.540 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-27 12:49:52.540 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-27 12:49:52.541 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-27 12:49:52.541 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-27 12:49:52.541 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-27 12:49:52.542 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-27 12:49:52.542 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-27 12:49:52.543 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-27 12:49:52.544 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-27 12:49:52.544 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-27 12:49:52.545 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-27 12:49:52.546 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-27 12:49:52.546 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-27 12:49:52.605 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:49:52.638 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel20655.pb -o orderer.example.com:7050 -c testchannel20655 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 12:49:52.711 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:49:52.713 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-27 12:49:52.715 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-27 12:49:52.715 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel20655
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel20655 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 12:49:53.035 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:49:53.052 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel20655> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel20655> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:49:55.253 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:49:55.255 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-27 12:49:55.258 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-27 12:49:55.258 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel20655",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-27T12:49:53Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/file3bcFFh _testchannel20655_
[1;32mOK: The channel <testchannel20655> exists and visible to org1[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel20655 org2
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel20655 org2
[1;34m
Verifing if the <testchannel20655> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:49:57.375 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:49:57.378 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file5oNmHw _null_
[1;32mOK: The channel <testchannel20655> does not exist and in not visible to org2[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel20655 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel20655 org1
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel20655 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel20655 org1
[1;36m
Creating the <^^^^^^testchannel20655> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel20655
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel20655[m[m[m
example.com

Create channel org1 ^^^^^^testchannel20655
--2020-03-27 12:50:00--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 12:50:00--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 12:50:00--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 12:50:00--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-27 12:50:00.174 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-27 12:50:00.231 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-27 12:50:00.231 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-27 12:50:00.232 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-27 12:50:00.232 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-27 12:50:00.233 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-27 12:50:00.233 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-27 12:50:00.233 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-27 12:50:00.234 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-27 12:50:00.287 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-27 12:50:00.288 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-27 12:50:00.289 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-27 12:50:00.289 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-27 12:50:00.289 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-27 12:50:00.290 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-27 12:50:00.290 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-27 12:50:00.291 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-27 12:50:00.292 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-27 12:50:00.292 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-27 12:50:00.293 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-27 12:50:00.293 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-27 12:50:00.294 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-27 12:50:00.295 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-27 12:50:00.356 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel20655' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel20655.pb -o orderer.example.com:7050 -c ^^^^^^testchannel20655 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 12:50:00.448 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:50:00.451 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel20655.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel20655.json: No such file or directory
>> Prepare config update from org1 for channel ^^^^^^testchannel20655
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel20655 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 12:50:00.620 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel20655' != '^^^^^^testchannel20655'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel20655> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:50:02.728 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:50:02.729 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/file4j54Mc _null_
[1;32mOK: The channel <^^^^^^testchannel20655> does not exist and in not visible to org1[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel20655 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel20655 org2
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel20655 org2 VERIFY: test-channel-does-not-exist.sh testchannel20655 org2
[1;36m
Creating the <testchannel20655> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel20655
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel20655[m[m[m
example.com

Create channel org2 testchannel20655
--2020-03-27 12:50:05--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 12:50:05--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 12:50:05--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 12:50:05--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-27 12:50:05.568 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-27 12:50:05.628 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-27 12:50:05.628 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-27 12:50:05.629 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-27 12:50:05.629 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-27 12:50:05.629 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-27 12:50:05.630 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-27 12:50:05.630 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-27 12:50:05.630 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-27 12:50:05.683 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-27 12:50:05.684 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-27 12:50:05.684 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-27 12:50:05.685 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-27 12:50:05.685 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-27 12:50:05.685 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-27 12:50:05.686 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-27 12:50:05.686 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-27 12:50:05.687 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-27 12:50:05.688 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-27 12:50:05.688 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-27 12:50:05.689 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-27 12:50:05.689 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-27 12:50:05.690 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-27 12:50:05.745 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel20655.pb -o orderer.example.com:7050 -c testchannel20655 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 12:50:05.822 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:50:05.825 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel20655.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel20655.json: No such file or directory
>> Prepare config update from org2 for channel testchannel20655
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
cat: crypto-config/configtx/update.json: No such file or directory
parse error: Unmatched '}' at line 1, column 108
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel20655 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 12:50:06.000 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: Invalid channel create transaction : bad header
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel20655> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:50:08.150 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:50:08.153 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filexfP94S _null_
[1;32mOK: The channel <testchannel20655> does not exist and in not visible to org2[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel20655-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel20655-02 org2
Step: 5_cli Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel20655-02 org2 VERIFY: test-channel-exists.sh testchannel20655-02 org2
[1;36m
Creating the <testchannel20655-02> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel20655-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel20655-02[m[m[m
example.com

Create channel org2 testchannel20655-02
--2020-03-27 12:50:10--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 12:50:10--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 12:50:10--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 12:50:10--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-27 12:50:10.915 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-27 12:50:10.970 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-27 12:50:10.971 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-27 12:50:10.972 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-27 12:50:10.972 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-27 12:50:10.972 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-27 12:50:10.973 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-27 12:50:10.973 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-27 12:50:10.973 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-27 12:50:11.030 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-27 12:50:11.031 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-27 12:50:11.031 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-27 12:50:11.031 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-27 12:50:11.032 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-27 12:50:11.032 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-27 12:50:11.032 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-27 12:50:11.033 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-27 12:50:11.034 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-27 12:50:11.035 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-27 12:50:11.035 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-27 12:50:11.036 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-27 12:50:11.037 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-27 12:50:11.038 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-27 12:50:11.093 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:50:11.114 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel20655-02.pb -o orderer.example.com:7050 -c testchannel20655-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 12:50:11.184 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:50:11.188 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-27 12:50:11.189 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-27 12:50:11.190 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org2 for channel testchannel20655-02
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel20655-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 12:50:11.493 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:50:11.510 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel20655-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel20655-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:50:13.718 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:50:13.721 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-27 12:50:13.723 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-27 12:50:13.723 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel20655-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-27T12:50:11Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileJSJ5OH _testchannel20655-02_
[1;32mOK: The channel <testchannel20655-02> exists and visible to org2[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel20655-02 org1
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel20655-02 org1
[1;34m
Verifing if the <testchannel20655-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:50:15.736 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:50:15.739 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileWo2vTP _null_
[1;32mOK: The channel <testchannel20655-02> does not exist and in not visible to org1[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel20655-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel20655-02 org1
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel20655-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel20655-02 org1
[1;36m
Creating the <testchannel20655-02> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel20655-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel20655-02[m[m[m
example.com

Create channel org1 testchannel20655-02
--2020-03-27 12:50:18--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 12:50:18--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 12:50:18--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 12:50:18--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-27 12:50:18.656 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-27 12:50:18.717 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-27 12:50:18.718 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-27 12:50:18.719 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-27 12:50:18.719 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-27 12:50:18.719 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-27 12:50:18.720 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-27 12:50:18.720 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-27 12:50:18.721 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-27 12:50:18.776 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-27 12:50:18.776 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-27 12:50:18.776 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-27 12:50:18.777 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-27 12:50:18.777 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-27 12:50:18.777 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-27 12:50:18.778 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-27 12:50:18.778 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-27 12:50:18.779 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-27 12:50:18.780 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-27 12:50:18.780 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-27 12:50:18.781 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-27 12:50:18.782 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-27 12:50:18.782 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-27 12:50:18.839 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel20655-02.pb -o orderer.example.com:7050 -c testchannel20655-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 12:50:18.912 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:50:18.914 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel20655-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel20655-02.json: No such file or directory
>> Prepare config update from org1 for channel testchannel20655-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel20655-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 12:50:19.086 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel20655-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:50:21.243 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:50:21.245 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filephmZgt _null_
[1;32mOK: The channel <testchannel20655-02> does not exist and in not visible to org1[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel20655 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel20655 org1 org2
Step: 8_cli Test 'Add <org2> to channel <testchannel20655> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel20655 org1 org2 VERIFY: test-channel-add-org.sh testchannel20655 org1 org2
[1;36m
Add org2 to the testchannel20655 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel20655 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel20655 org2 7051 example.com[m[m[m
--2020-03-27 12:50:23--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.100
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 12:50:23--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.100
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 12:50:23--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.100
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel20655, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel20655.pb -o orderer.example.com:7050 -c testchannel20655 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 12:50:24.054 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:50:24.056 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-27 12:50:24.058 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-27 12:50:24.058 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel20655
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel20655 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 12:50:24.353 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:50:24.369 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization org2 added to testchannel20655 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel20655 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:50:26.522 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:50:26.525 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-27 12:50:26.527 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-27 12:50:26.527 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWIrZ0F3SUJBZ0lRRjcxNWZCMndadDR3TkNlcFhqZlBBakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpjeE1qTXlNREJhRncwek1EQXpNalV4TWpNeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFVkhqY2tnOWZpMG8rZjdVNlBKSThLQzFieFVBWGZCc3IKMlZsc0NGOEtrM2N1KzNLOU5scVZhLzkxUE84SEhtOW4vNFBNUDAzeXVjK1J2Nmh4VGtYOEVhTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0Fnci9qSUZMMHdDaGx1CkhEajgzQ1o2WWxWTlNBLzhkeFZabjFnTG9idTczWFV3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQU5OYjlYRGQKM0NYNVBFM1Z6YW40TzBHL0N3SW8vQXpYRSs0aXVsbXhVOE1iQWlCMWxGWVJHSEFuZ3VMa2RKQjZ0d245OWU4MAo0R3A4alR2anZiRGtCRGJVSUE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRYTlJSzRPVC9pd2hHTzZjNFNnb0o3akFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpjeE1qTXlNREJhRncwek1EQXpNalV4TWpNeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKN0VQMU1PY2ZDdDY1NVhmN0NadE10MS9MQk1ndEZ6TE4vM0tsWFhmWHRrd1Z4eHV0d1ZIemRGU1doMzJWMG5JOQovNzNoSHhUNjlUcG9kSzF1NnZ1V2I2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ3YKK01nVXZUQUtHVzRjT1B6Y0pucGlWVTFJRC94M0ZWbWZXQXVodTd2ZGRUQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUFtV1ZQM1ZybWp6aVN4WHhnbGh4Rnl5TmdPNE5SVVpLbmV2Qmx5NXpJK1ZBSWdWZFo3UjhyNUhPZmhMQmd2Clo5a1ZWMGttL2Rvb3RyVHN5SHFIYzNjVzFLbz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU9mMDluNW1iYVdjQkFOVGJ2eXZ1a293Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpJdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016STNNVEl6TWpBd1doY05NekF3TXpJMU1USXoKTWpBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCTFRYNUVnK05TT0RlanBWUU00bzk5Qk0rOFRDUm5lbjRhSHFSWHZZanFJbE9GdjRzTHN5ZWR1eQpaZ204WnNHdk42WWtORVl3cmlRdVJJc2dJZXBtRXl5amJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdydzJudk1LcHZMTFFFZEwvemFwSDFPdmlaeFVnU2hHNVllK0c3czlZNEpVd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdWejhJV3dBMEtnUmZJeFdJWTV1RERDWms3Y1d3TUFQVG1HL0NiRFl4TWVFQ0lIdkU0MW93CmN6Uzg0TTk0MDhqZlhwYzBlTXlQZ0hBUWtOKytGMC9oVC96YgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileggtAW3 _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel20655>.[m[m[m
Step 8_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel20655-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel20655-02 org2 org1
Step: 9_cli Test 'Add <org1> to channel <testchannel20655-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel20655-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel20655-02 org2 org1
[1;36m
Add org1 to the testchannel20655-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel20655-02 org1
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel20655-02 org1 7051 example.com[m[m[m
--2020-03-27 12:50:29--  http://www.org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.101
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 12:50:29--  http://www.org1.example.com/msp/cacerts/ca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.101
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/cacerts/ca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 12:50:29--  http://www.org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.101
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org1' to channel testchannel20655-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel20655-02.pb -o orderer.example.com:7050 -c testchannel20655-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 12:50:29.526 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:50:29.530 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-27 12:50:29.531 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-27 12:50:29.532 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org1 for channel testchannel20655-02
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel20655-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 12:50:29.825 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:50:29.846 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization org1 added to testchannel20655-02 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel20655-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:50:31.938 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:50:31.941 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-27 12:50:31.942 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-27 12:50:31.943 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWIrZ0F3SUJBZ0lRVCsxZHNqNFFlSFBMaXZXcnJYbTJLVEFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NUzVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpjeE1qTXdNREJhRncwek1EQXpNalV4TWpNd01EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeExtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFU0dHeDV5WnlXcXVJenRxSXFYNmx1dXhiallKalI1RDEKejc3MUVSOHdUYUlyR1QybTR4bG1HeVJaaUJrK1NrelpoVm5jR1NvL2xBbW4zL2RIb1RHSGVLTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnbkVWL21ObmRhdlFmCm5mZ1VIV2FhWlVydktaTWE2emNWWmJEVHI5dnhqaEV3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQU9IRm1jKzEKVUpHbVo5WGx2RCtFd1c1Z1Z4QXdTcVJkQUFTbnNmb2pWRytoQWlBRWhVb2NVMklRMS80czNDc1MyYU5UUEdYeQp4RzNhWiswd2dEbHlhMXFwY0E9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQVBSLzUxbjJqcnVBZy9tdlNITHpFU1F3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpJM01USXpNREF3V2hjTk16QXdNekkxTVRJek1EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQkxkRHlldHVGdHNnZHhkSk5RcXBWRkM2QkZZaWtGSzlSZnhmWVM3cHRzTEVRMTJQNEVxVHNmb3lpc1pvYjNEMApIenhVRFZDK0FLdjUyQjhXekNkSFdCU2piVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKbkVWL21ObmRhdlFmbmZnVUhXYWFaVXJ2S1pNYTZ6Y1ZaYkRUcjl2eGpoRXdDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnVnNVWnAwWk5OV3g5NXdvWWwxL1E4RlkyVk50dGg5K2l4VTYrWEFxQU10Z0NJRXpvd1JSRnl5SEtSdFVHCmg1RmZOMVpmWmdWNzVZNWpqTDNrOXhyMWlOMFgKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNXRENDQWY2Z0F3SUJBZ0lSQUxUVkR0SVlYdGNTRFBOK1AxdzJEU1V3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016STNNVEl6TURBd1doY05NekF3TXpJMU1USXoKTURBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCTDg4aWVxc0pCRy9oNjBIc0FOYWJ5dStRQmxXQlRoc2FnQjZxMGdGWXQ0QWRRb0tIWkw1a1VGawpXeW5lSEliMEgrdVQwODRtYkp4S0RGY2JxRGJ5OTl1amJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdRK3lYSDZtOWMzejNhdjN4RHNoSDh0dTVzOHJ0eUNlNGYxMTVQQ1VxM25Fd0NnWUlLb1pJemowRQpBd0lEU0FBd1JRSWhBTzBYaktwM01jdkVONkoyRXA0Q0xnWmNxdkY5MXh4S1dablZ3ai80dUMrZkFpQmlWWjlPCkw5MTFOVllhaWpReURkd1VtYldpUTdzNXBKTy8yV2tIZkEvQzJBPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
]
},
"type": 0
}
cat /tmp/file7aVoON _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel20655-02>.[m[m[m
Step 9_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel20655 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel20655 org1
Step: 10_cli Test 'Join <org1> to the <testchannel20655> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel20655 org1 VERIFY: test-join-channel.sh testchannel20655 org1
[1;36m
Joining  org1 to the testchannel20655 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel20655
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel20655[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=e9619ac24299
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-27 12:50:34--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 12:50:34--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 12:50:34--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 12:50:34--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org1 to channel testchannel20655
Execute: channel fetch 0 crypto-config/configtx/testchannel20655.pb -o orderer.example.com:7050 -c testchannel20655 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 12:50:34.781 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:50:34.784 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-27 12:50:34.841 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:50:34.897 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org1 has been joined to testchannel20655 channel[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel20655> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:50:37.027 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel20655> channel[m[m[m
Step 10_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel20655 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel20655 org2
Step: 11_cli Test 'Join <org2> to the <testchannel20655> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel20655 org2 VERIFY: test-join-channel.sh testchannel20655 org2
[1;36m
Joining  org2 to the testchannel20655 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel20655
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel20655[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=97f8d18c421a
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-27 12:50:39--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 12:50:39--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 12:50:39--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 12:50:39--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel20655
Execute: channel fetch 0 crypto-config/configtx/testchannel20655.pb -o orderer.example.com:7050 -c testchannel20655 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 12:50:39.778 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:50:39.781 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-27 12:50:39.839 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:50:39.893 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel20655 channel[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel20655> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:50:42.057 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel20655> channel[m[m[m
Step 11_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel20655-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel20655-02 org1
Step: 12_cli Test 'Join <org1> to the <testchannel20655-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel20655-02 org1 VERIFY: test-join-channel.sh testchannel20655-02 org1
[1;36m
Joining  org1 to the testchannel20655-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel20655-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel20655-02[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=d1f3723d3a2b
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-27 12:50:45--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 12:50:45--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 12:50:45--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 12:50:45--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org1 to channel testchannel20655-02
Execute: channel fetch 0 crypto-config/configtx/testchannel20655-02.pb -o orderer.example.com:7050 -c testchannel20655-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 12:50:45.198 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:50:45.201 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-27 12:50:45.271 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:50:45.333 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org1 has been joined to testchannel20655-02 channel[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel20655-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:50:47.644 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel20655-02> channel[m[m[m
Step 12_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel20655-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel20655-02 org2
Step: 13_cli Test 'Join <org2> to the <testchannel20655-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel20655-02 org2 VERIFY: test-join-channel.sh testchannel20655-02 org2
[1;36m
Joining  org2 to the testchannel20655-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel20655-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel20655-02[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=13cdcb6ab287
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-27 12:50:50--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 12:50:50--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 12:50:50--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 12:50:50--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel20655-02
Execute: channel fetch 0 crypto-config/configtx/testchannel20655-02.pb -o orderer.example.com:7050 -c testchannel20655-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 12:50:50.480 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:50:50.483 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-27 12:50:50.539 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 12:50:50.590 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel20655-02 channel[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel20655-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 12:50:52.909 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel20655-02> channel[m[m[m
Step 13_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel20655 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel20655 org1
Step: 14_cli Test 'Install test chaincode by <org1> to the <testchannel20655> channel'
RUNTEST: chaincode-install.sh testchannel20655 org1 VERIFY: test-chaincode-installed.sh testchannel20655 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in org1...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel20655 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel20655[m[m[m
cp: cannot stat '/opt/chaincode/node/reference/*': No such file or directory
[1;31mError occurred. See console output above.[m[1;33m[m
[1;36m
Installing testchannel20655  chaincode in org1...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel20655'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=5a9864c47352
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel20655  /opt/chaincode/node/reference_testchannel20655 node 1.0
[34m2020-03-27 12:50:57.357 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-27 12:50:57.357 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[31m2020-03-27 12:50:57.359 UTC [chaincode.platform.node] GetDeploymentPayload -> ERRO 003[0m Error writing folder to tar package no source files found in '/opt/chaincode/node/reference_testchannel20655'
Error: error getting chaincode code reference_testchannel20655: error getting chaincode package bytes: Error writing Chaincode package contents: no source files found in '/opt/chaincode/node/reference_testchannel20655'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode installed in org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel20655' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel14208, Version: 1.0, Path: /tmp/reference_testchannel14208, Id: 103997782e8611e3e30239be9e14e18d19802004c085a33904a1e90ea1fd99fd

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 14_cli: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel20655-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel20655-02 org2
Step: 15_cli Test 'Install test chaincode by <org2> to the <testchannel20655-02> channel'
RUNTEST: chaincode-install.sh testchannel20655-02 org2 VERIFY: test-chaincode-installed.sh testchannel20655-02 org2
[1;36m
Installing test chaincode in org2...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in org2...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel20655-02 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel20655-02[m[m[m
cp: cannot stat '/opt/chaincode/node/reference/*': No such file or directory
[1;31mError occurred. See console output above.[m[1;33m[m
[1;36m
Installing testchannel20655-02  chaincode in org2...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel20655-02'[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=830c22aacfe3
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel20655-02  /opt/chaincode/node/reference_testchannel20655-02 node 1.0
[34m2020-03-27 12:51:04.603 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-27 12:51:04.604 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[31m2020-03-27 12:51:04.604 UTC [chaincode.platform.node] GetDeploymentPayload -> ERRO 003[0m Error writing folder to tar package no source files found in '/opt/chaincode/node/reference_testchannel20655-02'
Error: error getting chaincode code reference_testchannel20655-02: error getting chaincode package bytes: Error writing Chaincode package contents: no source files found in '/opt/chaincode/node/reference_testchannel20655-02'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;32mOK: Test chaincode installed in org2[m[m[m
[1;34m
Verifing if the test chaincode installed in org2 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel20655-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel14208-02, Version: 1.0, Path: /tmp/reference_testchannel14208-02, Id: 62ae7ca959d56f58174a26a47278fab680fea1279d903c2285d7ee7ce06d8f75

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 15_cli: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-instantiate.sh testchannel20655 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel20655 org1
Step: 16_cli Test 'Instantiate test chaincode by <org1> to the <testchannel20655> channel'
RUNTEST: chaincode-instantiate.sh testchannel20655 org1 VERIFY: test-chaincode-instantiated.sh testchannel20655 org1
[1;36m
Instantiate test chaincode in testchannel20655 in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-instantiate.sh testchannel20655 reference_testchannel20655[m[m[m
Instantiate chaincode testchannel20655 reference_testchannel20655 '[]' 1.0  
[34m2020-03-27 12:51:10.321 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-27 12:51:10.321 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
Error: could not assemble transaction, err proposal response was not successful, error code 500, msg cannot get package for chaincode (reference_testchannel20655:1.0)
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel20655 channel by org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel20655' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel20655:

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 16_cli: exit code 1
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-invoke.sh testchannel20655 org1 reference_testchannel20655 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-query.sh testchannel20655 org1 reference_testchannel20655
Step: 17_cli Test 'Test chaincode invocation and query:  <org1> <-> <org2>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel20655 org1 reference_testchannel20655 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel20655 org1 reference_testchannel20655
[1;36m
Invoke test chaincode on the <testchannel20655> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-invoke.sh testchannel20655 reference_testchannel20655 '["put","testchannel20655","testchannel20655"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-invoke.sh  testchannel20655 reference_testchannel20655 '["put","testchannel20655","testchannel20655"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode invoke -n reference_testchannel20655 -C testchannel20655 -c '{"Args":["put","testchannel20655","testchannel20655"]}'
[34m2020-03-27 12:51:31.095 UTC [chaincodeCmd] InitCmdFactory -> INFO 001[0m Retrieved channel (testchannel20655) orderer endpoint: orderer.example.com:7050
Error: endorsement failure during invoke. response: status:500 message:"make sure the chaincode reference_testchannel20655 has been successfully instantiated and try again: chaincode reference_testchannel20655 not found" 
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;36m
Query test chaincode on the <testchannel20655> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel20655 reference_testchannel20655 '["range","testchannel20655"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel20655 reference_testchannel20655 '["range","testchannel20655"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode query -n reference_testchannel20655 -C testchannel20655 -c '{"Args":["range","testchannel20655"]}'
Error: endorsement failure during query. response: status:500 message:"make sure the chaincode reference_testchannel20655 has been successfully instantiated and try again: chaincode reference_testchannel20655 not found" 
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 17_cli: exit code 1
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/./test-containers-list.sh org1 example.com orderer www cli.orderer
Step: 1_cli Test 'Docker containers for orderer are up and running'
VERIFY: ./test-containers-list.sh org1 example.com orderer www cli.orderer
[1;34m
Verifing that all the test network containers example.com are up and running[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mOK: All the test network containers are up and running[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/./test-containers-list.sh org1 org1.example.com api ca cli couchdb.peer0 peer0 www
Step: 2_cli Test 'Docker containers for <org1> are up and running'
VERIFY: ./test-containers-list.sh org1 org1.example.com api ca cli couchdb.peer0 peer0 www
[1;34m
Verifing that all the test network containers example.com are up and running[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mOK: All the test network containers are up and running[m[m[m
Step 2_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/./test-containers-list.sh org2 org2.example.com api ca cli couchdb.peer0 peer0 www
Step: 3_cli Test 'Docker containers for <org2> are up and running'
VERIFY: ./test-containers-list.sh org2 org2.example.com api ca cli couchdb.peer0 peer0 www
[1;34m
Verifing that all the test network containers example.com are up and running[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mOK: All the test network containers are up and running[m[m[m
Step 3_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh common org1
Step: 4_cli Test 'Organization <org1> is in <common> channel'
VERIFY: test-channel-exists.sh common org1
[1;34m
Verifing if the <common> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 13:04:15.946 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:04:15.949 UTC [cli.common] readBlock -> INFO 002[0m Received block: 7
[34m2020-03-27 13:04:15.954 UTC [cli.common] readBlock -> INFO 003[0m Received block: 5
[34m2020-03-27 13:04:15.955 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 5
{
"channel_id": "common",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-27T13:02:05Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filevSNcik _common_
[1;32mOK: The channel <common> exists and visible to org1[m[m[m
Step 4_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh common org2
Step: 5_cli Test 'Organization <org2> is in <common> channel'
VERIFY: test-channel-exists.sh common org2
[1;34m
Verifing if the <common> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 13:04:18.081 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:04:18.084 UTC [cli.common] readBlock -> INFO 002[0m Received block: 7
[34m2020-03-27 13:04:18.086 UTC [cli.common] readBlock -> INFO 003[0m Received block: 5
[34m2020-03-27 13:04:18.086 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 5
{
"channel_id": "common",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-27T13:02:05Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileicH0Cx _common_
[1;32mOK: The channel <common> exists and visible to org2[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh common org1
Step: 6_cli Test 'Organization <org1> joined the <common> channel'
VERIFY: test-join-channel.sh common org1
[1;34m
Verifing if the org1 has joined the <common> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 13:04:20.238 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <common> channel[m[m[m
Step 6_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh common org2
Step: 7_cli Test 'Organization <org2> joined the <common> channel'
VERIFY: test-join-channel.sh common org2
[1;34m
Verifing if the org2 has joined the <common> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 13:04:22.212 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <common> channel[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel4547 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel4547 org1
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel4547 org1 VERIFY: test-channel-exists.sh testchannel4547 org1
[1;36m
Creating the <testchannel4547> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel4547
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4547[m[m[m
example.com

Create channel org1 testchannel4547
--2020-03-27 13:04:31--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 13:04:31--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 13:04:31--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 13:04:31--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-27 13:04:31.482 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-27 13:04:31.540 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-27 13:04:31.540 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-27 13:04:31.541 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-27 13:04:31.541 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-27 13:04:31.542 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-27 13:04:31.542 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-27 13:04:31.542 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-27 13:04:31.543 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-27 13:04:31.599 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-27 13:04:31.600 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-27 13:04:31.600 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-27 13:04:31.601 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-27 13:04:31.601 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-27 13:04:31.601 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-27 13:04:31.602 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-27 13:04:31.605 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-27 13:04:31.606 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-27 13:04:31.606 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-27 13:04:31.607 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-27 13:04:31.608 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-27 13:04:31.609 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-27 13:04:31.609 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-27 13:04:31.675 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:04:31.698 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel4547.pb -o orderer.example.com:7050 -c testchannel4547 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 13:04:31.774 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:04:31.777 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-27 13:04:31.778 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-27 13:04:31.779 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel4547
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4547 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 13:04:32.089 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:04:32.103 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel4547> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel4547> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 13:04:34.391 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:04:34.403 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-27 13:04:34.405 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-27 13:04:34.405 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel4547",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-27T13:04:32Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileaN6F5y _testchannel4547_
[1;32mOK: The channel <testchannel4547> exists and visible to org1[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel4547 org2
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel4547 org2
[1;34m
Verifing if the <testchannel4547> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 13:04:36.745 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:04:36.751 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filemsLAM1 _null_
[1;32mOK: The channel <testchannel4547> does not exist and in not visible to org2[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel4547 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel4547 org1
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel4547 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel4547 org1
[1;36m
Creating the <^^^^^^testchannel4547> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel4547
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel4547[m[m[m
example.com

Create channel org1 ^^^^^^testchannel4547
--2020-03-27 13:04:39--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 13:04:39--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 13:04:39--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 13:04:39--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-27 13:04:39.909 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-27 13:04:39.977 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-27 13:04:39.978 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-27 13:04:39.978 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-27 13:04:39.979 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-27 13:04:39.979 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-27 13:04:39.979 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-27 13:04:39.980 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-27 13:04:39.980 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-27 13:04:40.043 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-27 13:04:40.044 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-27 13:04:40.044 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-27 13:04:40.044 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-27 13:04:40.045 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-27 13:04:40.045 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-27 13:04:40.045 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-27 13:04:40.046 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-27 13:04:40.048 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-27 13:04:40.048 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-27 13:04:40.049 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-27 13:04:40.049 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-27 13:04:40.050 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-27 13:04:40.051 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-27 13:04:40.115 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel4547' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel4547.pb -o orderer.example.com:7050 -c ^^^^^^testchannel4547 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 13:04:40.197 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:04:40.199 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel4547.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel4547.json: No such file or directory
>> Prepare config update from org1 for channel ^^^^^^testchannel4547
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel4547 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 13:04:40.395 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel4547' != '^^^^^^testchannel4547'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel4547> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 13:04:43.220 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:04:43.222 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileZpUtaM _null_
[1;32mOK: The channel <^^^^^^testchannel4547> does not exist and in not visible to org1[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel4547 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel4547 org2
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel4547 org2 VERIFY: test-channel-does-not-exist.sh testchannel4547 org2
[1;36m
Creating the <testchannel4547> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel4547
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4547[m[m[m
example.com

Create channel org2 testchannel4547
--2020-03-27 13:04:47--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 13:04:47--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 13:04:47--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 13:04:47--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-27 13:04:47.635 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-27 13:04:47.743 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-27 13:04:47.744 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-27 13:04:47.745 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-27 13:04:47.746 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-27 13:04:47.746 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-27 13:04:47.746 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-27 13:04:47.747 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-27 13:04:47.747 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-27 13:04:47.851 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-27 13:04:47.852 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-27 13:04:47.853 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-27 13:04:47.853 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-27 13:04:47.854 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-27 13:04:47.854 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-27 13:04:47.855 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-27 13:04:47.856 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-27 13:04:47.858 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-27 13:04:47.859 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-27 13:04:47.860 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-27 13:04:47.861 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-27 13:04:47.862 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-27 13:04:47.863 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-27 13:04:48.041 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel4547.pb -o orderer.example.com:7050 -c testchannel4547 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 13:04:48.354 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:04:48.366 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel4547.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel4547.json: No such file or directory
>> Prepare config update from org2 for channel testchannel4547
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
cat: crypto-config/configtx/update.json: No such file or directory
parse error: Unmatched '}' at line 1, column 107
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4547 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 13:04:48.741 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: Invalid channel create transaction : bad header
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel4547> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 13:04:51.441 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:04:51.445 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file56iAdd _null_
[1;32mOK: The channel <testchannel4547> does not exist and in not visible to org2[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel4547-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel4547-02 org2
Step: 5_cli Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel4547-02 org2 VERIFY: test-channel-exists.sh testchannel4547-02 org2
[1;36m
Creating the <testchannel4547-02> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel4547-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4547-02[m[m[m
example.com

Create channel org2 testchannel4547-02
--2020-03-27 13:04:54--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 13:04:54--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 13:04:54--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 13:04:54--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-27 13:04:54.843 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-27 13:04:54.931 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-27 13:04:54.933 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-27 13:04:54.936 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-27 13:04:54.937 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-27 13:04:54.937 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-27 13:04:54.938 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-27 13:04:54.938 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-27 13:04:54.939 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-27 13:04:55.017 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-27 13:04:55.018 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-27 13:04:55.018 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-27 13:04:55.019 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-27 13:04:55.020 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-27 13:04:55.022 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-27 13:04:55.024 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-27 13:04:55.025 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-27 13:04:55.026 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-27 13:04:55.026 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-27 13:04:55.027 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-27 13:04:55.027 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-27 13:04:55.028 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-27 13:04:55.029 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-27 13:04:55.089 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:04:55.112 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel4547-02.pb -o orderer.example.com:7050 -c testchannel4547-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 13:04:55.193 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:04:55.196 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-27 13:04:55.202 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-27 13:04:55.203 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org2 for channel testchannel4547-02
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4547-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 13:04:55.662 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:04:55.685 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel4547-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel4547-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 13:04:58.584 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:04:58.592 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-27 13:04:58.593 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-27 13:04:58.594 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel4547-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-27T13:04:55Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filecGy58S _testchannel4547-02_
[1;32mOK: The channel <testchannel4547-02> exists and visible to org2[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel4547-02 org1
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel4547-02 org1
[1;34m
Verifing if the <testchannel4547-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 13:05:00.834 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:05:00.837 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileANvXEg _null_
[1;32mOK: The channel <testchannel4547-02> does not exist and in not visible to org1[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel4547-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel4547-02 org1
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel4547-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel4547-02 org1
[1;36m
Creating the <testchannel4547-02> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel4547-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4547-02[m[m[m
example.com

Create channel org1 testchannel4547-02
--2020-03-27 13:05:03--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 13:05:03--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 13:05:03--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 13:05:03--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-27 13:05:03.887 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-27 13:05:03.954 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-27 13:05:03.955 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-27 13:05:03.956 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-27 13:05:03.956 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-27 13:05:03.957 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-27 13:05:03.957 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-27 13:05:03.958 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-27 13:05:03.958 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-27 13:05:04.033 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-27 13:05:04.034 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-27 13:05:04.034 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-27 13:05:04.035 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-27 13:05:04.035 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-27 13:05:04.035 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-27 13:05:04.036 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-27 13:05:04.037 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-27 13:05:04.039 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-27 13:05:04.040 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-27 13:05:04.041 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-27 13:05:04.042 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-27 13:05:04.043 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-27 13:05:04.044 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-27 13:05:04.118 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel4547-02.pb -o orderer.example.com:7050 -c testchannel4547-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 13:05:04.228 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:05:04.233 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel4547-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel4547-02.json: No such file or directory
>> Prepare config update from org1 for channel testchannel4547-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4547-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 13:05:04.460 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel4547-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 13:05:06.982 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:05:06.984 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filePYAYyI _null_
[1;32mOK: The channel <testchannel4547-02> does not exist and in not visible to org1[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel4547 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel4547 org1 org2
Step: 8_cli Test 'Add <org2> to channel <testchannel4547> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel4547 org1 org2 VERIFY: test-channel-add-org.sh testchannel4547 org1 org2
[1;36m
Add org2 to the testchannel4547 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel4547 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel4547 org2 7051 example.com[m[m[m
--2020-03-27 13:05:09--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.100
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 13:05:09--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.100
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 13:05:09--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.100
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel4547, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel4547.pb -o orderer.example.com:7050 -c testchannel4547 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 13:05:09.905 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:05:09.908 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-27 13:05:09.910 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-27 13:05:09.910 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel4547
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4547 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 13:05:10.236 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:05:10.259 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization org2 added to testchannel4547 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel4547 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 13:05:12.383 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:05:12.387 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-27 13:05:12.389 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-27 13:05:12.389 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRSVRlMmZ4QVFZRHVFcGlKTVZ6TVZOakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpjeE1qVTNNREJhRncwek1EQXpNalV4TWpVM01EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFQWplTmtoQ1dsYjZaRG1ud1pLUGZKWE8rbHZFRXJFMjIKQUQ1Q2JxVDZUOGYrOGNWQitxYU9HL01UMjdFejlOY0lKaEdCVk5QRitvVVZzNDF3VVhTV2NLTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnRXZMMmxCTDZhRllzCk5za3JUZUxUUmttV1Z2RzAwUENvQnprVGFrWWlOWEF3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnQXZMMU5yeHUKaDNpdndzcHNxV0kxT2dMS05Va0tCU0NNSUx3Q2RsdHBnaDBDSUZGTjhSMkF1Ti9aY2FmeXg0dWFtQ3JDVlYreApCWUR5U1FTbko4MkRXem5TCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUekNDQWZlZ0F3SUJBZ0lRT25xUFljQVVvV0VieTVJMytWM1hmREFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpjeE1qVTNNREJhRncwek1EQXpNalV4TWpVM01EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKSkZmWHNoSGhHOEQwcStqS2wxVzE4SmM0YjdsaU1iMDZTYUZoSVA4V2NJaTllNURsemdXZFBXbEZMNDFtcVpHbgpmNWJteWM1YWtMY2trOXhyNDhJM09hTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQVMKOHZhVUV2cG9WaXcyeVN0TjR0TkdTWlpXOGJUUThLZ0hPUk5xUmlJMWNEQUtCZ2dxaGtqT1BRUURBZ05HQURCRApBaDlaYkpkbW8wb2tVMnd2KzgvNnYwOVNMZ0lzcFlJcWRDUC9URUdWdkxNb0FpQm9EMzBUQjZDVXBadDJiVmlVCnVWdG1LSFdCdzVqZXpyNGlXc01YcllTZkVRPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQVA5bHFIU1BwQ1FRWDJERFRMUmF1cEl3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpJdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016STNNVEkxTnpBd1doY05NekF3TXpJMU1USTEKTnpBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCQlNSb1ZVWTE5UkYyZ1JBSTFvcDZrZ3l3VTlJRWV5d1lmVUtvZ3BSRzlTNUYxaFFacWxBb0dDRApGeThlRGt0cXRxc1AzWWZTTlFtY29wMktUZmQ2WXJPamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWc1Vm1wZ3prTmNLeWhYQnp1SHAxZklUTTBkYmNBazlUb25nT3IrNysraGlZd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdkK25OS2lpeUhmbXh6T095UlZEY3JZSUZiUDl5WTdZMFlmU1ZuOUxyUG5jQ0lFdFJSdEEwClMvOFV5RVVKeVI0SFllcXMxVTlZUDVvNUd4VUwyRCs3VjhRMgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileepMSTh _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel4547>.[m[m[m
Step 8_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel4547-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel4547-02 org2 org1
Step: 9_cli Test 'Add <org1> to channel <testchannel4547-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel4547-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel4547-02 org2 org1
[1;36m
Add org1 to the testchannel4547-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel4547-02 org1
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel4547-02 org1 7051 example.com[m[m[m
--2020-03-27 13:05:15--  http://www.org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.101
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 786 [application/x-x509-ca-cert]
Saving to: â€˜crypto-config/peerOrganizations/org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pemâ€™

          Admin@org   0%[                    ]       0  --.-KB/s               Admin@org1.example. 100%[===================>]     786  --.-KB/s    in 0s      

2020-03-27 13:05:15 (86.2 MB/s) - â€˜crypto-config/peerOrganizations/org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pemâ€™ saved [786/786]

--2020-03-27 13:05:15--  http://www.org1.example.com/msp/cacerts/ca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.101
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 867 [application/x-x509-ca-cert]
Saving to: â€˜crypto-config/peerOrganizations/org1.example.com/msp/cacerts/ca.org1.example.com-cert.pemâ€™

          ca.org1.e   0%[                    ]       0  --.-KB/s               ca.org1.example.com 100%[===================>]     867  --.-KB/s    in 0s      

2020-03-27 13:05:15 (73.8 MB/s) - â€˜crypto-config/peerOrganizations/org1.example.com/msp/cacerts/ca.org1.example.com-cert.pemâ€™ saved [867/867]

--2020-03-27 13:05:15--  http://www.org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.101
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 871 [application/x-x509-ca-cert]
Saving to: â€˜crypto-config/peerOrganizations/org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pemâ€™

          tlsca.org   0%[                    ]       0  --.-KB/s               tlsca.org1.example. 100%[===================>]     871  --.-KB/s    in 0s      

2020-03-27 13:05:15 (72.8 MB/s) - â€˜crypto-config/peerOrganizations/org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pemâ€™ saved [871/871]

>> Add new org 'org1' to channel testchannel4547-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel4547-02.pb -o orderer.example.com:7050 -c testchannel4547-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 13:05:15.556 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:05:15.559 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-27 13:05:15.561 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-27 13:05:15.562 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org1 for channel testchannel4547-02
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4547-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 13:05:15.895 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:05:15.916 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization org1 added to testchannel4547-02 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel4547-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 13:05:18.415 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:05:18.418 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-27 13:05:18.420 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-27 13:05:18.420 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRTTc1aER4Zzc2a2d2blYrbnVqR3A5ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NUzVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpjeE1qVTBNREJhRncwek1EQXpNalV4TWpVME1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeExtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFWnA0VmY3dnNkUkRUcUZwcW1uL3BCbDY0enppWHdjZDcKb0YxbE1SK3RWR0VmTWNkYlRuUCt3N1VGdEIzQ0YyK1NRODYrWkYxaGlJRFNoVFFrdkEwalNxTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0Fnd1N1MDdzOXljL3BQCmgrNmxOdVlDQTQwdzR0aTV5NUNveFFYRjZ6SWhSRVV3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnVWhRYmFpUjgKMTBaOWpPbmZwM0FNeWp5S1EvZk1LZ1JCV2ttRHVNVit3bmdDSUhVeHlLZm9vaUphNEVVMEs4cXY2djVPaVBsNwphdzdBL2tONW1SaHhLU003Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVakNDQWZpZ0F3SUJBZ0lSQU5OVW1VcnZJU1RYQ3JZaGFZS3Fuc3d3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpJM01USTFOREF3V2hjTk16QXdNekkxTVRJMU5EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQkVsaDdMd2FIU0lBdEZIc29HZkRRcWY4b3JpNDNUNS9jR3JubkVrSEhGYS8xT3RNdGpVNGc1b0xvMG9vc2xUUwo0MVdwOTlnZ0h1SEh4UWxESlJzWjA0NmpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKd1N1MDdzOXljL3BQaCs2bE51WUNBNDB3NHRpNXk1Q294UVhGNnpJaFJFVXdDZ1lJS29aSXpqMEVBd0lEU0FBdwpSUUloQU4xUWFpRWlzOGxvWk5XWS9Ga2pycS9UcTNRdzBuMVM1RWkzZGg2dVVZbitBaUFybkJ1YlNOZUFqTTJLClE5cmI0RWJwTW4wbkI4NE5rT2ZPN3FRbHljUzJ0Zz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQUtkQ2dlNVFNeDIwdFBMdDFSWDArdFl3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016STNNVEkxTkRBd1doY05NekF3TXpJMU1USTEKTkRBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCTkxjNnpyNGh6THRvbU9UcVJXQUlzcmY2ZHd5bzhnTG82cytvejAxcVhxVS9mdldlYVlsQmJheAowMStpUXVqTVJDWi80bTNaVWg1N29GU2JMaWFsaHRtamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdRbmxOMEVWYnJ4VTVGMnF0RXpzdUdCTVFRcVpLdERjeit2LzlhQWxJckdBd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdkTnBybjJmUXFjaFVYZ1FkT3BIWFRPcGRLeDJwSTRyUkxpZ3J5dWRxWXk0Q0lEWUltMElQCmVSOWVkSFlWWXc3d1ZmaFBIWWRlbFJoaTB3SFczUkhxZndGbgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileUry2sA _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel4547-02>.[m[m[m
Step 9_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel4547 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel4547 org1
Step: 10_cli Test 'Join <org1> to the <testchannel4547> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel4547 org1 VERIFY: test-join-channel.sh testchannel4547 org1
[1;36m
Joining  org1 to the testchannel4547 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel4547
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel4547[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=c296c1104f0d
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-27 13:05:21--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 13:05:21--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 13:05:21--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 13:05:21--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org1 to channel testchannel4547
Execute: channel fetch 0 crypto-config/configtx/testchannel4547.pb -o orderer.example.com:7050 -c testchannel4547 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 13:05:21.503 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:05:21.505 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-27 13:05:21.564 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:05:21.629 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org1 has been joined to testchannel4547 channel[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel4547> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 13:05:23.826 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel4547> channel[m[m[m
Step 10_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel4547 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel4547 org2
Step: 11_cli Test 'Join <org2> to the <testchannel4547> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel4547 org2 VERIFY: test-join-channel.sh testchannel4547 org2
[1;36m
Joining  org2 to the testchannel4547 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel4547
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel4547[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=cdfbbf743a55
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-27 13:05:27--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 13:05:27--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 13:05:27--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 13:05:27--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel4547
Execute: channel fetch 0 crypto-config/configtx/testchannel4547.pb -o orderer.example.com:7050 -c testchannel4547 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 13:05:27.504 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:05:27.511 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-27 13:05:27.584 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:05:27.664 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel4547 channel[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel4547> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 13:05:30.369 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel4547> channel[m[m[m
Step 11_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel4547-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel4547-02 org1
Step: 12_cli Test 'Join <org1> to the <testchannel4547-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel4547-02 org1 VERIFY: test-join-channel.sh testchannel4547-02 org1
[1;36m
Joining  org1 to the testchannel4547-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel4547-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel4547-02[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=8acc9f7cd8d2
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-27 13:05:33--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 13:05:33--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 13:05:33--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 13:05:33--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org1 to channel testchannel4547-02
Execute: channel fetch 0 crypto-config/configtx/testchannel4547-02.pb -o orderer.example.com:7050 -c testchannel4547-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 13:05:33.596 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:05:33.599 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-27 13:05:33.735 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:05:33.787 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org1 has been joined to testchannel4547-02 channel[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel4547-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 13:05:36.135 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel4547-02> channel[m[m[m
Step 12_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel4547-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel4547-02 org2
Step: 13_cli Test 'Join <org2> to the <testchannel4547-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel4547-02 org2 VERIFY: test-join-channel.sh testchannel4547-02 org2
[1;36m
Joining  org2 to the testchannel4547-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel4547-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel4547-02[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=9642c7045f1c
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-27 13:05:39--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 13:05:39--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 13:05:39--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-27 13:05:39--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel4547-02
Execute: channel fetch 0 crypto-config/configtx/testchannel4547-02.pb -o orderer.example.com:7050 -c testchannel4547-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-27 13:05:39.252 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:05:39.258 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-27 13:05:39.339 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:05:39.407 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel4547-02 channel[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel4547-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 13:05:41.952 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel4547-02> channel[m[m[m
Step 13_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel4547 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel4547 org1
Step: 14_cli Test 'Install test chaincode by <org1> to the <testchannel4547> channel'
RUNTEST: chaincode-install.sh testchannel4547 org1 VERIFY: test-chaincode-installed.sh testchannel4547 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in org1...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel4547 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel4547[m[m[m
[1;36m
Installing testchannel4547  chaincode in org1...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel4547'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=2b7a79f08c41
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel4547  /opt/chaincode/node/reference_testchannel4547 node 1.0
[34m2020-03-27 13:05:47.067 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-27 13:05:47.068 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-27 13:05:47.147 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode installed in org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel4547' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel4547, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel4547, Id: bfba2bff1eb3e0c2e9983b37f8bdf041f695f8b4f49c1376336507352fe4712c
reference_testchannel4547
[1;32mOK: The test chaincode installed in org1[m[m[m
Step 14_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel4547-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel4547-02 org2
Step: 15_cli Test 'Install test chaincode by <org2> to the <testchannel4547-02> channel'
RUNTEST: chaincode-install.sh testchannel4547-02 org2 VERIFY: test-chaincode-installed.sh testchannel4547-02 org2
[1;36m
Installing test chaincode in org2...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in org2...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel4547-02 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel4547-02[m[m[m
[1;36m
Installing testchannel4547-02  chaincode in org2...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel4547-02'[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=4d7f152de86e
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel4547-02  /opt/chaincode/node/reference_testchannel4547-02 node 1.0
[34m2020-03-27 13:05:55.506 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-27 13:05:55.507 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-27 13:05:55.594 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in org2[m[m[m
[1;34m
Verifing if the test chaincode installed in org2 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel4547-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel4547-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel4547-02, Id: 62a8c85902d1fa51ede207189e950e4bbe69e4d7bf51a76254ffd5175295cbea
reference_testchannel4547-02
[1;32mOK: The test chaincode installed in org2[m[m[m
Step 15_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-instantiate.sh testchannel4547 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel4547 org1
Step: 16_cli Test 'Instantiate test chaincode by <org1> to the <testchannel4547> channel'
RUNTEST: chaincode-instantiate.sh testchannel4547 org1 VERIFY: test-chaincode-instantiated.sh testchannel4547 org1
[1;36m
Instantiate test chaincode in testchannel4547 in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-instantiate.sh testchannel4547 reference_testchannel4547[m[m[m
Instantiate chaincode testchannel4547 reference_testchannel4547 '[]' 1.0  
[34m2020-03-27 13:06:01.894 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-27 13:06:01.895 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[1;32mOK: Test chaincode instantiated in testchannel4547 by org1[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel4547 channel by org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel4547' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel4547:
Name: reference_testchannel4547, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel4547, Escc: escc, Vscc: vscc
reference_testchannel4547
[1;32mOK: The test chaincode installed in testchannel4547 channel by org1 org[m[m[m
Step 16_cli: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-invoke.sh testchannel4547 org1 reference_testchannel4547 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-query.sh testchannel4547 org1 reference_testchannel4547
Step: 17_cli Test 'Test chaincode invocation and query:  <org1> <-> <org2>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel4547 org1 reference_testchannel4547 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel4547 org1 reference_testchannel4547
[1;36m
Invoke test chaincode on the <testchannel4547> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-invoke.sh testchannel4547 reference_testchannel4547 '["put","testchannel4547","testchannel4547"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-invoke.sh  testchannel4547 reference_testchannel4547 '["put","testchannel4547","testchannel4547"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode invoke -n reference_testchannel4547 -C testchannel4547 -c '{"Args":["put","testchannel4547","testchannel4547"]}'
[34m2020-03-27 13:06:49.504 UTC [chaincodeCmd] InitCmdFactory -> INFO 001[0m Retrieved channel (testchannel4547) orderer endpoint: orderer.example.com:7050
[34m2020-03-27 13:06:49.562 UTC [chaincodeCmd] chaincodeInvokeOrQuery -> INFO 002[0m Chaincode invoke successful. result: status:200 
[1;32mOK: Chaincode reference_testchannel4547 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel4547> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel4547 reference_testchannel4547 '["range","testchannel4547"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel4547 reference_testchannel4547 '["range","testchannel4547"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode query -n reference_testchannel4547 -C testchannel4547 -c '{"Args":["range","testchannel4547"]}'
[{"key":"testchannel4547","value":"testchannel4547"}]
[1;32mOK: Chaincode reference_testchannel4547 invoked sucsessfuly.[m[m[m
Step 17_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel22267 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel22267 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel22267 org1 VERIFY: test-channel-exists.sh testchannel22267 org1
[1;36mCreating testchannel22267 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDQ1Mn0.AfXCAqgdF94h-V5xsnhjwRw6uzoH_osD21S0gHq0T4s"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDQ1Mn0.AfXCAqgdF94h-V5xsnhjwRw6uzoH_osD21S0gHq0T4s", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDQ1Mn0.AfXCAqgdF94h-V5xsnhjwRw6uzoH_osD21S0gHq0T4s
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels {"channelId":"testchannel22267","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDQ1Mn0.AfXCAqgdF94h-V5xsnhjwRw6uzoH_osD21S0gHq0T4s
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel22267> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel22267> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 13:07:37.719 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:07:37.723 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-27 13:07:37.725 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-27 13:07:37.726 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel22267",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-27T13:07:35Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileEdiQ6f _testchannel22267_
[1;32mOK: The channel <testchannel22267> exists and visible to org1[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel22267 org2
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel22267 org2
[1;34m
Verifing if the <testchannel22267> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 13:07:40.061 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:07:40.064 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileSlrXdO _null_
[1;32mOK: The channel <testchannel22267> does not exist and in not visible to org2[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel22267 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel22267 org1
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel22267 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel22267 org1
[1;36mCreating ^^^^^^testchannel22267 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDQ2Mn0.UTAV4NeBKMXMx1P_tnW0r9QtofArxZS1tbt_LHMEDO4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDQ2Mn0.UTAV4NeBKMXMx1P_tnW0r9QtofArxZS1tbt_LHMEDO4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDQ2Mn0.UTAV4NeBKMXMx1P_tnW0r9QtofArxZS1tbt_LHMEDO4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels {"channelId":"^^^^^^testchannel22267","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDQ2Mn0.UTAV4NeBKMXMx1P_tnW0r9QtofArxZS1tbt_LHMEDO4
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel22267\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel22267\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel22267\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel22267> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 13:07:48.207 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:07:48.209 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileUnKaBi _null_
[1;32mOK: The channel <^^^^^^testchannel22267> does not exist and in not visible to org1[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel22267 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel22267 org2
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel22267 org2 VERIFY: test-channel-does-not-exist.sh testchannel22267 org2
[1;36mCreating testchannel22267 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDQ3MH0.XqDkttDd46dPxQIRQ8dVotsDLKLmH4LKoYQq7Lgr2qw"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDQ3MH0.XqDkttDd46dPxQIRQ8dVotsDLKLmH4LKoYQq7Lgr2qw", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDQ3MH0.XqDkttDd46dPxQIRQ8dVotsDLKLmH4LKoYQq7Lgr2qw
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/channels {"channelId":"testchannel22267","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDQ3MH0.XqDkttDd46dPxQIRQ8dVotsDLKLmH4LKoYQq7Lgr2qw
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel22267> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 13:07:56.639 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:07:56.644 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file8aC8iT _null_
[1;32mOK: The channel <testchannel22267> does not exist and in not visible to org2[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel22267-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel22267-02 org2
Step: 5_api Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel22267-02 org2 VERIFY: test-channel-exists.sh testchannel22267-02 org2
[1;36mCreating testchannel22267-02 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDQ3OX0.eg4-PYhsJgvxUE_HqUs776ar4BnA5yhkiphIesFKq4E"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDQ3OX0.eg4-PYhsJgvxUE_HqUs776ar4BnA5yhkiphIesFKq4E", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDQ3OX0.eg4-PYhsJgvxUE_HqUs776ar4BnA5yhkiphIesFKq4E
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/channels {"channelId":"testchannel22267-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDQ3OX0.eg4-PYhsJgvxUE_HqUs776ar4BnA5yhkiphIesFKq4E
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel22267-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel22267-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 13:08:04.690 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:08:04.692 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-27 13:08:04.694 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-27 13:08:04.694 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel22267-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-27T13:08:02Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filey0sR9v _testchannel22267-02_
[1;32mOK: The channel <testchannel22267-02> exists and visible to org2[m[m[m
Step 5_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel22267-02 org1
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel22267-02 org1
[1;34m
Verifing if the <testchannel22267-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 13:08:06.742 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:08:06.744 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileGN1CME _null_
[1;32mOK: The channel <testchannel22267-02> does not exist and in not visible to org1[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel22267-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel22267-02 org1
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel22267-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel22267-02 org1
[1;36mCreating testchannel22267-02 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDQ4OX0.GdZwJxsYLywZHsIWqptbvvdgGFSs7UfCUgXwuofphjA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDQ4OX0.GdZwJxsYLywZHsIWqptbvvdgGFSs7UfCUgXwuofphjA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDQ4OX0.GdZwJxsYLywZHsIWqptbvvdgGFSs7UfCUgXwuofphjA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels {"channelId":"testchannel22267-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDQ4OX0.GdZwJxsYLywZHsIWqptbvvdgGFSs7UfCUgXwuofphjA
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel22267-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 13:08:14.548 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:08:14.550 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filefmk0NM _null_
[1;32mOK: The channel <testchannel22267-02> does not exist and in not visible to org1[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel22267 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel22267 org1 org2
Step: 8_api Test 'Add <org2> to channel <testchannel22267> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel22267 org1 org2 VERIFY: test-channel-add-org.sh testchannel22267 org1 org2
[1;36mAdd org2 to the testchannel22267 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel22267 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDQ5Nn0.9sbrImNs5VQO3UPHHTCjiDMeCKSa1LIx8D12v2rOjl0"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDQ5Nn0.9sbrImNs5VQO3UPHHTCjiDMeCKSa1LIx8D12v2rOjl0", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDQ5Nn0.9sbrImNs5VQO3UPHHTCjiDMeCKSa1LIx8D12v2rOjl0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels/testchannel22267/orgs {"orgId":"org2","orgIp":"192.168.99.100","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDQ5Nn0.9sbrImNs5VQO3UPHHTCjiDMeCKSa1LIx8D12v2rOjl0
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org2 added to testchannel22267 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel22267 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 13:08:29.307 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:08:29.313 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-27 13:08:29.315 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-27 13:08:29.315 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRSVRlMmZ4QVFZRHVFcGlKTVZ6TVZOakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpjeE1qVTNNREJhRncwek1EQXpNalV4TWpVM01EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFQWplTmtoQ1dsYjZaRG1ud1pLUGZKWE8rbHZFRXJFMjIKQUQ1Q2JxVDZUOGYrOGNWQitxYU9HL01UMjdFejlOY0lKaEdCVk5QRitvVVZzNDF3VVhTV2NLTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnRXZMMmxCTDZhRllzCk5za3JUZUxUUmttV1Z2RzAwUENvQnprVGFrWWlOWEF3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnQXZMMU5yeHUKaDNpdndzcHNxV0kxT2dMS05Va0tCU0NNSUx3Q2RsdHBnaDBDSUZGTjhSMkF1Ti9aY2FmeXg0dWFtQ3JDVlYreApCWUR5U1FTbko4MkRXem5TCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUekNDQWZlZ0F3SUJBZ0lRT25xUFljQVVvV0VieTVJMytWM1hmREFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpjeE1qVTNNREJhRncwek1EQXpNalV4TWpVM01EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKSkZmWHNoSGhHOEQwcStqS2wxVzE4SmM0YjdsaU1iMDZTYUZoSVA4V2NJaTllNURsemdXZFBXbEZMNDFtcVpHbgpmNWJteWM1YWtMY2trOXhyNDhJM09hTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQVMKOHZhVUV2cG9WaXcyeVN0TjR0TkdTWlpXOGJUUThLZ0hPUk5xUmlJMWNEQUtCZ2dxaGtqT1BRUURBZ05HQURCRApBaDlaYkpkbW8wb2tVMnd2KzgvNnYwOVNMZ0lzcFlJcWRDUC9URUdWdkxNb0FpQm9EMzBUQjZDVXBadDJiVmlVCnVWdG1LSFdCdzVqZXpyNGlXc01YcllTZkVRPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQVA5bHFIU1BwQ1FRWDJERFRMUmF1cEl3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpJdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016STNNVEkxTnpBd1doY05NekF3TXpJMU1USTEKTnpBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCQlNSb1ZVWTE5UkYyZ1JBSTFvcDZrZ3l3VTlJRWV5d1lmVUtvZ3BSRzlTNUYxaFFacWxBb0dDRApGeThlRGt0cXRxc1AzWWZTTlFtY29wMktUZmQ2WXJPamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWc1Vm1wZ3prTmNLeWhYQnp1SHAxZklUTTBkYmNBazlUb25nT3IrNysraGlZd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdkK25OS2lpeUhmbXh6T095UlZEY3JZSUZiUDl5WTdZMFlmU1ZuOUxyUG5jQ0lFdFJSdEEwClMvOFV5RVVKeVI0SFllcXMxVTlZUDVvNUd4VUwyRCs3VjhRMgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileRsH0xa _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel22267>.[m[m[m
Step 8_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel22267-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel22267-02 org2 org1
Step: 9_api Test 'Add <org1> to channel <testchannel22267-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel22267-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel22267-02 org2 org1
[1;36mAdd org1 to the testchannel22267-02 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel22267-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDUxMn0.pfEevp5FpJ3DWQEnNQ7AwARWhoWy4Tb2xrYg6YodTdM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDUxMn0.pfEevp5FpJ3DWQEnNQ7AwARWhoWy4Tb2xrYg6YodTdM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDUxMn0.pfEevp5FpJ3DWQEnNQ7AwARWhoWy4Tb2xrYg6YodTdM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/channels/testchannel22267-02/orgs {"orgId":"org1","orgIp":"192.168.99.101","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDUxMn0.pfEevp5FpJ3DWQEnNQ7AwARWhoWy4Tb2xrYg6YodTdM
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org1 added to testchannel22267-02 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel22267-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 13:08:44.224 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-27 13:08:44.228 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-27 13:08:44.229 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-27 13:08:44.230 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRTTc1aER4Zzc2a2d2blYrbnVqR3A5ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NUzVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpjeE1qVTBNREJhRncwek1EQXpNalV4TWpVME1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeExtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFWnA0VmY3dnNkUkRUcUZwcW1uL3BCbDY0enppWHdjZDcKb0YxbE1SK3RWR0VmTWNkYlRuUCt3N1VGdEIzQ0YyK1NRODYrWkYxaGlJRFNoVFFrdkEwalNxTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0Fnd1N1MDdzOXljL3BQCmgrNmxOdVlDQTQwdzR0aTV5NUNveFFYRjZ6SWhSRVV3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnVWhRYmFpUjgKMTBaOWpPbmZwM0FNeWp5S1EvZk1LZ1JCV2ttRHVNVit3bmdDSUhVeHlLZm9vaUphNEVVMEs4cXY2djVPaVBsNwphdzdBL2tONW1SaHhLU003Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVakNDQWZpZ0F3SUJBZ0lSQU5OVW1VcnZJU1RYQ3JZaGFZS3Fuc3d3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpJM01USTFOREF3V2hjTk16QXdNekkxTVRJMU5EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQkVsaDdMd2FIU0lBdEZIc29HZkRRcWY4b3JpNDNUNS9jR3JubkVrSEhGYS8xT3RNdGpVNGc1b0xvMG9vc2xUUwo0MVdwOTlnZ0h1SEh4UWxESlJzWjA0NmpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKd1N1MDdzOXljL3BQaCs2bE51WUNBNDB3NHRpNXk1Q294UVhGNnpJaFJFVXdDZ1lJS29aSXpqMEVBd0lEU0FBdwpSUUloQU4xUWFpRWlzOGxvWk5XWS9Ga2pycS9UcTNRdzBuMVM1RWkzZGg2dVVZbitBaUFybkJ1YlNOZUFqTTJLClE5cmI0RWJwTW4wbkI4NE5rT2ZPN3FRbHljUzJ0Zz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQUtkQ2dlNVFNeDIwdFBMdDFSWDArdFl3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016STNNVEkxTkRBd1doY05NekF3TXpJMU1USTEKTkRBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCTkxjNnpyNGh6THRvbU9UcVJXQUlzcmY2ZHd5bzhnTG82cytvejAxcVhxVS9mdldlYVlsQmJheAowMStpUXVqTVJDWi80bTNaVWg1N29GU2JMaWFsaHRtamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdRbmxOMEVWYnJ4VTVGMnF0RXpzdUdCTVFRcVpLdERjeit2LzlhQWxJckdBd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdkTnBybjJmUXFjaFVYZ1FkT3BIWFRPcGRLeDJwSTRyUkxpZ3J5dWRxWXk0Q0lEWUltMElQCmVSOWVkSFlWWXc3d1ZmaFBIWWRlbFJoaTB3SFczUkhxZndGbgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileiHH5OW _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel22267-02>.[m[m[m
Step 9_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel22267 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel22267 org1
Step: 10_api Test 'Join <org1> to the <testchannel22267> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel22267 org1 VERIFY: test-join-channel.sh testchannel22267 org1
[1;36mJoining org1.example.com to the testchannel22267 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel22267 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDUyNn0.kZlPZGBf9j0DBjxAYqI34-pa3_BsVkaPeb5HIOdVd_g"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDUyNn0.kZlPZGBf9j0DBjxAYqI34-pa3_BsVkaPeb5HIOdVd_g", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDUyNn0.kZlPZGBf9j0DBjxAYqI34-pa3_BsVkaPeb5HIOdVd_g
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels/testchannel22267 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDUyNn0.kZlPZGBf9j0DBjxAYqI34-pa3_BsVkaPeb5HIOdVd_g
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel22267> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 13:08:52.246 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel22267> channel[m[m[m
Step 10_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel22267 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel22267 org2
Step: 11_api Test 'Join <org2> to the <testchannel22267> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel22267 org2 VERIFY: test-join-channel.sh testchannel22267 org2
[1;36mJoining org2.example.com to the testchannel22267 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel22267 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDUzNH0.PHKXBZZs2reZ3dDnctZsrTE0BT2IooT0CHz6hEkM3DQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDUzNH0.PHKXBZZs2reZ3dDnctZsrTE0BT2IooT0CHz6hEkM3DQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDUzNH0.PHKXBZZs2reZ3dDnctZsrTE0BT2IooT0CHz6hEkM3DQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/channels/testchannel22267 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDUzNH0.PHKXBZZs2reZ3dDnctZsrTE0BT2IooT0CHz6hEkM3DQ
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel22267> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 13:10:59.422 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel22267> channel[m[m[m
Step 11_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel22267-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel22267-02 org1
Step: 12_api Test 'Join <org1> to the <testchannel22267-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel22267-02 org1 VERIFY: test-join-channel.sh testchannel22267-02 org1
[1;36mJoining org1.example.com to the testchannel22267-02 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel22267-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDY2Mn0.LFdWVl-CLPmbEwHqqn9YZnSkvmBTTpXYNTbUwuVv1c0"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDY2Mn0.LFdWVl-CLPmbEwHqqn9YZnSkvmBTTpXYNTbUwuVv1c0", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDY2Mn0.LFdWVl-CLPmbEwHqqn9YZnSkvmBTTpXYNTbUwuVv1c0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels/testchannel22267-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDY2Mn0.LFdWVl-CLPmbEwHqqn9YZnSkvmBTTpXYNTbUwuVv1c0
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel22267-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 13:13:06.385 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel22267-02> channel[m[m[m
Step 12_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel22267-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel22267-02 org2
Step: 13_api Test 'Join <org2> to the <testchannel22267-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel22267-02 org2 VERIFY: test-join-channel.sh testchannel22267-02 org2
[1;36mJoining org2.example.com to the testchannel22267-02 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel22267-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDc4OH0._Sd0XYU7TSpriTHShIi4QekFf4QdyATMlWTgNhTQ9Lw"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDc4OH0._Sd0XYU7TSpriTHShIi4QekFf4QdyATMlWTgNhTQ9Lw", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDc4OH0._Sd0XYU7TSpriTHShIi4QekFf4QdyATMlWTgNhTQ9Lw
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/channels/testchannel22267-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDc4OH0._Sd0XYU7TSpriTHShIi4QekFf4QdyATMlWTgNhTQ9Lw
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel22267-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-27 13:13:13.164 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel22267-02> channel[m[m[m
Step 13_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel22267 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel22267 org1
Step: 14_api Test 'Install test chaincode by <org1> to the <testchannel22267> channel'
RUNTEST: chaincode-install.sh testchannel22267 org1 VERIFY: test-chaincode-installed.sh testchannel22267 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDc5NX0.vSoPpjuCH_DLh9N6LNYKSgTHgBNtKC9uOs0zEXDCb_E"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDc5NX0.vSoPpjuCH_DLh9N6LNYKSgTHgBNtKC9uOs0zEXDCb_E", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDc5NX0.vSoPpjuCH_DLh9N6LNYKSgTHgBNtKC9uOs0zEXDCb_E
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel22267/chaincode-reference.js (deflated 27%)
adding: reference_testchannel22267/index.js (deflated 27%)
adding: reference_testchannel22267/package.json (deflated 41%)
adding: reference_testchannel22267/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12292 Ð¼Ð°Ñ€ 27 16:13 /tmp/reference_testchannel22267.zip
/tmp/reference_testchannel22267.zip
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel22267:1.0 successfully installed""
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode installed in org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel22267' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel22267, Version: 1.0, Path: /tmp/reference_testchannel22267, Id: d09f2359e053289fbeb576073957d37af9aad6379be0f7a623533680aacedc45
Name: reference_testchannel4547, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel4547, Id: bfba2bff1eb3e0c2e9983b37f8bdf041f695f8b4f49c1376336507352fe4712c
reference_testchannel22267
[1;32mOK: The test chaincode installed in org1[m[m[m
Step 14_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel22267-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel22267-02 org2
Step: 15_api Test 'Install test chaincode by <org2> to the <testchannel22267-02> channel'
RUNTEST: chaincode-install.sh testchannel22267-02 org2 VERIFY: test-chaincode-installed.sh testchannel22267-02 org2
[1;36m
Installing test chaincode in org2...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDgwMn0.brfpegrh-jzHIbHxC-aZCX4YWZcWEq83sZZrRxtEres"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDgwMn0.brfpegrh-jzHIbHxC-aZCX4YWZcWEq83sZZrRxtEres", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDgwMn0.brfpegrh-jzHIbHxC-aZCX4YWZcWEq83sZZrRxtEres
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel22267-02/chaincode-reference.js (deflated 27%)
adding: reference_testchannel22267-02/index.js (deflated 27%)
adding: reference_testchannel22267-02/package.json (deflated 41%)
adding: reference_testchannel22267-02/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12316 Ð¼Ð°Ñ€ 27 16:13 /tmp/reference_testchannel22267-02.zip
/tmp/reference_testchannel22267-02.zip
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel22267-02:1.0 successfully installed""
[1;32mOK: Test chaincode installed in org2[m[m[m
[1;34m
Verifing if the test chaincode installed in org2 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel22267-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel22267-02, Version: 1.0, Path: /tmp/reference_testchannel22267-02, Id: 5efbcb870a001f5a30450acdb650b2455e03bb5bdb8b95c9588aaaea29a2472c
Name: reference_testchannel4547-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel4547-02, Id: 62a8c85902d1fa51ede207189e950e4bbe69e4d7bf51a76254ffd5175295cbea
reference_testchannel22267-02
[1;32mOK: The test chaincode installed in org2[m[m[m
Step 15_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-instantiate.sh testchannel22267 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel22267 org1
Step: 16_api Test 'Instantiate test chaincode by <org1> to the <testchannel22267> channel'
RUNTEST: chaincode-instantiate.sh testchannel22267 org1 VERIFY: test-chaincode-instantiated.sh testchannel22267 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDgxMH0.KwGKnEAQBD9RqWEl6JikF3MMrsWL9C34Oi40qHxcq4I"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDgxMH0.KwGKnEAQBD9RqWEl6JikF3MMrsWL9C34Oi40qHxcq4I", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDgxMH0.KwGKnEAQBD9RqWEl6JikF3MMrsWL9C34Oi40qHxcq4I
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels/testchannel22267/chaincodes {"channelId":"testchannel22267","chaincodeId":"reference_testchannel22267","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDgxMH0.KwGKnEAQBD9RqWEl6JikF3MMrsWL9C34Oi40qHxcq4I
curlGetIt got _ {"txid":"057b47f38d19b2eeddfdaa04d8970fdf570e53329297013e1e18d2a336549434","status":"VALID","blockNumber":"2"}200 _ result
body is {"txid":"057b47f38d19b2eeddfdaa04d8970fdf570e53329297013e1e18d2a336549434","status":"VALID","blockNumber":"2"}, code is 200
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel22267 channel by org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel22267' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel22267:
Name: reference_testchannel22267, Version: 1.0, Path: /tmp/reference_testchannel22267, Input: <nil>, Escc: escc, Vscc: vscc
reference_testchannel22267
[1;32mOK: The test chaincode installed in testchannel22267 channel by org1 org[m[m[m
Step 16_api: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-invoke.sh testchannel22267 org1 reference_testchannel22267 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-query.sh testchannel22267 org1 reference_testchannel22267
Step: 17_api Test 'Test chaincode invocation and query:  <org1> <-> <org2>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel22267 org1 reference_testchannel22267 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel22267 org1 reference_testchannel22267
[1;36m
Invoke test chaincode on the <testchannel22267> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDg2Mn0.mOs2J7gs_Vc3IjNnJlpYxj-ue8K_xOc3Tt1Jkoa6SJM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDg2Mn0.mOs2J7gs_Vc3IjNnJlpYxj-ue8K_xOc3Tt1Jkoa6SJM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDg2Mn0.mOs2J7gs_Vc3IjNnJlpYxj-ue8K_xOc3Tt1Jkoa6SJM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels/testchannel22267/chaincodes/reference_testchannel22267 {"fcn":"put","args":["testchannel22267","testchannel22267"],"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTMxNDg2Mn0.mOs2J7gs_Vc3IjNnJlpYxj-ue8K_xOc3Tt1Jkoa6SJM
curlGetIt got _ {"txid":"b8a10649c9de55a278b4990cd7dd14639cfc0c21acdaa1234ce66688273d5b22","status":"VALID","blockNumber":"3"}200 _ result
body is {"txid":"b8a10649c9de55a278b4990cd7dd14639cfc0c21acdaa1234ce66688273d5b22","status":"VALID","blockNumber":"3"}, code is 200
[1;32mOK: Chaincode reference_testchannel22267 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel22267> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel22267 reference_testchannel22267 '["range","testchannel22267"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel22267 reference_testchannel22267 '["range","testchannel22267"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode query -n reference_testchannel22267 -C testchannel22267 -c '{"Args":["range","testchannel22267"]}'
[{"key":"testchannel22267","value":"testchannel22267"}]
[1;32mOK: Chaincode reference_testchannel22267 invoked sucsessfuly.[m[m[m
Step 17_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel31738 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel31738 org1
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel31738 org1 VERIFY: test-channel-exists.sh testchannel31738 org1
[1;36m
Creating the <testchannel31738> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel31738
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel31738[m[m[m
example.com

Create channel org1 testchannel31738
--2020-03-29 18:59:12--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-29 18:59:12--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-29 18:59:12--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-29 18:59:12--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-29 18:59:12.893 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-29 18:59:12.956 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-29 18:59:12.957 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-29 18:59:12.957 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-29 18:59:12.957 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-29 18:59:12.958 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-29 18:59:12.958 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-29 18:59:12.959 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-29 18:59:12.959 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-29 18:59:13.013 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-29 18:59:13.014 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-29 18:59:13.014 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-29 18:59:13.015 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-29 18:59:13.015 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-29 18:59:13.016 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-29 18:59:13.016 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-29 18:59:13.017 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-29 18:59:13.018 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-29 18:59:13.019 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-29 18:59:13.020 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-29 18:59:13.021 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-29 18:59:13.022 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-29 18:59:13.023 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-29 18:59:13.129 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 18:59:13.157 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel31738.pb -o orderer.example.com:7050 -c testchannel31738 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-29 18:59:13.238 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 18:59:13.241 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-29 18:59:13.243 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-29 18:59:13.244 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel31738
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel31738 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-29 18:59:13.598 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 18:59:13.638 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel31738> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel31738> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-29 18:59:15.998 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 18:59:16.001 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-29 18:59:16.003 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-29 18:59:16.003 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel31738",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-29T18:59:13Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileZ0VzPy _testchannel31738_
[1;32mOK: The channel <testchannel31738> exists and visible to org1[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel31738 org2
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel31738 org2
[1;34m
Verifing if the <testchannel31738> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-29 18:59:18.243 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 18:59:18.256 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileNIfTPQ _null_
[1;32mOK: The channel <testchannel31738> does not exist and in not visible to org2[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel31738 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel31738 org1
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel31738 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel31738 org1
[1;36m
Creating the <^^^^^^testchannel31738> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel31738
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel31738[m[m[m
example.com

Create channel org1 ^^^^^^testchannel31738
--2020-03-29 18:59:21--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-29 18:59:21--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-29 18:59:21--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-29 18:59:21--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-29 18:59:21.462 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-29 18:59:21.536 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-29 18:59:21.537 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-29 18:59:21.538 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-29 18:59:21.538 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-29 18:59:21.538 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-29 18:59:21.539 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-29 18:59:21.539 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-29 18:59:21.539 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-29 18:59:21.599 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-29 18:59:21.599 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-29 18:59:21.600 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-29 18:59:21.600 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-29 18:59:21.600 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-29 18:59:21.601 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-29 18:59:21.601 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-29 18:59:21.602 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-29 18:59:21.603 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-29 18:59:21.604 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-29 18:59:21.604 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-29 18:59:21.605 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-29 18:59:21.606 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-29 18:59:21.606 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-29 18:59:21.669 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel31738' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel31738.pb -o orderer.example.com:7050 -c ^^^^^^testchannel31738 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-29 18:59:21.748 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 18:59:21.750 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel31738.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel31738.json: No such file or directory
>> Prepare config update from org1 for channel ^^^^^^testchannel31738
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel31738 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-29 18:59:21.933 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel31738' != '^^^^^^testchannel31738'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel31738> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-29 18:59:24.498 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 18:59:24.499 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/filennmZPn _null_
[1;32mOK: The channel <^^^^^^testchannel31738> does not exist and in not visible to org1[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel31738 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel31738 org2
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel31738 org2 VERIFY: test-channel-does-not-exist.sh testchannel31738 org2
[1;36m
Creating the <testchannel31738> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel31738
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel31738[m[m[m
example.com

Create channel org2 testchannel31738
--2020-03-29 18:59:27--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-29 18:59:27--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-29 18:59:27--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-29 18:59:27--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-29 18:59:27.529 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-29 18:59:27.607 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-29 18:59:27.608 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-29 18:59:27.609 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-29 18:59:27.610 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-29 18:59:27.610 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-29 18:59:27.610 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-29 18:59:27.611 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-29 18:59:27.611 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-29 18:59:27.672 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-29 18:59:27.673 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-29 18:59:27.673 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-29 18:59:27.674 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-29 18:59:27.674 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-29 18:59:27.674 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-29 18:59:27.675 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-29 18:59:27.676 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-29 18:59:27.676 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-29 18:59:27.677 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-29 18:59:27.677 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-29 18:59:27.678 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-29 18:59:27.679 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-29 18:59:27.680 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-29 18:59:27.738 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel31738.pb -o orderer.example.com:7050 -c testchannel31738 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-29 18:59:27.823 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 18:59:27.826 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel31738.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel31738.json: No such file or directory
>> Prepare config update from org2 for channel testchannel31738
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel31738 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-29 18:59:28.013 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel31738> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-29 18:59:30.288 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 18:59:30.291 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileqdw0vq _null_
[1;32mOK: The channel <testchannel31738> does not exist and in not visible to org2[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel31738-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel31738-02 org2
Step: 5_cli Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel31738-02 org2 VERIFY: test-channel-exists.sh testchannel31738-02 org2
[1;36m
Creating the <testchannel31738-02> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel31738-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel31738-02[m[m[m
example.com

Create channel org2 testchannel31738-02
--2020-03-29 18:59:33--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-29 18:59:33--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-29 18:59:33--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-29 18:59:33--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-29 18:59:33.569 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-29 18:59:33.639 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-29 18:59:33.640 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-29 18:59:33.640 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-29 18:59:33.641 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-29 18:59:33.641 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-29 18:59:33.642 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-29 18:59:33.642 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-29 18:59:33.643 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-29 18:59:33.754 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-29 18:59:33.756 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-29 18:59:33.757 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-29 18:59:33.757 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-29 18:59:33.758 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-29 18:59:33.759 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-29 18:59:33.759 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-29 18:59:33.760 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-29 18:59:33.762 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-29 18:59:33.766 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-29 18:59:33.767 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-29 18:59:33.769 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-29 18:59:33.770 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-29 18:59:33.772 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-29 18:59:33.965 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 18:59:34.000 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel31738-02.pb -o orderer.example.com:7050 -c testchannel31738-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-29 18:59:34.086 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 18:59:34.089 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-29 18:59:34.091 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-29 18:59:34.092 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org2 for channel testchannel31738-02
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel31738-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-29 18:59:34.434 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 18:59:34.452 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel31738-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel31738-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-29 18:59:36.764 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 18:59:36.768 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-29 18:59:36.769 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-29 18:59:36.770 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel31738-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-29T18:59:34Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileyj73ji _testchannel31738-02_
[1;32mOK: The channel <testchannel31738-02> exists and visible to org2[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel31738-02 org1
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel31738-02 org1
[1;34m
Verifing if the <testchannel31738-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-29 18:59:38.852 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 18:59:38.855 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filetldW5r _null_
[1;32mOK: The channel <testchannel31738-02> does not exist and in not visible to org1[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel31738-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel31738-02 org1
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel31738-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel31738-02 org1
[1;36m
Creating the <testchannel31738-02> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel31738-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel31738-02[m[m[m
example.com

Create channel org1 testchannel31738-02
--2020-03-29 18:59:41--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-29 18:59:41--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-29 18:59:41--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-29 18:59:41--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-29 18:59:41.851 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-29 18:59:41.920 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-29 18:59:41.920 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-29 18:59:41.921 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-29 18:59:41.921 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-29 18:59:41.921 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-29 18:59:41.922 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-29 18:59:41.922 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-29 18:59:41.922 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-29 18:59:41.990 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-29 18:59:41.991 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-29 18:59:41.991 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-29 18:59:41.992 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-29 18:59:41.992 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-29 18:59:41.993 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-29 18:59:41.993 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-29 18:59:41.994 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-29 18:59:41.995 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-29 18:59:41.995 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-29 18:59:41.996 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-29 18:59:41.996 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-29 18:59:41.998 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-29 18:59:41.998 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-29 18:59:42.080 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel31738-02.pb -o orderer.example.com:7050 -c testchannel31738-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-29 18:59:42.157 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 18:59:42.159 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel31738-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel31738-02.json: No such file or directory
>> Prepare config update from org1 for channel testchannel31738-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel31738-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-29 18:59:42.333 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel31738-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-29 18:59:44.804 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 18:59:44.807 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filecEgNLH _null_
[1;32mOK: The channel <testchannel31738-02> does not exist and in not visible to org1[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel31738 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel31738 org1 org2
Step: 8_cli Test 'Add <org2> to channel <testchannel31738> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel31738 org1 org2 VERIFY: test-channel-add-org.sh testchannel31738 org1 org2
[1;36m
Add org2 to the testchannel31738 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel31738 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel31738 org2 7051 example.com[m[m[m
--2020-03-29 18:59:47--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.100
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-29 18:59:47--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.100
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-29 18:59:47--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.100
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel31738, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel31738.pb -o orderer.example.com:7050 -c testchannel31738 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-29 18:59:47.980 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 18:59:47.982 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-29 18:59:47.984 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-29 18:59:47.985 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel31738
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel31738 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-29 18:59:48.315 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 18:59:48.333 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization org2 added to testchannel31738 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel31738 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-29 18:59:50.682 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 18:59:50.685 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-29 18:59:50.688 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-29 18:59:50.689 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRSVRlMmZ4QVFZRHVFcGlKTVZ6TVZOakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpjeE1qVTNNREJhRncwek1EQXpNalV4TWpVM01EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFQWplTmtoQ1dsYjZaRG1ud1pLUGZKWE8rbHZFRXJFMjIKQUQ1Q2JxVDZUOGYrOGNWQitxYU9HL01UMjdFejlOY0lKaEdCVk5QRitvVVZzNDF3VVhTV2NLTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnRXZMMmxCTDZhRllzCk5za3JUZUxUUmttV1Z2RzAwUENvQnprVGFrWWlOWEF3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnQXZMMU5yeHUKaDNpdndzcHNxV0kxT2dMS05Va0tCU0NNSUx3Q2RsdHBnaDBDSUZGTjhSMkF1Ti9aY2FmeXg0dWFtQ3JDVlYreApCWUR5U1FTbko4MkRXem5TCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUekNDQWZlZ0F3SUJBZ0lRT25xUFljQVVvV0VieTVJMytWM1hmREFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpjeE1qVTNNREJhRncwek1EQXpNalV4TWpVM01EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKSkZmWHNoSGhHOEQwcStqS2wxVzE4SmM0YjdsaU1iMDZTYUZoSVA4V2NJaTllNURsemdXZFBXbEZMNDFtcVpHbgpmNWJteWM1YWtMY2trOXhyNDhJM09hTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQVMKOHZhVUV2cG9WaXcyeVN0TjR0TkdTWlpXOGJUUThLZ0hPUk5xUmlJMWNEQUtCZ2dxaGtqT1BRUURBZ05HQURCRApBaDlaYkpkbW8wb2tVMnd2KzgvNnYwOVNMZ0lzcFlJcWRDUC9URUdWdkxNb0FpQm9EMzBUQjZDVXBadDJiVmlVCnVWdG1LSFdCdzVqZXpyNGlXc01YcllTZkVRPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQVA5bHFIU1BwQ1FRWDJERFRMUmF1cEl3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpJdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016STNNVEkxTnpBd1doY05NekF3TXpJMU1USTEKTnpBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCQlNSb1ZVWTE5UkYyZ1JBSTFvcDZrZ3l3VTlJRWV5d1lmVUtvZ3BSRzlTNUYxaFFacWxBb0dDRApGeThlRGt0cXRxc1AzWWZTTlFtY29wMktUZmQ2WXJPamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWc1Vm1wZ3prTmNLeWhYQnp1SHAxZklUTTBkYmNBazlUb25nT3IrNysraGlZd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdkK25OS2lpeUhmbXh6T095UlZEY3JZSUZiUDl5WTdZMFlmU1ZuOUxyUG5jQ0lFdFJSdEEwClMvOFV5RVVKeVI0SFllcXMxVTlZUDVvNUd4VUwyRCs3VjhRMgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/file9iMRfE _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel31738>.[m[m[m
Step 8_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel31738-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel31738-02 org2 org1
Step: 9_cli Test 'Add <org1> to channel <testchannel31738-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel31738-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel31738-02 org2 org1
[1;36m
Add org1 to the testchannel31738-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel31738-02 org1
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel31738-02 org1 7051 example.com[m[m[m
--2020-03-29 18:59:53--  http://www.org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.101
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-29 18:59:53--  http://www.org1.example.com/msp/cacerts/ca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.101
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/cacerts/ca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-29 18:59:53--  http://www.org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.101
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org1' to channel testchannel31738-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel31738-02.pb -o orderer.example.com:7050 -c testchannel31738-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-29 18:59:53.967 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 18:59:53.970 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-29 18:59:53.972 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-29 18:59:53.972 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org1 for channel testchannel31738-02
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel31738-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-29 18:59:54.282 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 18:59:54.300 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization org1 added to testchannel31738-02 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel31738-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-29 18:59:56.619 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 18:59:56.623 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-29 18:59:56.625 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-29 18:59:56.625 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRTTc1aER4Zzc2a2d2blYrbnVqR3A5ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NUzVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpjeE1qVTBNREJhRncwek1EQXpNalV4TWpVME1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeExtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFWnA0VmY3dnNkUkRUcUZwcW1uL3BCbDY0enppWHdjZDcKb0YxbE1SK3RWR0VmTWNkYlRuUCt3N1VGdEIzQ0YyK1NRODYrWkYxaGlJRFNoVFFrdkEwalNxTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0Fnd1N1MDdzOXljL3BQCmgrNmxOdVlDQTQwdzR0aTV5NUNveFFYRjZ6SWhSRVV3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnVWhRYmFpUjgKMTBaOWpPbmZwM0FNeWp5S1EvZk1LZ1JCV2ttRHVNVit3bmdDSUhVeHlLZm9vaUphNEVVMEs4cXY2djVPaVBsNwphdzdBL2tONW1SaHhLU003Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVakNDQWZpZ0F3SUJBZ0lSQU5OVW1VcnZJU1RYQ3JZaGFZS3Fuc3d3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpJM01USTFOREF3V2hjTk16QXdNekkxTVRJMU5EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQkVsaDdMd2FIU0lBdEZIc29HZkRRcWY4b3JpNDNUNS9jR3JubkVrSEhGYS8xT3RNdGpVNGc1b0xvMG9vc2xUUwo0MVdwOTlnZ0h1SEh4UWxESlJzWjA0NmpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKd1N1MDdzOXljL3BQaCs2bE51WUNBNDB3NHRpNXk1Q294UVhGNnpJaFJFVXdDZ1lJS29aSXpqMEVBd0lEU0FBdwpSUUloQU4xUWFpRWlzOGxvWk5XWS9Ga2pycS9UcTNRdzBuMVM1RWkzZGg2dVVZbitBaUFybkJ1YlNOZUFqTTJLClE5cmI0RWJwTW4wbkI4NE5rT2ZPN3FRbHljUzJ0Zz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQUtkQ2dlNVFNeDIwdFBMdDFSWDArdFl3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016STNNVEkxTkRBd1doY05NekF3TXpJMU1USTEKTkRBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCTkxjNnpyNGh6THRvbU9UcVJXQUlzcmY2ZHd5bzhnTG82cytvejAxcVhxVS9mdldlYVlsQmJheAowMStpUXVqTVJDWi80bTNaVWg1N29GU2JMaWFsaHRtamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdRbmxOMEVWYnJ4VTVGMnF0RXpzdUdCTVFRcVpLdERjeit2LzlhQWxJckdBd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdkTnBybjJmUXFjaFVYZ1FkT3BIWFRPcGRLeDJwSTRyUkxpZ3J5dWRxWXk0Q0lEWUltMElQCmVSOWVkSFlWWXc3d1ZmaFBIWWRlbFJoaTB3SFczUkhxZndGbgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/file4xkbBX _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel31738-02>.[m[m[m
Step 9_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel31738 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel31738 org1
Step: 10_cli Test 'Join <org1> to the <testchannel31738> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel31738 org1 VERIFY: test-join-channel.sh testchannel31738 org1
[1;36m
Joining  org1 to the testchannel31738 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel31738
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel31738[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=54bb0804d94b
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-29 19:00:00--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-29 19:00:00--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-29 19:00:00--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-29 19:00:00--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org1 to channel testchannel31738
Execute: channel fetch 0 crypto-config/configtx/testchannel31738.pb -o orderer.example.com:7050 -c testchannel31738 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-29 19:00:00.138 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 19:00:00.140 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-29 19:00:00.212 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 19:00:00.279 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org1 has been joined to testchannel31738 channel[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel31738> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-29 19:00:02.947 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel31738> channel[m[m[m
Step 10_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel31738 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel31738 org2
Step: 11_cli Test 'Join <org2> to the <testchannel31738> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel31738 org2 VERIFY: test-join-channel.sh testchannel31738 org2
[1;36m
Joining  org2 to the testchannel31738 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel31738
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel31738[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=58b3dedfdd65
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-29 19:00:05--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-29 19:00:05--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-29 19:00:05--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-29 19:00:05--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel31738
Execute: channel fetch 0 crypto-config/configtx/testchannel31738.pb -o orderer.example.com:7050 -c testchannel31738 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-29 19:00:06.007 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 19:00:06.013 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-29 19:00:06.075 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 19:00:06.152 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel31738 channel[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel31738> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-29 19:00:08.648 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel31738> channel[m[m[m
Step 11_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel31738-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel31738-02 org1
Step: 12_cli Test 'Join <org1> to the <testchannel31738-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel31738-02 org1 VERIFY: test-join-channel.sh testchannel31738-02 org1
[1;36m
Joining  org1 to the testchannel31738-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel31738-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel31738-02[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=bde51897c203
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-29 19:00:11--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-29 19:00:11--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-29 19:00:11--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-29 19:00:11--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org1 to channel testchannel31738-02
Execute: channel fetch 0 crypto-config/configtx/testchannel31738-02.pb -o orderer.example.com:7050 -c testchannel31738-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-29 19:00:11.862 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 19:00:11.866 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-29 19:00:11.947 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 19:00:12.016 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org1 has been joined to testchannel31738-02 channel[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel31738-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-29 19:00:14.807 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel31738-02> channel[m[m[m
Step 12_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel31738-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel31738-02 org2
Step: 13_cli Test 'Join <org2> to the <testchannel31738-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel31738-02 org2 VERIFY: test-join-channel.sh testchannel31738-02 org2
[1;36m
Joining  org2 to the testchannel31738-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel31738-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel31738-02[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=b8ed9b525377
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-29 19:00:17--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-29 19:00:17--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-29 19:00:17--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-29 19:00:17--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.101
Connecting to www.example.com (www.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel31738-02
Execute: channel fetch 0 crypto-config/configtx/testchannel31738-02.pb -o orderer.example.com:7050 -c testchannel31738-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-29 19:00:17.986 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 19:00:17.993 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-29 19:00:18.067 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 19:00:18.150 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel31738-02 channel[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel31738-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-29 19:00:20.653 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel31738-02> channel[m[m[m
Step 13_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel31738 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel31738 org1
Step: 14_cli Test 'Install test chaincode by <org1> to the <testchannel31738> channel'
RUNTEST: chaincode-install.sh testchannel31738 org1 VERIFY: test-chaincode-installed.sh testchannel31738 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in org1...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel31738 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel31738[m[m[m
[1;36m
Installing testchannel31738  chaincode in org1...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel31738'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=bb636cf44bad
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel31738  /opt/chaincode/node/reference_testchannel31738 node 1.0
[34m2020-03-29 19:00:24.817 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-29 19:00:24.817 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-29 19:00:24.886 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode installed in org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel31738' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel22267, Version: 1.0, Path: /tmp/reference_testchannel22267, Id: d09f2359e053289fbeb576073957d37af9aad6379be0f7a623533680aacedc45
Name: reference_testchannel31738, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel31738, Id: dcc8a2a082e7c690357c0715fb39360a9e3bea834c2902bc5483c763c754cefc
Name: reference_testchannel4547, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel4547, Id: bfba2bff1eb3e0c2e9983b37f8bdf041f695f8b4f49c1376336507352fe4712c
reference_testchannel31738
[1;32mOK: The test chaincode installed in org1[m[m[m
Step 14_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel31738-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel31738-02 org2
Step: 15_cli Test 'Install test chaincode by <org2> to the <testchannel31738-02> channel'
RUNTEST: chaincode-install.sh testchannel31738-02 org2 VERIFY: test-chaincode-installed.sh testchannel31738-02 org2
[1;36m
Installing test chaincode in org2...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in org2...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel31738-02 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel31738-02[m[m[m
[1;36m
Installing testchannel31738-02  chaincode in org2...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel31738-02'[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=52d0a74cc510
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel31738-02  /opt/chaincode/node/reference_testchannel31738-02 node 1.0
[34m2020-03-29 19:00:31.987 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-29 19:00:31.988 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-29 19:00:32.056 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in org2[m[m[m
[1;34m
Verifing if the test chaincode installed in org2 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel31738-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel22267-02, Version: 1.0, Path: /tmp/reference_testchannel22267-02, Id: 5efbcb870a001f5a30450acdb650b2455e03bb5bdb8b95c9588aaaea29a2472c
Name: reference_testchannel31738-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel31738-02, Id: 135024694c8d5e80e8472de9899eddfc1835c9872101854e79eb743d4e97d8ae
Name: reference_testchannel4547-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel4547-02, Id: 62a8c85902d1fa51ede207189e950e4bbe69e4d7bf51a76254ffd5175295cbea
reference_testchannel31738-02
[1;32mOK: The test chaincode installed in org2[m[m[m
Step 15_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-instantiate.sh testchannel31738 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel31738 org1
Step: 16_cli Test 'Instantiate test chaincode by <org1> to the <testchannel31738> channel'
RUNTEST: chaincode-instantiate.sh testchannel31738 org1 VERIFY: test-chaincode-instantiated.sh testchannel31738 org1
[1;36m
Instantiate test chaincode in testchannel31738 in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-instantiate.sh testchannel31738 reference_testchannel31738[m[m[m
Instantiate chaincode testchannel31738 reference_testchannel31738 '[]' 1.0  
[34m2020-03-29 19:00:38.122 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-29 19:00:38.123 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[1;32mOK: Test chaincode instantiated in testchannel31738 by org1[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel31738 channel by org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel31738' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel31738:
Name: reference_testchannel31738, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel31738, Escc: escc, Vscc: vscc
reference_testchannel31738
[1;32mOK: The test chaincode installed in testchannel31738 channel by org1 org[m[m[m
Step 16_cli: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-invoke.sh testchannel31738 org1 reference_testchannel31738 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-query.sh testchannel31738 org1 reference_testchannel31738
Step: 17_cli Test 'Test chaincode invocation and query:  <org1> <-> <org2>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel31738 org1 reference_testchannel31738 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel31738 org1 reference_testchannel31738
[1;36m
Invoke test chaincode on the <testchannel31738> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-invoke.sh testchannel31738 reference_testchannel31738 '["put","testchannel31738","testchannel31738"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-invoke.sh  testchannel31738 reference_testchannel31738 '["put","testchannel31738","testchannel31738"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode invoke -n reference_testchannel31738 -C testchannel31738 -c '{"Args":["put","testchannel31738","testchannel31738"]}'
[34m2020-03-29 19:01:25.519 UTC [chaincodeCmd] InitCmdFactory -> INFO 001[0m Retrieved channel (testchannel31738) orderer endpoint: orderer.example.com:7050
[34m2020-03-29 19:01:25.581 UTC [chaincodeCmd] chaincodeInvokeOrQuery -> INFO 002[0m Chaincode invoke successful. result: status:200 
[1;32mOK: Chaincode reference_testchannel31738 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel31738> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel31738 reference_testchannel31738 '["range","testchannel31738"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel31738 reference_testchannel31738 '["range","testchannel31738"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode query -n reference_testchannel31738 -C testchannel31738 -c '{"Args":["range","testchannel31738"]}'
[{"key":"testchannel31738","value":"testchannel31738"}]
[1;32mOK: Chaincode reference_testchannel31738 invoked sucsessfuly.[m[m[m
Step 17_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel4096 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel4096 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel4096 org1 VERIFY: test-channel-exists.sh testchannel4096 org1
[1;36mCreating testchannel4096 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODUxOH0.fuV7Ov6USIarmOuoPmJrWQi_Pi5KBaHhqzqrwrQMaHw"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODUxOH0.fuV7Ov6USIarmOuoPmJrWQi_Pi5KBaHhqzqrwrQMaHw", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODUxOH0.fuV7Ov6USIarmOuoPmJrWQi_Pi5KBaHhqzqrwrQMaHw
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels {"channelId":"testchannel4096","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODUxOH0.fuV7Ov6USIarmOuoPmJrWQi_Pi5KBaHhqzqrwrQMaHw
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel4096> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel4096> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-29 19:02:04.589 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 19:02:04.592 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-29 19:02:04.594 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-29 19:02:04.594 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel4096",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-29T19:02:01Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileIgTuNM _testchannel4096_
[1;32mOK: The channel <testchannel4096> exists and visible to org1[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel4096 org2
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel4096 org2
[1;34m
Verifing if the <testchannel4096> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-29 19:02:06.744 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 19:02:06.747 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileq4qiL6 _null_
[1;32mOK: The channel <testchannel4096> does not exist and in not visible to org2[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel4096 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel4096 org1
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel4096 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel4096 org1
[1;36mCreating ^^^^^^testchannel4096 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODUyOX0.gmFu5evZvCganrHtvMD0ZOGdRNkLJQPY6zSW9WN_Y3A"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODUyOX0.gmFu5evZvCganrHtvMD0ZOGdRNkLJQPY6zSW9WN_Y3A", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODUyOX0.gmFu5evZvCganrHtvMD0ZOGdRNkLJQPY6zSW9WN_Y3A
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels {"channelId":"^^^^^^testchannel4096","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODUyOX0.gmFu5evZvCganrHtvMD0ZOGdRNkLJQPY6zSW9WN_Y3A
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel4096\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel4096\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel4096\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel4096> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-29 19:02:14.989 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 19:02:14.990 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/filekZdtJJ _null_
[1;32mOK: The channel <^^^^^^testchannel4096> does not exist and in not visible to org1[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel4096 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel4096 org2
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel4096 org2 VERIFY: test-channel-does-not-exist.sh testchannel4096 org2
[1;36mCreating testchannel4096 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODUzN30.bQHKvpQYEkzKJA_bTYX_T2nm_6XJ5miLuoITJMh-Y1s"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODUzN30.bQHKvpQYEkzKJA_bTYX_T2nm_6XJ5miLuoITJMh-Y1s", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODUzN30.bQHKvpQYEkzKJA_bTYX_T2nm_6XJ5miLuoITJMh-Y1s
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/channels {"channelId":"testchannel4096","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODUzN30.bQHKvpQYEkzKJA_bTYX_T2nm_6XJ5miLuoITJMh-Y1s
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel4096> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-29 19:02:23.343 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 19:02:23.346 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filetncVYo _null_
[1;32mOK: The channel <testchannel4096> does not exist and in not visible to org2[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel4096-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel4096-02 org2
Step: 5_api Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel4096-02 org2 VERIFY: test-channel-exists.sh testchannel4096-02 org2
[1;36mCreating testchannel4096-02 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODU0Nn0.2xxijL4T8ZfzN0_3gVu7L1E8EqU0_CUQhIMLdFkl6Rs"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODU0Nn0.2xxijL4T8ZfzN0_3gVu7L1E8EqU0_CUQhIMLdFkl6Rs", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODU0Nn0.2xxijL4T8ZfzN0_3gVu7L1E8EqU0_CUQhIMLdFkl6Rs
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/channels {"channelId":"testchannel4096-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODU0Nn0.2xxijL4T8ZfzN0_3gVu7L1E8EqU0_CUQhIMLdFkl6Rs
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel4096-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel4096-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-29 19:02:32.077 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 19:02:32.080 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-29 19:02:32.082 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-29 19:02:32.082 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel4096-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-29T19:02:29Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filevbrCwD _testchannel4096-02_
[1;32mOK: The channel <testchannel4096-02> exists and visible to org2[m[m[m
Step 5_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel4096-02 org1
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel4096-02 org1
[1;34m
Verifing if the <testchannel4096-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-29 19:02:34.333 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 19:02:34.335 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileXLAEqS _null_
[1;32mOK: The channel <testchannel4096-02> does not exist and in not visible to org1[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel4096-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel4096-02 org1
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel4096-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel4096-02 org1
[1;36mCreating testchannel4096-02 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODU1Nn0.OAJlv8zgsCot460tzPtxotpnkP3SCKtmXuseyn8aRuo"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODU1Nn0.OAJlv8zgsCot460tzPtxotpnkP3SCKtmXuseyn8aRuo", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODU1Nn0.OAJlv8zgsCot460tzPtxotpnkP3SCKtmXuseyn8aRuo
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels {"channelId":"testchannel4096-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODU1Nn0.OAJlv8zgsCot460tzPtxotpnkP3SCKtmXuseyn8aRuo
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel4096-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-29 19:02:42.387 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 19:02:42.391 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file3quNDh _null_
[1;32mOK: The channel <testchannel4096-02> does not exist and in not visible to org1[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel4096 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel4096 org1 org2
Step: 8_api Test 'Add <org2> to channel <testchannel4096> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel4096 org1 org2 VERIFY: test-channel-add-org.sh testchannel4096 org1 org2
[1;36mAdd org2 to the testchannel4096 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel4096 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODU2NX0.Bi5fnqewQB01pViNbHUf_ycESeoXx8gbQu00po_5CLc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODU2NX0.Bi5fnqewQB01pViNbHUf_ycESeoXx8gbQu00po_5CLc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODU2NX0.Bi5fnqewQB01pViNbHUf_ycESeoXx8gbQu00po_5CLc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels/testchannel4096/orgs {"orgId":"org2","orgIp":"192.168.99.100","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODU2NX0.Bi5fnqewQB01pViNbHUf_ycESeoXx8gbQu00po_5CLc
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org2 added to testchannel4096 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel4096 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-29 19:02:57.920 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 19:02:57.923 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-29 19:02:57.925 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-29 19:02:57.925 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRSVRlMmZ4QVFZRHVFcGlKTVZ6TVZOakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpjeE1qVTNNREJhRncwek1EQXpNalV4TWpVM01EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFQWplTmtoQ1dsYjZaRG1ud1pLUGZKWE8rbHZFRXJFMjIKQUQ1Q2JxVDZUOGYrOGNWQitxYU9HL01UMjdFejlOY0lKaEdCVk5QRitvVVZzNDF3VVhTV2NLTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnRXZMMmxCTDZhRllzCk5za3JUZUxUUmttV1Z2RzAwUENvQnprVGFrWWlOWEF3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnQXZMMU5yeHUKaDNpdndzcHNxV0kxT2dMS05Va0tCU0NNSUx3Q2RsdHBnaDBDSUZGTjhSMkF1Ti9aY2FmeXg0dWFtQ3JDVlYreApCWUR5U1FTbko4MkRXem5TCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUekNDQWZlZ0F3SUJBZ0lRT25xUFljQVVvV0VieTVJMytWM1hmREFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpjeE1qVTNNREJhRncwek1EQXpNalV4TWpVM01EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKSkZmWHNoSGhHOEQwcStqS2wxVzE4SmM0YjdsaU1iMDZTYUZoSVA4V2NJaTllNURsemdXZFBXbEZMNDFtcVpHbgpmNWJteWM1YWtMY2trOXhyNDhJM09hTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQVMKOHZhVUV2cG9WaXcyeVN0TjR0TkdTWlpXOGJUUThLZ0hPUk5xUmlJMWNEQUtCZ2dxaGtqT1BRUURBZ05HQURCRApBaDlaYkpkbW8wb2tVMnd2KzgvNnYwOVNMZ0lzcFlJcWRDUC9URUdWdkxNb0FpQm9EMzBUQjZDVXBadDJiVmlVCnVWdG1LSFdCdzVqZXpyNGlXc01YcllTZkVRPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQVA5bHFIU1BwQ1FRWDJERFRMUmF1cEl3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpJdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016STNNVEkxTnpBd1doY05NekF3TXpJMU1USTEKTnpBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCQlNSb1ZVWTE5UkYyZ1JBSTFvcDZrZ3l3VTlJRWV5d1lmVUtvZ3BSRzlTNUYxaFFacWxBb0dDRApGeThlRGt0cXRxc1AzWWZTTlFtY29wMktUZmQ2WXJPamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWc1Vm1wZ3prTmNLeWhYQnp1SHAxZklUTTBkYmNBazlUb25nT3IrNysraGlZd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdkK25OS2lpeUhmbXh6T095UlZEY3JZSUZiUDl5WTdZMFlmU1ZuOUxyUG5jQ0lFdFJSdEEwClMvOFV5RVVKeVI0SFllcXMxVTlZUDVvNUd4VUwyRCs3VjhRMgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileAatQOB _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel4096>.[m[m[m
Step 8_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel4096-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel4096-02 org2 org1
Step: 9_api Test 'Add <org1> to channel <testchannel4096-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel4096-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel4096-02 org2 org1
[1;36mAdd org1 to the testchannel4096-02 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel4096-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODU4MH0.BRwKnefG38op95SV0XtmKkAHA_J9vUTbELgmVHAeF9E"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODU4MH0.BRwKnefG38op95SV0XtmKkAHA_J9vUTbELgmVHAeF9E", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODU4MH0.BRwKnefG38op95SV0XtmKkAHA_J9vUTbELgmVHAeF9E
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/channels/testchannel4096-02/orgs {"orgId":"org1","orgIp":"192.168.99.101","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODU4MH0.BRwKnefG38op95SV0XtmKkAHA_J9vUTbELgmVHAeF9E
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org1 added to testchannel4096-02 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel4096-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-29 19:03:13.123 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-29 19:03:13.129 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-29 19:03:13.131 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-29 19:03:13.132 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRTTc1aER4Zzc2a2d2blYrbnVqR3A5ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NUzVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpjeE1qVTBNREJhRncwek1EQXpNalV4TWpVME1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeExtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFWnA0VmY3dnNkUkRUcUZwcW1uL3BCbDY0enppWHdjZDcKb0YxbE1SK3RWR0VmTWNkYlRuUCt3N1VGdEIzQ0YyK1NRODYrWkYxaGlJRFNoVFFrdkEwalNxTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0Fnd1N1MDdzOXljL3BQCmgrNmxOdVlDQTQwdzR0aTV5NUNveFFYRjZ6SWhSRVV3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnVWhRYmFpUjgKMTBaOWpPbmZwM0FNeWp5S1EvZk1LZ1JCV2ttRHVNVit3bmdDSUhVeHlLZm9vaUphNEVVMEs4cXY2djVPaVBsNwphdzdBL2tONW1SaHhLU003Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVakNDQWZpZ0F3SUJBZ0lSQU5OVW1VcnZJU1RYQ3JZaGFZS3Fuc3d3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpJM01USTFOREF3V2hjTk16QXdNekkxTVRJMU5EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQkVsaDdMd2FIU0lBdEZIc29HZkRRcWY4b3JpNDNUNS9jR3JubkVrSEhGYS8xT3RNdGpVNGc1b0xvMG9vc2xUUwo0MVdwOTlnZ0h1SEh4UWxESlJzWjA0NmpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKd1N1MDdzOXljL3BQaCs2bE51WUNBNDB3NHRpNXk1Q294UVhGNnpJaFJFVXdDZ1lJS29aSXpqMEVBd0lEU0FBdwpSUUloQU4xUWFpRWlzOGxvWk5XWS9Ga2pycS9UcTNRdzBuMVM1RWkzZGg2dVVZbitBaUFybkJ1YlNOZUFqTTJLClE5cmI0RWJwTW4wbkI4NE5rT2ZPN3FRbHljUzJ0Zz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQUtkQ2dlNVFNeDIwdFBMdDFSWDArdFl3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016STNNVEkxTkRBd1doY05NekF3TXpJMU1USTEKTkRBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCTkxjNnpyNGh6THRvbU9UcVJXQUlzcmY2ZHd5bzhnTG82cytvejAxcVhxVS9mdldlYVlsQmJheAowMStpUXVqTVJDWi80bTNaVWg1N29GU2JMaWFsaHRtamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdRbmxOMEVWYnJ4VTVGMnF0RXpzdUdCTVFRcVpLdERjeit2LzlhQWxJckdBd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdkTnBybjJmUXFjaFVYZ1FkT3BIWFRPcGRLeDJwSTRyUkxpZ3J5dWRxWXk0Q0lEWUltMElQCmVSOWVkSFlWWXc3d1ZmaFBIWWRlbFJoaTB3SFczUkhxZndGbgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/filenYLrnt _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel4096-02>.[m[m[m
Step 9_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel4096 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel4096 org1
Step: 10_api Test 'Join <org1> to the <testchannel4096> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel4096 org1 VERIFY: test-join-channel.sh testchannel4096 org1
[1;36mJoining org1.example.com to the testchannel4096 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel4096 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODU5Nn0.EGQnTapR0BduenE52cx1wL5S9xE2QRqwb77nP31XRZA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODU5Nn0.EGQnTapR0BduenE52cx1wL5S9xE2QRqwb77nP31XRZA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODU5Nn0.EGQnTapR0BduenE52cx1wL5S9xE2QRqwb77nP31XRZA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels/testchannel4096 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODU5Nn0.EGQnTapR0BduenE52cx1wL5S9xE2QRqwb77nP31XRZA
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel4096> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-29 19:03:20.850 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel4096> channel[m[m[m
Step 10_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel4096 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel4096 org2
Step: 11_api Test 'Join <org2> to the <testchannel4096> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel4096 org2 VERIFY: test-join-channel.sh testchannel4096 org2
[1;36mJoining org2.example.com to the testchannel4096 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel4096 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODYwM30.zWgsiYYCoUXavmWMm2WP9B-1UlJTyq5P7CTs2EitVn4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODYwM30.zWgsiYYCoUXavmWMm2WP9B-1UlJTyq5P7CTs2EitVn4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODYwM30.zWgsiYYCoUXavmWMm2WP9B-1UlJTyq5P7CTs2EitVn4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/channels/testchannel4096 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODYwM30.zWgsiYYCoUXavmWMm2WP9B-1UlJTyq5P7CTs2EitVn4
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel4096> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-29 19:05:27.762 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel4096> channel[m[m[m
Step 11_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel4096-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel4096-02 org1
Step: 12_api Test 'Join <org1> to the <testchannel4096-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel4096-02 org1 VERIFY: test-join-channel.sh testchannel4096-02 org1
[1;36mJoining org1.example.com to the testchannel4096-02 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel4096-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODczMH0.HIOOpPpyYVaQ9k--yo5rJIOQoeqJvHmoK9MYNSIQsYc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODczMH0.HIOOpPpyYVaQ9k--yo5rJIOQoeqJvHmoK9MYNSIQsYc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODczMH0.HIOOpPpyYVaQ9k--yo5rJIOQoeqJvHmoK9MYNSIQsYc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels/testchannel4096-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODczMH0.HIOOpPpyYVaQ9k--yo5rJIOQoeqJvHmoK9MYNSIQsYc
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel4096-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-29 19:07:34.869 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel4096-02> channel[m[m[m
Step 12_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel4096-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel4096-02 org2
Step: 13_api Test 'Join <org2> to the <testchannel4096-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel4096-02 org2 VERIFY: test-join-channel.sh testchannel4096-02 org2
[1;36mJoining org2.example.com to the testchannel4096-02 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel4096-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODg1N30.0gECRAD9Fu0kwpFgX2jkLZXSiyQZjrcvCzrLppGR_9I"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODg1N30.0gECRAD9Fu0kwpFgX2jkLZXSiyQZjrcvCzrLppGR_9I", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODg1N30.0gECRAD9Fu0kwpFgX2jkLZXSiyQZjrcvCzrLppGR_9I
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/channels/testchannel4096-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODg1N30.0gECRAD9Fu0kwpFgX2jkLZXSiyQZjrcvCzrLppGR_9I
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel4096-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-29 19:07:42.341 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel4096-02> channel[m[m[m
Step 13_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel4096 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel4096 org1
Step: 14_api Test 'Install test chaincode by <org1> to the <testchannel4096> channel'
RUNTEST: chaincode-install.sh testchannel4096 org1 VERIFY: test-chaincode-installed.sh testchannel4096 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODg2NX0.o6pJUettnfiQ1LtmkS3oi1KPjQqrc4tf9-RSwV09OnQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODg2NX0.o6pJUettnfiQ1LtmkS3oi1KPjQqrc4tf9-RSwV09OnQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODg2NX0.o6pJUettnfiQ1LtmkS3oi1KPjQqrc4tf9-RSwV09OnQ
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel4096/chaincode-reference.js (deflated 27%)
adding: reference_testchannel4096/index.js (deflated 27%)
adding: reference_testchannel4096/package.json (deflated 41%)
adding: reference_testchannel4096/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12284 Ð¼Ð°Ñ€ 29 22:07 /tmp/reference_testchannel4096.zip
/tmp/reference_testchannel4096.zip
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel4096:1.0 successfully installed""
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode installed in org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel4096' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel22267, Version: 1.0, Path: /tmp/reference_testchannel22267, Id: d09f2359e053289fbeb576073957d37af9aad6379be0f7a623533680aacedc45
Name: reference_testchannel31738, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel31738, Id: dcc8a2a082e7c690357c0715fb39360a9e3bea834c2902bc5483c763c754cefc
Name: reference_testchannel4096, Version: 1.0, Path: /tmp/reference_testchannel4096, Id: c6034a0813c7be95e04e97161cb7638a61fd95af8c697403c50a84924654d91b
Name: reference_testchannel4547, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel4547, Id: bfba2bff1eb3e0c2e9983b37f8bdf041f695f8b4f49c1376336507352fe4712c
reference_testchannel4096
[1;32mOK: The test chaincode installed in org1[m[m[m
Step 14_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel4096-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel4096-02 org2
Step: 15_api Test 'Install test chaincode by <org2> to the <testchannel4096-02> channel'
RUNTEST: chaincode-install.sh testchannel4096-02 org2 VERIFY: test-chaincode-installed.sh testchannel4096-02 org2
[1;36m
Installing test chaincode in org2...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODg3M30.CD_UsOItsfUVPXX7lhZBA1ZnwoSkW0SRUrbB-vLSucs"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODg3M30.CD_UsOItsfUVPXX7lhZBA1ZnwoSkW0SRUrbB-vLSucs", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODg3M30.CD_UsOItsfUVPXX7lhZBA1ZnwoSkW0SRUrbB-vLSucs
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel4096-02/chaincode-reference.js (deflated 27%)
adding: reference_testchannel4096-02/index.js (deflated 27%)
adding: reference_testchannel4096-02/package.json (deflated 41%)
adding: reference_testchannel4096-02/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12308 Ð¼Ð°Ñ€ 29 22:07 /tmp/reference_testchannel4096-02.zip
/tmp/reference_testchannel4096-02.zip
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel4096-02:1.0 successfully installed""
[1;32mOK: Test chaincode installed in org2[m[m[m
[1;34m
Verifing if the test chaincode installed in org2 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel4096-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel22267-02, Version: 1.0, Path: /tmp/reference_testchannel22267-02, Id: 5efbcb870a001f5a30450acdb650b2455e03bb5bdb8b95c9588aaaea29a2472c
Name: reference_testchannel31738-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel31738-02, Id: 135024694c8d5e80e8472de9899eddfc1835c9872101854e79eb743d4e97d8ae
Name: reference_testchannel4096-02, Version: 1.0, Path: /tmp/reference_testchannel4096-02, Id: 9b3abce277521b952cebc258c63f2429fd0c04a2d1ba27c5dde85201d5b054ab
Name: reference_testchannel4547-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel4547-02, Id: 62a8c85902d1fa51ede207189e950e4bbe69e4d7bf51a76254ffd5175295cbea
reference_testchannel4096-02
[1;32mOK: The test chaincode installed in org2[m[m[m
Step 15_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-instantiate.sh testchannel4096 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel4096 org1
Step: 16_api Test 'Instantiate test chaincode by <org1> to the <testchannel4096> channel'
RUNTEST: chaincode-instantiate.sh testchannel4096 org1 VERIFY: test-chaincode-instantiated.sh testchannel4096 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODg4MX0.L1CM6pF_7Xl0ksohSi2PcBj9by2lMeUq8Q7wDn-955s"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODg4MX0.L1CM6pF_7Xl0ksohSi2PcBj9by2lMeUq8Q7wDn-955s", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODg4MX0.L1CM6pF_7Xl0ksohSi2PcBj9by2lMeUq8Q7wDn-955s
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels/testchannel4096/chaincodes {"channelId":"testchannel4096","chaincodeId":"reference_testchannel4096","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODg4MX0.L1CM6pF_7Xl0ksohSi2PcBj9by2lMeUq8Q7wDn-955s
curlGetIt got _ {"txid":"b9ad59e1c65e509984b0f1073556fb0c493a4ad7b30249ae1955f8e3ce27ffca","status":"VALID","blockNumber":"2"}200 _ result
body is {"txid":"b9ad59e1c65e509984b0f1073556fb0c493a4ad7b30249ae1955f8e3ce27ffca","status":"VALID","blockNumber":"2"}, code is 200
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel4096 channel by org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel4096' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel4096:
Name: reference_testchannel4096, Version: 1.0, Path: /tmp/reference_testchannel4096, Input: <nil>, Escc: escc, Vscc: vscc
reference_testchannel4096
[1;32mOK: The test chaincode installed in testchannel4096 channel by org1 org[m[m[m
Step 16_api: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-invoke.sh testchannel4096 org1 reference_testchannel4096 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-query.sh testchannel4096 org1 reference_testchannel4096
Step: 17_api Test 'Test chaincode invocation and query:  <org1> <-> <org2>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel4096 org1 reference_testchannel4096 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel4096 org1 reference_testchannel4096
[1;36m
Invoke test chaincode on the <testchannel4096> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODkzN30.h11zbwCSXH2LkmoV5eyGp66uwcvCaZiXq2h6AlzVeRg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODkzN30.h11zbwCSXH2LkmoV5eyGp66uwcvCaZiXq2h6AlzVeRg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODkzN30.h11zbwCSXH2LkmoV5eyGp66uwcvCaZiXq2h6AlzVeRg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels/testchannel4096/chaincodes/reference_testchannel4096 {"fcn":"put","args":["testchannel4096","testchannel4096"],"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTUwODkzN30.h11zbwCSXH2LkmoV5eyGp66uwcvCaZiXq2h6AlzVeRg
curlGetIt got _ {"txid":"a0aa00ea58688241d5c4337612cbc184cfd48494b0960e0c3d637fd4d5f72a86","status":"VALID","blockNumber":"3"}200 _ result
body is {"txid":"a0aa00ea58688241d5c4337612cbc184cfd48494b0960e0c3d637fd4d5f72a86","status":"VALID","blockNumber":"3"}, code is 200
[1;32mOK: Chaincode reference_testchannel4096 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel4096> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel4096 reference_testchannel4096 '["range","testchannel4096"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel4096 reference_testchannel4096 '["range","testchannel4096"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode query -n reference_testchannel4096 -C testchannel4096 -c '{"Args":["range","testchannel4096"]}'
[{"key":"testchannel4096","value":"testchannel4096"}]
[1;32mOK: Chaincode reference_testchannel4096 invoked sucsessfuly.[m[m[m
Step 17_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/./test-containers-list.sh org1 example.com orderer www cli.orderer
Step: 1_cli Test 'Docker containers for orderer are up and running'
VERIFY: ./test-containers-list.sh org1 example.com orderer www cli.orderer
[1;34m
Verifing that all the test network containers example.com are up and running[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mOK: All the test network containers are up and running[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/./test-containers-list.sh org1 org1.example.com api ca cli couchdb.peer0 peer0 www
Step: 2_cli Test 'Docker containers for <org1> are up and running'
VERIFY: ./test-containers-list.sh org1 org1.example.com api ca cli couchdb.peer0 peer0 www
[1;34m
Verifing that all the test network containers example.com are up and running[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mOK: All the test network containers are up and running[m[m[m
Step 2_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/./test-containers-list.sh org2 org2.example.com api ca cli couchdb.peer0 peer0 www
Step: 3_cli Test 'Docker containers for <org2> are up and running'
VERIFY: ./test-containers-list.sh org2 org2.example.com api ca cli couchdb.peer0 peer0 www
[1;34m
Verifing that all the test network containers example.com are up and running[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mOK: All the test network containers are up and running[m[m[m
Step 3_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh common org1
Step: 4_cli Test 'Organization <org1> is in <common> channel'
VERIFY: test-channel-exists.sh common org1
[1;34m
Verifing if the <common> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 10:00:19.761 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 10:00:19.765 UTC [cli.common] readBlock -> INFO 002[0m Received block: 7
[34m2020-03-30 10:00:19.769 UTC [cli.common] readBlock -> INFO 003[0m Received block: 5
[34m2020-03-30 10:00:19.769 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 5
{
"channel_id": "common",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T09:57:52Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/file414H5V _common_
[1;32mOK: The channel <common> exists and visible to org2[m[m[m
Step 4_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh common org2
Step: 5_cli Test 'Organization <org2> is in <common> channel'
VERIFY: test-channel-exists.sh common org2
[1;34m
Verifing if the <common> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 10:00:23.056 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 10:00:23.062 UTC [cli.common] readBlock -> INFO 002[0m Received block: 7
[34m2020-03-30 10:00:23.064 UTC [cli.common] readBlock -> INFO 003[0m Received block: 5
[34m2020-03-30 10:00:23.065 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 5
{
"channel_id": "common",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T09:57:52Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filex503zD _common_
[1;32mOK: The channel <common> exists and visible to org2[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh common org1
Step: 6_cli Test 'Organization <org1> joined the <common> channel'
VERIFY: test-join-channel.sh common org1
[1;34m
Verifing if the org2 has joined the <common> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 10:00:26.232 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <common> channel[m[m[m
Step 6_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh common org2
Step: 7_cli Test 'Organization <org2> joined the <common> channel'
VERIFY: test-join-channel.sh common org2
[1;34m
Verifing if the org2 has joined the <common> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 10:00:29.266 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <common> channel[m[m[m
Step 7_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/./test-containers-list.sh org1 example.com orderer www cli.orderer
Step: 1_api Test 'Docker containers for orderer are up and running'
VERIFY: ./test-containers-list.sh org1 example.com orderer www cli.orderer
[1;34m
Verifing that all the test network containers example.com are up and running[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mOK: All the test network containers are up and running[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/./test-containers-list.sh org1 org1.example.com api ca cli couchdb.peer0 peer0 www
Step: 2_api Test 'Docker containers for <org1> are up and running'
VERIFY: ./test-containers-list.sh org1 org1.example.com api ca cli couchdb.peer0 peer0 www
[1;34m
Verifing that all the test network containers example.com are up and running[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mOK: All the test network containers are up and running[m[m[m
Step 2_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/./test-containers-list.sh org2 org2.example.com api ca cli couchdb.peer0 peer0 www
Step: 3_api Test 'Docker containers for <org2> are up and running'
VERIFY: ./test-containers-list.sh org2 org2.example.com api ca cli couchdb.peer0 peer0 www
[1;34m
Verifing that all the test network containers example.com are up and running[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mOK: All the test network containers are up and running[m[m[m
Step 3_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh common org1
Step: 4_api Test 'Organization <org1> is in <common> channel'
VERIFY: test-channel-exists.sh common org1
[1;34m
Verifing if the <common> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 10:00:52.072 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 10:00:52.082 UTC [cli.common] readBlock -> INFO 002[0m Received block: 7
[34m2020-03-30 10:00:52.089 UTC [cli.common] readBlock -> INFO 003[0m Received block: 5
[34m2020-03-30 10:00:52.089 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 5
{
"channel_id": "common",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T09:57:52Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/file5lAUkV _common_
[1;32mOK: The channel <common> exists and visible to org2[m[m[m
Step 4_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh common org2
Step: 5_api Test 'Organization <org2> is in <common> channel'
VERIFY: test-channel-exists.sh common org2
[1;34m
Verifing if the <common> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 10:00:55.673 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 10:00:55.681 UTC [cli.common] readBlock -> INFO 002[0m Received block: 7
[34m2020-03-30 10:00:55.689 UTC [cli.common] readBlock -> INFO 003[0m Received block: 5
[34m2020-03-30 10:00:55.689 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 5
{
"channel_id": "common",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T09:57:52Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileBZbjWD _common_
[1;32mOK: The channel <common> exists and visible to org2[m[m[m
Step 5_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh common org1
Step: 6_api Test 'Organization <org1> joined the <common> channel'
VERIFY: test-join-channel.sh common org1
[1;34m
Verifing if the org2 has joined the <common> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 10:00:58.959 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <common> channel[m[m[m
Step 6_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh common org2
Step: 7_api Test 'Organization <org2> joined the <common> channel'
VERIFY: test-join-channel.sh common org2
[1;34m
Verifing if the org2 has joined the <common> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 10:01:02.067 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <common> channel[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel31756 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel31756 org1
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel31756 org1 VERIFY: test-channel-exists.sh testchannel31756 org1
[1;36m
Creating the <testchannel31756> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel31756
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel31756[m[m[m
example.com

Create channel org2 testchannel31756
--2020-03-30 10:01:27--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 10:01:27--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 10:01:27--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 10:01:27--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 10:01:27.819 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 10:01:27.952 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 10:01:27.953 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 10:01:27.954 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 10:01:27.954 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 10:01:27.955 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 10:01:27.956 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 10:01:27.958 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 10:01:27.960 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 10:01:28.094 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 10:01:28.096 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 10:01:28.097 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 10:01:28.098 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 10:01:28.098 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 10:01:28.100 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 10:01:28.100 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 10:01:28.102 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 10:01:28.105 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 10:01:28.106 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 10:01:28.107 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 10:01:28.109 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 10:01:28.111 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 10:01:28.112 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 10:01:28.245 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 10:01:28.298 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel31756.pb -o orderer.example.com:7050 -c testchannel31756 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 10:01:28.448 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 10:01:28.454 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 10:01:28.458 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 10:01:28.459 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org2 for channel testchannel31756
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel31756 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 10:01:29.070 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 10:01:29.112 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel31756> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel31756> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 10:01:34.352 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 10:01:34.370 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 10:01:34.386 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 10:01:34.386 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel31756",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T10:01:29Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filex1HQGj _testchannel31756_
[1;32mOK: The channel <testchannel31756> exists and visible to org2[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel31756 org2
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel31756 org2
[1;34m
Verifing if the <testchannel31756> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 10:01:39.498 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 10:01:39.507 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 10:01:39.511 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 10:01:39.511 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel31756",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T10:01:29Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/file7bPIGf _testchannel31756_
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 2_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel31756 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel31756 org1
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel31756 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel31756 org1
[1;36m
Creating the <^^^^^^testchannel31756> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel31756
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel31756[m[m[m
example.com

Create channel org2 ^^^^^^testchannel31756
--2020-03-30 10:01:45--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 10:01:45--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 10:01:45--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 10:01:45--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 10:01:45.743 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 10:01:45.895 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 10:01:45.896 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 10:01:45.897 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 10:01:45.898 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 10:01:45.899 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 10:01:45.899 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 10:01:45.900 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 10:01:45.901 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 10:01:46.034 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 10:01:46.036 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 10:01:46.038 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 10:01:46.039 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 10:01:46.040 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 10:01:46.041 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 10:01:46.041 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 10:01:46.042 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 10:01:46.044 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 10:01:46.045 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 10:01:46.048 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 10:01:46.051 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 10:01:46.054 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 10:01:46.056 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 10:01:46.187 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel31756' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel31756.pb -o orderer.example.com:7050 -c ^^^^^^testchannel31756 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 10:01:46.375 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 10:01:46.391 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel31756.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel31756.json: No such file or directory
>> Prepare config update from org2 for channel ^^^^^^testchannel31756
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel31756 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 10:01:46.769 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel31756' != '^^^^^^testchannel31756'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel31756> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 10:01:51.137 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 10:01:51.142 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileX9Vots _null_
[1;32mOK: The channel <^^^^^^testchannel31756> does not exist and in not visible to org2[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel31756 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel31756 org2
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel31756 org2 VERIFY: test-channel-does-not-exist.sh testchannel31756 org2
[1;36m
Creating the <testchannel31756> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel31756
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel31756[m[m[m
example.com

Create channel org2 testchannel31756
--2020-03-30 10:01:57--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 10:01:57--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 10:01:57--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 10:01:57--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 10:01:57.206 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 10:01:57.333 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 10:01:57.335 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 10:01:57.337 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 10:01:57.337 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 10:01:57.338 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 10:01:57.338 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 10:01:57.339 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 10:01:57.339 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 10:01:57.474 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 10:01:57.477 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 10:01:57.477 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 10:01:57.478 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 10:01:57.479 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 10:01:57.480 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 10:01:57.481 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 10:01:57.483 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 10:01:57.486 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 10:01:57.487 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 10:01:57.488 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 10:01:57.489 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 10:01:57.493 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 10:01:57.495 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 10:01:57.616 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel31756': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application/org2 be at version 0, but it is currently at version 1
Execute: channel fetch config crypto-config/configtx/testchannel31756.pb -o orderer.example.com:7050 -c testchannel31756 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 10:01:57.785 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 10:01:57.798 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 10:01:57.802 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 10:01:57.809 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel31756
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel31756 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 10:01:58.425 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel31756': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application/org2 be at version 0, but it is currently at version 1
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel31756> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 10:02:02.508 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 10:02:02.516 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 10:02:02.524 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 10:02:02.525 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel31756",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T10:01:29Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileoowXxv _testchannel31756_
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 4_cli: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel31756-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel31756-02 org2
Step: 5_cli Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel31756-02 org2 VERIFY: test-channel-exists.sh testchannel31756-02 org2
[1;36m
Creating the <testchannel31756-02> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel31756-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel31756-02[m[m[m
example.com

Create channel org2 testchannel31756-02
--2020-03-30 10:02:08--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 10:02:08--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 10:02:08--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 10:02:08--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 10:02:08.397 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 10:02:08.518 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 10:02:08.519 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 10:02:08.520 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 10:02:08.521 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 10:02:08.522 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 10:02:08.522 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 10:02:08.523 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 10:02:08.524 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 10:02:08.657 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 10:02:08.657 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 10:02:08.660 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 10:02:08.661 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 10:02:08.663 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 10:02:08.663 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 10:02:08.668 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 10:02:08.670 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 10:02:08.671 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 10:02:08.672 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 10:02:08.672 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 10:02:08.674 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 10:02:08.675 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 10:02:08.677 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 10:02:08.817 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 10:02:08.897 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel31756-02.pb -o orderer.example.com:7050 -c testchannel31756-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 10:02:09.072 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 10:02:09.096 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 10:02:09.119 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 10:02:09.119 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org2 for channel testchannel31756-02
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel31756-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 10:02:09.985 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 10:02:10.035 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel31756-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel31756-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 10:02:14.381 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 10:02:14.392 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 10:02:14.397 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 10:02:14.397 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel31756-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T10:02:10Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileEFqKQJ _testchannel31756-02_
[1;32mOK: The channel <testchannel31756-02> exists and visible to org2[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel31756-02 org1
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel31756-02 org1
[1;34m
Verifing if the <testchannel31756-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 10:02:18.033 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 10:02:18.043 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 10:02:18.047 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 10:02:18.048 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel31756-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T10:02:10Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/file9zInkL _testchannel31756-02_
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 6_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel31756-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel31756-02 org1
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel31756-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel31756-02 org1
[1;36m
Creating the <testchannel31756-02> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel31756-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel31756-02[m[m[m
example.com

Create channel org2 testchannel31756-02
--2020-03-30 10:02:23--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 10:02:23--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 10:02:23--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 10:02:23--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 10:02:23.737 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 10:02:23.884 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 10:02:23.886 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 10:02:23.887 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 10:02:23.888 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 10:02:23.889 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 10:02:23.891 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 10:02:23.891 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 10:02:23.892 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 10:02:24.056 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 10:02:24.058 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 10:02:24.059 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 10:02:24.059 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 10:02:24.059 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 10:02:24.064 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 10:02:24.065 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 10:02:24.069 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 10:02:24.073 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 10:02:24.074 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 10:02:24.075 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 10:02:24.076 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 10:02:24.077 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 10:02:24.078 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 10:02:24.271 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel31756-02': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application be at version 0, but it is currently at version 1
Execute: channel fetch config crypto-config/configtx/testchannel31756-02.pb -o orderer.example.com:7050 -c testchannel31756-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 10:02:24.491 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 10:02:24.504 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 10:02:24.509 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 10:02:24.514 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel31756-02
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel31756-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 10:02:25.176 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel31756-02': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application/org2 be at version 0, but it is currently at version 1
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel31756-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 10:02:29.203 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 10:02:29.213 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 10:02:29.218 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 10:02:29.219 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel31756-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T10:02:10Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileDHc7tv _testchannel31756-02_
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 7_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel31756 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel31756 org1 org2
Step: 8_cli Test 'Add <org2> to channel <testchannel31756> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel31756 org1 org2 VERIFY: test-channel-add-org.sh testchannel31756 org1 org2
[1;36m
Add org2 to the testchannel31756 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel31756 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel31756 org2 7051 example.com[m[m[m
--2020-03-30 10:02:35--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 10:02:35--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 10:02:35--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel31756, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel31756.pb -o orderer.example.com:7050 -c testchannel31756 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 10:02:35.265 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 10:02:35.273 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 10:02:35.280 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 10:02:35.281 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel31756
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel31756 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 10:02:35.886 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel31756': error authorizing update: ConfigUpdate for channel 'testchannel31756-02' but envelope for channel 'testchannel31756'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org2> added to testchannel31756 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 10:02:39.814 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 10:02:39.830 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 10:02:39.838 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 10:02:39.839 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRR204WXJWaVFIdmYzTUxZUmtnSDh0ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFeGtLc0NobFZYTUVPdGhPeEc3bkVKb0R3YXFobjZmRkwKK2k3YW1xL21QQ2FWcDRIUXYwREhCRU9zZlFUQThBQVJJSWZ1NUxtMDYwam1nSHZTaUdFdk9xTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FncGF0QXJMN3R6MTRhCk5EK1VGcDBlUnVnTDFvdTNoSy9JK0tDUFB2NVJ2WUl3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRTRwajdmNVkKaHlPV3o1T1dMWFlLbE9kS1NmZXBzYzlaVnZ2aE92TzBDL0VDSURRTFRUMmQ2TjhNcmgwaW5aT0NxdnlCN25tOApTQ2NXS3NwdDZBYkZZVDBUCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUGJ6WVhyRFAwTTVtbWtiNjEvbk5JakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKTm9tdWZqeTk2V2YvYWhXc3pXWm9BMnA4Y0ExZktRdzk3MUdLZDZtNkFNOTBVUFdoQTVmRS9TWTJ4MW4zQU9lOQpXR01LRStNMm9vTjJER1R5SHowNFE2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ2wKcTBDc3Z1M1BYaG8wUDVRV25SNUc2QXZXaTdlRXI4ajRvSTgrL2xHOWdqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJoQXROV0F1M1ZpVm5YYXA1cXpqVndjU2wvZTNvYWVNU0g0bEczcS9uNUdBSWdUQ2xPVTdUYk43SVh6d0NZCjRDWjB2enlocFRvTzFLTlpkbFg1ZVVtdVIyWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRFdyR05aUkpGNUFhVjVFSURxZzAyekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek16QXdPVFV5TURCYUZ3MHpNREF6TWpnd09UVXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVTWmx5blRqRFBTRzZzTWdSQjBsalZZQ2tQMkJrRnIyZGlqZUNnS2pvVVpqMFRKcGE3L0c5dWpILworUzRkbkh6SEtKRlE5b2VuYzlSRDFTb0gvZWNPRmFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQnoyZ1h6S1JEMDNWUVRVSUR6WW16Y3U0NjhIZ2JYSStOUXpwWVR4d0xrNFRBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFtbFpObjVlaTJKVFN1cStaYjNBekNsQkNTSGUvWi9WQjREVHoyUm96QkNNQ0lCSVVldTVxCnk4SGNDaE9QekJBd3ZzbWdzdmEvREhSbUphYjVZcVFDeVp3bwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/file09au8l _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel31756>.[m[m[m
Step 8_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel31756-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel31756-02 org2 org1
Step: 9_cli Test 'Add <org1> to channel <testchannel31756-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel31756-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel31756-02 org2 org1
[1;36m
Add org1 to the testchannel31756-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel31756-02 org1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel26382 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel26382 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel26382 org1 VERIFY: test-channel-exists.sh testchannel26382 org1
[1;36mCreating testchannel26382 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU2Mjg3MH0.o3uXs_BilIQyPfzrltjo_4QsFnHDd_GkgOAzd-GYMbg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU2Mjg3MH0.o3uXs_BilIQyPfzrltjo_4QsFnHDd_GkgOAzd-GYMbg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU2Mjg3MH0.o3uXs_BilIQyPfzrltjo_4QsFnHDd_GkgOAzd-GYMbg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels {"channelId":"testchannel26382","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU2Mjg3MH0.o3uXs_BilIQyPfzrltjo_4QsFnHDd_GkgOAzd-GYMbg
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel26382> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel26382> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 10:08:00.229 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 10:08:00.233 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 10:08:00.239 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 10:08:00.240 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel26382",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T10:07:56Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filenXG9uI _testchannel26382_
[1;32mOK: The channel <testchannel26382> exists and visible to org2[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel26382 org2
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel26382 org2
[1;34m
Verifing if the <testchannel26382> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 10:08:03.425 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 10:08:03.438 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 10:08:03.444 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 10:08:03.445 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel26382",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T10:07:56Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileTjlGBV _testchannel26382_
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 2_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel26382 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel26382 org1
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel26382 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel26382 org1
[1;36mCreating ^^^^^^testchannel26382 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
[1;34m
Verifing if the <testchannel26382> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 10:12:07.662 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 10:12:07.675 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 10:12:07.680 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 10:12:07.680 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel26382",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T10:07:56Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/file5R7sVc _testchannel26382_
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel26382> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 10:12:18.107 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 10:12:18.114 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 10:12:18.121 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 10:12:18.123 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel26382",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T10:07:56Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileEDx9Rd _testchannel26382_
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel26382> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 10:16:23.202 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 10:16:23.205 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 10:16:23.206 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 10:16:23.207 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel26382",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T10:07:56Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/file0T2hsJ _testchannel26382_
Expect: testchannel26382, got: testchannel26382
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel26382> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 10:19:12.145 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 10:19:12.149 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 10:19:12.151 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 10:19:12.152 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel26382",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T10:07:56Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileEXZJyg _testchannel26382_
Expect: testchannel26382, got: testchannel26382
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/./test-containers-list.sh org1 example.com orderer www cli.orderer
Step: 1_cli Test 'Docker containers for orderer are up and running'
VERIFY: ./test-containers-list.sh org1 example.com orderer www cli.orderer
[1;34m
Verifing that all the test network containers example.com are up and running[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mOK: All the test network containers are up and running[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/./test-containers-list.sh org1 org1.example.com api ca cli couchdb.peer0 peer0 www
Step: 2_cli Test 'Docker containers for <org1> are up and running'
VERIFY: ./test-containers-list.sh org1 org1.example.com api ca cli couchdb.peer0 peer0 www
[1;34m
Verifing that all the test network containers example.com are up and running[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mOK: All the test network containers are up and running[m[m[m
Step 2_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/./test-containers-list.sh org2 org2.example.com api ca cli couchdb.peer0 peer0 www
Step: 3_cli Test 'Docker containers for <org2> are up and running'
VERIFY: ./test-containers-list.sh org2 org2.example.com api ca cli couchdb.peer0 peer0 www
[1;34m
Verifing that all the test network containers example.com are up and running[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mOK: All the test network containers are up and running[m[m[m
Step 3_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh common org1
Step: 4_cli Test 'Organization <org1> is in <common> channel'
VERIFY: test-channel-exists.sh common org1
[1;34m
Verifing if the <common> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:08:18.158 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:08:18.161 UTC [cli.common] readBlock -> INFO 002[0m Received block: 7
[34m2020-03-30 13:08:18.162 UTC [cli.common] readBlock -> INFO 003[0m Received block: 5
[34m2020-03-30 13:08:18.163 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 5
{
"channel_id": "common",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T09:57:52Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileAdEtXs _common_
Expect: common, got: common
[1;32mOK: The channel <common> exists and visible to org1[m[m[m
Step 4_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh common org2
Step: 5_cli Test 'Organization <org2> is in <common> channel'
VERIFY: test-channel-exists.sh common org2
[1;34m
Verifing if the <common> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:08:20.232 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:08:20.234 UTC [cli.common] readBlock -> INFO 002[0m Received block: 7
[34m2020-03-30 13:08:20.236 UTC [cli.common] readBlock -> INFO 003[0m Received block: 5
[34m2020-03-30 13:08:20.236 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 5
{
"channel_id": "common",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T09:57:52Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileaQt1Zw _common_
Expect: common, got: common
[1;32mOK: The channel <common> exists and visible to org1[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh common org1
Step: 6_cli Test 'Organization <org1> joined the <common> channel'
VERIFY: test-join-channel.sh common org1
[1;34m
Verifing if the org1 has joined the <common> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:08:22.361 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <common> channel[m[m[m
Step 6_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh common org2
Step: 7_cli Test 'Organization <org2> joined the <common> channel'
VERIFY: test-join-channel.sh common org2
[1;34m
Verifing if the org1 has joined the <common> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:08:24.469 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <common> channel[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel30796 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel30796 org1
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel30796 org1 VERIFY: test-channel-exists.sh testchannel30796 org1
[1;36m
Creating the <testchannel30796> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel30796
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel30796[m[m[m
example.com

Create channel org1 testchannel30796
--2020-03-30 13:08:35--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 13:08:35--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 13:08:35--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 13:08:35--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 13:08:35.181 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 13:08:35.240 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 13:08:35.241 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 13:08:35.241 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 13:08:35.242 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 13:08:35.242 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 13:08:35.243 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 13:08:35.243 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 13:08:35.243 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 13:08:35.303 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 13:08:35.303 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 13:08:35.304 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 13:08:35.304 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 13:08:35.305 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 13:08:35.305 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 13:08:35.305 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 13:08:35.306 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 13:08:35.307 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 13:08:35.308 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 13:08:35.308 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 13:08:35.309 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 13:08:35.310 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 13:08:35.311 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 13:08:35.456 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:08:35.480 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel30796.pb -o orderer.example.com:7050 -c testchannel30796 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 13:08:35.553 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:08:35.556 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 13:08:35.557 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 13:08:35.558 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel30796
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel30796 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 13:08:35.861 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:08:35.874 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel30796> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel30796> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:08:38.020 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:08:38.022 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 13:08:38.024 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 13:08:38.024 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel30796",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T13:08:35Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileb6J0jc _testchannel30796_
Expect: testchannel30796, got: testchannel30796
[1;32mOK: The channel <testchannel30796> exists and visible to org1[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel30796 org2
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel30796 org2
[1;34m
Verifing if the <testchannel30796> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:08:40.061 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:08:40.063 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 13:08:40.064 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 13:08:40.065 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel30796",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T13:08:35Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/file3Jthbo _testchannel30796_
Expect: testchannel30796, got: testchannel30796
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 2_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel30796 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel30796 org1
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel30796 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel30796 org1
[1;36m
Creating the <^^^^^^testchannel30796> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel30796
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel30796[m[m[m
example.com

Create channel org1 ^^^^^^testchannel30796
--2020-03-30 13:08:42--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 13:08:42--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 13:08:42--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 13:08:42--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 13:08:42.880 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 13:08:42.936 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 13:08:42.937 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 13:08:42.937 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 13:08:42.938 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 13:08:42.938 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 13:08:42.939 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 13:08:42.939 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 13:08:42.939 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 13:08:42.993 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 13:08:42.994 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 13:08:42.994 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 13:08:42.995 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 13:08:42.995 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 13:08:42.996 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 13:08:42.996 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 13:08:42.997 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 13:08:42.998 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 13:08:42.998 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 13:08:42.999 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 13:08:42.999 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 13:08:43.000 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 13:08:43.001 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 13:08:43.061 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel30796' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel30796.pb -o orderer.example.com:7050 -c ^^^^^^testchannel30796 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 13:08:43.140 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:08:43.142 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel30796.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel30796.json: No such file or directory
>> Prepare config update from org1 for channel ^^^^^^testchannel30796
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel30796 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 13:08:43.317 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel30796' != '^^^^^^testchannel30796'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel30796> channel exists in org1.example.com...[m[m[m
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel9776 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel9776 org1
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel9776 org1 VERIFY: test-channel-exists.sh testchannel9776 org1
[1;36m
Creating the <testchannel9776> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel9776
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel9776[m[m[m
example.com

Create channel org1 testchannel9776
--2020-03-30 13:22:54--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 13:22:54--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 13:22:54--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 13:22:54--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 13:22:54.915 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 13:22:54.971 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 13:22:54.972 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 13:22:54.972 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 13:22:54.972 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 13:22:54.973 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 13:22:54.973 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 13:22:54.973 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 13:22:54.974 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 13:22:55.031 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 13:22:55.032 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 13:22:55.032 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 13:22:55.033 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 13:22:55.033 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 13:22:55.034 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 13:22:55.034 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 13:22:55.035 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 13:22:55.036 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 13:22:55.037 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 13:22:55.037 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 13:22:55.038 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 13:22:55.038 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 13:22:55.039 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 13:22:55.095 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:22:55.118 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel9776.pb -o orderer.example.com:7050 -c testchannel9776 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 13:22:55.199 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:22:55.202 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 13:22:55.205 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 13:22:55.206 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel9776
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel9776 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 13:22:55.570 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:22:55.583 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel9776> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel9776> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:22:57.776 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:22:57.779 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 13:22:57.781 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 13:22:57.781 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel9776",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T13:22:55Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filelLmQAd _testchannel9776_
Expect: testchannel9776, got: testchannel9776
[1;32mOK: The channel <testchannel9776> exists and visible to org1[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel9776 org2
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel9776 org2
[1;34m
Verifing if the <testchannel9776> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:22:59.899 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:22:59.908 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filey7dmoq _null_
Expect: testchannel9776, got: null
[1;32mOK: The channel <testchannel9776> does not exist and in not visible to org2[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel9776 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel9776 org1
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel9776 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel9776 org1
[1;36m
Creating the <^^^^^^testchannel9776> channel for org1.example.com...[m[m[m
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel14642 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel14642 org1
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel14642 org1 VERIFY: test-channel-exists.sh testchannel14642 org1
[1;36m
Creating the <testchannel14642> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel14642
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel14642[m[m[m
example.com

Create channel org1 testchannel14642
--2020-03-30 13:23:13--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 13:23:13--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 13:23:13--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 13:23:13--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 13:23:13.751 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 13:23:13.808 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 13:23:13.809 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 13:23:13.809 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 13:23:13.810 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 13:23:13.810 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 13:23:13.810 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 13:23:13.811 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 13:23:13.811 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 13:23:13.868 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 13:23:13.868 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 13:23:13.869 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 13:23:13.869 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 13:23:13.870 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 13:23:13.870 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 13:23:13.870 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 13:23:13.871 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 13:23:13.872 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 13:23:13.873 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 13:23:13.873 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 13:23:13.874 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 13:23:13.875 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 13:23:13.875 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 13:23:13.934 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:23:13.955 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel14642.pb -o orderer.example.com:7050 -c testchannel14642 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 13:23:14.029 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:23:14.031 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 13:23:14.033 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 13:23:14.033 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel14642
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel14642 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 13:23:14.326 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:23:14.340 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel14642> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel14642> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:23:16.465 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:23:16.468 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 13:23:16.469 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 13:23:16.469 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel14642",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T13:23:14Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileCrRpAG _testchannel14642_
Expect: testchannel14642, got: testchannel14642
[1;32mOK: The channel <testchannel14642> exists and visible to org1[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel14642 org2
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel14642 org2
[1;34m
Verifing if the <testchannel14642> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:23:18.514 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:23:18.517 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file9b0ODP _null_
Expect: testchannel14642, got: null
[1;32mOK: The channel <testchannel14642> does not exist and in not visible to org2[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel14642 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel14642 org1
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel14642 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel14642 org1
[1;36m
Creating the <^^^^^^testchannel14642> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel14642
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel14642[m[m[m
example.com

Create channel org1 ^^^^^^testchannel14642
--2020-03-30 13:23:21--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 13:23:21--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 13:23:21--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 13:23:21--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 13:23:21.275 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 13:23:21.332 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 13:23:21.333 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 13:23:21.333 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 13:23:21.334 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 13:23:21.334 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 13:23:21.335 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 13:23:21.335 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 13:23:21.335 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 13:23:21.395 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 13:23:21.396 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 13:23:21.396 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 13:23:21.397 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 13:23:21.397 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 13:23:21.397 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 13:23:21.398 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 13:23:21.399 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 13:23:21.401 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 13:23:21.401 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 13:23:21.402 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 13:23:21.402 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 13:23:21.403 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 13:23:21.404 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 13:23:21.465 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel14642' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel14642.pb -o orderer.example.com:7050 -c ^^^^^^testchannel14642 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 13:23:21.547 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:23:21.548 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel14642.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel14642.json: No such file or directory
>> Prepare config update from org1 for channel ^^^^^^testchannel14642
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel14642 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 13:23:21.717 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel14642' != '^^^^^^testchannel14642'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel14642> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:23:23.879 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:23:23.880 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/filemFpZjw _null_
Expect: ^^^^^^testchannel14642, got: null
[1;32mOK: The channel <^^^^^^testchannel14642> does not exist and in not visible to org1[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel14642 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel14642 org2
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel14642 org2 VERIFY: test-channel-does-not-exist.sh testchannel14642 org2
[1;36m
Creating the <testchannel14642> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel14642
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel14642[m[m[m
example.com

Create channel org1 testchannel14642
--2020-03-30 13:23:26--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 13:23:26--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 13:23:26--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 13:23:26--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 13:23:26.643 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 13:23:26.779 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 13:23:26.780 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 13:23:26.780 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 13:23:26.780 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 13:23:26.781 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 13:23:26.781 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 13:23:26.781 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 13:23:26.781 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 13:23:26.838 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 13:23:26.839 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 13:23:26.839 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 13:23:26.840 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 13:23:26.840 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 13:23:26.840 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 13:23:26.841 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 13:23:26.842 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 13:23:26.843 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 13:23:26.843 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 13:23:26.843 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 13:23:26.844 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 13:23:26.845 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 13:23:26.846 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 13:23:26.902 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel14642': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application be at version 0, but it is currently at version 1
Execute: channel fetch config crypto-config/configtx/testchannel14642.pb -o orderer.example.com:7050 -c testchannel14642 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 13:23:26.977 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:23:26.980 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 13:23:26.982 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 13:23:26.982 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org1 for channel testchannel14642
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel14642 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 13:23:27.244 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel14642': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application/org1 be at version 0, but it is currently at version 1
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel14642> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:23:29.551 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:23:29.554 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file2A86in _null_
Expect: testchannel14642, got: null
[1;32mOK: The channel <testchannel14642> does not exist and in not visible to org2[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel14642-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel14642-02 org2
Step: 5_cli Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel14642-02 org2 VERIFY: test-channel-exists.sh testchannel14642-02 org2
[1;36m
Creating the <testchannel14642-02> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel14642-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel14642-02[m[m[m
example.com

Create channel org1 testchannel14642-02
--2020-03-30 13:23:32--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 13:23:32--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 13:23:32--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 13:23:32--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 13:23:32.307 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 13:23:32.364 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 13:23:32.365 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 13:23:32.365 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 13:23:32.366 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 13:23:32.366 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 13:23:32.366 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 13:23:32.367 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 13:23:32.367 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 13:23:32.440 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 13:23:32.441 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 13:23:32.441 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 13:23:32.442 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 13:23:32.442 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 13:23:32.442 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 13:23:32.443 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 13:23:32.444 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 13:23:32.445 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 13:23:32.445 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 13:23:32.446 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 13:23:32.447 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 13:23:32.448 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 13:23:32.448 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 13:23:32.504 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:23:32.527 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel14642-02.pb -o orderer.example.com:7050 -c testchannel14642-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 13:23:32.600 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:23:32.603 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 13:23:32.605 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 13:23:32.605 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel14642-02
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel14642-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 13:23:32.907 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:23:32.926 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel14642-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel14642-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:23:35.046 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:23:35.049 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 13:23:35.050 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 13:23:35.051 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel14642-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T13:23:32Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filemKtkoa _testchannel14642-02_
Expect: testchannel14642-02, got: testchannel14642-02
[1;32mOK: The channel <testchannel14642-02> exists and visible to org1[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel14642-02 org1
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel14642-02 org1
[1;34m
Verifing if the <testchannel14642-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:23:37.248 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:23:37.250 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 13:23:37.251 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 13:23:37.251 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel14642-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T13:23:32Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileRWrLrn _testchannel14642-02_
Expect: testchannel14642-02, got: testchannel14642-02
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 6_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel14642-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel14642-02 org1
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel14642-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel14642-02 org1
[1;36m
Creating the <testchannel14642-02> channel for org1.example.com...[m[m[m
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel7729 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel7729 org1
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel7729 org1 VERIFY: test-channel-exists.sh testchannel7729 org1
[1;36m
Creating the <testchannel7729> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel7729
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel7729[m[m[m
example.com

Create channel org1 testchannel7729
--2020-03-30 13:24:05--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 13:24:05--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 13:24:05--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 13:24:05--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 13:24:05.071 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 13:24:05.128 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 13:24:05.128 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 13:24:05.129 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 13:24:05.129 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 13:24:05.130 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 13:24:05.130 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 13:24:05.130 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 13:24:05.131 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 13:24:05.194 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 13:24:05.194 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 13:24:05.195 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 13:24:05.195 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 13:24:05.195 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 13:24:05.196 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 13:24:05.196 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 13:24:05.197 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 13:24:05.198 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 13:24:05.199 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 13:24:05.199 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 13:24:05.200 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 13:24:05.201 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 13:24:05.201 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 13:24:05.261 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:24:05.282 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel7729.pb -o orderer.example.com:7050 -c testchannel7729 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 13:24:05.354 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:24:05.356 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 13:24:05.358 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 13:24:05.359 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel7729
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel7729 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 13:24:05.672 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:24:05.688 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel7729> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel7729> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:24:08.002 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:24:08.004 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 13:24:08.006 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 13:24:08.006 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel7729",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T13:24:05Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileSE3t3C _testchannel7729_
Expect: testchannel7729, got: testchannel7729
[1;32mOK: The channel <testchannel7729> exists and visible to org1[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel7729 org2
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel7729 org2
[1;34m
Verifing if the <testchannel7729> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:24:10.115 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:24:10.118 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileHA77yT _null_
Expect: testchannel7729, got: null
[1;32mOK: The channel <testchannel7729> does not exist and in not visible to org2[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel7729 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel7729 org1
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel7729 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel7729 org1
[1;36m
Creating the <^^^^^^testchannel7729> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel7729
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel7729[m[m[m
example.com

Create channel org1 ^^^^^^testchannel7729
--2020-03-30 13:24:12--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 13:24:12--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 13:24:12--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 13:24:12--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 13:24:12.899 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 13:24:12.959 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 13:24:12.959 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 13:24:12.960 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 13:24:12.960 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 13:24:12.960 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 13:24:12.961 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 13:24:12.961 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 13:24:12.961 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 13:24:13.017 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 13:24:13.017 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 13:24:13.018 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 13:24:13.018 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 13:24:13.019 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 13:24:13.019 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 13:24:13.020 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 13:24:13.020 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 13:24:13.021 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 13:24:13.022 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 13:24:13.022 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 13:24:13.023 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 13:24:13.024 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 13:24:13.025 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 13:24:13.084 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel7729' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel7729.pb -o orderer.example.com:7050 -c ^^^^^^testchannel7729 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 13:24:13.160 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:24:13.162 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel7729.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel7729.json: No such file or directory
>> Prepare config update from org1 for channel ^^^^^^testchannel7729
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel7729 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 13:24:13.334 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel7729' != '^^^^^^testchannel7729'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel7729> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:24:15.705 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:24:15.706 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileb1YlQt _null_
Expect: ^^^^^^testchannel7729, got: null
[1;32mOK: The channel <^^^^^^testchannel7729> does not exist and in not visible to org1[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel7729 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel7729 org2
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel7729 org2 VERIFY: test-channel-does-not-exist.sh testchannel7729 org2
[1;36m
Creating the <testchannel7729> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel7729
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel7729[m[m[m
example.com

Create channel org1 testchannel7729
--2020-03-30 13:24:18--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 13:24:18--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 13:24:18--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 13:24:18--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 13:24:18.453 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 13:24:18.513 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 13:24:18.514 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 13:24:18.514 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 13:24:18.514 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 13:24:18.515 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 13:24:18.515 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 13:24:18.515 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 13:24:18.516 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 13:24:18.571 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 13:24:18.572 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 13:24:18.573 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 13:24:18.573 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 13:24:18.573 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 13:24:18.574 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 13:24:18.574 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 13:24:18.575 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 13:24:18.576 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 13:24:18.576 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 13:24:18.577 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 13:24:18.578 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 13:24:18.578 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 13:24:18.579 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 13:24:18.639 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel7729': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application be at version 0, but it is currently at version 1
Execute: channel fetch config crypto-config/configtx/testchannel7729.pb -o orderer.example.com:7050 -c testchannel7729 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 13:24:18.727 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:24:18.730 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 13:24:18.731 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 13:24:18.732 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org1 for channel testchannel7729
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel7729 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 13:24:19.018 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel7729': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application/org1 be at version 0, but it is currently at version 1
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel7729> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:24:21.291 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:24:21.294 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileFhJfys _null_
Expect: testchannel7729, got: null
[1;32mOK: The channel <testchannel7729> does not exist and in not visible to org2[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel7729-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel7729-02 org2
Step: 5_cli Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel7729-02 org2 VERIFY: test-channel-exists.sh testchannel7729-02 org2
[1;36m
Creating the <testchannel7729-02> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel7729-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel7729-02[m[m[m
example.com

Create channel org1 testchannel7729-02
--2020-03-30 13:24:23--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 13:24:23--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 13:24:23--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 13:24:23--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 13:24:24.027 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 13:24:24.083 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 13:24:24.084 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 13:24:24.084 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 13:24:24.085 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 13:24:24.085 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 13:24:24.085 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 13:24:24.086 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 13:24:24.086 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 13:24:24.144 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 13:24:24.145 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 13:24:24.145 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 13:24:24.145 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 13:24:24.146 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 13:24:24.146 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 13:24:24.146 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 13:24:24.147 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 13:24:24.148 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 13:24:24.149 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 13:24:24.149 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 13:24:24.152 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 13:24:24.153 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 13:24:24.153 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 13:24:24.213 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:24:24.233 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel7729-02.pb -o orderer.example.com:7050 -c testchannel7729-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 13:24:24.303 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:24:24.306 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 13:24:24.310 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 13:24:24.311 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel7729-02
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel7729-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 13:24:24.631 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:24:24.644 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel7729-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel7729-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:24:26.947 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:24:26.950 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 13:24:26.952 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 13:24:26.952 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel7729-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T13:24:24Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileAkGCdp _testchannel7729-02_
Expect: testchannel7729-02, got: testchannel7729-02
[1;32mOK: The channel <testchannel7729-02> exists and visible to org1[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel7729-02 org1
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel7729-02 org1
[1;34m
Verifing if the <testchannel7729-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:24:29.024 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:24:29.026 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 13:24:29.028 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 13:24:29.028 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel7729-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T13:24:24Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileC7BRLE _testchannel7729-02_
Expect: testchannel7729-02, got: testchannel7729-02
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 6_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel7729-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel7729-02 org1
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel7729-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel7729-02 org1
[1;36m
Creating the <testchannel7729-02> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel7729-02
[1;34m
Verifing if the <testchannel7729-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:24:46.353 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:24:46.355 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 13:24:46.356 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 13:24:46.356 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel7729-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T13:24:24Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filefogIiG _testchannel7729-02_
Expect: testchannel7729-02, got: testchannel7729-02
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel7729-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:25:07.976 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:25:07.978 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 13:25:07.980 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 13:25:07.980 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel7729-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T13:24:24Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileDER3Wn _testchannel7729-02_
Expect: testchannel7729-02, got: testchannel7729-02
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel7729-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:28:36.290 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:28:36.292 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 13:28:36.294 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 13:28:36.294 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel7729-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T13:24:24Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileXr2gQ6 _testchannel7729-02_
Expect: testchannel7729-02, got: testchannel7729-02
[ testchannel7729-02 = testchannel7729-02 ]
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel7729-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:29:03.267 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:29:03.269 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 13:29:03.271 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 13:29:03.271 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel7729-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T13:24:24Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/file1sYZYg _testchannel7729-02_
Expect: testchannel7729-02, got: testchannel7729-02
eval[ testchannel7729-02 = testchannel7729-02 ]
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel7729-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:29:22.055 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:29:22.057 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 13:29:22.058 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 13:29:22.058 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel7729-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T13:24:24Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filejJKfq3 _testchannel7729-02_
Expect: testchannel7729-02, got: testchannel7729-02
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel7729-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:31:07.370 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:31:07.373 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 13:31:07.375 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 13:31:07.375 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel7729-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T13:24:24Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filePvhTE4 _testchannel7729-02_
Expect: testchannel7729-02, got: testchannel7729-02
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
queryContainerNetworkSettings returns:
[1;34m
Verifing if the <testchannel7729-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:32:54.151 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:32:54.154 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 13:32:54.155 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 13:32:54.155 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel7729-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T13:24:24Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filetigAeR _testchannel7729-02_
Expect: testchannel7729-02, got: testchannel7729-02
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel7729-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:33:27.416 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:33:27.419 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 13:33:27.421 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 13:33:27.421 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel7729-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T13:24:24Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/file86WgVu _testchannel7729-02_
Expect: testchannel7729-02, got: testchannel7729-02
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel7729-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:33:56.338 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:33:56.340 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 13:33:56.341 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 13:33:56.341 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel7729-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T13:24:24Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileaehwCI _testchannel7729-02_
Expect: testchannel7729-02, got: testchannel7729-02
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel7729-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:34:14.345 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:34:14.347 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 13:34:14.348 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 13:34:14.349 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel7729-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T13:24:24Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/file2zV9hy _testchannel7729-02_
Expect: testchannel7729-02, got: testchannel7729-02
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel7729-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:34:25.371 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:34:25.374 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 13:34:25.375 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 13:34:25.375 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel7729-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T13:24:24Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileuZsbn5 _testchannel7729-02_
Expect: testchannel7729-02, got: testchannel7729-02
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel7729-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:34:47.257 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:34:47.259 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 13:34:47.261 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 13:34:47.261 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel7729-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T13:24:24Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileLMpB7Y _testchannel7729-02_
Expect: testchannel7729-02, got: testchannel7729-02
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel7729-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:35:00.596 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:35:00.599 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 13:35:00.600 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 13:35:00.600 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel7729-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T13:24:24Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileKNSAiY _testchannel7729-02_
Expect: testchannel7729-02, got: testchannel7729-02
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel7729-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 13:47:46.636 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 13:47:46.638 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 13:47:46.639 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 13:47:46.639 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel7729-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T13:24:24Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileOByf4U _testchannel7729-02_
Expect: testchannel7729-02, got: testchannel7729-02
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel7729-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 14:00:49.863 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:00:49.865 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 14:00:49.868 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 14:00:49.868 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel7729-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T13:24:24Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filen4LM4W _testchannel7729-02_
Expect: testchannel7729-02, got: testchannel7729-02
[1;32mOK: The channel <testchannel7729-02> does not exist and in not visible to org1[m[m[m
[1;34m
Verifing if the <testchannel7729-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 14:29:05.371 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:29:05.373 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 14:29:05.375 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 14:29:05.375 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel7729-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T13:24:24Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filebkRLuM _testchannel7729-02_
Expect: testchannel7729-02, got: testchannel7729-02
[1;32mOK: The channel <testchannel7729-02> does not exist and in not visible to org1[m[m[m
[1;34m
Verifing if the <testchannel7729-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 14:29:31.345 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:29:31.348 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 14:29:31.349 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 14:29:31.349 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel7729-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T13:24:24Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/file6X5gIT _testchannel7729-02_
Expect: testchannel7729-02, got: testchannel7729-02
[1;32mOK: The channel <testchannel7729-02> does not exist and in not visible to org1[m[m[m
[1;34m
Verifing if the <testchannel7729-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 14:29:53.430 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:29:53.433 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 14:29:53.435 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 14:29:53.436 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel7729-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T13:24:24Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileDG54E0 _testchannel7729-02_
Expect: testchannel7729-02, got: testchannel7729-02
[1;32mOK: The channel <testchannel7729-02> does not exist and in not visible to org1[m[m[m
[1;34m
Verifing if the <testchannel7729-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 14:31:19.038 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:31:19.041 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 14:31:19.042 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 14:31:19.042 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel7729-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T13:24:24Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileqcKtlC _testchannel7729-02_
Expect: testchannel7729-02, got: testchannel7729-02
[1;32mOK: The channel <testchannel7729-02> does not exist and in not visible to org1[m[m[m
[1;34m
Verifing if the <testchannel7729-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 14:31:56.392 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:31:56.395 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 14:31:56.397 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 14:31:56.397 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel7729-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T13:24:24Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileZpM94y _testchannel7729-02_
Expect: testchannel7729-02, got: testchannel7729-02
[1;32mOK: The channel <testchannel7729-02> does not exist and in not visible to org1[m[m[m
[1;34m
Verifing if the <testchannel7729-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 14:32:25.439 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:32:25.441 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 14:32:25.443 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 14:32:25.443 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel7729-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T13:24:24Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filejI41CV _testchannel7729-02_
Expect: testchannel7729-02, got: testchannel7729-02
[1;32mOK: The channel <testchannel7729-02> does not exist and in not visible to org1[m[m[m
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel18608 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel18608 org1
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel18608 org1 VERIFY: test-channel-exists.sh testchannel18608 org1
[1;36m
Creating the <testchannel18608> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel18608
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel18608[m[m[m
example.com

Create channel org1 testchannel18608
--2020-03-30 14:34:04--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 14:34:04--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 14:34:04--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 14:34:04--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 14:34:04.915 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 14:34:04.974 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 14:34:04.975 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 14:34:04.975 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 14:34:04.976 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 14:34:04.976 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 14:34:04.977 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 14:34:04.977 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 14:34:04.977 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 14:34:05.033 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 14:34:05.034 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 14:34:05.034 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 14:34:05.035 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 14:34:05.035 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 14:34:05.035 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 14:34:05.036 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 14:34:05.037 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 14:34:05.038 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 14:34:05.038 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 14:34:05.039 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 14:34:05.039 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 14:34:05.040 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 14:34:05.043 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 14:34:05.109 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:34:05.129 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel18608.pb -o orderer.example.com:7050 -c testchannel18608 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 14:34:05.204 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:34:05.206 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 14:34:05.208 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 14:34:05.209 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel18608
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel18608 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 14:34:05.524 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:34:05.537 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel18608> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel18608> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 14:34:07.808 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:34:07.812 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 14:34:07.813 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 14:34:07.813 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel18608",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T14:34:05Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileCfRjy3 _testchannel18608_
Expect: testchannel18608, got: testchannel18608
[1;32mOK: The channel <testchannel18608> exists and visible to org1[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel18608 org2
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel18608 org2
[1;34m
Verifing if the <testchannel18608> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 14:34:09.911 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:34:09.914 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileBKzMZf _null_
Expect: testchannel18608, got: null
[1;32mOK: The channel <testchannel18608> does not exist and in not visible to org2[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel18608 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel18608 org1
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel18608 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel18608 org1
[1;36m
Creating the <^^^^^^testchannel18608> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel18608
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel18608[m[m[m
example.com

Create channel org1 ^^^^^^testchannel18608
--2020-03-30 14:34:12--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 14:34:12--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 14:34:12--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 14:34:12--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 14:34:12.762 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 14:34:12.818 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 14:34:12.819 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 14:34:12.819 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 14:34:12.820 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 14:34:12.820 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 14:34:12.821 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 14:34:12.821 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 14:34:12.821 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 14:34:12.877 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 14:34:12.878 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 14:34:12.878 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 14:34:12.878 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 14:34:12.879 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 14:34:12.879 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 14:34:12.880 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 14:34:12.880 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 14:34:12.881 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 14:34:12.882 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 14:34:12.882 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 14:34:12.883 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 14:34:12.884 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 14:34:12.885 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 14:34:12.947 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel18608' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel18608.pb -o orderer.example.com:7050 -c ^^^^^^testchannel18608 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 14:34:13.029 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:34:13.031 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel18608.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel18608.json: No such file or directory
>> Prepare config update from org1 for channel ^^^^^^testchannel18608
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel18608 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 14:34:13.203 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel18608' != '^^^^^^testchannel18608'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;32mOK: Channel <^^^^^^testchannel18608> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel18608> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 14:34:15.588 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:34:15.589 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/filexL3ps8 _null_
Expect: ^^^^^^testchannel18608, got: null
[1;32mOK: The channel <^^^^^^testchannel18608> does not exist and in not visible to org1[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel18608 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel18608 org2
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel18608 org2 VERIFY: test-channel-does-not-exist.sh testchannel18608 org2
[1;36m
Creating the <testchannel18608> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel18608
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel18608[m[m[m
example.com

Create channel org1 testchannel18608
--2020-03-30 14:34:18--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 14:34:18--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 14:34:18--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 14:34:18--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 14:34:18.423 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 14:34:18.480 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 14:34:18.481 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 14:34:18.482 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 14:34:18.482 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 14:34:18.482 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 14:34:18.483 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 14:34:18.483 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 14:34:18.483 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 14:34:18.539 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 14:34:18.540 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 14:34:18.540 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 14:34:18.540 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 14:34:18.541 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 14:34:18.541 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 14:34:18.542 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 14:34:18.542 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 14:34:18.543 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 14:34:18.544 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 14:34:18.544 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 14:34:18.545 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 14:34:18.546 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 14:34:18.546 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 14:34:18.608 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel18608': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application/org1 be at version 0, but it is currently at version 1
Execute: channel fetch config crypto-config/configtx/testchannel18608.pb -o orderer.example.com:7050 -c testchannel18608 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 14:34:18.694 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:34:18.697 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 14:34:18.698 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 14:34:18.699 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org1 for channel testchannel18608
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel18608 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 14:34:18.957 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel18608': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application/org1 be at version 0, but it is currently at version 1
[1;31mError occurred. See console output above.[m[1;33m[m
[1;32mOK: Channel <testchannel18608> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel18608> channel exists in org2.example.com...[m[m[m
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel16816 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel16816 org1
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel16816 org1 VERIFY: test-channel-exists.sh testchannel16816 org1
[1;36m
Creating the <testchannel16816> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel16816
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel16816[m[m[m
example.com

Create channel org1 testchannel16816
--2020-03-30 14:35:38--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 14:35:38--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 14:35:38--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 14:35:38--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 14:35:38.804 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 14:35:38.860 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 14:35:38.860 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 14:35:38.861 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 14:35:38.861 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 14:35:38.862 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 14:35:38.862 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 14:35:38.862 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 14:35:38.863 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 14:35:38.917 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 14:35:38.918 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 14:35:38.918 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 14:35:38.919 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 14:35:38.919 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 14:35:38.919 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 14:35:38.920 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 14:35:38.920 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 14:35:38.922 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 14:35:38.922 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 14:35:38.923 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 14:35:38.923 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 14:35:38.924 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 14:35:38.927 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 14:35:38.984 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:35:39.005 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel16816.pb -o orderer.example.com:7050 -c testchannel16816 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 14:35:39.080 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:35:39.083 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 14:35:39.084 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 14:35:39.085 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel16816
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel16816 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 14:35:39.380 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:35:39.400 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel16816> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel16816> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 14:35:41.694 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:35:41.697 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 14:35:41.698 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 14:35:41.698 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel16816",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T14:35:39Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileJ0fsof _testchannel16816_
Expect: testchannel16816, got: testchannel16816
[1;32mOK: The channel <testchannel16816> exists and visible to org1[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel16816 org2
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel16816 org2
[1;34m
Verifing if the <testchannel16816> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 14:35:43.751 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:35:43.754 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file43Rm8l _null_
Expect: testchannel16816, got: null
[1;32mOK: The channel <testchannel16816> does not exist and in not visible to org2[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel16816 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel16816 org1
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel16816 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel16816 org1
[1;36m
Creating the <^^^^^^testchannel16816> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel16816
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel16816[m[m[m
example.com

Create channel org1 ^^^^^^testchannel16816
--2020-03-30 14:35:46--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 14:35:46--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 14:35:46--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 14:35:46--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 14:35:46.883 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 14:35:46.938 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 14:35:46.939 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 14:35:46.939 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 14:35:46.940 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 14:35:46.940 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 14:35:46.941 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 14:35:46.941 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 14:35:46.941 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 14:35:46.997 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 14:35:46.997 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 14:35:46.998 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 14:35:46.998 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 14:35:46.998 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 14:35:46.999 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 14:35:46.999 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 14:35:47.000 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 14:35:47.001 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 14:35:47.001 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 14:35:47.002 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 14:35:47.002 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 14:35:47.003 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 14:35:47.004 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 14:35:47.062 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel16816' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel16816.pb -o orderer.example.com:7050 -c ^^^^^^testchannel16816 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 14:35:47.138 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:35:47.140 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel16816.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel16816.json: No such file or directory
>> Prepare config update from org1 for channel ^^^^^^testchannel16816
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel16816 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 14:35:47.311 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel16816' != '^^^^^^testchannel16816'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel16816> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 14:35:49.567 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:35:49.569 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/filewZNDVn _null_
Expect: ^^^^^^testchannel16816, got: null
[1;32mOK: The channel <^^^^^^testchannel16816> does not exist and in not visible to org1[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel16816 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel16816 org2
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel16816 org2 VERIFY: test-channel-does-not-exist.sh testchannel16816 org2
[1;36m
Creating the <testchannel16816> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel16816
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel16816[m[m[m
example.com

Create channel org1 testchannel16816
--2020-03-30 14:35:52--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 14:35:52--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 14:35:52--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 14:35:52--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 14:35:52.363 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 14:35:52.438 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 14:35:52.438 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 14:35:52.439 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 14:35:52.439 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 14:35:52.439 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 14:35:52.440 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 14:35:52.440 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 14:35:52.440 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 14:35:52.501 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 14:35:52.502 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 14:35:52.502 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 14:35:52.503 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 14:35:52.503 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 14:35:52.503 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 14:35:52.504 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 14:35:52.504 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 14:35:52.506 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 14:35:52.506 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 14:35:52.506 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 14:35:52.507 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 14:35:52.508 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 14:35:52.509 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 14:35:52.566 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel16816': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application be at version 0, but it is currently at version 1
Execute: channel fetch config crypto-config/configtx/testchannel16816.pb -o orderer.example.com:7050 -c testchannel16816 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 14:35:52.640 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:35:52.642 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 14:35:52.644 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 14:35:52.645 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org1 for channel testchannel16816
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel16816 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 14:35:52.903 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel16816': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application/org1 be at version 0, but it is currently at version 1
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel16816> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 14:35:55.300 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:35:55.302 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file8O8lbm _null_
Expect: testchannel16816, got: null
[1;32mOK: The channel <testchannel16816> does not exist and in not visible to org2[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel16816-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel16816-02 org2
Step: 5_cli Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel16816-02 org2 VERIFY: test-channel-exists.sh testchannel16816-02 org2
[1;36m
Creating the <testchannel16816-02> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel16816-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel16816-02[m[m[m
example.com

Create channel org1 testchannel16816-02
--2020-03-30 14:35:58--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 14:35:58--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 14:35:58--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 14:35:58--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 14:35:58.210 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 14:35:58.268 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 14:35:58.269 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 14:35:58.269 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 14:35:58.270 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 14:35:58.270 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 14:35:58.270 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 14:35:58.271 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 14:35:58.271 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 14:35:58.326 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 14:35:58.327 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 14:35:58.327 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 14:35:58.328 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 14:35:58.328 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 14:35:58.328 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 14:35:58.329 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 14:35:58.330 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 14:35:58.331 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 14:35:58.331 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 14:35:58.332 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 14:35:58.332 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 14:35:58.333 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 14:35:58.334 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 14:35:58.394 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:35:58.419 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel16816-02.pb -o orderer.example.com:7050 -c testchannel16816-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 14:35:58.496 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:35:58.498 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 14:35:58.500 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 14:35:58.501 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel16816-02
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel16816-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 14:35:58.809 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:35:58.827 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel16816-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel16816-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 14:36:01.059 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:36:01.062 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 14:36:01.063 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 14:36:01.063 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel16816-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T14:35:58Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileUdT5pw _testchannel16816-02_
Expect: testchannel16816-02, got: testchannel16816-02
[1;32mOK: The channel <testchannel16816-02> exists and visible to org1[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel16816-02 org1
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel16816-02 org1
[1;34m
Verifing if the <testchannel16816-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 14:36:03.254 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:36:03.256 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 14:36:03.257 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 14:36:03.258 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel16816-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T14:35:58Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileYyi9sG _testchannel16816-02_
Expect: testchannel16816-02, got: testchannel16816-02
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 6_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel16816-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel16816-02 org1
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel16816-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel16816-02 org1
[1;36m
Creating the <testchannel16816-02> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel16816-02
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel7311 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel7311 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel7311 org1 VERIFY: test-channel-exists.sh testchannel7311 org1
[1;36mCreating testchannel7311 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU3OTEyOX0.b0MYbctRCs8osNN0U972Emg3x4L6ZJ-61AZruiMhV0w"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU3OTEyOX0.b0MYbctRCs8osNN0U972Emg3x4L6ZJ-61AZruiMhV0w", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU3OTEyOX0.b0MYbctRCs8osNN0U972Emg3x4L6ZJ-61AZruiMhV0w
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels {"channelId":"testchannel7311","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU3OTEyOX0.b0MYbctRCs8osNN0U972Emg3x4L6ZJ-61AZruiMhV0w
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel7311> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel7311> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 14:38:55.136 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:38:55.138 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 14:38:55.139 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 14:38:55.139 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel7311",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T14:38:52Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileqcvBbx _testchannel7311_
Expect: testchannel7311, got: testchannel7311
[1;32mOK: The channel <testchannel7311> exists and visible to org1[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel7311 org2
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel7311 org2
[1;34m
Verifing if the <testchannel7311> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 14:38:57.229 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:38:57.231 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileQ3LRmD _null_
Expect: testchannel7311, got: null
[1;32mOK: The channel <testchannel7311> does not exist and in not visible to org2[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel7311 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel7311 org1
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel7311 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel7311 org1
[1;36mCreating ^^^^^^testchannel7311 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU3OTEzOX0.qDkU0gAofQl3jdV1sL6dtflPMtWflTm6OpE4ElLdA5s"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU3OTEzOX0.qDkU0gAofQl3jdV1sL6dtflPMtWflTm6OpE4ElLdA5s", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU3OTEzOX0.qDkU0gAofQl3jdV1sL6dtflPMtWflTm6OpE4ElLdA5s
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels {"channelId":"^^^^^^testchannel7311","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU3OTEzOX0.qDkU0gAofQl3jdV1sL6dtflPMtWflTm6OpE4ElLdA5s
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel7311\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel7311\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel7311\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel7311> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 14:39:04.733 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:39:04.735 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileU5tkvx _null_
Expect: ^^^^^^testchannel7311, got: null
[1;32mOK: The channel <^^^^^^testchannel7311> does not exist and in not visible to org1[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel7311 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel7311 org2
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel7311 org2 VERIFY: test-channel-does-not-exist.sh testchannel7311 org2
[1;36mCreating testchannel7311 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU3OTE0N30.ZWFO_PitY1aUYb66ABPGSAwwevuhpmyFJ2J_QtuNd7o"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU3OTE0N30.ZWFO_PitY1aUYb66ABPGSAwwevuhpmyFJ2J_QtuNd7o", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU3OTE0N30.ZWFO_PitY1aUYb66ABPGSAwwevuhpmyFJ2J_QtuNd7o
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels {"channelId":"testchannel7311","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU3OTE0N30.ZWFO_PitY1aUYb66ABPGSAwwevuhpmyFJ2J_QtuNd7o
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
[{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200
[1;32mOK: Channel <testchannel7311> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel7311> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 14:39:12.533 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:39:12.536 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filePRdWjC _null_
Expect: testchannel7311, got: null
[1;32mOK: The channel <testchannel7311> does not exist and in not visible to org2[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel7311-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel7311-02 org2
Step: 5_api Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel7311-02 org2 VERIFY: test-channel-exists.sh testchannel7311-02 org2
[1;36mCreating testchannel7311-02 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU3OTE1NH0.nOIowgTisOtC54gTLyOC05RKtqExDzWshdih563huic"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU3OTE1NH0.nOIowgTisOtC54gTLyOC05RKtqExDzWshdih563huic", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU3OTE1NH0.nOIowgTisOtC54gTLyOC05RKtqExDzWshdih563huic
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels {"channelId":"testchannel7311-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU3OTE1NH0.nOIowgTisOtC54gTLyOC05RKtqExDzWshdih563huic
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel7311-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel7311-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 14:39:20.266 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:39:20.268 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 14:39:20.270 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 14:39:20.270 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel7311-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T14:39:17Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filezD1XWE _testchannel7311-02_
Expect: testchannel7311-02, got: testchannel7311-02
[1;32mOK: The channel <testchannel7311-02> exists and visible to org1[m[m[m
Step 5_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel7311-02 org1
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel7311-02 org1
[1;34m
Verifing if the <testchannel7311-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 14:39:22.321 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:39:22.323 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 14:39:22.324 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 14:39:22.325 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel7311-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T14:39:17Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filehhFo2P _testchannel7311-02_
Expect: testchannel7311-02, got: testchannel7311-02
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 6_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel7311-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel7311-02 org1
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel7311-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel7311-02 org1
[1;36mCreating testchannel7311-02 channel in org1.example.com using API...[m[m[m
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel15458 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel15458 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel15458 org1 VERIFY: test-channel-exists.sh testchannel15458 org1
[1;36mCreating testchannel15458 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU3OTc1M30.F-VVJS5rRTUYZAxqo06O6pq8WTH9C8gDSXcwwMux7-s"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU3OTc1M30.F-VVJS5rRTUYZAxqo06O6pq8WTH9C8gDSXcwwMux7-s", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU3OTc1M30.F-VVJS5rRTUYZAxqo06O6pq8WTH9C8gDSXcwwMux7-s
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels {"channelId":"testchannel15458","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU3OTc1M30.F-VVJS5rRTUYZAxqo06O6pq8WTH9C8gDSXcwwMux7-s
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel15458> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel15458> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 14:49:19.141 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:49:19.143 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 14:49:19.145 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 14:49:19.145 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel15458",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T14:49:16Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileoRpGW1 _testchannel15458_
Expect: testchannel15458, got: testchannel15458
[1;32mOK: The channel <testchannel15458> exists and visible to org1[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel15458 org2
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel15458 org2
[1;34m
Verifing if the <testchannel15458> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 14:49:21.541 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:49:21.545 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filecxWWTo _null_
Expect: testchannel15458, got: null
[1;32mOK: The channel <testchannel15458> does not exist and in not visible to org2[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel15458 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel15458 org1
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel15458 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel15458 org1
[1;36mCreating ^^^^^^testchannel15458 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU3OTc2NH0.ouBhqxwMT-B1cnvNZefoAWPkLZnuBSOG6fkQPgPfh8o"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU3OTc2NH0.ouBhqxwMT-B1cnvNZefoAWPkLZnuBSOG6fkQPgPfh8o", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU3OTc2NH0.ouBhqxwMT-B1cnvNZefoAWPkLZnuBSOG6fkQPgPfh8o
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels {"channelId":"^^^^^^testchannel15458","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU3OTc2NH0.ouBhqxwMT-B1cnvNZefoAWPkLZnuBSOG6fkQPgPfh8o
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel15458\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel15458\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel15458\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel15458> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 14:49:29.281 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:49:29.283 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/filezVqFZv _null_
Expect: ^^^^^^testchannel15458, got: null
[1;32mOK: The channel <^^^^^^testchannel15458> does not exist and in not visible to org1[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel15458 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel15458 org2
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel15458 org2 VERIFY: test-channel-does-not-exist.sh testchannel15458 org2
[1;36mCreating testchannel15458 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU3OTc3MX0.a_StWXb0u2O-dH9DFVH8eipysOVKrwTp05uKqbA7y-w"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU3OTc3MX0.a_StWXb0u2O-dH9DFVH8eipysOVKrwTp05uKqbA7y-w", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU3OTc3MX0.a_StWXb0u2O-dH9DFVH8eipysOVKrwTp05uKqbA7y-w
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels {"channelId":"testchannel15458","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU3OTc3MX0.a_StWXb0u2O-dH9DFVH8eipysOVKrwTp05uKqbA7y-w
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
[{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200
[1;32mOK: Channel <testchannel15458> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel15458> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 14:49:37.281 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:49:37.284 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileBJAOYQ _null_
Expect: testchannel15458, got: null
[1;32mOK: The channel <testchannel15458> does not exist and in not visible to org2[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel15458-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel15458-02 org2
Step: 5_api Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel15458-02 org2 VERIFY: test-channel-exists.sh testchannel15458-02 org2
[1;36mCreating testchannel15458-02 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU3OTc3OX0.7tp4jrqTHlAo4QeGblAAiw00F_aloUX21PH3sDQNLrE"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU3OTc3OX0.7tp4jrqTHlAo4QeGblAAiw00F_aloUX21PH3sDQNLrE", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU3OTc3OX0.7tp4jrqTHlAo4QeGblAAiw00F_aloUX21PH3sDQNLrE
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels {"channelId":"testchannel15458-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU3OTc3OX0.7tp4jrqTHlAo4QeGblAAiw00F_aloUX21PH3sDQNLrE
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel15458-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel15458-02> channel exists in org1.example.com...[m[m[m
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel18602 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel18602 org1
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel18602 org1 VERIFY: test-channel-exists.sh testchannel18602 org1
[1;36m
Creating the <testchannel18602> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel18602
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel18602[m[m[m
example.com

Create channel org1 testchannel18602
--2020-03-30 14:56:39--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 14:56:39--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 14:56:39--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 14:56:39--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 14:56:39.582 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 14:56:39.641 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 14:56:39.641 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 14:56:39.642 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 14:56:39.642 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 14:56:39.642 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 14:56:39.643 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 14:56:39.643 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 14:56:39.643 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 14:56:39.699 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 14:56:39.699 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 14:56:39.700 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 14:56:39.700 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 14:56:39.700 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 14:56:39.701 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 14:56:39.701 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 14:56:39.702 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 14:56:39.703 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 14:56:39.704 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 14:56:39.705 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 14:56:39.706 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 14:56:39.707 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 14:56:39.708 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 14:56:39.805 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:56:39.832 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel18602.pb -o orderer.example.com:7050 -c testchannel18602 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 14:56:39.907 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:56:39.909 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 14:56:39.911 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 14:56:39.911 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel18602
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel18602 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 14:56:40.222 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:56:40.236 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel18602> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel18602> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 14:56:42.619 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:56:42.621 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 14:56:42.623 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 14:56:42.623 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel18602",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T14:56:40Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileP5nvqF _testchannel18602_
Expect: testchannel18602, got: testchannel18602
[1;32mOK: The channel <testchannel18602> exists and visible to org1[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel18602 org2
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel18602 org2
[1;34m
Verifing if the <testchannel18602> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 14:56:44.676 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:56:44.679 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file2l0QfO _null_
Expect: testchannel18602, got: null
[1;32mOK: The channel <testchannel18602> does not exist and in not visible to org2[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel18602 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel18602 org1
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel18602 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel18602 org1
[1;36m
Creating the <^^^^^^testchannel18602> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel18602
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel18602[m[m[m
example.com

Create channel org1 ^^^^^^testchannel18602
--2020-03-30 14:56:47--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 14:56:47--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 14:56:47--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 14:56:47--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 14:56:47.479 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 14:56:47.536 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 14:56:47.537 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 14:56:47.537 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 14:56:47.538 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 14:56:47.538 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 14:56:47.538 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 14:56:47.538 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 14:56:47.539 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 14:56:47.595 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 14:56:47.596 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 14:56:47.596 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 14:56:47.597 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 14:56:47.597 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 14:56:47.597 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 14:56:47.598 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 14:56:47.599 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 14:56:47.599 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 14:56:47.600 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 14:56:47.601 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 14:56:47.601 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 14:56:47.602 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 14:56:47.603 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 14:56:47.670 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel18602' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel18602.pb -o orderer.example.com:7050 -c ^^^^^^testchannel18602 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 14:56:47.750 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:56:47.751 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel18602.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel18602.json: No such file or directory
>> Prepare config update from org1 for channel ^^^^^^testchannel18602
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel18602 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 14:56:47.923 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel18602' != '^^^^^^testchannel18602'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel18602> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 14:56:50.290 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:56:50.291 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileEjs3UF _null_
Expect: ^^^^^^testchannel18602, got: null
[1;32mOK: The channel <^^^^^^testchannel18602> does not exist and in not visible to org1[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel18602 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel18602 org2
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel18602 org2 VERIFY: test-channel-does-not-exist.sh testchannel18602 org2
[1;36m
Creating the <testchannel18602> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel18602
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel18602[m[m[m
example.com

Create channel org2 testchannel18602
--2020-03-30 14:56:53--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 14:56:53--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 14:56:53--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 14:56:53--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 14:56:53.115 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 14:56:53.176 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 14:56:53.177 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 14:56:53.177 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 14:56:53.178 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 14:56:53.178 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 14:56:53.179 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 14:56:53.179 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 14:56:53.179 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 14:56:53.235 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 14:56:53.236 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 14:56:53.236 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 14:56:53.237 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 14:56:53.237 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 14:56:53.237 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 14:56:53.238 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 14:56:53.238 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 14:56:53.240 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 14:56:53.240 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 14:56:53.240 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 14:56:53.241 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 14:56:53.242 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 14:56:53.246 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 14:56:53.304 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel18602.pb -o orderer.example.com:7050 -c testchannel18602 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 14:56:53.382 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:56:53.385 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel18602.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel18602.json: No such file or directory
>> Prepare config update from org2 for channel testchannel18602
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel18602 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 14:56:53.585 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel18602> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 14:56:56.013 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:56:56.015 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filejjFDLI _null_
Expect: testchannel18602, got: null
[1;32mOK: The channel <testchannel18602> does not exist and in not visible to org2[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel18602-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel18602-02 org2
Step: 5_cli Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel18602-02 org2 VERIFY: test-channel-exists.sh testchannel18602-02 org2
[1;36m
Creating the <testchannel18602-02> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel18602-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel18602-02[m[m[m
example.com

Create channel org2 testchannel18602-02
--2020-03-30 14:56:58--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 14:56:58--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 14:56:58--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 14:56:58--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 14:56:58.875 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 14:56:58.948 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 14:56:58.949 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 14:56:58.949 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 14:56:58.949 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 14:56:58.950 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 14:56:58.950 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 14:56:58.950 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 14:56:58.951 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 14:56:59.008 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 14:56:59.008 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 14:56:59.009 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 14:56:59.009 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 14:56:59.009 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 14:56:59.010 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 14:56:59.010 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 14:56:59.011 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 14:56:59.013 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 14:56:59.013 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 14:56:59.014 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 14:56:59.015 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 14:56:59.015 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 14:56:59.016 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 14:56:59.075 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:56:59.096 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel18602-02.pb -o orderer.example.com:7050 -c testchannel18602-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 14:56:59.167 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:56:59.170 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 14:56:59.172 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 14:56:59.173 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org2 for channel testchannel18602-02
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel18602-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 14:56:59.500 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:56:59.521 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel18602-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel18602-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 14:57:01.761 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 14:57:01.763 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filecLAxvJ _null_
Expect: testchannel18602-02, got: null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 5_cli: exit code 1
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel18602-02 org1
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel18602-02 org1
[1;34m
Verifing if the <testchannel18602-02> channel exists in org1.example.com...[m[m[m
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel8414 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel8414 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel8414 org1 VERIFY: test-channel-exists.sh testchannel8414 org1
[1;36mCreating testchannel8414 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU4MDY4M30.JinlW26GjXmU9wg_YQXBO698u-2QJ0l4bjeFaWHp9zw"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU4MDY4M30.JinlW26GjXmU9wg_YQXBO698u-2QJ0l4bjeFaWHp9zw", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU4MDY4M30.JinlW26GjXmU9wg_YQXBO698u-2QJ0l4bjeFaWHp9zw
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels {"channelId":"testchannel8414","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU4MDY4M30.JinlW26GjXmU9wg_YQXBO698u-2QJ0l4bjeFaWHp9zw
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel8414> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel8414> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 15:04:48.634 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 15:04:48.636 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 15:04:48.638 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 15:04:48.638 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel8414",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T15:04:46Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileP3quvP _testchannel8414_
Expect: testchannel8414, got: testchannel8414
[1;32mOK: The channel <testchannel8414> exists and visible to org2[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel8414 org2
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel8414 org2
[1;34m
Verifing if the <testchannel8414> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 15:04:50.829 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 15:04:50.831 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 15:04:50.833 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 15:04:50.833 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel8414",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T15:04:46Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filedxt7U9 _testchannel8414_
Expect: testchannel8414, got: testchannel8414
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 2_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel8414 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel8414 org1
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel8414 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel8414 org1
[1;36mCreating ^^^^^^testchannel8414 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU4MDY5M30.S0vZZP8nKDTfcp9ijwnLjrbR2zXdkrE0L5CcuyRWVQk"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU4MDY5M30.S0vZZP8nKDTfcp9ijwnLjrbR2zXdkrE0L5CcuyRWVQk", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU4MDY5M30.S0vZZP8nKDTfcp9ijwnLjrbR2zXdkrE0L5CcuyRWVQk
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels {"channelId":"^^^^^^testchannel8414","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU4MDY5M30.S0vZZP8nKDTfcp9ijwnLjrbR2zXdkrE0L5CcuyRWVQk
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel8414\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel8414\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel8414\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel8414> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 15:04:58.601 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 15:04:58.603 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/filev5enDc _null_
Expect: ^^^^^^testchannel8414, got: null
[1;32mOK: The channel <^^^^^^testchannel8414> does not exist and in not visible to org1[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel8414 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel8414 org2
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel8414 org2 VERIFY: test-channel-does-not-exist.sh testchannel8414 org2
[1;36mCreating testchannel8414 channel in org2.example.com using API...[m[m[m
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel23741 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel23741 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel23741 org1 VERIFY: test-channel-exists.sh testchannel23741 org1
[1;36mCreating testchannel23741 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel9337 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel9337 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel9337 org1 VERIFY: test-channel-exists.sh testchannel9337 org1
[1;36mCreating testchannel9337 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU4MjY1Mn0.huy_FTDp4sGLihTMwuxZpp42ua3iEVlOL4ao2DM9b48"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU4MjY1Mn0.huy_FTDp4sGLihTMwuxZpp42ua3iEVlOL4ao2DM9b48", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU4MjY1Mn0.huy_FTDp4sGLihTMwuxZpp42ua3iEVlOL4ao2DM9b48
[1;32mOK: JWT token obtained.[m[m[m
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel5018 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel5018 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel5018 org1 VERIFY: test-channel-exists.sh testchannel5018 org1
[1;36mCreating testchannel5018 channel in org2.example.com using API...[m[m[m
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel31241 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel31241 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel31241 org1 VERIFY: test-channel-exists.sh testchannel31241 org1
[1;36mCreating testchannel31241 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU4MjgwMX0.DfA_Y0-25T9JFzLXLtiptgLwx2YtGYGH9nzRvnztAAQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU4MjgwMX0.DfA_Y0-25T9JFzLXLtiptgLwx2YtGYGH9nzRvnztAAQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU4MjgwMX0.DfA_Y0-25T9JFzLXLtiptgLwx2YtGYGH9nzRvnztAAQ
[1;32mOK: JWT token obtained.[m[m[m
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel12815 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel12815 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel12815 org1 VERIFY: test-channel-exists.sh testchannel12815 org1
[1;36mCreating testchannel12815 channel in org2.example.com using API...[m[m[m
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel27832 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel27832 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel27832 org1 VERIFY: test-channel-exists.sh testchannel27832 org1
[1;36mCreating testchannel27832 channel in testchannel27832.example.com using API...[m[m[m
curlItGet http://:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel27832> channel exists in org2.example.com...[m[m[m
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel18593 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel18593 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel18593 org1 VERIFY: test-channel-exists.sh testchannel18593 org1
[1;36mCreating testchannel18593 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU4MzIwMn0.DR8RVKtESuCPxa8GkiCiGefsXoHt5dztFcDr2LPuwLs"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU4MzIwMn0.DR8RVKtESuCPxa8GkiCiGefsXoHt5dztFcDr2LPuwLs", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU4MzIwMn0.DR8RVKtESuCPxa8GkiCiGefsXoHt5dztFcDr2LPuwLs
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels {"channelId":"testchannel18593","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU4MzIwMn0.DR8RVKtESuCPxa8GkiCiGefsXoHt5dztFcDr2LPuwLs
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel18593> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel18593> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 15:46:47.450 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 15:46:47.453 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileaDoxYA _null_
Expect: testchannel18593, got: null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 1_api: exit code 1
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel18593 org2
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel18593 org2
[1;34m
Verifing if the <testchannel18593> channel exists in org2.example.com...[m[m[m
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel26928 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel26928 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel26928 org1 VERIFY: test-channel-exists.sh testchannel26928 org1
[1;36mCreating testchannel26928 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU4MzI3M30.xkb79tBkDw0HZAvl3hpNk2JiqAFrbfts8s_U3IP5TbI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU4MzI3M30.xkb79tBkDw0HZAvl3hpNk2JiqAFrbfts8s_U3IP5TbI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU4MzI3M30.xkb79tBkDw0HZAvl3hpNk2JiqAFrbfts8s_U3IP5TbI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels {"channelId":"testchannel26928","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU4MzI3M30.xkb79tBkDw0HZAvl3hpNk2JiqAFrbfts8s_U3IP5TbI
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel26928> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel26928> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 15:47:59.077 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 15:47:59.080 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 15:47:59.081 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 15:47:59.081 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel26928",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T15:47:56Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileDoUL0B _testchannel26928_
Expect: testchannel26928, got: testchannel26928
[1;32mOK: The channel <testchannel26928> exists and visible to org1[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel26928 org2
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel26928 org2
[1;34m
Verifing if the <testchannel26928> channel exists in org2.example.com...[m[m[m
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel12542 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel12542 org1
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel12542 org1 VERIFY: test-channel-exists.sh testchannel12542 org1
[1;36m
Creating the <testchannel12542> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel12542
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel12542[m[m[m
example.com

Create channel org1 testchannel12542
--2020-03-30 16:22:45--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:22:45--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:22:45--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:22:45--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:22:45.475 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:22:45.530 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:22:45.531 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:22:45.531 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:22:45.532 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:22:45.532 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:22:45.532 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:22:45.533 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:22:45.533 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:22:45.586 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:22:45.587 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:22:45.587 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:22:45.588 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:22:45.588 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:22:45.589 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:22:45.589 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:22:45.590 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:22:45.591 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 16:22:45.591 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:22:45.591 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:22:45.592 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:22:45.593 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 16:22:45.594 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:22:45.653 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:22:45.672 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel12542.pb -o orderer.example.com:7050 -c testchannel12542 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:22:45.751 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:22:45.754 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 16:22:45.756 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 16:22:45.757 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel12542
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel12542 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:22:46.049 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:22:46.062 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel12542> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel12542> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:22:48.366 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:22:48.369 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 16:22:48.370 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 16:22:48.371 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel12542",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T16:22:46Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileMraYe8 _testchannel12542_
Expect: testchannel12542, got: testchannel12542
[1;32mOK: The channel <testchannel12542> exists and visible to org1[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel12542 org2
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel12542 org2
[1;34m
Verifing if the <testchannel12542> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:22:50.485 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:22:50.488 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filek4PSAj _null_
Expect: testchannel12542, got: null
[1;32mOK: The channel <testchannel12542> does not exist and in not visible to org2[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel12542 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel12542 org1
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel12542 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel12542 org1
[1;36m
Creating the <^^^^^^testchannel12542> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel12542
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel12542[m[m[m
example.com

Create channel org1 ^^^^^^testchannel12542
--2020-03-30 16:22:53--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:22:53--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:22:53--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:22:53--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:22:53.194 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:22:53.250 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:22:53.251 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:22:53.251 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:22:53.252 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:22:53.252 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:22:53.252 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:22:53.253 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:22:53.253 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:22:53.306 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:22:53.307 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:22:53.307 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:22:53.307 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:22:53.308 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:22:53.308 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:22:53.309 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:22:53.309 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:22:53.310 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 16:22:53.311 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:22:53.311 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:22:53.312 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:22:53.313 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 16:22:53.314 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:22:53.371 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel12542' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel12542.pb -o orderer.example.com:7050 -c ^^^^^^testchannel12542 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:22:53.454 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:22:53.456 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel12542.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel12542.json: No such file or directory
>> Prepare config update from org1 for channel ^^^^^^testchannel12542
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel12542 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:22:53.625 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel12542' != '^^^^^^testchannel12542'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel12542> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:22:55.893 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:22:55.894 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileAZjToZ _null_
Expect: ^^^^^^testchannel12542, got: null
[1;32mOK: The channel <^^^^^^testchannel12542> does not exist and in not visible to org1[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel12542 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel12542 org2
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel12542 org2 VERIFY: test-channel-does-not-exist.sh testchannel12542 org2
[1;36m
Creating the <testchannel12542> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel12542
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel12542[m[m[m
example.com

Create channel org2 testchannel12542
--2020-03-30 16:22:58--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:22:58--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:22:58--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:22:58--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:22:58.757 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:22:58.816 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:22:58.817 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:22:58.817 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:22:58.818 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:22:58.818 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:22:58.818 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:22:58.819 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:22:58.819 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:22:58.874 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:22:58.874 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:22:58.875 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:22:58.875 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:22:58.875 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:22:58.876 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:22:58.876 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:22:58.877 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:22:58.878 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 16:22:58.878 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:22:58.879 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:22:58.879 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:22:58.880 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 16:22:58.881 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:22:58.940 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel12542.pb -o orderer.example.com:7050 -c testchannel12542 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:22:59.017 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:22:59.020 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel12542.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel12542.json: No such file or directory
>> Prepare config update from org2 for channel testchannel12542
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel12542 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:22:59.192 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel12542> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:23:01.334 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:23:01.340 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileEPPNuG _null_
Expect: testchannel12542, got: null
[1;32mOK: The channel <testchannel12542> does not exist and in not visible to org2[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel12542-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel12542-02 org2
Step: 5_cli Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel12542-02 org2 VERIFY: test-channel-exists.sh testchannel12542-02 org2
[1;36m
Creating the <testchannel12542-02> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel12542-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel12542-02[m[m[m
example.com

Create channel org2 testchannel12542-02
--2020-03-30 16:23:04--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:23:04--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:23:04--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:23:04--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:23:04.078 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:23:04.133 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:23:04.133 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:23:04.134 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:23:04.134 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:23:04.134 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:23:04.135 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:23:04.135 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:23:04.135 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:23:04.189 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:23:04.190 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:23:04.190 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:23:04.190 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:23:04.191 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:23:04.191 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:23:04.191 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:23:04.192 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:23:04.193 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 16:23:04.194 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:23:04.194 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:23:04.196 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:23:04.196 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 16:23:04.197 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:23:04.254 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:23:04.276 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel12542-02.pb -o orderer.example.com:7050 -c testchannel12542-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:23:04.346 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:23:04.348 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 16:23:04.350 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 16:23:04.351 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org2 for channel testchannel12542-02
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel12542-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:23:04.658 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:23:04.674 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel12542-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel12542-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:23:06.820 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:23:06.823 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 16:23:06.825 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 16:23:06.825 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel12542-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T16:23:04Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileimkYlu _testchannel12542-02_
Expect: testchannel12542-02, got: testchannel12542-02
[1;32mOK: The channel <testchannel12542-02> exists and visible to org2[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel12542-02 org1
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel12542-02 org1
[1;34m
Verifing if the <testchannel12542-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:23:08.911 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:23:08.913 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filehXSIxH _null_
Expect: testchannel12542-02, got: null
[1;32mOK: The channel <testchannel12542-02> does not exist and in not visible to org1[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel12542-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel12542-02 org1
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel12542-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel12542-02 org1
[1;36m
Creating the <testchannel12542-02> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel12542-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel12542-02[m[m[m
example.com

Create channel org1 testchannel12542-02
--2020-03-30 16:23:11--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:23:11--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:23:11--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:23:11--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:23:11.684 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:23:11.741 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:23:11.741 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:23:11.742 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:23:11.742 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:23:11.742 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:23:11.743 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:23:11.743 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:23:11.743 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:23:11.797 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:23:11.798 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:23:11.798 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:23:11.798 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:23:11.799 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:23:11.799 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:23:11.800 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:23:11.800 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:23:11.801 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 16:23:11.802 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:23:11.802 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:23:11.803 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:23:11.804 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 16:23:11.804 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:23:11.873 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel12542-02.pb -o orderer.example.com:7050 -c testchannel12542-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:23:11.947 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:23:11.949 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel12542-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel12542-02.json: No such file or directory
>> Prepare config update from org1 for channel testchannel12542-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel12542-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:23:12.117 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel12542-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:23:14.269 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:23:14.272 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileHMRvOa _null_
Expect: testchannel12542-02, got: null
[1;32mOK: The channel <testchannel12542-02> does not exist and in not visible to org1[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel12542 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel12542 org1 org2
Step: 8_cli Test 'Add <org2> to channel <testchannel12542> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel12542 org1 org2 VERIFY: test-channel-add-org.sh testchannel12542 org1 org2
[1;36m
Add org2 to the testchannel12542 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel12542 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel12542 org2 7051 example.com[m[m[m
--2020-03-30 16:23:17--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:23:17--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:23:17--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel12542, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel12542.pb -o orderer.example.com:7050 -c testchannel12542 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:23:17.127 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:23:17.130 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel12542.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel12542.json: No such file or directory
>> Prepare config update from org2 for channel testchannel12542
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel12542 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:23:17.298 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org2> added to testchannel12542 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:23:19.487 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:23:19.489 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filejH51gE _null_
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 8_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel12542-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel12542-02 org2 org1
Step: 9_cli Test 'Add <org1> to channel <testchannel12542-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel12542-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel12542-02 org2 org1
[1;36m
Add org1 to the testchannel12542-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel12542-02 org1
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel12542-02 org1 7051 example.com[m[m[m
--2020-03-30 16:23:22--  http://www.org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.105
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 790 [application/x-x509-ca-cert]
Saving to: â€˜crypto-config/peerOrganizations/org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pemâ€™

          Admin@org   0%[                    ]       0  --.-KB/s               Admin@org1.example. 100%[===================>]     790  --.-KB/s    in 0s      

2020-03-30 16:23:22 (96.4 MB/s) - â€˜crypto-config/peerOrganizations/org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pemâ€™ saved [790/790]

--2020-03-30 16:23:22--  http://www.org1.example.com/msp/cacerts/ca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.105
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 863 [application/x-x509-ca-cert]
Saving to: â€˜crypto-config/peerOrganizations/org1.example.com/msp/cacerts/ca.org1.example.com-cert.pemâ€™

          ca.org1.e   0%[                    ]       0  --.-KB/s               ca.org1.example.com 100%[===================>]     863  --.-KB/s    in 0s      

2020-03-30 16:23:22 (108 MB/s) - â€˜crypto-config/peerOrganizations/org1.example.com/msp/cacerts/ca.org1.example.com-cert.pemâ€™ saved [863/863]

--2020-03-30 16:23:22--  http://www.org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.105
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 871 [application/x-x509-ca-cert]
Saving to: â€˜crypto-config/peerOrganizations/org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pemâ€™

          tlsca.org   0%[                    ]       0  --.-KB/s               tlsca.org1.example. 100%[===================>]     871  --.-KB/s    in 0s      

2020-03-30 16:23:22 (95.4 MB/s) - â€˜crypto-config/peerOrganizations/org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pemâ€™ saved [871/871]

>> Add new org 'org1' to channel testchannel12542-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel12542-02.pb -o orderer.example.com:7050 -c testchannel12542-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:23:22.239 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:23:22.242 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 16:23:22.244 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 16:23:22.245 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org1 for channel testchannel12542-02
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel12542-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:23:22.554 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:23:22.579 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization org1 added to testchannel12542-02 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel12542-02 ...[m[m[m
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel32258 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel32258 org1
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel32258 org1 VERIFY: test-channel-exists.sh testchannel32258 org1
[1;36m
Creating the <testchannel32258> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel32258
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32258[m[m[m
example.com

Create channel org1 testchannel32258
--2020-03-30 16:26:04--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:26:04--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:26:04--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:26:04--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:26:04.964 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:26:05.021 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:26:05.022 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:26:05.022 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:26:05.022 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:26:05.023 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:26:05.023 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:26:05.023 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:26:05.024 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:26:05.076 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:26:05.076 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:26:05.077 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:26:05.077 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:26:05.078 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:26:05.078 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:26:05.078 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:26:05.079 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:26:05.080 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 16:26:05.081 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:26:05.081 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:26:05.086 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:26:05.087 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 16:26:05.088 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:26:05.164 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:26:05.183 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel32258.pb -o orderer.example.com:7050 -c testchannel32258 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:26:05.253 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:26:05.255 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 16:26:05.257 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 16:26:05.258 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel32258
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32258 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:26:05.552 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:26:05.565 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel32258> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel32258> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:26:07.757 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:26:07.760 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 16:26:07.761 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 16:26:07.762 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel32258",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T16:26:05Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/file66cmrG _testchannel32258_
Expect: testchannel32258, got: testchannel32258
[1;32mOK: The channel <testchannel32258> exists and visible to org1[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel32258 org2
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel32258 org2
[1;34m
Verifing if the <testchannel32258> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:26:09.826 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:26:09.828 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileoDjCaQ _null_
Expect: testchannel32258, got: null
[1;32mOK: The channel <testchannel32258> does not exist and in not visible to org2[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel32258 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel32258 org1
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel32258 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel32258 org1
[1;36m
Creating the <^^^^^^testchannel32258> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel32258
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel32258[m[m[m
example.com

Create channel org1 ^^^^^^testchannel32258
--2020-03-30 16:26:12--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:26:12--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:26:12--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:26:12--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:26:12.527 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:26:12.582 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:26:12.582 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:26:12.583 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:26:12.583 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:26:12.583 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:26:12.584 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:26:12.584 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:26:12.584 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:26:12.635 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:26:12.636 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:26:12.636 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:26:12.637 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:26:12.637 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:26:12.638 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:26:12.638 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:26:12.639 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:26:12.640 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 16:26:12.640 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:26:12.641 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:26:12.641 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:26:12.642 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 16:26:12.643 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:26:12.701 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel32258' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel32258.pb -o orderer.example.com:7050 -c ^^^^^^testchannel32258 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:26:12.777 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:26:12.779 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel32258.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel32258.json: No such file or directory
>> Prepare config update from org1 for channel ^^^^^^testchannel32258
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel32258 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:26:12.944 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel32258' != '^^^^^^testchannel32258'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel32258> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:26:15.143 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:26:15.145 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileP4TsHp _null_
Expect: ^^^^^^testchannel32258, got: null
[1;32mOK: The channel <^^^^^^testchannel32258> does not exist and in not visible to org1[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel32258 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel32258 org2
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel32258 org2 VERIFY: test-channel-does-not-exist.sh testchannel32258 org2
[1;36m
Creating the <testchannel32258> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel32258
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32258[m[m[m
example.com

Create channel org2 testchannel32258
--2020-03-30 16:26:17--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:26:17--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:26:17--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:26:17--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:26:17.891 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:26:17.947 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:26:17.947 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:26:17.948 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:26:17.948 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:26:17.949 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:26:17.949 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:26:17.949 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:26:17.950 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:26:18.025 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:26:18.028 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:26:18.029 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:26:18.029 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:26:18.029 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:26:18.030 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:26:18.030 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:26:18.031 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:26:18.034 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 16:26:18.034 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:26:18.035 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:26:18.036 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:26:18.037 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 16:26:18.039 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:26:18.160 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel32258.pb -o orderer.example.com:7050 -c testchannel32258 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:26:18.236 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:26:18.239 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel32258.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel32258.json: No such file or directory
>> Prepare config update from org2 for channel testchannel32258
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32258 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:26:18.418 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel32258> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:26:20.656 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:26:20.658 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file7pdjp5 _null_
Expect: testchannel32258, got: null
[1;32mOK: The channel <testchannel32258> does not exist and in not visible to org2[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel32258-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel32258-02 org2
Step: 5_cli Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel32258-02 org2 VERIFY: test-channel-exists.sh testchannel32258-02 org2
[1;36m
Creating the <testchannel32258-02> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel32258-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32258-02[m[m[m
example.com

Create channel org2 testchannel32258-02
--2020-03-30 16:26:23--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:26:23--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:26:23--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:26:23--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:26:23.328 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:26:23.384 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:26:23.385 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:26:23.385 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:26:23.385 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:26:23.386 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:26:23.386 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:26:23.387 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:26:23.387 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:26:23.446 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:26:23.447 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:26:23.447 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:26:23.448 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:26:23.448 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:26:23.448 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:26:23.449 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:26:23.449 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:26:23.451 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 16:26:23.451 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:26:23.452 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:26:23.452 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:26:23.453 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 16:26:23.454 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:26:23.510 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:26:23.540 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel32258-02.pb -o orderer.example.com:7050 -c testchannel32258-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:26:23.610 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:26:23.613 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 16:26:23.616 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 16:26:23.616 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org2 for channel testchannel32258-02
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32258-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:26:23.904 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:26:23.921 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel32258-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel32258-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:26:26.189 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:26:26.192 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 16:26:26.194 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 16:26:26.194 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel32258-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T16:26:23Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileUJCma0 _testchannel32258-02_
Expect: testchannel32258-02, got: testchannel32258-02
[1;32mOK: The channel <testchannel32258-02> exists and visible to org2[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel32258-02 org1
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel32258-02 org1
[1;34m
Verifing if the <testchannel32258-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:26:28.352 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:26:28.354 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file4eDny7 _null_
Expect: testchannel32258-02, got: null
[1;32mOK: The channel <testchannel32258-02> does not exist and in not visible to org1[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel32258-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel32258-02 org1
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel32258-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel32258-02 org1
[1;36m
Creating the <testchannel32258-02> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel32258-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32258-02[m[m[m
example.com

Create channel org1 testchannel32258-02
--2020-03-30 16:26:31--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:26:31--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:26:31--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:26:31--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:26:31.104 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:26:31.158 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:26:31.159 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:26:31.159 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:26:31.160 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:26:31.160 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:26:31.160 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:26:31.161 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:26:31.161 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:26:31.212 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:26:31.213 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:26:31.213 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:26:31.214 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:26:31.214 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:26:31.214 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:26:31.215 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:26:31.215 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:26:31.216 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 16:26:31.217 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:26:31.217 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:26:31.218 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:26:31.219 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 16:26:31.219 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:26:31.274 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel32258-02.pb -o orderer.example.com:7050 -c testchannel32258-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:26:31.348 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:26:31.350 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel32258-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel32258-02.json: No such file or directory
>> Prepare config update from org1 for channel testchannel32258-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32258-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:26:31.537 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel32258-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:26:33.708 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:26:33.710 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileKtFx4K _null_
Expect: testchannel32258-02, got: null
[1;32mOK: The channel <testchannel32258-02> does not exist and in not visible to org1[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel32258 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel32258 org1 org2
Step: 8_cli Test 'Add <org2> to channel <testchannel32258> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel32258 org1 org2 VERIFY: test-channel-add-org.sh testchannel32258 org1 org2
[1;36m
Add org2 to the testchannel32258 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel32258 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel32258 org2 7051 example.com[m[m[m
--2020-03-30 16:26:36--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:26:36--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:26:36--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel32258, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel32258.pb -o orderer.example.com:7050 -c testchannel32258 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:26:36.497 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:26:36.500 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel32258.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel32258.json: No such file or directory
>> Prepare config update from org2 for channel testchannel32258
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32258 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:26:36.666 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org2> added to testchannel32258 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:26:38.892 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:26:38.894 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filedukg0d _null_
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 8_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel32258-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel32258-02 org2 org1
Step: 9_cli Test 'Add <org1> to channel <testchannel32258-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel32258-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel32258-02 org2 org1
[1;36m
Add org1 to the testchannel32258-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel32258-02 org1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel17865 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel17865 org1
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel17865 org1 VERIFY: test-channel-exists.sh testchannel17865 org1
[1;36m
Creating the <testchannel17865> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel17865
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel17865[m[m[m
example.com

Create channel org1 testchannel17865
--2020-03-30 16:32:19--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:32:19--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:32:19--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:32:19--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:32:19.600 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:32:19.655 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:32:19.656 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:32:19.656 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:32:19.657 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:32:19.657 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:32:19.657 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:32:19.658 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:32:19.658 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:32:19.710 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:32:19.711 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:32:19.711 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:32:19.711 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:32:19.712 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:32:19.712 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:32:19.713 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:32:19.713 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:32:19.714 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 16:32:19.715 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:32:19.715 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:32:19.716 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:32:19.717 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 16:32:19.717 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:32:19.782 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:32:19.802 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel17865.pb -o orderer.example.com:7050 -c testchannel17865 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:32:19.880 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:32:19.883 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 16:32:19.884 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 16:32:19.885 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel17865
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel17865 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:32:20.174 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:32:20.188 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel17865> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel17865> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:32:22.322 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:32:22.325 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 16:32:22.326 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 16:32:22.326 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel17865",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T16:32:20Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileDgrFgh _testchannel17865_
Expect: testchannel17865, got: testchannel17865
[1;32mOK: The channel <testchannel17865> exists and visible to org1[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel17865 org2
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel17865 org2
[1;34m
Verifing if the <testchannel17865> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:32:24.454 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:32:24.458 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileZB5CTt _null_
Expect: testchannel17865, got: null
[1;32mOK: The channel <testchannel17865> does not exist and in not visible to org2[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel17865 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel17865 org1
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel17865 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel17865 org1
[1;36m
Creating the <^^^^^^testchannel17865> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel17865
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel17865[m[m[m
example.com

Create channel org1 ^^^^^^testchannel17865
--2020-03-30 16:32:27--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:32:27--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:32:27--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:32:27--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:32:27.198 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:32:27.253 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:32:27.254 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:32:27.254 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:32:27.254 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:32:27.255 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:32:27.255 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:32:27.256 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:32:27.256 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:32:27.311 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:32:27.312 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:32:27.312 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:32:27.313 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:32:27.313 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:32:27.313 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:32:27.314 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:32:27.314 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:32:27.315 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 16:32:27.316 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:32:27.316 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:32:27.317 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:32:27.318 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 16:32:27.318 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:32:27.375 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel17865' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel17865.pb -o orderer.example.com:7050 -c ^^^^^^testchannel17865 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:32:27.468 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:32:27.470 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel17865.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel17865.json: No such file or directory
>> Prepare config update from org1 for channel ^^^^^^testchannel17865
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel17865 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:32:27.637 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel17865' != '^^^^^^testchannel17865'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel17865> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:32:29.746 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:32:29.748 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileWuhiA6 _null_
Expect: ^^^^^^testchannel17865, got: null
[1;32mOK: The channel <^^^^^^testchannel17865> does not exist and in not visible to org1[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel17865 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel17865 org2
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel17865 org2 VERIFY: test-channel-does-not-exist.sh testchannel17865 org2
[1;36m
Creating the <testchannel17865> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel17865
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel17865[m[m[m
example.com

Create channel org2 testchannel17865
--2020-03-30 16:32:32--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:32:32--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:32:32--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:32:32--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:32:32.496 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:32:32.550 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:32:32.551 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:32:32.551 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:32:32.552 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:32:32.552 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:32:32.553 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:32:32.553 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:32:32.553 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:32:32.606 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:32:32.606 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:32:32.607 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:32:32.607 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:32:32.608 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:32:32.608 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:32:32.609 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:32:32.609 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:32:32.610 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 16:32:32.611 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:32:32.611 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:32:32.612 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:32:32.612 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 16:32:32.613 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:32:32.670 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel17865.pb -o orderer.example.com:7050 -c testchannel17865 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:32:32.744 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:32:32.747 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel17865.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel17865.json: No such file or directory
>> Prepare config update from org2 for channel testchannel17865
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel17865 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:32:32.914 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel17865> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:32:35.023 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:32:35.027 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileQi6aLE _null_
Expect: testchannel17865, got: null
[1;32mOK: The channel <testchannel17865> does not exist and in not visible to org2[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel17865-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel17865-02 org2
Step: 5_cli Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel17865-02 org2 VERIFY: test-channel-exists.sh testchannel17865-02 org2
[1;36m
Creating the <testchannel17865-02> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel17865-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel17865-02[m[m[m
example.com

Create channel org2 testchannel17865-02
--2020-03-30 16:32:37--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:32:37--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:32:37--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:32:37--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:32:37.756 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:32:37.812 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:32:37.812 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:32:37.813 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:32:37.813 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:32:37.813 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:32:37.814 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:32:37.814 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:32:37.815 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:32:37.868 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:32:37.869 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:32:37.869 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:32:37.870 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:32:37.870 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:32:37.870 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:32:37.871 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:32:37.872 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:32:37.873 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 16:32:37.873 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:32:37.873 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:32:37.874 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:32:37.875 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 16:32:37.875 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:32:37.930 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:32:37.953 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel17865-02.pb -o orderer.example.com:7050 -c testchannel17865-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:32:38.033 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:32:38.036 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 16:32:38.038 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 16:32:38.039 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org2 for channel testchannel17865-02
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel17865-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:32:38.326 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:32:38.345 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel17865-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel17865-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:32:40.562 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:32:40.565 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 16:32:40.567 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 16:32:40.567 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel17865-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T16:32:38Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileoOPd8m _testchannel17865-02_
Expect: testchannel17865-02, got: testchannel17865-02
[1;32mOK: The channel <testchannel17865-02> exists and visible to org2[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel17865-02 org1
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel17865-02 org1
[1;34m
Verifing if the <testchannel17865-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:32:42.596 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:32:42.598 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileeMQMbs _null_
Expect: testchannel17865-02, got: null
[1;32mOK: The channel <testchannel17865-02> does not exist and in not visible to org1[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel17865-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel17865-02 org1
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel17865-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel17865-02 org1
[1;36m
Creating the <testchannel17865-02> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel17865-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel17865-02[m[m[m
example.com

Create channel org1 testchannel17865-02
--2020-03-30 16:32:45--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:32:45--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:32:45--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:32:45--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:32:45.333 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:32:45.388 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:32:45.389 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:32:45.389 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:32:45.390 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:32:45.390 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:32:45.391 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:32:45.391 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:32:45.392 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:32:45.452 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:32:45.453 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:32:45.453 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:32:45.454 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:32:45.454 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:32:45.454 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:32:45.455 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:32:45.455 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:32:45.456 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 16:32:45.457 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:32:45.457 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:32:45.458 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:32:45.458 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 16:32:45.459 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:32:45.515 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel17865-02.pb -o orderer.example.com:7050 -c testchannel17865-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:32:45.589 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:32:45.591 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel17865-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel17865-02.json: No such file or directory
>> Prepare config update from org1 for channel testchannel17865-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel17865-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:32:45.758 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel17865-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:32:47.959 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:32:47.961 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileShJlc9 _null_
Expect: testchannel17865-02, got: null
[1;32mOK: The channel <testchannel17865-02> does not exist and in not visible to org1[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel17865 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel17865 org1 org2
Step: 8_cli Test 'Add <org2> to channel <testchannel17865> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel17865 org1 org2 VERIFY: test-channel-add-org.sh testchannel17865 org1 org2
[1;36m
Add org1 to the testchannel17865 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel17865 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel17865 org2 7051 example.com[m[m[m
--2020-03-30 16:32:50--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:32:50--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:32:50--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel17865, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel17865.pb -o orderer.example.com:7050 -c testchannel17865 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:32:50.734 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:32:50.737 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 16:32:50.739 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 16:32:50.739 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel17865
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel17865 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:32:51.031 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:32:51.047 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization org2 added to testchannel17865 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel17865 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:32:53.154 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:32:53.157 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-30 16:32:53.158 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-30 16:32:53.159 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRR204WXJWaVFIdmYzTUxZUmtnSDh0ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFeGtLc0NobFZYTUVPdGhPeEc3bkVKb0R3YXFobjZmRkwKK2k3YW1xL21QQ2FWcDRIUXYwREhCRU9zZlFUQThBQVJJSWZ1NUxtMDYwam1nSHZTaUdFdk9xTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FncGF0QXJMN3R6MTRhCk5EK1VGcDBlUnVnTDFvdTNoSy9JK0tDUFB2NVJ2WUl3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRTRwajdmNVkKaHlPV3o1T1dMWFlLbE9kS1NmZXBzYzlaVnZ2aE92TzBDL0VDSURRTFRUMmQ2TjhNcmgwaW5aT0NxdnlCN25tOApTQ2NXS3NwdDZBYkZZVDBUCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUGJ6WVhyRFAwTTVtbWtiNjEvbk5JakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKTm9tdWZqeTk2V2YvYWhXc3pXWm9BMnA4Y0ExZktRdzk3MUdLZDZtNkFNOTBVUFdoQTVmRS9TWTJ4MW4zQU9lOQpXR01LRStNMm9vTjJER1R5SHowNFE2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ2wKcTBDc3Z1M1BYaG8wUDVRV25SNUc2QXZXaTdlRXI4ajRvSTgrL2xHOWdqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJoQXROV0F1M1ZpVm5YYXA1cXpqVndjU2wvZTNvYWVNU0g0bEczcS9uNUdBSWdUQ2xPVTdUYk43SVh6d0NZCjRDWjB2enlocFRvTzFLTlpkbFg1ZVVtdVIyWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRFdyR05aUkpGNUFhVjVFSURxZzAyekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek16QXdPVFV5TURCYUZ3MHpNREF6TWpnd09UVXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVTWmx5blRqRFBTRzZzTWdSQjBsalZZQ2tQMkJrRnIyZGlqZUNnS2pvVVpqMFRKcGE3L0c5dWpILworUzRkbkh6SEtKRlE5b2VuYzlSRDFTb0gvZWNPRmFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQnoyZ1h6S1JEMDNWUVRVSUR6WW16Y3U0NjhIZ2JYSStOUXpwWVR4d0xrNFRBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFtbFpObjVlaTJKVFN1cStaYjNBekNsQkNTSGUvWi9WQjREVHoyUm96QkNNQ0lCSVVldTVxCnk4SGNDaE9QekJBd3ZzbWdzdmEvREhSbUphYjVZcVFDeVp3bwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/file7em7AC _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel17865>.[m[m[m
Step 8_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel17865-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel17865-02 org2 org1
Step: 9_cli Test 'Add <org1> to channel <testchannel17865-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel17865-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel17865-02 org2 org1
[1;36m
Add org2 to the testchannel17865-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel17865-02 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel17865-02 org2 7051 example.com[m[m[m
--2020-03-30 16:32:55--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:32:55--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:32:55--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel17865-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel17865-02.pb -o orderer.example.com:7050 -c testchannel17865-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:32:56.055 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:32:56.058 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 16:32:56.060 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 16:32:56.061 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel17865-02
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel17865-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:32:56.325 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel17865-02': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application/org2 be at version 0, but it is currently at version 1
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org1> added to testchannel17865-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:32:58.446 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:32:58.449 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 16:32:58.452 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 16:32:58.452 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
null
cat /tmp/fileQScIE2 _null_
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 9_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel17865 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel17865 org1
Step: 10_cli Test 'Join <org1> to the <testchannel17865> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel17865 org1 VERIFY: test-join-channel.sh testchannel17865 org1
[1;36m
Joining  org2 to the testchannel17865 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel17865
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel17865[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=7db253f663ea
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 16:33:01--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:33:01--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:33:01--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:33:01--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel17865
Execute: channel fetch 0 crypto-config/configtx/testchannel17865.pb -o orderer.example.com:7050 -c testchannel17865 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:33:01.297 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:33:01.301 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 16:33:01.358 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:33:01.421 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel17865 channel[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel17865> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:33:03.530 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel17865> channel[m[m[m
Step 10_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel17865 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel17865 org2
Step: 11_cli Test 'Join <org2> to the <testchannel17865> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel17865 org2 VERIFY: test-join-channel.sh testchannel17865 org2
[1;36m
Joining  org2 to the testchannel17865 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel17865
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel17865[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=b0cdbb0095f6
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 16:33:06--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:33:06--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:33:06--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:33:06--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel17865
Execute: channel fetch 0 crypto-config/configtx/testchannel17865.pb -o orderer.example.com:7050 -c testchannel17865 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:33:06.303 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:33:06.306 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 16:33:06.366 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: proposal failed (err: bad proposal response 500: cannot create ledger from genesis block: LedgerID already exists)
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel17865> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:33:08.544 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel17865> channel[m[m[m
Step 11_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel17865-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel17865-02 org1
Step: 12_cli Test 'Join <org1> to the <testchannel17865-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel17865-02 org1 VERIFY: test-join-channel.sh testchannel17865-02 org1
[1;36m
Joining  org2 to the testchannel17865-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel17865-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel17865-02[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=94a7164c1eed
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 16:33:11--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:33:11--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:33:11--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:33:11--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel17865-02
Execute: channel fetch 0 crypto-config/configtx/testchannel17865-02.pb -o orderer.example.com:7050 -c testchannel17865-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:33:12.016 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:33:12.019 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 16:33:12.099 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:33:12.181 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel17865-02 channel[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel17865-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:33:14.456 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel17865-02> channel[m[m[m
Step 12_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel17865-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel17865-02 org2
Step: 13_cli Test 'Join <org2> to the <testchannel17865-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel17865-02 org2 VERIFY: test-join-channel.sh testchannel17865-02 org2
[1;36m
Joining  org2 to the testchannel17865-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel17865-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel17865-02[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=0bedd9a42689
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 16:33:17--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:33:17--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:33:17--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:33:17--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel17865-02
Execute: channel fetch 0 crypto-config/configtx/testchannel17865-02.pb -o orderer.example.com:7050 -c testchannel17865-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:33:17.217 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:33:17.220 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 16:33:17.277 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: proposal failed (err: bad proposal response 500: cannot create ledger from genesis block: LedgerID already exists)
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel17865-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:33:19.909 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel17865-02> channel[m[m[m
Step 13_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel17865 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel17865 org1
Step: 14_cli Test 'Install test chaincode by <org1> to the <testchannel17865> channel'
RUNTEST: chaincode-install.sh testchannel17865 org1 VERIFY: test-chaincode-installed.sh testchannel17865 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in org1...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel17865 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel17865[m[m[m
[1;36m
Installing testchannel17865  chaincode in org1...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel17865'[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=4133d5fb9ecf
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel17865  /opt/chaincode/node/reference_testchannel17865 node 1.0
[34m2020-03-30 16:33:24.205 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-30 16:33:24.206 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-30 16:33:24.283 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode installed in org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel17865' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 14_cli: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel17865-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel17865-02 org2
Step: 15_cli Test 'Install test chaincode by <org2> to the <testchannel17865-02> channel'
RUNTEST: chaincode-install.sh testchannel17865-02 org2 VERIFY: test-chaincode-installed.sh testchannel17865-02 org2
[1;36m
Installing test chaincode in org2...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in org2...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel17865-02 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel17865-02[m[m[m
[1;36m
Installing testchannel17865-02  chaincode in org2...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel17865-02'[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=5bc6df6414c0
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel17865-02  /opt/chaincode/node/reference_testchannel17865-02 node 1.0
[34m2020-03-30 16:33:31.017 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-30 16:33:31.017 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-30 16:33:31.034 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in org2[m[m[m
[1;34m
Verifing if the test chaincode installed in org2 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel17865-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel17865-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17865-02, Id: 1e545b23b162c7eab18b864739577db6f2178d450ca8400b84e790a77be730df
Name: reference_testchannel17865, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17865, Id: 4610dd105c1fd5af286001b82aabb689bd2ec58345b3c8474e834e8eae0e4956
reference_testchannel17865-02
[1;32mOK: The test chaincode installed in org2[m[m[m
Step 15_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-instantiate.sh testchannel17865 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel17865 org1
Step: 16_cli Test 'Instantiate test chaincode by <org1> to the <testchannel17865> channel'
RUNTEST: chaincode-instantiate.sh testchannel17865 org1 VERIFY: test-chaincode-instantiated.sh testchannel17865 org1
[1;36m
Instantiate test chaincode in testchannel17865 in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-instantiate.sh testchannel17865 reference_testchannel17865[m[m[m
Instantiate chaincode testchannel17865 reference_testchannel17865 '[]' 1.0  
[31m2020-03-30 16:33:36.584 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel17865 channel by org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel17865' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
Error: Error endorsing chaincode: rpc error: code = Unknown desc = access denied: channel [testchannel17865] creator org [org1]
[1;31mError occurred. See console output above.[m[1;33m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 16_cli: exit code 1
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-invoke.sh testchannel17865 org1 reference_testchannel17865 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-query.sh testchannel17865 org1 reference_testchannel17865
Step: 17_cli Test 'Test chaincode invocation and query:  <org1> <-> <org2>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel17865 org1 reference_testchannel17865 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel17865 org1 reference_testchannel17865
[1;36m
Invoke test chaincode on the <testchannel17865> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-invoke.sh testchannel17865 reference_testchannel17865 '["put","testchannel17865","testchannel17865"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-invoke.sh  testchannel17865 reference_testchannel17865 '["put","testchannel17865","testchannel17865"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051 peer chaincode invoke -n reference_testchannel17865 -C testchannel17865 -c '{"Args":["put","testchannel17865","testchannel17865"]}'
[34m2020-03-30 16:33:57.346 UTC [chaincodeCmd] InitCmdFactory -> INFO 001[0m Retrieved channel (testchannel17865) orderer endpoint: orderer.example.com:7050
Error: endorsement failure during invoke. response: status:500 message:"make sure the chaincode reference_testchannel17865 has been successfully instantiated and try again: chaincode reference_testchannel17865 not found" 
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;36m
Query test chaincode on the <testchannel17865> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel17865 reference_testchannel17865 '["range","testchannel17865"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel17865 reference_testchannel17865 '["range","testchannel17865"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051 peer chaincode query -n reference_testchannel17865 -C testchannel17865 -c '{"Args":["range","testchannel17865"]}'
Error: endorsement failure during query. response: status:500 message:"make sure the chaincode reference_testchannel17865 has been successfully instantiated and try again: chaincode reference_testchannel17865 not found" 
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 17_cli: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel9145 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel9145 org1
Step: 1_cli Test 'Create <testchannel9145> Channel in ORG1'
RUNTEST: create-channel.sh testchannel9145 org1 VERIFY: test-channel-exists.sh testchannel9145 org1
[1;36m
Creating the <testchannel9145> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel9145
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel9145[m[m[m
example.com

Create channel org1 testchannel9145
--2020-03-30 16:37:29--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:37:29--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:37:29--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:37:29--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:37:29.828 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:37:29.882 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:37:29.883 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:37:29.884 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:37:29.884 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:37:29.884 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:37:29.885 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:37:29.885 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:37:29.885 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:37:29.939 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:37:29.940 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:37:29.940 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:37:29.941 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:37:29.941 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:37:29.942 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:37:29.942 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:37:29.943 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:37:29.944 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 16:37:29.944 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:37:29.945 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:37:29.945 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:37:29.946 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 16:37:29.947 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:37:30.004 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:37:30.026 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel9145.pb -o orderer.example.com:7050 -c testchannel9145 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:37:30.096 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:37:30.098 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 16:37:30.100 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 16:37:30.101 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel9145
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel9145 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:37:30.385 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:37:30.405 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel9145> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel9145> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:37:32.558 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:37:32.560 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 16:37:32.562 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 16:37:32.562 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel9145",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T16:37:30Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileSw0eND _testchannel9145_
Expect: testchannel9145, got: testchannel9145
[1;32mOK: The channel <testchannel9145> exists and visible to org1[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel9145 org2
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel9145 org2
[1;34m
Verifing if the <testchannel9145> channel exists in org2.example.com...[m[m[m
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel22221 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel22221 org1
Step: 1_cli Test 'Create <testchannel22221> Channel in ORG1'
RUNTEST: create-channel.sh testchannel22221 org1 VERIFY: test-channel-exists.sh testchannel22221 org1
[1;36m
Creating the <testchannel22221> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel22221
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel22221[m[m[m
example.com

Create channel org1 testchannel22221
--2020-03-30 16:42:03--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:42:03--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:42:03--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:42:04--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:42:04.042 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:42:04.098 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:42:04.099 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:42:04.099 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:42:04.099 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:42:04.100 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:42:04.100 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:42:04.100 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:42:04.101 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:42:04.154 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:42:04.154 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:42:04.155 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:42:04.155 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:42:04.155 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:42:04.156 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:42:04.156 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:42:04.157 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:42:04.158 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 16:42:04.158 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:42:04.159 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:42:04.160 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:42:04.161 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 16:42:04.161 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:42:04.224 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:42:04.244 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel22221.pb -o orderer.example.com:7050 -c testchannel22221 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:42:04.314 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:42:04.316 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 16:42:04.318 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 16:42:04.318 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel22221
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel22221 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:42:04.619 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:42:04.633 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel22221> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel22221> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:42:06.730 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:42:06.733 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 16:42:06.734 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 16:42:06.734 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel22221",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T16:42:04Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/file8zEL6o _testchannel22221_
Expect: testchannel22221, got: testchannel22221
[1;32mOK: The channel <testchannel22221> exists and visible to org1[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel22221 org2
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel22221 org2
[1;34m
Verifing if the <testchannel22221> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:42:08.759 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:42:08.761 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filezsh7pw _null_
Expect: testchannel22221, got: null
[1;32mOK: The channel <testchannel22221> does not exist and in not visible to org2[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel22221 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel22221 org1
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel22221 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel22221 org1
[1;36m
Creating the <^^^^^^testchannel22221> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel22221
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel22221[m[m[m
example.com

Create channel org1 ^^^^^^testchannel22221
--2020-03-30 16:42:11--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:42:11--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:42:11--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:42:11--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:42:11.606 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:42:11.664 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:42:11.665 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:42:11.665 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:42:11.665 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:42:11.666 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:42:11.666 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:42:11.666 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:42:11.667 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:42:11.718 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:42:11.719 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:42:11.719 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:42:11.719 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:42:11.720 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:42:11.720 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:42:11.721 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:42:11.721 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:42:11.722 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 16:42:11.723 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:42:11.723 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:42:11.724 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:42:11.725 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 16:42:11.725 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:42:11.793 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel22221' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel22221.pb -o orderer.example.com:7050 -c ^^^^^^testchannel22221 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:42:11.867 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:42:11.869 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel22221.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel22221.json: No such file or directory
>> Prepare config update from org1 for channel ^^^^^^testchannel22221
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel22221 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:42:12.046 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel22221' != '^^^^^^testchannel22221'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel22221> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:42:14.190 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:42:14.192 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileFoLnwf _null_
Expect: ^^^^^^testchannel22221, got: null
[1;32mOK: The channel <^^^^^^testchannel22221> does not exist and in not visible to org1[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel22221 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel22221 org2
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel22221 org2 VERIFY: test-channel-does-not-exist.sh testchannel22221 org2
[1;36m
Creating the <testchannel22221> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel22221
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel22221[m[m[m
example.com

Create channel org2 testchannel22221
--2020-03-30 16:42:16--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:42:16--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:42:16--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:42:16--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:42:16.940 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:42:17.002 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:42:17.002 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:42:17.003 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:42:17.003 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:42:17.003 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:42:17.004 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:42:17.004 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:42:17.004 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:42:17.058 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:42:17.059 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:42:17.059 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:42:17.059 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:42:17.060 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:42:17.060 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:42:17.060 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:42:17.061 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:42:17.062 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 16:42:17.063 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:42:17.063 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:42:17.064 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:42:17.064 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 16:42:17.065 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:42:17.121 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel22221.pb -o orderer.example.com:7050 -c testchannel22221 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:42:17.197 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:42:17.200 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel22221.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel22221.json: No such file or directory
>> Prepare config update from org2 for channel testchannel22221
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel22221 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:42:17.367 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel22221> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:42:19.665 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:42:19.668 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileqc1gaK _null_
Expect: testchannel22221, got: null
[1;32mOK: The channel <testchannel22221> does not exist and in not visible to org2[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel22221-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel22221-02 org2
Step: 5_cli Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel22221-02 org2 VERIFY: test-channel-exists.sh testchannel22221-02 org2
[1;36m
Creating the <testchannel22221-02> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel22221-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel22221-02[m[m[m
example.com

Create channel org2 testchannel22221-02
--2020-03-30 16:42:22--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:42:22--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:42:22--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:42:22--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:42:22.476 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:42:22.534 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:42:22.535 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:42:22.535 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:42:22.535 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:42:22.536 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:42:22.536 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:42:22.537 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:42:22.537 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:42:22.592 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:42:22.593 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:42:22.594 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:42:22.594 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:42:22.594 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:42:22.595 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:42:22.595 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:42:22.596 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:42:22.597 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 16:42:22.597 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:42:22.598 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:42:22.598 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:42:22.599 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 16:42:22.599 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:42:22.657 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:42:22.682 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel22221-02.pb -o orderer.example.com:7050 -c testchannel22221-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:42:22.752 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:42:22.757 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 16:42:22.761 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 16:42:22.761 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org2 for channel testchannel22221-02
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel22221-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:42:23.055 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:42:23.071 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel22221-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel22221-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:42:25.202 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:42:25.205 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 16:42:25.207 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 16:42:25.207 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel22221-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T16:42:23Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filejforsK _testchannel22221-02_
Expect: testchannel22221-02, got: testchannel22221-02
[1;32mOK: The channel <testchannel22221-02> exists and visible to org2[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel22221-02 org1
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel22221-02 org1
[1;34m
Verifing if the <testchannel22221-02> channel exists in org1.example.com...[m[m[m
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel4867 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel4867 org1
Step: 1_cli Test 'Create <testchannel4867> Channel in ORG1'
RUNTEST: create-channel.sh testchannel4867 org1 VERIFY: test-channel-exists.sh testchannel4867 org1
[1;36m
Creating the <testchannel4867> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel4867
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4867[m[m[m
example.com

Create channel org1 testchannel4867
--2020-03-30 16:42:57--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:42:57--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:42:57--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:42:57--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:42:57.827 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:42:57.884 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:42:57.884 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:42:57.885 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:42:57.886 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:42:57.886 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:42:57.887 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:42:57.887 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:42:57.887 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:42:57.945 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:42:57.945 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:42:57.946 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:42:57.946 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:42:57.946 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:42:57.947 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:42:57.947 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:42:57.948 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:42:57.949 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 16:42:57.949 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:42:57.950 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:42:57.950 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:42:57.952 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 16:42:57.952 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:42:58.056 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:42:58.078 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel4867.pb -o orderer.example.com:7050 -c testchannel4867 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:42:58.148 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:42:58.150 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 16:42:58.151 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 16:42:58.152 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel4867
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4867 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:42:58.511 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:42:58.525 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel4867> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel4867> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:43:00.862 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:43:00.865 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 16:43:00.866 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 16:43:00.867 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel4867",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T16:42:58Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filecoNSBN _testchannel4867_
Expect: testchannel4867, got: testchannel4867
[1;32mOK: The channel <testchannel4867> exists and visible to org1[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel4867 org2
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel4867 org2
[1;34m
Verifing if the <testchannel4867> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:43:02.928 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:43:02.931 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileyFfrsb _null_
Expect: testchannel4867, got: null
[1;32mOK: The channel <testchannel4867> does not exist and in not visible to org2[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel4867 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel4867 org1
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel4867 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel4867 org1
[1;36m
Creating the <^^^^^^testchannel4867> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel4867
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel4867[m[m[m
example.com

Create channel org1 ^^^^^^testchannel4867
--2020-03-30 16:43:05--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:43:05--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:43:05--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:43:05--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:43:05.734 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:43:05.789 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:43:05.790 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:43:05.790 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:43:05.791 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:43:05.791 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:43:05.792 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:43:05.792 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:43:05.792 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:43:05.848 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:43:05.848 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:43:05.849 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:43:05.849 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:43:05.849 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:43:05.850 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:43:05.850 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:43:05.851 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:43:05.852 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 16:43:05.852 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:43:05.853 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:43:05.853 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:43:05.854 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 16:43:05.855 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:43:05.913 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel4867' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel4867.pb -o orderer.example.com:7050 -c ^^^^^^testchannel4867 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:43:05.988 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:43:05.990 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel4867.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel4867.json: No such file or directory
>> Prepare config update from org1 for channel ^^^^^^testchannel4867
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel4867 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:43:06.159 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel4867' != '^^^^^^testchannel4867'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel4867> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:43:08.297 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:43:08.298 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileIfTMpI _null_
Expect: ^^^^^^testchannel4867, got: null
[1;32mOK: The channel <^^^^^^testchannel4867> does not exist and in not visible to org1[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel4867 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel4867 org2
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel4867 org2 VERIFY: test-channel-does-not-exist.sh testchannel4867 org2
[1;36m
Creating the <testchannel4867> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel4867
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4867[m[m[m
example.com

Create channel org2 testchannel4867
--2020-03-30 16:43:11--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:43:11--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:43:11--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:43:11--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:43:11.204 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:43:11.270 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:43:11.270 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:43:11.271 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:43:11.271 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:43:11.272 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:43:11.272 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:43:11.272 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:43:11.273 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:43:11.326 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:43:11.327 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:43:11.327 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:43:11.328 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:43:11.328 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:43:11.329 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:43:11.329 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:43:11.330 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:43:11.331 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 16:43:11.332 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:43:11.332 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:43:11.333 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:43:11.334 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 16:43:11.334 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:43:11.394 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel4867.pb -o orderer.example.com:7050 -c testchannel4867 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:43:11.477 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:43:11.480 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel4867.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel4867.json: No such file or directory
>> Prepare config update from org2 for channel testchannel4867
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4867 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:43:11.650 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel4867> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:43:13.787 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:43:13.790 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileKTcIOw _null_
Expect: testchannel4867, got: null
[1;32mOK: The channel <testchannel4867> does not exist and in not visible to org2[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel4867-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel4867-02 org2
Step: 5_cli Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel4867-02 org2 VERIFY: test-channel-exists.sh testchannel4867-02 org2
[1;36m
Creating the <testchannel4867-02> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel4867-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4867-02[m[m[m
example.com

Create channel org2 testchannel4867-02
--2020-03-30 16:43:16--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:43:16--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:43:16--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:43:16--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:43:16.545 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:43:16.601 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:43:16.602 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:43:16.602 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:43:16.602 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:43:16.603 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:43:16.603 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:43:16.604 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:43:16.604 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:43:16.658 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:43:16.658 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:43:16.659 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:43:16.659 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:43:16.660 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:43:16.660 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:43:16.660 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:43:16.661 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:43:16.662 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 16:43:16.663 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:43:16.663 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:43:16.664 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:43:16.665 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 16:43:16.666 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:43:16.729 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:43:16.767 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel4867-02.pb -o orderer.example.com:7050 -c testchannel4867-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:43:16.845 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:43:16.848 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 16:43:16.853 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 16:43:16.853 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org2 for channel testchannel4867-02
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4867-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:43:17.143 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:43:17.157 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel4867-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel4867-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:43:19.260 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:43:19.263 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 16:43:19.265 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 16:43:19.265 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel4867-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T16:43:17Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/file70Lz6a _testchannel4867-02_
Expect: testchannel4867-02, got: testchannel4867-02
[1;32mOK: The channel <testchannel4867-02> exists and visible to org2[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel4867-02 org1
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel4867-02 org1
[1;34m
Verifing if the <testchannel4867-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:43:21.263 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:43:21.265 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file6ILorh _null_
Expect: testchannel4867-02, got: null
[1;32mOK: The channel <testchannel4867-02> does not exist and in not visible to org1[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel4867-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel4867-02 org1
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel4867-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel4867-02 org1
[1;36m
Creating the <testchannel4867-02> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel4867-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel4867-02[m[m[m
example.com

Create channel org1 testchannel4867-02
--2020-03-30 16:43:23--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:43:23--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:43:23--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:43:23--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:43:23.966 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:43:24.025 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:43:24.025 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:43:24.026 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:43:24.026 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:43:24.027 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:43:24.027 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:43:24.027 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:43:24.028 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:43:24.081 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:43:24.082 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:43:24.082 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:43:24.083 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:43:24.083 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:43:24.083 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:43:24.084 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:43:24.084 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:43:24.086 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 16:43:24.086 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:43:24.086 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:43:24.087 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:43:24.088 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 16:43:24.089 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:43:24.144 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel4867-02.pb -o orderer.example.com:7050 -c testchannel4867-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:43:24.218 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:43:24.220 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel4867-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel4867-02.json: No such file or directory
>> Prepare config update from org1 for channel testchannel4867-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4867-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:43:24.388 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel4867-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:43:26.556 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:43:26.558 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileiCje0M _null_
Expect: testchannel4867-02, got: null
[1;32mOK: The channel <testchannel4867-02> does not exist and in not visible to org1[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel4867 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel4867 org1 org2
Step: 8_cli Test 'Add <org2> to channel <testchannel4867> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel4867 org1 org2 VERIFY: test-channel-add-org.sh testchannel4867 org1 org2
[1;36m
Add org1 to the testchannel4867 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel4867 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel4867 org2 7051 example.com[m[m[m
--2020-03-30 16:43:29--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:43:29--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:43:29--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel4867, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel4867.pb -o orderer.example.com:7050 -c testchannel4867 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:43:29.347 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:43:29.349 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 16:43:29.351 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 16:43:29.351 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel4867
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4867 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:43:29.706 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:43:29.722 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization org2 added to testchannel4867 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel4867 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:43:31.788 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:43:31.791 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-30 16:43:31.793 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-30 16:43:31.794 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRR204WXJWaVFIdmYzTUxZUmtnSDh0ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFeGtLc0NobFZYTUVPdGhPeEc3bkVKb0R3YXFobjZmRkwKK2k3YW1xL21QQ2FWcDRIUXYwREhCRU9zZlFUQThBQVJJSWZ1NUxtMDYwam1nSHZTaUdFdk9xTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FncGF0QXJMN3R6MTRhCk5EK1VGcDBlUnVnTDFvdTNoSy9JK0tDUFB2NVJ2WUl3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRTRwajdmNVkKaHlPV3o1T1dMWFlLbE9kS1NmZXBzYzlaVnZ2aE92TzBDL0VDSURRTFRUMmQ2TjhNcmgwaW5aT0NxdnlCN25tOApTQ2NXS3NwdDZBYkZZVDBUCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUGJ6WVhyRFAwTTVtbWtiNjEvbk5JakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKTm9tdWZqeTk2V2YvYWhXc3pXWm9BMnA4Y0ExZktRdzk3MUdLZDZtNkFNOTBVUFdoQTVmRS9TWTJ4MW4zQU9lOQpXR01LRStNMm9vTjJER1R5SHowNFE2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ2wKcTBDc3Z1M1BYaG8wUDVRV25SNUc2QXZXaTdlRXI4ajRvSTgrL2xHOWdqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJoQXROV0F1M1ZpVm5YYXA1cXpqVndjU2wvZTNvYWVNU0g0bEczcS9uNUdBSWdUQ2xPVTdUYk43SVh6d0NZCjRDWjB2enlocFRvTzFLTlpkbFg1ZVVtdVIyWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRFdyR05aUkpGNUFhVjVFSURxZzAyekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek16QXdPVFV5TURCYUZ3MHpNREF6TWpnd09UVXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVTWmx5blRqRFBTRzZzTWdSQjBsalZZQ2tQMkJrRnIyZGlqZUNnS2pvVVpqMFRKcGE3L0c5dWpILworUzRkbkh6SEtKRlE5b2VuYzlSRDFTb0gvZWNPRmFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQnoyZ1h6S1JEMDNWUVRVSUR6WW16Y3U0NjhIZ2JYSStOUXpwWVR4d0xrNFRBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFtbFpObjVlaTJKVFN1cStaYjNBekNsQkNTSGUvWi9WQjREVHoyUm96QkNNQ0lCSVVldTVxCnk4SGNDaE9QekJBd3ZzbWdzdmEvREhSbUphYjVZcVFDeVp3bwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileBzis7i _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel4867>.[m[m[m
Step 8_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel4867-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel4867-02 org2 org1
Step: 9_cli Test 'Add <org1> to channel <testchannel4867-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel4867-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel4867-02 org2 org1
[1;36m
Add org2 to the testchannel4867-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel4867-02 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel4867-02 org2 7051 example.com[m[m[m
--2020-03-30 16:43:34--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:43:34--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:43:34--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel4867-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel4867-02.pb -o orderer.example.com:7050 -c testchannel4867-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:43:34.652 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:43:34.655 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 16:43:34.657 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 16:43:34.657 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel4867-02
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel4867-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:43:34.914 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel4867-02': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application/org2 be at version 0, but it is currently at version 1
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org1> added to testchannel4867-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:43:36.969 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:43:36.973 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 16:43:36.975 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 16:43:36.975 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
null
cat /tmp/fileEmjSEL _null_
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 9_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel4867 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel4867 org1
Step: 10_cli Test 'Join <org1> to the <testchannel4867> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel4867 org1 VERIFY: test-join-channel.sh testchannel4867 org1
[1;36m
Joining  org2 to the testchannel4867 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel4867
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel4867[m[m[m
66CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=2d70273ec4f6
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 16:43:39--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:43:39--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:43:39--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:43:39--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel4867
Execute: channel fetch 0 crypto-config/configtx/testchannel4867.pb -o orderer.example.com:7050 -c testchannel4867 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:43:39.879 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:43:39.882 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 16:43:39.940 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:43:39.999 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel4867 channel[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel4867> channel...[m[m[m
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel31130 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel31130 org1
Step: 1_cli Test 'Create <testchannel31130> Channel in ORG1'
RUNTEST: create-channel.sh testchannel31130 org1 VERIFY: test-channel-exists.sh testchannel31130 org1
[1;36m
Creating the <testchannel31130> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel31130
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel31130[m[m[m
example.com

Create channel org1 testchannel31130
--2020-03-30 16:51:56--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:51:56--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:51:56--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:51:56--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:51:56.087 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:51:56.144 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:51:56.144 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:51:56.145 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:51:56.145 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:51:56.146 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:51:56.146 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:51:56.147 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:51:56.147 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:51:56.201 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:51:56.202 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:51:56.202 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:51:56.203 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:51:56.203 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:51:56.203 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:51:56.204 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:51:56.204 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:51:56.206 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 16:51:56.206 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:51:56.207 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:51:56.207 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:51:56.208 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 16:51:56.209 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:51:56.265 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:51:56.287 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel31130.pb -o orderer.example.com:7050 -c testchannel31130 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:51:56.356 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:51:56.359 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 16:51:56.360 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 16:51:56.361 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel31130
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel31130 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:51:56.659 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:51:56.673 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel31130> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel31130> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:51:58.850 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:51:58.852 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 16:51:58.854 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 16:51:58.854 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel31130",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T16:51:56Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filedaHPnv _testchannel31130_
Expect: testchannel31130, got: testchannel31130
[1;32mOK: The channel <testchannel31130> exists and visible to org1[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel31130 org2
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel31130 org2
[1;34m
Verifing if the <testchannel31130> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:52:00.910 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:52:00.913 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileQlxjKG _null_
Expect: testchannel31130, got: null
[1;32mOK: The channel <testchannel31130> does not exist and in not visible to org2[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel31130 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel31130 org1
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel31130 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel31130 org1
[1;36m
Creating the <^^^^^^testchannel31130> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel31130
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel31130[m[m[m
example.com

Create channel org1 ^^^^^^testchannel31130
--2020-03-30 16:52:03--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:52:03--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:52:03--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:52:03--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:52:03.617 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:52:03.673 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:52:03.674 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:52:03.674 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:52:03.674 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:52:03.675 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:52:03.675 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:52:03.675 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:52:03.676 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:52:03.728 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:52:03.729 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:52:03.729 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:52:03.730 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:52:03.730 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:52:03.731 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:52:03.731 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:52:03.732 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:52:03.733 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 16:52:03.733 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:52:03.734 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:52:03.735 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:52:03.735 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 16:52:03.736 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:52:03.790 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel31130' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel31130.pb -o orderer.example.com:7050 -c ^^^^^^testchannel31130 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:52:03.865 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:52:03.867 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel31130.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel31130.json: No such file or directory
>> Prepare config update from org1 for channel ^^^^^^testchannel31130
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel31130 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:52:04.038 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel31130' != '^^^^^^testchannel31130'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel31130> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:52:06.151 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:52:06.153 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileiSGPEf _null_
Expect: ^^^^^^testchannel31130, got: null
[1;32mOK: The channel <^^^^^^testchannel31130> does not exist and in not visible to org1[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel31130 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel31130 org2
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel31130 org2 VERIFY: test-channel-does-not-exist.sh testchannel31130 org2
[1;36m
Creating the <testchannel31130> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel31130
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel31130[m[m[m
example.com

Create channel org2 testchannel31130
--2020-03-30 16:52:08--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:52:08--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:52:08--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:52:08--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:52:08.904 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:52:08.961 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:52:08.961 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:52:08.962 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:52:08.962 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:52:08.962 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:52:08.963 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:52:08.963 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:52:08.963 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:52:09.016 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:52:09.017 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:52:09.017 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:52:09.018 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:52:09.018 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:52:09.018 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:52:09.019 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:52:09.019 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:52:09.020 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 16:52:09.021 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:52:09.021 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:52:09.022 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:52:09.023 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 16:52:09.023 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:52:09.080 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel31130.pb -o orderer.example.com:7050 -c testchannel31130 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:52:09.162 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:52:09.165 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel31130.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel31130.json: No such file or directory
>> Prepare config update from org2 for channel testchannel31130
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel31130 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:52:09.334 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel31130> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:52:11.453 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:52:11.455 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileyYfg6D _null_
Expect: testchannel31130, got: null
[1;32mOK: The channel <testchannel31130> does not exist and in not visible to org2[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel31130-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel31130-02 org2
Step: 5_cli Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel31130-02 org2 VERIFY: test-channel-exists.sh testchannel31130-02 org2
[1;36m
Creating the <testchannel31130-02> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel31130-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel31130-02[m[m[m
example.com

Create channel org2 testchannel31130-02
--2020-03-30 16:52:14--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:52:14--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:52:14--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:52:14--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:52:14.195 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:52:14.251 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:52:14.252 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:52:14.252 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:52:14.252 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:52:14.253 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:52:14.253 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:52:14.253 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:52:14.254 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:52:14.306 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:52:14.307 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:52:14.307 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:52:14.307 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:52:14.308 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:52:14.308 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:52:14.309 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:52:14.309 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:52:14.310 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 16:52:14.311 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:52:14.311 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:52:14.312 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:52:14.313 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 16:52:14.313 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:52:14.370 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:52:14.396 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel31130-02.pb -o orderer.example.com:7050 -c testchannel31130-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:52:14.482 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:52:14.485 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 16:52:14.487 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 16:52:14.488 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org2 for channel testchannel31130-02
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel31130-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:52:14.776 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:52:14.791 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel31130-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel31130-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:52:16.951 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:52:16.956 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 16:52:16.957 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 16:52:16.958 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel31130-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T16:52:14Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileXAZERs _testchannel31130-02_
Expect: testchannel31130-02, got: testchannel31130-02
[1;32mOK: The channel <testchannel31130-02> exists and visible to org2[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel31130-02 org1
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel31130-02 org1
[1;34m
Verifing if the <testchannel31130-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:52:18.994 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:52:18.996 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileqc7snD _null_
Expect: testchannel31130-02, got: null
[1;32mOK: The channel <testchannel31130-02> does not exist and in not visible to org1[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel31130-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel31130-02 org1
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel31130-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel31130-02 org1
[1;36m
Creating the <testchannel31130-02> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel31130-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel31130-02[m[m[m
example.com

Create channel org1 testchannel31130-02
--2020-03-30 16:52:21--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:52:21--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:52:21--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:52:21--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:52:21.973 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:52:22.027 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:52:22.028 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:52:22.028 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:52:22.029 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:52:22.029 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:52:22.029 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:52:22.030 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:52:22.030 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:52:22.085 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:52:22.085 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:52:22.086 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:52:22.086 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:52:22.086 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:52:22.087 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:52:22.087 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:52:22.088 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:52:22.089 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 16:52:22.090 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:52:22.090 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:52:22.091 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:52:22.092 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 16:52:22.093 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:52:22.150 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel31130-02.pb -o orderer.example.com:7050 -c testchannel31130-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:52:22.239 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:52:22.242 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel31130-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel31130-02.json: No such file or directory
>> Prepare config update from org1 for channel testchannel31130-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel31130-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:52:22.413 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel31130-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:52:24.548 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:52:24.550 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filecb0yll _null_
Expect: testchannel31130-02, got: null
[1;32mOK: The channel <testchannel31130-02> does not exist and in not visible to org1[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel31130 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel31130 org1 org2
Step: 8_cli Test 'Add <org2> to channel <testchannel31130> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel31130 org1 org2 VERIFY: test-channel-add-org.sh testchannel31130 org1 org2
[1;36m
Add org1 to the testchannel31130 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel31130 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel31130 org2 7051 example.com[m[m[m
--2020-03-30 16:52:27--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:52:27--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:52:27--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel31130, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel31130.pb -o orderer.example.com:7050 -c testchannel31130 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:52:27.306 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:52:27.309 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 16:52:27.310 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 16:52:27.311 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel31130
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel31130 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:52:27.616 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:52:27.633 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization org2 added to testchannel31130 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel31130 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:52:29.697 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:52:29.700 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-30 16:52:29.702 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-30 16:52:29.702 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRR204WXJWaVFIdmYzTUxZUmtnSDh0ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFeGtLc0NobFZYTUVPdGhPeEc3bkVKb0R3YXFobjZmRkwKK2k3YW1xL21QQ2FWcDRIUXYwREhCRU9zZlFUQThBQVJJSWZ1NUxtMDYwam1nSHZTaUdFdk9xTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FncGF0QXJMN3R6MTRhCk5EK1VGcDBlUnVnTDFvdTNoSy9JK0tDUFB2NVJ2WUl3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRTRwajdmNVkKaHlPV3o1T1dMWFlLbE9kS1NmZXBzYzlaVnZ2aE92TzBDL0VDSURRTFRUMmQ2TjhNcmgwaW5aT0NxdnlCN25tOApTQ2NXS3NwdDZBYkZZVDBUCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUGJ6WVhyRFAwTTVtbWtiNjEvbk5JakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKTm9tdWZqeTk2V2YvYWhXc3pXWm9BMnA4Y0ExZktRdzk3MUdLZDZtNkFNOTBVUFdoQTVmRS9TWTJ4MW4zQU9lOQpXR01LRStNMm9vTjJER1R5SHowNFE2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ2wKcTBDc3Z1M1BYaG8wUDVRV25SNUc2QXZXaTdlRXI4ajRvSTgrL2xHOWdqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJoQXROV0F1M1ZpVm5YYXA1cXpqVndjU2wvZTNvYWVNU0g0bEczcS9uNUdBSWdUQ2xPVTdUYk43SVh6d0NZCjRDWjB2enlocFRvTzFLTlpkbFg1ZVVtdVIyWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRFdyR05aUkpGNUFhVjVFSURxZzAyekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek16QXdPVFV5TURCYUZ3MHpNREF6TWpnd09UVXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVTWmx5blRqRFBTRzZzTWdSQjBsalZZQ2tQMkJrRnIyZGlqZUNnS2pvVVpqMFRKcGE3L0c5dWpILworUzRkbkh6SEtKRlE5b2VuYzlSRDFTb0gvZWNPRmFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQnoyZ1h6S1JEMDNWUVRVSUR6WW16Y3U0NjhIZ2JYSStOUXpwWVR4d0xrNFRBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFtbFpObjVlaTJKVFN1cStaYjNBekNsQkNTSGUvWi9WQjREVHoyUm96QkNNQ0lCSVVldTVxCnk4SGNDaE9QekJBd3ZzbWdzdmEvREhSbUphYjVZcVFDeVp3bwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileIvFXwL _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel31130>.[m[m[m
Step 8_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel31130-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel31130-02 org2 org1
Step: 9_cli Test 'Add <org1> to channel <testchannel31130-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel31130-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel31130-02 org2 org1
[1;36m
Add org2 to the testchannel31130-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel31130-02 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel31130-02 org2 7051 example.com[m[m[m
--2020-03-30 16:52:32--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:52:32--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:52:32--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel31130-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel31130-02.pb -o orderer.example.com:7050 -c testchannel31130-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:52:32.520 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:52:32.523 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 16:52:32.525 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 16:52:32.525 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel31130-02
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel31130-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:52:32.782 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel31130-02': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application/org2 be at version 0, but it is currently at version 1
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org1> added to testchannel31130-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:52:34.873 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:52:34.875 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileSxSTwc _null_
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 9_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel31130 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel31130 org1
Step: 10_cli Test 'Join <org1> to the <testchannel31130> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel31130 org1 VERIFY: test-join-channel.sh testchannel31130 org1
[1;36m
Joining  org2 to the testchannel31130 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel31130
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel31130[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=193b7cb6b055
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 16:52:37--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:52:37--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:52:37--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:52:37--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel31130
Execute: channel fetch 0 crypto-config/configtx/testchannel31130.pb -o orderer.example.com:7050 -c testchannel31130 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:52:37.623 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:52:37.626 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 16:52:37.685 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:52:37.743 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel31130 channel[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel31130> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:52:39.811 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel31130> channel[m[m[m
Step 10_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel31130 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel31130 org2
Step: 11_cli Test 'Join <org2> to the <testchannel31130> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel31130 org2 VERIFY: test-join-channel.sh testchannel31130 org2
[1;36m
Joining  org2 to the testchannel31130 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel31130
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel31130[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=c1a86095a26a
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 16:52:42--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:52:42--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:52:42--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:52:42--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel31130
Execute: channel fetch 0 crypto-config/configtx/testchannel31130.pb -o orderer.example.com:7050 -c testchannel31130 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:52:42.603 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:52:42.607 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 16:52:42.668 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: proposal failed (err: bad proposal response 500: cannot create ledger from genesis block: LedgerID already exists)
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel31130> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:52:44.776 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel31130> channel[m[m[m
Step 11_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel31130-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel31130-02 org1
Step: 12_cli Test 'Join <org1> to the <testchannel31130-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel31130-02 org1 VERIFY: test-join-channel.sh testchannel31130-02 org1
[1;36m
Joining  org2 to the testchannel31130-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel31130-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel31130-02[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=25f1bf4b3e7c
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 16:52:47--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:52:47--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:52:47--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:52:47--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel31130-02
Execute: channel fetch 0 crypto-config/configtx/testchannel31130-02.pb -o orderer.example.com:7050 -c testchannel31130-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:52:47.526 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:52:47.529 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 16:52:47.585 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:52:47.638 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel31130-02 channel[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel31130-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:52:49.704 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel31130-02> channel[m[m[m
Step 12_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel31130-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel31130-02 org2
Step: 13_cli Test 'Join <org2> to the <testchannel31130-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel31130-02 org2 VERIFY: test-join-channel.sh testchannel31130-02 org2
[1;36m
Joining  org2 to the testchannel31130-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel31130-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel31130-02[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=eb062837b90d
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 16:52:52--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:52:52--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:52:52--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:52:52--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel31130-02
Execute: channel fetch 0 crypto-config/configtx/testchannel31130-02.pb -o orderer.example.com:7050 -c testchannel31130-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:52:52.591 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:52:52.594 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 16:52:52.652 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: proposal failed (err: bad proposal response 500: cannot create ledger from genesis block: LedgerID already exists)
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel31130-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:52:54.763 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel31130-02> channel[m[m[m
Step 13_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel31130 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel31130 org1
Step: 14_cli Test 'Install test chaincode by <org1> to the <testchannel31130> channel'
RUNTEST: chaincode-install.sh testchannel31130 org1 VERIFY: test-chaincode-installed.sh testchannel31130 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in org1...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel31130 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel31130[m[m[m
[1;36m
Installing testchannel31130  chaincode in org1...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel31130'[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=05f2abaad6ad
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel31130  /opt/chaincode/node/reference_testchannel31130 node 1.0
[34m2020-03-30 16:52:58.535 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-30 16:52:58.536 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-30 16:52:58.618 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode installed in org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel31130' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 14_cli: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel31130-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel31130-02 org2
Step: 15_cli Test 'Install test chaincode by <org2> to the <testchannel31130-02> channel'
RUNTEST: chaincode-install.sh testchannel31130-02 org2 VERIFY: test-chaincode-installed.sh testchannel31130-02 org2
[1;36m
Installing test chaincode in org2...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in org2...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel31130-02 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel31130-02[m[m[m
[1;36m
Installing testchannel31130-02  chaincode in org2...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel31130-02'[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=bea9ace52cd6
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel31130-02  /opt/chaincode/node/reference_testchannel31130-02 node 1.0
[34m2020-03-30 16:53:05.299 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-30 16:53:05.300 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-30 16:53:05.321 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in org2[m[m[m
[1;34m
Verifing if the test chaincode installed in org2 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel31130-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel17865-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17865-02, Id: 1e545b23b162c7eab18b864739577db6f2178d450ca8400b84e790a77be730df
Name: reference_testchannel17865, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17865, Id: 4610dd105c1fd5af286001b82aabb689bd2ec58345b3c8474e834e8eae0e4956
Name: reference_testchannel31130-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel31130-02, Id: 17f5c46056dcfe16fa58974f932a0567f3f8c057c09b255c0dec1277f0927fae
Name: reference_testchannel31130, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel31130, Id: 5904dcb791fa5972f57fec3c49b93ca8a286aa31e47e0ea7e65c03e77239dbfd
reference_testchannel31130-02
[1;32mOK: The test chaincode installed in org2[m[m[m
Step 15_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-instantiate.sh testchannel31130 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel31130 org1
Step: 16_cli Test 'Instantiate test chaincode by <org1> to the <testchannel31130> channel'
RUNTEST: chaincode-instantiate.sh testchannel31130 org1 VERIFY: test-chaincode-instantiated.sh testchannel31130 org1
[1;36m
Instantiate test chaincode in testchannel31130 in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-instantiate.sh testchannel31130 reference_testchannel31130[m[m[m
Instantiate chaincode testchannel31130 reference_testchannel31130 '[]' 1.0  
[31m2020-03-30 16:53:10.987 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel31130 channel by org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel31130' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
Error: Error endorsing chaincode: rpc error: code = Unknown desc = access denied: channel [testchannel31130] creator org [org1]
[1;31mError occurred. See console output above.[m[1;33m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 16_cli: exit code 1
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-invoke.sh testchannel31130 org1 reference_testchannel31130 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-query.sh testchannel31130 org1 reference_testchannel31130
Step: 17_cli Test 'Test chaincode invocation and query:  <org1> <-> <org2>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel31130 org1 reference_testchannel31130 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel31130 org1 reference_testchannel31130
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel659 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel659 org1
Step: 1_cli Test 'Create <testchannel659> Channel in ORG1'
RUNTEST: create-channel.sh testchannel659 org1 VERIFY: test-channel-exists.sh testchannel659 org1
[1;36m
Creating the <testchannel659> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel659
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel659[m[m[m
example.com

Create channel org1 testchannel659
--2020-03-30 16:54:35--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:54:35--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:54:35--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:54:35--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:54:35.404 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:54:35.463 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:54:35.463 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:54:35.464 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:54:35.464 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:54:35.465 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:54:35.465 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:54:35.465 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:54:35.467 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:54:35.523 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:54:35.524 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:54:35.524 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:54:35.525 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:54:35.525 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:54:35.525 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:54:35.526 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:54:35.527 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:54:35.528 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 16:54:35.528 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:54:35.528 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:54:35.529 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:54:35.530 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 16:54:35.531 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:54:35.585 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:54:35.605 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel659.pb -o orderer.example.com:7050 -c testchannel659 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:54:35.675 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:54:35.679 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 16:54:35.681 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 16:54:35.681 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel659
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel659 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:54:35.973 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:54:35.987 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel659> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel659> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:54:38.121 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:54:38.124 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 16:54:38.125 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 16:54:38.125 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel659",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T16:54:35Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filey1NJe9 _testchannel659_
Expect: testchannel659, got: testchannel659
[1;32mOK: The channel <testchannel659> exists and visible to org1[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel659 org2
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel659 org2
[1;34m
Verifing if the <testchannel659> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:54:40.131 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:54:40.134 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file9LwKdd _null_
Expect: testchannel659, got: null
[1;32mOK: The channel <testchannel659> does not exist and in not visible to org2[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel659 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel659 org1
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel659 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel659 org1
[1;36m
Creating the <^^^^^^testchannel659> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel659
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel659[m[m[m
example.com

Create channel org1 ^^^^^^testchannel659
--2020-03-30 16:54:42--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:54:42--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:54:42--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:54:42--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:54:42.931 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:54:42.987 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:54:42.988 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:54:42.988 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:54:42.988 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:54:42.989 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:54:42.989 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:54:42.989 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:54:42.990 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:54:43.047 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:54:43.047 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:54:43.048 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:54:43.048 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:54:43.049 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:54:43.049 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:54:43.049 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:54:43.050 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:54:43.051 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 16:54:43.052 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:54:43.052 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:54:43.053 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:54:43.053 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 16:54:43.054 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:54:43.109 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel659' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel659.pb -o orderer.example.com:7050 -c ^^^^^^testchannel659 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:54:43.181 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:54:43.183 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel659.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel659.json: No such file or directory
>> Prepare config update from org1 for channel ^^^^^^testchannel659
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel659 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:54:43.348 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel659' != '^^^^^^testchannel659'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel659> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:54:45.512 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:54:45.513 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/filenjDmJJ _null_
Expect: ^^^^^^testchannel659, got: null
[1;32mOK: The channel <^^^^^^testchannel659> does not exist and in not visible to org1[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel659 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel659 org2
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel659 org2 VERIFY: test-channel-does-not-exist.sh testchannel659 org2
[1;36m
Creating the <testchannel659> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel659
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel659[m[m[m
example.com

Create channel org2 testchannel659
--2020-03-30 16:54:48--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:54:48--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:54:48--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:54:48--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:54:48.238 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:54:48.302 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:54:48.303 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:54:48.303 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:54:48.304 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:54:48.304 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:54:48.304 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:54:48.305 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:54:48.305 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:54:48.360 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:54:48.361 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:54:48.361 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:54:48.362 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:54:48.362 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:54:48.362 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:54:48.363 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:54:48.363 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:54:48.365 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 16:54:48.365 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:54:48.366 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:54:48.366 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:54:48.367 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 16:54:48.368 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:54:48.440 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel659.pb -o orderer.example.com:7050 -c testchannel659 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:54:48.548 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:54:48.551 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel659.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel659.json: No such file or directory
>> Prepare config update from org2 for channel testchannel659
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel659 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:54:48.724 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel659> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:54:50.946 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:54:50.949 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileX4xbgm _null_
Expect: testchannel659, got: null
[1;32mOK: The channel <testchannel659> does not exist and in not visible to org2[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel659-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel659-02 org2
Step: 5_cli Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel659-02 org2 VERIFY: test-channel-exists.sh testchannel659-02 org2
[1;36m
Creating the <testchannel659-02> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel659-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel659-02[m[m[m
example.com

Create channel org2 testchannel659-02
--2020-03-30 16:54:53--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:54:53--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:54:53--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:54:53--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:54:53.731 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:54:53.792 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:54:53.793 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:54:53.793 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:54:53.794 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:54:53.794 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:54:53.794 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:54:53.795 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:54:53.795 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:54:53.852 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:54:53.852 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:54:53.853 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:54:53.853 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:54:53.853 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:54:53.854 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:54:53.854 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:54:53.855 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:54:53.856 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 16:54:53.856 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:54:53.857 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:54:53.857 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:54:53.858 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 16:54:53.859 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:54:53.914 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:54:53.936 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel659-02.pb -o orderer.example.com:7050 -c testchannel659-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:54:54.007 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:54:54.010 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 16:54:54.012 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 16:54:54.013 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org2 for channel testchannel659-02
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel659-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:54:54.304 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:54:54.321 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel659-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel659-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:54:56.602 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:54:56.606 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 16:54:56.607 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 16:54:56.608 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel659-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T16:54:54Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileOz8jqn _testchannel659-02_
Expect: testchannel659-02, got: testchannel659-02
[1;32mOK: The channel <testchannel659-02> exists and visible to org2[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel659-02 org1
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel659-02 org1
[1;34m
Verifing if the <testchannel659-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:54:58.736 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:54:58.739 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filermUXPC _null_
Expect: testchannel659-02, got: null
[1;32mOK: The channel <testchannel659-02> does not exist and in not visible to org1[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel659-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel659-02 org1
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel659-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel659-02 org1
[1;36m
Creating the <testchannel659-02> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel659-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel659-02[m[m[m
example.com

Create channel org1 testchannel659-02
--2020-03-30 16:55:01--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:55:01--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:55:01--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:55:01--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:55:01.493 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:55:01.547 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:55:01.548 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:55:01.548 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:55:01.549 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:55:01.549 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:55:01.549 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:55:01.550 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:55:01.550 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:55:01.604 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:55:01.604 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:55:01.605 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:55:01.605 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:55:01.605 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:55:01.606 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:55:01.606 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:55:01.607 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:55:01.608 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 16:55:01.608 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:55:01.609 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:55:01.610 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:55:01.611 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 16:55:01.611 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:55:01.666 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel659-02.pb -o orderer.example.com:7050 -c testchannel659-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:55:01.820 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:55:01.824 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel659-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel659-02.json: No such file or directory
>> Prepare config update from org1 for channel testchannel659-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel659-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:55:02.194 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel659-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:55:04.354 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:55:04.356 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileY5toIp _null_
Expect: testchannel659-02, got: null
[1;32mOK: The channel <testchannel659-02> does not exist and in not visible to org1[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel659 org1 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel659 org1 org1
Step: 8_cli Test 'Add <org1> to channel <testchannel659> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel659 org1 org1 VERIFY: test-channel-add-org.sh testchannel659 org1 org1
[1;36m
Add org1 to the testchannel659 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel659 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel659 org2 7051 example.com[m[m[m
--2020-03-30 16:55:06--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:55:06--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:55:06--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel659, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel659.pb -o orderer.example.com:7050 -c testchannel659 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:55:07.066 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:55:07.069 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 16:55:07.070 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 16:55:07.071 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel659
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel659 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:55:07.359 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:55:07.375 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization org2 added to testchannel659 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel659 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:55:09.557 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:55:09.560 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-30 16:55:09.561 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-30 16:55:09.561 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQU1sTEFOa3poQ01rODZ5aWNTdHdNRHN3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQk9SdFQveEZoejdFZHJ1cThiS2tuSm9RMkxGeTJ1blgKT2dMKzRUUnJsSHFmbVExcXYzb0tva3FuOExNcm9YRUtJRWVSR2l5VGtacFYvNmRVNkUwYTM4T2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUdXUUFuclhETU8vCjJzenZ6YUVxOS9pMURHSnJBTno5TkxPZlhpbVYwSFhHTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUdqM1lyTWUKa1E2SDkrTklZS0Q1UmZoSEdrUFU4MGpzYjduOTVJK05TWHNaQWlBWUZaNVo1Wk56eHgveFIyeTNRTTA2TG9sZQpaZlZSekRiL0xFaGZscE1pOWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQUt6bXJQVnBrdW9iZEt4TTVoM09veDh3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQk1sTS80bCtzZHN2SUQ1RDdrUDN0MGlES1ZhemZySmNkN1MzWnVla1dXcU5NTktHL0Y0QmxYOHZDRzRuR292cwpxRlErMzIxZFJvVmlKOFB4SzJCVnB1eWpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKWlpBQ2V0Y013Ny9hek8vTm9TcjMrTFVNWW1zQTNQMDBzNTllS1pYUWRjWXdDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnT2I4alF3Z1NoNW1CellLRXVpMVZwMlNoWmJ4aytmRHZJcWlvanBPLzU2Y0NJR0sxTHIxVXJGeGpGZkFpCmRFMkNPZU93ZlNmVEpUWHdUem5EZmJYU0JGU08KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU5ESE9FSy9GdmJqUjVqcTNac0ptRGN3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016TXdNRGswT0RBd1doY05NekF3TXpJNE1EazAKT0RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCRHg0RS9qeDFkeGFTcS9JR2RoQkN4cHRSSFlYVTE2SERyeXFoTWNDMUtVek1Ob2F1djNUV3FkbAo3cUxveW5JenpIdGdabnBDNWR1aWZrb0t3MzlVVXpHamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdicVAwVTR6Znp1dVFhcERrdlRqMGdrSUZySHkwYnZWOFNqMGxRV21FM0hnd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdLYURLemFsS3NVZ1FDSExqN3FIZ21LM0hhK3RaakRBN3YwbGVmTzJva3pBQ0lCWTZXY2J4Clk1cjJEc09HZXUxSjdlWjlxdlc1RUdFUW5zb1RkRnFnUEpRcgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileOesY0P _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel659>.[m[m[m
Step 8_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel659 org2 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel659 org2 org2
Step: 9_cli Test 'Add <org2> to channel <testchannel659-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel659 org2 org2 VERIFY: test-channel-add-org.sh testchannel659 org2 org2
[1;36m
Add org2 to the testchannel659 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel659 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel659 org2 7051 example.com[m[m[m
--2020-03-30 16:55:12--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:55:12--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:55:12--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel659, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel659.pb -o orderer.example.com:7050 -c testchannel659 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:55:12.526 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:55:12.531 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-30 16:55:12.534 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-30 16:55:12.534 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
>> Prepare config update from org2 for channel testchannel659
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel659 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:55:12.802 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel659': error authorizing update: ConfigUpdate for channel 'testchannel659-02' but envelope for channel 'testchannel659'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org2> added to testchannel659 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:55:14.886 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:55:14.888 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-30 16:55:14.890 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-30 16:55:14.890 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRR204WXJWaVFIdmYzTUxZUmtnSDh0ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFeGtLc0NobFZYTUVPdGhPeEc3bkVKb0R3YXFobjZmRkwKK2k3YW1xL21QQ2FWcDRIUXYwREhCRU9zZlFUQThBQVJJSWZ1NUxtMDYwam1nSHZTaUdFdk9xTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FncGF0QXJMN3R6MTRhCk5EK1VGcDBlUnVnTDFvdTNoSy9JK0tDUFB2NVJ2WUl3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRTRwajdmNVkKaHlPV3o1T1dMWFlLbE9kS1NmZXBzYzlaVnZ2aE92TzBDL0VDSURRTFRUMmQ2TjhNcmgwaW5aT0NxdnlCN25tOApTQ2NXS3NwdDZBYkZZVDBUCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUGJ6WVhyRFAwTTVtbWtiNjEvbk5JakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKTm9tdWZqeTk2V2YvYWhXc3pXWm9BMnA4Y0ExZktRdzk3MUdLZDZtNkFNOTBVUFdoQTVmRS9TWTJ4MW4zQU9lOQpXR01LRStNMm9vTjJER1R5SHowNFE2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ2wKcTBDc3Z1M1BYaG8wUDVRV25SNUc2QXZXaTdlRXI4ajRvSTgrL2xHOWdqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJoQXROV0F1M1ZpVm5YYXA1cXpqVndjU2wvZTNvYWVNU0g0bEczcS9uNUdBSWdUQ2xPVTdUYk43SVh6d0NZCjRDWjB2enlocFRvTzFLTlpkbFg1ZVVtdVIyWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRFdyR05aUkpGNUFhVjVFSURxZzAyekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek16QXdPVFV5TURCYUZ3MHpNREF6TWpnd09UVXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVTWmx5blRqRFBTRzZzTWdSQjBsalZZQ2tQMkJrRnIyZGlqZUNnS2pvVVpqMFRKcGE3L0c5dWpILworUzRkbkh6SEtKRlE5b2VuYzlSRDFTb0gvZWNPRmFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQnoyZ1h6S1JEMDNWUVRVSUR6WW16Y3U0NjhIZ2JYSStOUXpwWVR4d0xrNFRBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFtbFpObjVlaTJKVFN1cStaYjNBekNsQkNTSGUvWi9WQjREVHoyUm96QkNNQ0lCSVVldTVxCnk4SGNDaE9QekJBd3ZzbWdzdmEvREhSbUphYjVZcVFDeVp3bwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/filecUetAy _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel659>.[m[m[m
Step 9_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel659 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel659 org1 org2
Step: 10_cli Test 'Add <org2> to channel <testchannel659> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel659 org1 org2 VERIFY: test-channel-add-org.sh testchannel659 org1 org2
[1;36m
Add org1 to the testchannel659 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel659 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel659 org2 7051 example.com[m[m[m
--2020-03-30 16:55:17--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:55:17--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:55:17--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel659, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel659.pb -o orderer.example.com:7050 -c testchannel659 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:55:17.715 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:55:17.718 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-30 16:55:17.719 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-30 16:55:17.720 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
>> Prepare config update from org2 for channel testchannel659
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel659 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:55:17.989 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel659': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application be at version 1, but it is currently at version 2
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org2> added to testchannel659 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:55:20.086 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:55:20.088 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-30 16:55:20.090 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-30 16:55:20.090 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRR204WXJWaVFIdmYzTUxZUmtnSDh0ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFeGtLc0NobFZYTUVPdGhPeEc3bkVKb0R3YXFobjZmRkwKK2k3YW1xL21QQ2FWcDRIUXYwREhCRU9zZlFUQThBQVJJSWZ1NUxtMDYwam1nSHZTaUdFdk9xTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FncGF0QXJMN3R6MTRhCk5EK1VGcDBlUnVnTDFvdTNoSy9JK0tDUFB2NVJ2WUl3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRTRwajdmNVkKaHlPV3o1T1dMWFlLbE9kS1NmZXBzYzlaVnZ2aE92TzBDL0VDSURRTFRUMmQ2TjhNcmgwaW5aT0NxdnlCN25tOApTQ2NXS3NwdDZBYkZZVDBUCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUGJ6WVhyRFAwTTVtbWtiNjEvbk5JakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKTm9tdWZqeTk2V2YvYWhXc3pXWm9BMnA4Y0ExZktRdzk3MUdLZDZtNkFNOTBVUFdoQTVmRS9TWTJ4MW4zQU9lOQpXR01LRStNMm9vTjJER1R5SHowNFE2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ2wKcTBDc3Z1M1BYaG8wUDVRV25SNUc2QXZXaTdlRXI4ajRvSTgrL2xHOWdqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJoQXROV0F1M1ZpVm5YYXA1cXpqVndjU2wvZTNvYWVNU0g0bEczcS9uNUdBSWdUQ2xPVTdUYk43SVh6d0NZCjRDWjB2enlocFRvTzFLTlpkbFg1ZVVtdVIyWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRFdyR05aUkpGNUFhVjVFSURxZzAyekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek16QXdPVFV5TURCYUZ3MHpNREF6TWpnd09UVXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVTWmx5blRqRFBTRzZzTWdSQjBsalZZQ2tQMkJrRnIyZGlqZUNnS2pvVVpqMFRKcGE3L0c5dWpILworUzRkbkh6SEtKRlE5b2VuYzlSRDFTb0gvZWNPRmFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQnoyZ1h6S1JEMDNWUVRVSUR6WW16Y3U0NjhIZ2JYSStOUXpwWVR4d0xrNFRBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFtbFpObjVlaTJKVFN1cStaYjNBekNsQkNTSGUvWi9WQjREVHoyUm96QkNNQ0lCSVVldTVxCnk4SGNDaE9QekJBd3ZzbWdzdmEvREhSbUphYjVZcVFDeVp3bwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/file2bnXH0 _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel659>.[m[m[m
Step 10_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel659-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel659-02 org2 org1
Step: 11_cli Test 'Add <org1> to channel <testchannel659-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel659-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel659-02 org2 org1
[1;36m
Add org2 to the testchannel659-02 channel...[m[m[m
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel29088 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel29088 org1
Step: 1_cli Test 'Create <testchannel29088> Channel in ORG1'
RUNTEST: create-channel.sh testchannel29088 org1 VERIFY: test-channel-exists.sh testchannel29088 org1
[1;36m
Creating the <testchannel29088> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel29088
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel29088[m[m[m
example.com

Create channel org1 testchannel29088
--2020-03-30 16:56:23--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:56:23--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:56:23--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:56:23--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:56:23.860 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:56:23.916 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:56:23.916 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:56:23.917 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:56:23.917 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:56:23.917 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:56:23.918 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:56:23.918 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:56:23.918 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:56:23.973 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:56:23.973 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:56:23.974 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:56:23.974 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:56:23.975 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:56:23.975 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:56:23.975 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:56:23.976 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:56:23.977 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 16:56:23.978 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:56:23.978 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:56:23.979 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:56:23.980 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 16:56:23.980 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:56:24.037 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:56:24.057 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel29088.pb -o orderer.example.com:7050 -c testchannel29088 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:56:24.125 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:56:24.128 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 16:56:24.129 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 16:56:24.130 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel29088
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel29088 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:56:24.436 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:56:24.458 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel29088> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel29088> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:56:26.581 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:56:26.583 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 16:56:26.585 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 16:56:26.585 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel29088",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T16:56:24Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileh1tK9r _testchannel29088_
Expect: testchannel29088, got: testchannel29088
[1;32mOK: The channel <testchannel29088> exists and visible to org1[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel29088 org2
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel29088 org2
[1;34m
Verifing if the <testchannel29088> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:56:28.613 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:56:28.616 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file6vH5Jw _null_
Expect: testchannel29088, got: null
[1;32mOK: The channel <testchannel29088> does not exist and in not visible to org2[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel29088 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel29088 org1
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel29088 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel29088 org1
[1;36m
Creating the <^^^^^^testchannel29088> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel29088
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel29088[m[m[m
example.com

Create channel org1 ^^^^^^testchannel29088
--2020-03-30 16:56:31--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:56:31--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:56:31--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:56:31--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:56:31.422 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:56:31.481 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:56:31.481 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:56:31.482 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:56:31.482 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:56:31.482 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:56:31.483 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:56:31.483 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:56:31.483 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:56:31.538 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:56:31.539 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:56:31.539 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:56:31.540 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:56:31.540 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:56:31.540 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:56:31.541 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:56:31.541 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:56:31.542 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 16:56:31.543 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:56:31.543 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:56:31.544 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:56:31.545 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 16:56:31.545 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:56:31.600 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel29088' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel29088.pb -o orderer.example.com:7050 -c ^^^^^^testchannel29088 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:56:31.673 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:56:31.676 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel29088.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel29088.json: No such file or directory
>> Prepare config update from org1 for channel ^^^^^^testchannel29088
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel29088 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:56:31.883 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel29088' != '^^^^^^testchannel29088'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel29088> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:56:34.153 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:56:34.155 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileAcYcMt _null_
Expect: ^^^^^^testchannel29088, got: null
[1;32mOK: The channel <^^^^^^testchannel29088> does not exist and in not visible to org1[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel29088 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel29088 org2
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel29088 org2 VERIFY: test-channel-does-not-exist.sh testchannel29088 org2
[1;36m
Creating the <testchannel29088> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel29088
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel29088[m[m[m
example.com

Create channel org2 testchannel29088
--2020-03-30 16:56:36--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:56:36--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:56:36--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:56:36--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:56:36.854 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:56:36.907 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:56:36.908 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:56:36.909 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:56:36.909 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:56:36.909 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:56:36.910 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:56:36.910 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:56:36.910 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:56:36.965 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:56:36.965 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:56:36.966 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:56:36.966 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:56:36.967 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:56:36.967 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:56:36.967 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:56:36.969 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:56:36.970 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 16:56:36.970 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:56:36.971 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:56:36.971 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:56:36.972 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 16:56:36.973 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:56:37.029 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel29088.pb -o orderer.example.com:7050 -c testchannel29088 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:56:37.105 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:56:37.109 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel29088.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel29088.json: No such file or directory
>> Prepare config update from org2 for channel testchannel29088
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel29088 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:56:37.277 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel29088> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:56:39.418 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:56:39.421 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileeuHuCO _null_
Expect: testchannel29088, got: null
[1;32mOK: The channel <testchannel29088> does not exist and in not visible to org2[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel29088-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel29088-02 org2
Step: 5_cli Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel29088-02 org2 VERIFY: test-channel-exists.sh testchannel29088-02 org2
[1;36m
Creating the <testchannel29088-02> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel29088-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel29088-02[m[m[m
example.com

Create channel org2 testchannel29088-02
--2020-03-30 16:56:42--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:56:42--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:56:42--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:56:42--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:56:42.259 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:56:42.314 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:56:42.315 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:56:42.315 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:56:42.316 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:56:42.316 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:56:42.317 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:56:42.317 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:56:42.317 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:56:42.372 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:56:42.372 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:56:42.373 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:56:42.373 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:56:42.373 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:56:42.374 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:56:42.374 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:56:42.375 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:56:42.376 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 16:56:42.376 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:56:42.377 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:56:42.378 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:56:42.379 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 16:56:42.379 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:56:42.454 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:56:42.490 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel29088-02.pb -o orderer.example.com:7050 -c testchannel29088-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:56:42.562 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:56:42.565 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 16:56:42.566 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 16:56:42.567 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org2 for channel testchannel29088-02
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel29088-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:56:42.854 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:56:42.868 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel29088-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel29088-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:56:45.036 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:56:45.039 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 16:56:45.041 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 16:56:45.041 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel29088-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T16:56:42Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileRp1U6N _testchannel29088-02_
Expect: testchannel29088-02, got: testchannel29088-02
[1;32mOK: The channel <testchannel29088-02> exists and visible to org2[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel29088-02 org1
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel29088-02 org1
[1;34m
Verifing if the <testchannel29088-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:56:47.095 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:56:47.097 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file8HlGuZ _null_
Expect: testchannel29088-02, got: null
[1;32mOK: The channel <testchannel29088-02> does not exist and in not visible to org1[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel29088-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel29088-02 org1
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel29088-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel29088-02 org1
[1;36m
Creating the <testchannel29088-02> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel29088-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel29088-02[m[m[m
example.com

Create channel org1 testchannel29088-02
--2020-03-30 16:56:49--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:56:49--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:56:49--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:56:49--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:56:49.862 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:56:49.916 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:56:49.917 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:56:49.917 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:56:49.918 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:56:49.918 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:56:49.918 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:56:49.919 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:56:49.919 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:56:49.977 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:56:49.977 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:56:49.978 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:56:49.978 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:56:49.979 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:56:49.979 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:56:49.979 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:56:49.980 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:56:49.982 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 16:56:49.982 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:56:49.982 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:56:49.983 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:56:49.984 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 16:56:49.985 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:56:50.041 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel29088-02.pb -o orderer.example.com:7050 -c testchannel29088-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:56:50.117 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:56:50.120 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel29088-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel29088-02.json: No such file or directory
>> Prepare config update from org1 for channel testchannel29088-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel29088-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:56:50.285 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel29088-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:56:52.507 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:56:52.509 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filewMHoTy _null_
Expect: testchannel29088-02, got: null
[1;32mOK: The channel <testchannel29088-02> does not exist and in not visible to org1[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel29088 org1 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel29088 org1 org1
Step: 8_cli Test 'Add <org1> to channel <testchannel29088> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel29088 org1 org1 VERIFY: test-channel-add-org.sh testchannel29088 org1 org1
[1;36m
Add org1 to the testchannel29088 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel29088 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel29088 org2 7051 example.com[m[m[m
--2020-03-30 16:56:55--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:56:55--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:56:55--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel29088, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel29088.pb -o orderer.example.com:7050 -c testchannel29088 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:56:55.255 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:56:55.258 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 16:56:55.260 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 16:56:55.260 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel29088
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel29088 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:56:55.562 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:56:55.578 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization org2 added to testchannel29088 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel29088 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:56:57.680 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:56:57.682 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-30 16:56:57.684 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-30 16:56:57.684 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQU1sTEFOa3poQ01rODZ5aWNTdHdNRHN3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQk9SdFQveEZoejdFZHJ1cThiS2tuSm9RMkxGeTJ1blgKT2dMKzRUUnJsSHFmbVExcXYzb0tva3FuOExNcm9YRUtJRWVSR2l5VGtacFYvNmRVNkUwYTM4T2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUdXUUFuclhETU8vCjJzenZ6YUVxOS9pMURHSnJBTno5TkxPZlhpbVYwSFhHTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUdqM1lyTWUKa1E2SDkrTklZS0Q1UmZoSEdrUFU4MGpzYjduOTVJK05TWHNaQWlBWUZaNVo1Wk56eHgveFIyeTNRTTA2TG9sZQpaZlZSekRiL0xFaGZscE1pOWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQUt6bXJQVnBrdW9iZEt4TTVoM09veDh3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQk1sTS80bCtzZHN2SUQ1RDdrUDN0MGlES1ZhemZySmNkN1MzWnVla1dXcU5NTktHL0Y0QmxYOHZDRzRuR292cwpxRlErMzIxZFJvVmlKOFB4SzJCVnB1eWpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKWlpBQ2V0Y013Ny9hek8vTm9TcjMrTFVNWW1zQTNQMDBzNTllS1pYUWRjWXdDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnT2I4alF3Z1NoNW1CellLRXVpMVZwMlNoWmJ4aytmRHZJcWlvanBPLzU2Y0NJR0sxTHIxVXJGeGpGZkFpCmRFMkNPZU93ZlNmVEpUWHdUem5EZmJYU0JGU08KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU5ESE9FSy9GdmJqUjVqcTNac0ptRGN3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016TXdNRGswT0RBd1doY05NekF3TXpJNE1EazAKT0RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCRHg0RS9qeDFkeGFTcS9JR2RoQkN4cHRSSFlYVTE2SERyeXFoTWNDMUtVek1Ob2F1djNUV3FkbAo3cUxveW5JenpIdGdabnBDNWR1aWZrb0t3MzlVVXpHamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdicVAwVTR6Znp1dVFhcERrdlRqMGdrSUZySHkwYnZWOFNqMGxRV21FM0hnd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdLYURLemFsS3NVZ1FDSExqN3FIZ21LM0hhK3RaakRBN3YwbGVmTzJva3pBQ0lCWTZXY2J4Clk1cjJEc09HZXUxSjdlWjlxdlc1RUdFUW5zb1RkRnFnUEpRcgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileDKPxMX _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel29088>.[m[m[m
Step 8_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel29088-02 org2 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel29088-02 org2 org2
Step: 9_cli Test 'Add <org2> to channel <testchannel29088-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel29088-02 org2 org2 VERIFY: test-channel-add-org.sh testchannel29088-02 org2 org2
[1;36m
Add org2 to the testchannel29088-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel29088-02 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel29088-02 org2 7051 example.com[m[m[m
--2020-03-30 16:57:00--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:57:00--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:57:00--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel29088-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel29088-02.pb -o orderer.example.com:7050 -c testchannel29088-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:57:00.482 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:57:00.486 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 16:57:00.488 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 16:57:00.488 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel29088-02
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel29088-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:57:00.747 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel29088-02': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application/org2 be at version 0, but it is currently at version 1
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org2> added to testchannel29088-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:57:02.919 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:57:02.922 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 16:57:02.924 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 16:57:02.924 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRR204WXJWaVFIdmYzTUxZUmtnSDh0ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFeGtLc0NobFZYTUVPdGhPeEc3bkVKb0R3YXFobjZmRkwKK2k3YW1xL21QQ2FWcDRIUXYwREhCRU9zZlFUQThBQVJJSWZ1NUxtMDYwam1nSHZTaUdFdk9xTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FncGF0QXJMN3R6MTRhCk5EK1VGcDBlUnVnTDFvdTNoSy9JK0tDUFB2NVJ2WUl3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRTRwajdmNVkKaHlPV3o1T1dMWFlLbE9kS1NmZXBzYzlaVnZ2aE92TzBDL0VDSURRTFRUMmQ2TjhNcmgwaW5aT0NxdnlCN25tOApTQ2NXS3NwdDZBYkZZVDBUCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUGJ6WVhyRFAwTTVtbWtiNjEvbk5JakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKTm9tdWZqeTk2V2YvYWhXc3pXWm9BMnA4Y0ExZktRdzk3MUdLZDZtNkFNOTBVUFdoQTVmRS9TWTJ4MW4zQU9lOQpXR01LRStNMm9vTjJER1R5SHowNFE2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ2wKcTBDc3Z1M1BYaG8wUDVRV25SNUc2QXZXaTdlRXI4ajRvSTgrL2xHOWdqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJoQXROV0F1M1ZpVm5YYXA1cXpqVndjU2wvZTNvYWVNU0g0bEczcS9uNUdBSWdUQ2xPVTdUYk43SVh6d0NZCjRDWjB2enlocFRvTzFLTlpkbFg1ZVVtdVIyWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRFdyR05aUkpGNUFhVjVFSURxZzAyekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek16QXdPVFV5TURCYUZ3MHpNREF6TWpnd09UVXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVTWmx5blRqRFBTRzZzTWdSQjBsalZZQ2tQMkJrRnIyZGlqZUNnS2pvVVpqMFRKcGE3L0c5dWpILworUzRkbkh6SEtKRlE5b2VuYzlSRDFTb0gvZWNPRmFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQnoyZ1h6S1JEMDNWUVRVSUR6WW16Y3U0NjhIZ2JYSStOUXpwWVR4d0xrNFRBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFtbFpObjVlaTJKVFN1cStaYjNBekNsQkNTSGUvWi9WQjREVHoyUm96QkNNQ0lCSVVldTVxCnk4SGNDaE9QekJBd3ZzbWdzdmEvREhSbUphYjVZcVFDeVp3bwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/filejkTeSw _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel29088-02>.[m[m[m
Step 9_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel29088 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel29088 org1 org2
Step: 10_cli Test 'Add <org2> to channel <testchannel29088> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel29088 org1 org2 VERIFY: test-channel-add-org.sh testchannel29088 org1 org2
[1;36m
Add org1 to the testchannel29088 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel29088 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel29088 org2 7051 example.com[m[m[m
--2020-03-30 16:57:05--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:57:05--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:57:05--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel29088, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel29088.pb -o orderer.example.com:7050 -c testchannel29088 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:57:05.780 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:57:05.783 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-30 16:57:05.784 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-30 16:57:05.785 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
>> Prepare config update from org2 for channel testchannel29088
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel29088 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:57:06.049 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel29088': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application be at version 1, but it is currently at version 2
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org2> added to testchannel29088 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:57:08.100 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:57:08.103 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-30 16:57:08.105 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-30 16:57:08.105 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRR204WXJWaVFIdmYzTUxZUmtnSDh0ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFeGtLc0NobFZYTUVPdGhPeEc3bkVKb0R3YXFobjZmRkwKK2k3YW1xL21QQ2FWcDRIUXYwREhCRU9zZlFUQThBQVJJSWZ1NUxtMDYwam1nSHZTaUdFdk9xTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FncGF0QXJMN3R6MTRhCk5EK1VGcDBlUnVnTDFvdTNoSy9JK0tDUFB2NVJ2WUl3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRTRwajdmNVkKaHlPV3o1T1dMWFlLbE9kS1NmZXBzYzlaVnZ2aE92TzBDL0VDSURRTFRUMmQ2TjhNcmgwaW5aT0NxdnlCN25tOApTQ2NXS3NwdDZBYkZZVDBUCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUGJ6WVhyRFAwTTVtbWtiNjEvbk5JakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKTm9tdWZqeTk2V2YvYWhXc3pXWm9BMnA4Y0ExZktRdzk3MUdLZDZtNkFNOTBVUFdoQTVmRS9TWTJ4MW4zQU9lOQpXR01LRStNMm9vTjJER1R5SHowNFE2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ2wKcTBDc3Z1M1BYaG8wUDVRV25SNUc2QXZXaTdlRXI4ajRvSTgrL2xHOWdqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJoQXROV0F1M1ZpVm5YYXA1cXpqVndjU2wvZTNvYWVNU0g0bEczcS9uNUdBSWdUQ2xPVTdUYk43SVh6d0NZCjRDWjB2enlocFRvTzFLTlpkbFg1ZVVtdVIyWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRFdyR05aUkpGNUFhVjVFSURxZzAyekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek16QXdPVFV5TURCYUZ3MHpNREF6TWpnd09UVXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVTWmx5blRqRFBTRzZzTWdSQjBsalZZQ2tQMkJrRnIyZGlqZUNnS2pvVVpqMFRKcGE3L0c5dWpILworUzRkbkh6SEtKRlE5b2VuYzlSRDFTb0gvZWNPRmFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQnoyZ1h6S1JEMDNWUVRVSUR6WW16Y3U0NjhIZ2JYSStOUXpwWVR4d0xrNFRBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFtbFpObjVlaTJKVFN1cStaYjNBekNsQkNTSGUvWi9WQjREVHoyUm96QkNNQ0lCSVVldTVxCnk4SGNDaE9QekJBd3ZzbWdzdmEvREhSbUphYjVZcVFDeVp3bwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/file6yQOpV _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel29088>.[m[m[m
Step 10_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel29088-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel29088-02 org2 org1
Step: 11_cli Test 'Add <org1> to channel <testchannel29088-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel29088-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel29088-02 org2 org1
[1;36m
Add org2 to the testchannel29088-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel29088-02 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel29088-02 org2 7051 example.com[m[m[m
--2020-03-30 16:57:10--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:57:10--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:57:10--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel29088-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel29088-02.pb -o orderer.example.com:7050 -c testchannel29088-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:57:10.990 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:57:10.994 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 16:57:10.997 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 16:57:10.997 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel29088-02
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel29088-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:57:11.311 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel29088-02': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application/org2 be at version 0, but it is currently at version 1
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org1> added to testchannel29088-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:57:13.445 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:57:13.447 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileaUHlKp _null_
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 11_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel29088 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel29088 org1
Step: 12_cli Test 'Join <org1> to the <testchannel29088> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel29088 org1 VERIFY: test-join-channel.sh testchannel29088 org1
[1;36m
Joining  org2 to the testchannel29088 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel29088
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel29088[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=68a9a544dd75
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 16:57:16--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:57:16--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:57:16--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:57:16--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel29088
Execute: channel fetch 0 crypto-config/configtx/testchannel29088.pb -o orderer.example.com:7050 -c testchannel29088 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:57:16.246 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:57:16.249 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 16:57:16.308 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:57:16.363 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel29088 channel[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel29088> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:57:18.482 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel29088> channel[m[m[m
Step 12_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel29088 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel29088 org2
Step: 13_cli Test 'Join <org2> to the <testchannel29088> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel29088 org2 VERIFY: test-join-channel.sh testchannel29088 org2
[1;36m
Joining  org2 to the testchannel29088 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel29088
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel29088[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=cbfece487bd6
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 16:57:21--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:57:21--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:57:21--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:57:21--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel29088
Execute: channel fetch 0 crypto-config/configtx/testchannel29088.pb -o orderer.example.com:7050 -c testchannel29088 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:57:21.408 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:57:21.412 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 16:57:21.479 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: proposal failed (err: bad proposal response 500: cannot create ledger from genesis block: LedgerID already exists)
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel29088> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:57:23.584 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel29088> channel[m[m[m
Step 13_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel29088-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel29088-02 org1
Step: 14_cli Test 'Join <org1> to the <testchannel29088-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel29088-02 org1 VERIFY: test-join-channel.sh testchannel29088-02 org1
[1;36m
Joining  org2 to the testchannel29088-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel29088-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel29088-02[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=bae83149ea41
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 16:57:26--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:57:26--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:57:26--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:57:26--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel29088-02
Execute: channel fetch 0 crypto-config/configtx/testchannel29088-02.pb -o orderer.example.com:7050 -c testchannel29088-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:57:26.365 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:57:26.368 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 16:57:26.436 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:57:26.493 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel29088-02 channel[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel29088-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:57:28.616 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel29088-02> channel[m[m[m
Step 14_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel29088-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel29088-02 org2
Step: 15_cli Test 'Join <org2> to the <testchannel29088-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel29088-02 org2 VERIFY: test-join-channel.sh testchannel29088-02 org2
[1;36m
Joining  org2 to the testchannel29088-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel29088-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel29088-02[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=424274d5208f
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 16:57:31--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:57:31--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:57:31--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:57:31--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel29088-02
Execute: channel fetch 0 crypto-config/configtx/testchannel29088-02.pb -o orderer.example.com:7050 -c testchannel29088-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:57:31.684 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:57:31.687 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 16:57:31.806 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: proposal failed (err: bad proposal response 500: cannot create ledger from genesis block: LedgerID already exists)
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel29088-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:57:34.064 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel29088-02> channel[m[m[m
Step 15_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel29088 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel29088 org1
Step: 16_cli Test 'Install test chaincode by <org1> to the <testchannel29088> channel'
RUNTEST: chaincode-install.sh testchannel29088 org1 VERIFY: test-chaincode-installed.sh testchannel29088 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in org1...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel29088 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel29088[m[m[m
[1;36m
Installing testchannel29088  chaincode in org1...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel29088'[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=679e32c2127a
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel29088  /opt/chaincode/node/reference_testchannel29088 node 1.0
[34m2020-03-30 16:57:37.763 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-30 16:57:37.763 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-30 16:57:37.826 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode installed in org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel29088' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 16_cli: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel29088-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel29088-02 org2
Step: 17_cli Test 'Install test chaincode by <org2> to the <testchannel29088-02> channel'
RUNTEST: chaincode-install.sh testchannel29088-02 org2 VERIFY: test-chaincode-installed.sh testchannel29088-02 org2
[1;36m
Installing test chaincode in org2...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in org2...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel29088-02 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel29088-02[m[m[m
[1;36m
Installing testchannel29088-02  chaincode in org2...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel29088-02'[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=d3067e393f5e
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel29088-02  /opt/chaincode/node/reference_testchannel29088-02 node 1.0
[34m2020-03-30 16:57:44.499 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-30 16:57:44.500 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-30 16:57:44.521 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in org2[m[m[m
[1;34m
Verifing if the test chaincode installed in org2 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel29088-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel17865-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17865-02, Id: 1e545b23b162c7eab18b864739577db6f2178d450ca8400b84e790a77be730df
Name: reference_testchannel17865, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17865, Id: 4610dd105c1fd5af286001b82aabb689bd2ec58345b3c8474e834e8eae0e4956
Name: reference_testchannel29088-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel29088-02, Id: 6cc4fb0d2dc148f91f51fc066bec89b6798f685898d915cc34fdb5c44fdc3f3e
Name: reference_testchannel29088, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel29088, Id: ab924972ebc78695550f399712f447e92c6ad4a2c5c087e304e9ece1ec891c80
Name: reference_testchannel31130-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel31130-02, Id: 17f5c46056dcfe16fa58974f932a0567f3f8c057c09b255c0dec1277f0927fae
Name: reference_testchannel31130, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel31130, Id: 5904dcb791fa5972f57fec3c49b93ca8a286aa31e47e0ea7e65c03e77239dbfd
reference_testchannel29088-02
[1;32mOK: The test chaincode installed in org2[m[m[m
Step 17_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-instantiate.sh testchannel29088 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel29088 org1
Step: 18_cli Test 'Instantiate test chaincode by <org1> to the <testchannel29088> channel'
RUNTEST: chaincode-instantiate.sh testchannel29088 org1 VERIFY: test-chaincode-instantiated.sh testchannel29088 org1
[1;36m
Instantiate test chaincode in testchannel29088 in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-instantiate.sh testchannel29088 reference_testchannel29088[m[m[m
Instantiate chaincode testchannel29088 reference_testchannel29088 '[]' 1.0  
[31m2020-03-30 16:57:50.108 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel29088 channel by org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel29088' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
Error: Error endorsing chaincode: rpc error: code = Unknown desc = access denied: channel [testchannel29088] creator org [org1]
[1;31mError occurred. See console output above.[m[1;33m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 18_cli: exit code 1
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-invoke.sh testchannel29088 org1 reference_testchannel29088 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-query.sh testchannel29088 org1 reference_testchannel29088
Step: 19_cli Test 'Test chaincode invocation and query:  <org1> <-> <org2>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel29088 org1 reference_testchannel29088 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel29088 org1 reference_testchannel29088
[1;36m
Invoke test chaincode on the <testchannel29088> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-invoke.sh testchannel29088 reference_testchannel29088 '["put","testchannel29088","testchannel29088"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-invoke.sh  testchannel29088 reference_testchannel29088 '["put","testchannel29088","testchannel29088"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051 peer chaincode invoke -n reference_testchannel29088 -C testchannel29088 -c '{"Args":["put","testchannel29088","testchannel29088"]}'
[34m2020-03-30 16:58:10.815 UTC [chaincodeCmd] InitCmdFactory -> INFO 001[0m Retrieved channel (testchannel29088) orderer endpoint: orderer.example.com:7050
Error: endorsement failure during invoke. response: status:500 message:"make sure the chaincode reference_testchannel29088 has been successfully instantiated and try again: chaincode reference_testchannel29088 not found" 
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel16435 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel16435 org1
Step: 1_cli Test 'Create <testchannel16435> Channel in ORG1'
RUNTEST: create-channel.sh testchannel16435 org1 VERIFY: test-channel-exists.sh testchannel16435 org1
[1;36m
Creating the <testchannel16435> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel16435
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel16435[m[m[m
example.com

Create channel org1 testchannel16435
--2020-03-30 16:59:41--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:59:41--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:59:41--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:59:41--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:59:41.852 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:59:41.906 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:59:41.907 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:59:41.907 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:59:41.908 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:59:41.908 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:59:41.908 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:59:41.909 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:59:41.909 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:59:41.966 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:59:41.966 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:59:41.967 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:59:41.967 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:59:41.967 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:59:41.968 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:59:41.968 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:59:41.969 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:59:41.970 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 16:59:41.970 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:59:41.971 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:59:41.971 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:59:41.972 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 16:59:41.973 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:59:42.030 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:59:42.049 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel16435.pb -o orderer.example.com:7050 -c testchannel16435 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:59:42.175 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:59:42.178 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 16:59:42.181 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 16:59:42.181 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel16435
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel16435 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:59:42.717 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:59:42.731 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel16435> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel16435> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:59:44.867 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:59:44.870 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 16:59:44.871 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 16:59:44.872 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel16435",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T16:59:42Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileI7r59O _testchannel16435_
Expect: testchannel16435, got: testchannel16435
[1;32mOK: The channel <testchannel16435> exists and visible to org1[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel16435 org2
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel16435 org2
[1;34m
Verifing if the <testchannel16435> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:59:46.891 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:59:46.893 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file7Pv8aY _null_
Expect: testchannel16435, got: null
[1;32mOK: The channel <testchannel16435> does not exist and in not visible to org2[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel16435 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel16435 org1
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel16435 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel16435 org1
[1;36m
Creating the <^^^^^^testchannel16435> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel16435
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel16435[m[m[m
example.com

Create channel org1 ^^^^^^testchannel16435
--2020-03-30 16:59:49--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:59:49--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:59:49--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:59:49--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:59:49.659 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:59:49.713 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:59:49.714 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:59:49.714 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:59:49.715 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:59:49.715 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:59:49.716 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:59:49.716 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:59:49.716 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:59:49.770 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:59:49.771 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:59:49.771 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:59:49.771 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:59:49.772 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:59:49.772 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:59:49.773 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:59:49.774 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:59:49.775 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 16:59:49.775 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:59:49.775 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:59:49.776 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:59:49.777 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 16:59:49.778 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:59:49.833 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel16435' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel16435.pb -o orderer.example.com:7050 -c ^^^^^^testchannel16435 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:59:49.908 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:59:49.910 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel16435.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel16435.json: No such file or directory
>> Prepare config update from org1 for channel ^^^^^^testchannel16435
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel16435 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:59:50.081 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel16435' != '^^^^^^testchannel16435'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel16435> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:59:52.407 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:59:52.410 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/filemdPkBr _null_
Expect: ^^^^^^testchannel16435, got: null
[1;32mOK: The channel <^^^^^^testchannel16435> does not exist and in not visible to org1[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel16435 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel16435 org2
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel16435 org2 VERIFY: test-channel-does-not-exist.sh testchannel16435 org2
[1;36m
Creating the <testchannel16435> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel16435
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel16435[m[m[m
example.com

Create channel org2 testchannel16435
--2020-03-30 16:59:55--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:59:55--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:59:55--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 16:59:55--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 16:59:55.176 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 16:59:55.233 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:59:55.233 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:59:55.234 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 16:59:55.234 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 16:59:55.234 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 16:59:55.235 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 16:59:55.235 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 16:59:55.236 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:59:55.291 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 16:59:55.291 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 16:59:55.292 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 16:59:55.292 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 16:59:55.292 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 16:59:55.293 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:59:55.293 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:59:55.294 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:59:55.295 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 16:59:55.295 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 16:59:55.296 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 16:59:55.296 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 16:59:55.297 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 16:59:55.298 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 16:59:55.355 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel16435.pb -o orderer.example.com:7050 -c testchannel16435 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:59:55.446 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:59:55.449 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel16435.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel16435.json: No such file or directory
>> Prepare config update from org2 for channel testchannel16435
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel16435 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 16:59:55.619 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel16435> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 16:59:57.758 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 16:59:57.760 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filemXAkPi _null_
Expect: testchannel16435, got: null
[1;32mOK: The channel <testchannel16435> does not exist and in not visible to org2[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel16435-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel16435-02 org2
Step: 5_cli Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel16435-02 org2 VERIFY: test-channel-exists.sh testchannel16435-02 org2
[1;36m
Creating the <testchannel16435-02> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel16435-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel16435-02[m[m[m
example.com

Create channel org2 testchannel16435-02
--2020-03-30 17:00:00--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:00:00--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:00:00--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:00:00--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 17:00:00.452 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 17:00:00.508 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:00:00.508 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:00:00.509 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 17:00:00.509 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 17:00:00.510 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 17:00:00.510 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 17:00:00.510 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 17:00:00.511 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:00:00.566 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:00:00.566 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:00:00.567 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 17:00:00.567 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:00:00.568 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 17:00:00.568 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:00:00.568 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:00:00.569 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:00:00.570 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 17:00:00.570 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:00:00.571 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:00:00.571 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:00:00.572 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 17:00:00.573 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 17:00:00.629 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:00:00.649 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel16435-02.pb -o orderer.example.com:7050 -c testchannel16435-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:00:00.717 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:00:00.720 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 17:00:00.722 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 17:00:00.723 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org2 for channel testchannel16435-02
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel16435-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:00:01.013 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:00:01.030 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel16435-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel16435-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:00:03.167 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:00:03.171 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:00:03.172 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:00:03.173 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel16435-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T17:00:01Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileROxu5Y _testchannel16435-02_
Expect: testchannel16435-02, got: testchannel16435-02
[1;32mOK: The channel <testchannel16435-02> exists and visible to org2[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel16435-02 org1
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel16435-02 org1
[1;34m
Verifing if the <testchannel16435-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:00:05.251 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:00:05.253 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileMT9Fp2 _null_
Expect: testchannel16435-02, got: null
[1;32mOK: The channel <testchannel16435-02> does not exist and in not visible to org1[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel16435-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel16435-02 org1
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel16435-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel16435-02 org1
[1;36m
Creating the <testchannel16435-02> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel16435-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel16435-02[m[m[m
example.com

Create channel org1 testchannel16435-02
--2020-03-30 17:00:07--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:00:07--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:00:07--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:00:07--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 17:00:07.950 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 17:00:08.009 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:00:08.009 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:00:08.010 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 17:00:08.010 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 17:00:08.011 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 17:00:08.011 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 17:00:08.011 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 17:00:08.012 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:00:08.066 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:00:08.067 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:00:08.068 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 17:00:08.068 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:00:08.068 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 17:00:08.069 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:00:08.069 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:00:08.070 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:00:08.071 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 17:00:08.072 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:00:08.072 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:00:08.073 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:00:08.074 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 17:00:08.074 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 17:00:08.130 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel16435-02.pb -o orderer.example.com:7050 -c testchannel16435-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:00:08.202 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:00:08.204 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel16435-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel16435-02.json: No such file or directory
>> Prepare config update from org1 for channel testchannel16435-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel16435-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:00:08.373 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel16435-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:00:10.557 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:00:10.560 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileaqgW8C _null_
Expect: testchannel16435-02, got: null
[1;32mOK: The channel <testchannel16435-02> does not exist and in not visible to org1[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel16435 org1 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel16435 org1 org1
Step: 8_cli Test 'Add <org1> to channel <testchannel16435> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel16435 org1 org1 VERIFY: test-channel-add-org.sh testchannel16435 org1 org1
[1;36m
Add org1 to the testchannel16435 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel16435 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel16435 org2 7051 example.com[m[m[m
--2020-03-30 17:00:13--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:00:13--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:00:13--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel16435, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel16435.pb -o orderer.example.com:7050 -c testchannel16435 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:00:13.354 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:00:13.358 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:00:13.361 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:00:13.362 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel16435
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel16435 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:00:13.670 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:00:13.687 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization org2 added to testchannel16435 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel16435 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:00:15.725 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:00:15.727 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-30 17:00:15.728 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-30 17:00:15.729 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQU1sTEFOa3poQ01rODZ5aWNTdHdNRHN3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQk9SdFQveEZoejdFZHJ1cThiS2tuSm9RMkxGeTJ1blgKT2dMKzRUUnJsSHFmbVExcXYzb0tva3FuOExNcm9YRUtJRWVSR2l5VGtacFYvNmRVNkUwYTM4T2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUdXUUFuclhETU8vCjJzenZ6YUVxOS9pMURHSnJBTno5TkxPZlhpbVYwSFhHTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUdqM1lyTWUKa1E2SDkrTklZS0Q1UmZoSEdrUFU4MGpzYjduOTVJK05TWHNaQWlBWUZaNVo1Wk56eHgveFIyeTNRTTA2TG9sZQpaZlZSekRiL0xFaGZscE1pOWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQUt6bXJQVnBrdW9iZEt4TTVoM09veDh3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQk1sTS80bCtzZHN2SUQ1RDdrUDN0MGlES1ZhemZySmNkN1MzWnVla1dXcU5NTktHL0Y0QmxYOHZDRzRuR292cwpxRlErMzIxZFJvVmlKOFB4SzJCVnB1eWpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKWlpBQ2V0Y013Ny9hek8vTm9TcjMrTFVNWW1zQTNQMDBzNTllS1pYUWRjWXdDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnT2I4alF3Z1NoNW1CellLRXVpMVZwMlNoWmJ4aytmRHZJcWlvanBPLzU2Y0NJR0sxTHIxVXJGeGpGZkFpCmRFMkNPZU93ZlNmVEpUWHdUem5EZmJYU0JGU08KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU5ESE9FSy9GdmJqUjVqcTNac0ptRGN3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016TXdNRGswT0RBd1doY05NekF3TXpJNE1EazAKT0RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCRHg0RS9qeDFkeGFTcS9JR2RoQkN4cHRSSFlYVTE2SERyeXFoTWNDMUtVek1Ob2F1djNUV3FkbAo3cUxveW5JenpIdGdabnBDNWR1aWZrb0t3MzlVVXpHamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdicVAwVTR6Znp1dVFhcERrdlRqMGdrSUZySHkwYnZWOFNqMGxRV21FM0hnd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdLYURLemFsS3NVZ1FDSExqN3FIZ21LM0hhK3RaakRBN3YwbGVmTzJva3pBQ0lCWTZXY2J4Clk1cjJEc09HZXUxSjdlWjlxdlc1RUdFUW5zb1RkRnFnUEpRcgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/filekMQNd5 _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel16435>.[m[m[m
Step 8_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel16435-02 org2 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel16435-02 org2 org2
Step: 9_cli Test 'Add <org2> to channel <testchannel16435-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel16435-02 org2 org2 VERIFY: test-channel-add-org.sh testchannel16435-02 org2 org2
[1;36m
Add org2 to the testchannel16435-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel16435-02 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel16435-02 org2 7051 example.com[m[m[m
--2020-03-30 17:00:18--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:00:18--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:00:18--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel16435-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel16435-02.pb -o orderer.example.com:7050 -c testchannel16435-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:00:18.508 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:00:18.511 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:00:18.513 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:00:18.513 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel16435-02
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel16435-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:00:18.790 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel16435-02': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application/org2 be at version 0, but it is currently at version 1
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org2> added to testchannel16435-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:00:20.916 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:00:20.919 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:00:20.921 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:00:20.921 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRR204WXJWaVFIdmYzTUxZUmtnSDh0ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFeGtLc0NobFZYTUVPdGhPeEc3bkVKb0R3YXFobjZmRkwKK2k3YW1xL21QQ2FWcDRIUXYwREhCRU9zZlFUQThBQVJJSWZ1NUxtMDYwam1nSHZTaUdFdk9xTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FncGF0QXJMN3R6MTRhCk5EK1VGcDBlUnVnTDFvdTNoSy9JK0tDUFB2NVJ2WUl3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRTRwajdmNVkKaHlPV3o1T1dMWFlLbE9kS1NmZXBzYzlaVnZ2aE92TzBDL0VDSURRTFRUMmQ2TjhNcmgwaW5aT0NxdnlCN25tOApTQ2NXS3NwdDZBYkZZVDBUCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUGJ6WVhyRFAwTTVtbWtiNjEvbk5JakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKTm9tdWZqeTk2V2YvYWhXc3pXWm9BMnA4Y0ExZktRdzk3MUdLZDZtNkFNOTBVUFdoQTVmRS9TWTJ4MW4zQU9lOQpXR01LRStNMm9vTjJER1R5SHowNFE2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ2wKcTBDc3Z1M1BYaG8wUDVRV25SNUc2QXZXaTdlRXI4ajRvSTgrL2xHOWdqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJoQXROV0F1M1ZpVm5YYXA1cXpqVndjU2wvZTNvYWVNU0g0bEczcS9uNUdBSWdUQ2xPVTdUYk43SVh6d0NZCjRDWjB2enlocFRvTzFLTlpkbFg1ZVVtdVIyWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRFdyR05aUkpGNUFhVjVFSURxZzAyekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek16QXdPVFV5TURCYUZ3MHpNREF6TWpnd09UVXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVTWmx5blRqRFBTRzZzTWdSQjBsalZZQ2tQMkJrRnIyZGlqZUNnS2pvVVpqMFRKcGE3L0c5dWpILworUzRkbkh6SEtKRlE5b2VuYzlSRDFTb0gvZWNPRmFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQnoyZ1h6S1JEMDNWUVRVSUR6WW16Y3U0NjhIZ2JYSStOUXpwWVR4d0xrNFRBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFtbFpObjVlaTJKVFN1cStaYjNBekNsQkNTSGUvWi9WQjREVHoyUm96QkNNQ0lCSVVldTVxCnk4SGNDaE9QekJBd3ZzbWdzdmEvREhSbUphYjVZcVFDeVp3bwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileDg4liv _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel16435-02>.[m[m[m
Step 9_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel16435 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel16435 org1 org2
Step: 10_cli Test 'Add <org2> to channel <testchannel16435> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel16435 org1 org2 VERIFY: test-channel-add-org.sh testchannel16435 org1 org2
[1;36m
Add org1 to the testchannel16435 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel16435 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel16435 org2 7051 example.com[m[m[m
--2020-03-30 17:00:23--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:00:23--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:00:23--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel16435, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel16435.pb -o orderer.example.com:7050 -c testchannel16435 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:00:23.787 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:00:23.790 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-30 17:00:23.791 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-30 17:00:23.792 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
>> Prepare config update from org2 for channel testchannel16435
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel16435 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:00:24.062 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel16435': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application be at version 1, but it is currently at version 2
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org2> added to testchannel16435 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:00:26.194 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:00:26.197 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-30 17:00:26.199 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-30 17:00:26.199 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRR204WXJWaVFIdmYzTUxZUmtnSDh0ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFeGtLc0NobFZYTUVPdGhPeEc3bkVKb0R3YXFobjZmRkwKK2k3YW1xL21QQ2FWcDRIUXYwREhCRU9zZlFUQThBQVJJSWZ1NUxtMDYwam1nSHZTaUdFdk9xTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FncGF0QXJMN3R6MTRhCk5EK1VGcDBlUnVnTDFvdTNoSy9JK0tDUFB2NVJ2WUl3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRTRwajdmNVkKaHlPV3o1T1dMWFlLbE9kS1NmZXBzYzlaVnZ2aE92TzBDL0VDSURRTFRUMmQ2TjhNcmgwaW5aT0NxdnlCN25tOApTQ2NXS3NwdDZBYkZZVDBUCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUGJ6WVhyRFAwTTVtbWtiNjEvbk5JakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKTm9tdWZqeTk2V2YvYWhXc3pXWm9BMnA4Y0ExZktRdzk3MUdLZDZtNkFNOTBVUFdoQTVmRS9TWTJ4MW4zQU9lOQpXR01LRStNMm9vTjJER1R5SHowNFE2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ2wKcTBDc3Z1M1BYaG8wUDVRV25SNUc2QXZXaTdlRXI4ajRvSTgrL2xHOWdqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJoQXROV0F1M1ZpVm5YYXA1cXpqVndjU2wvZTNvYWVNU0g0bEczcS9uNUdBSWdUQ2xPVTdUYk43SVh6d0NZCjRDWjB2enlocFRvTzFLTlpkbFg1ZVVtdVIyWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRFdyR05aUkpGNUFhVjVFSURxZzAyekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek16QXdPVFV5TURCYUZ3MHpNREF6TWpnd09UVXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVTWmx5blRqRFBTRzZzTWdSQjBsalZZQ2tQMkJrRnIyZGlqZUNnS2pvVVpqMFRKcGE3L0c5dWpILworUzRkbkh6SEtKRlE5b2VuYzlSRDFTb0gvZWNPRmFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQnoyZ1h6S1JEMDNWUVRVSUR6WW16Y3U0NjhIZ2JYSStOUXpwWVR4d0xrNFRBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFtbFpObjVlaTJKVFN1cStaYjNBekNsQkNTSGUvWi9WQjREVHoyUm96QkNNQ0lCSVVldTVxCnk4SGNDaE9QekJBd3ZzbWdzdmEvREhSbUphYjVZcVFDeVp3bwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/file72p8T5 _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel16435>.[m[m[m
Step 10_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel16435-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel16435-02 org2 org1
Step: 11_cli Test 'Add <org1> to channel <testchannel16435-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel16435-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel16435-02 org2 org1
[1;36m
Add org2 to the testchannel16435-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel16435-02 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel16435-02 org2 7051 example.com[m[m[m
--2020-03-30 17:00:28--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:00:28--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:00:28--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel16435-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel16435-02.pb -o orderer.example.com:7050 -c testchannel16435-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:00:29.022 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:00:29.025 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:00:29.028 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:00:29.029 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel16435-02
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel16435-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:00:29.287 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel16435-02': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application/org2 be at version 0, but it is currently at version 1
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org1> added to testchannel16435-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:00:31.466 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:00:31.468 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/files0frNr _null_
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 11_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel16435 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel16435 org1
Step: 12_cli Test 'Join <org1> to the <testchannel16435> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel16435 org1 VERIFY: test-join-channel.sh testchannel16435 org1
[1;36m
Joining  org2 to the testchannel16435 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel16435
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel16435[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=91ea349403b5
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 17:00:34--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:00:34--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:00:34--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:00:34--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel16435
Execute: channel fetch 0 crypto-config/configtx/testchannel16435.pb -o orderer.example.com:7050 -c testchannel16435 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:00:34.227 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:00:34.230 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 17:00:34.289 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:00:34.345 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel16435 channel[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel16435> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:00:36.468 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 12_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel16435 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel16435 org2
Step: 13_cli Test 'Join <org2> to the <testchannel16435> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel16435 org2 VERIFY: test-join-channel.sh testchannel16435 org2
[1;36m
Joining  org2 to the testchannel16435 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel16435
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel16435[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=a3ed654e8a23
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 17:00:39--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:00:39--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:00:39--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:00:39--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel16435
Execute: channel fetch 0 crypto-config/configtx/testchannel16435.pb -o orderer.example.com:7050 -c testchannel16435 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:00:39.255 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:00:39.258 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 17:00:39.316 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: proposal failed (err: bad proposal response 500: cannot create ledger from genesis block: LedgerID already exists)
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel16435> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:00:41.695 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel16435> channel[m[m[m
Step 13_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel16435-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel16435-02 org1
Step: 14_cli Test 'Join <org1> to the <testchannel16435-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel16435-02 org1 VERIFY: test-join-channel.sh testchannel16435-02 org1
[1;36m
Joining  org2 to the testchannel16435-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel16435-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel16435-02[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=548bf3e3142f
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 17:00:44--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:00:44--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:00:44--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:00:44--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel16435-02
Execute: channel fetch 0 crypto-config/configtx/testchannel16435-02.pb -o orderer.example.com:7050 -c testchannel16435-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:00:44.456 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:00:44.459 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 17:00:44.520 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:00:44.573 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel16435-02 channel[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel16435-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:00:46.665 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 14_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel16435-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel16435-02 org2
Step: 15_cli Test 'Join <org2> to the <testchannel16435-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel16435-02 org2 VERIFY: test-join-channel.sh testchannel16435-02 org2
[1;36m
Joining  org2 to the testchannel16435-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel16435-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel16435-02[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel12106 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel12106 org1
Step: 1_cli Test 'Create <testchannel12106> Channel in ORG1'
RUNTEST: create-channel.sh testchannel12106 org1 VERIFY: test-channel-exists.sh testchannel12106 org1
[1;36m
Creating the <testchannel12106> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel12106
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel12106[m[m[m
example.com

Create channel org1 testchannel12106
--2020-03-30 17:04:00--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:04:00--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:04:00--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:04:00--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 17:04:00.628 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 17:04:00.684 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:04:00.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:04:00.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 17:04:00.686 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 17:04:00.686 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 17:04:00.686 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 17:04:00.687 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 17:04:00.687 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:04:00.740 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:04:00.741 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:04:00.741 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 17:04:00.742 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:04:00.742 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 17:04:00.742 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:04:00.743 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:04:00.744 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:04:00.745 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 17:04:00.745 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:04:00.746 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:04:00.746 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:04:00.747 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 17:04:00.748 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 17:04:00.802 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:04:00.822 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel12106.pb -o orderer.example.com:7050 -c testchannel12106 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:04:00.891 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:04:00.894 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 17:04:00.895 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 17:04:00.896 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel12106
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel12106 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:04:01.181 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:04:01.194 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel12106> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel12106> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:04:03.339 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:04:03.341 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:04:03.342 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:04:03.343 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel12106",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T17:04:01Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileX5dB0Z _testchannel12106_
Expect: testchannel12106, got: testchannel12106
[1;32mOK: The channel <testchannel12106> exists and visible to org1[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel12106 org2
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel12106 org2
[1;34m
Verifing if the <testchannel12106> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:04:05.339 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:04:05.342 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filesFYtr7 _null_
Expect: testchannel12106, got: null
[1;32mOK: The channel <testchannel12106> does not exist and in not visible to org2[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel12106 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel12106 org1
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel12106 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel12106 org1
[1;36m
Creating the <^^^^^^testchannel12106> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel12106
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel12106[m[m[m
example.com

Create channel org1 ^^^^^^testchannel12106
--2020-03-30 17:04:07--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:04:07--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:04:07--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:04:08--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 17:04:08.045 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 17:04:08.104 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:04:08.105 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:04:08.105 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 17:04:08.106 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 17:04:08.106 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 17:04:08.106 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 17:04:08.107 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 17:04:08.107 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:04:08.162 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:04:08.162 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:04:08.163 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 17:04:08.163 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:04:08.164 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 17:04:08.164 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:04:08.164 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:04:08.165 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:04:08.166 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 17:04:08.166 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:04:08.167 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:04:08.167 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:04:08.169 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 17:04:08.170 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 17:04:08.225 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel12106' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel12106.pb -o orderer.example.com:7050 -c ^^^^^^testchannel12106 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:04:08.299 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:04:08.301 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel12106.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel12106.json: No such file or directory
>> Prepare config update from org1 for channel ^^^^^^testchannel12106
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel12106 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:04:08.488 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel12106' != '^^^^^^testchannel12106'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel12106> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:04:10.596 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:04:10.598 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileC0zuBB _null_
Expect: ^^^^^^testchannel12106, got: null
[1;32mOK: The channel <^^^^^^testchannel12106> does not exist and in not visible to org1[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel12106 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel12106 org2
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel12106 org2 VERIFY: test-channel-does-not-exist.sh testchannel12106 org2
[1;36m
Creating the <testchannel12106> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel12106
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel12106[m[m[m
example.com

Create channel org2 testchannel12106
--2020-03-30 17:04:13--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:04:13--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:04:13--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:04:13--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 17:04:13.360 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 17:04:13.421 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:04:13.422 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:04:13.423 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 17:04:13.423 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 17:04:13.423 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 17:04:13.424 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 17:04:13.424 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 17:04:13.424 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:04:13.480 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:04:13.481 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:04:13.482 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 17:04:13.482 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:04:13.482 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 17:04:13.483 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:04:13.483 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:04:13.484 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:04:13.485 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 17:04:13.485 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:04:13.485 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:04:13.486 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:04:13.487 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 17:04:13.488 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 17:04:13.543 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel12106.pb -o orderer.example.com:7050 -c testchannel12106 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:04:13.621 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:04:13.626 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel12106.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel12106.json: No such file or directory
>> Prepare config update from org2 for channel testchannel12106
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel12106 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:04:13.795 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel12106> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:04:15.935 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:04:15.938 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileJocCNg _null_
Expect: testchannel12106, got: null
[1;32mOK: The channel <testchannel12106> does not exist and in not visible to org2[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel12106-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel12106-02 org2
Step: 5_cli Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel12106-02 org2 VERIFY: test-channel-exists.sh testchannel12106-02 org2
[1;36m
Creating the <testchannel12106-02> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel12106-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel12106-02[m[m[m
example.com

Create channel org2 testchannel12106-02
--2020-03-30 17:04:18--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:04:18--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:04:18--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:04:18--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 17:04:18.715 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 17:04:18.770 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:04:18.771 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:04:18.771 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 17:04:18.772 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 17:04:18.772 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 17:04:18.772 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 17:04:18.773 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 17:04:18.773 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:04:18.827 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:04:18.828 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:04:18.828 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 17:04:18.828 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:04:18.829 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 17:04:18.829 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:04:18.829 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:04:18.830 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:04:18.831 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 17:04:18.832 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:04:18.832 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:04:18.833 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:04:18.833 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 17:04:18.834 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 17:04:18.890 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:04:18.910 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel12106-02.pb -o orderer.example.com:7050 -c testchannel12106-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:04:18.982 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:04:18.984 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 17:04:18.986 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 17:04:18.987 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org2 for channel testchannel12106-02
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel12106-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:04:19.288 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:04:19.303 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel12106-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel12106-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:04:21.443 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:04:21.448 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:04:21.450 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:04:21.450 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel12106-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T17:04:19Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileD2IjkY _testchannel12106-02_
Expect: testchannel12106-02, got: testchannel12106-02
[1;32mOK: The channel <testchannel12106-02> exists and visible to org2[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel12106-02 org1
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel12106-02 org1
[1;34m
Verifing if the <testchannel12106-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:04:23.490 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:04:23.493 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file0OYxo5 _null_
Expect: testchannel12106-02, got: null
[1;32mOK: The channel <testchannel12106-02> does not exist and in not visible to org1[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel12106-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel12106-02 org1
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel12106-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel12106-02 org1
[1;36m
Creating the <testchannel12106-02> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel12106-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel12106-02[m[m[m
example.com

Create channel org1 testchannel12106-02
--2020-03-30 17:04:26--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:04:26--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:04:26--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:04:26--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 17:04:26.180 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 17:04:26.235 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:04:26.236 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:04:26.236 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 17:04:26.237 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 17:04:26.237 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 17:04:26.238 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 17:04:26.238 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 17:04:26.238 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:04:26.291 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:04:26.291 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:04:26.292 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 17:04:26.292 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:04:26.293 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 17:04:26.293 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:04:26.293 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:04:26.294 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:04:26.295 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 17:04:26.296 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:04:26.296 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:04:26.297 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:04:26.298 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 17:04:26.298 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 17:04:26.353 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel12106-02.pb -o orderer.example.com:7050 -c testchannel12106-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:04:26.432 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:04:26.435 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel12106-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel12106-02.json: No such file or directory
>> Prepare config update from org1 for channel testchannel12106-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel12106-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:04:26.603 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel12106-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:04:28.710 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:04:28.713 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileVAJbCz _null_
Expect: testchannel12106-02, got: null
[1;32mOK: The channel <testchannel12106-02> does not exist and in not visible to org1[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel12106 org1 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel12106 org1 org1
Step: 8_cli Test 'Add <org1> to channel <testchannel12106> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel12106 org1 org1 VERIFY: test-channel-add-org.sh testchannel12106 org1 org1
[1;36m
Add org1 to the testchannel12106 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel12106 org1
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel12106 org1 7051 example.com[m[m[m
--2020-03-30 17:04:31--  http://www.org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.18.0.8
Connecting to www.org1.example.com (www.org1.example.com)|172.18.0.8|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:04:31--  http://www.org1.example.com/msp/cacerts/ca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.18.0.8
Connecting to www.org1.example.com (www.org1.example.com)|172.18.0.8|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/cacerts/ca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:04:31--  http://www.org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.18.0.8
Connecting to www.org1.example.com (www.org1.example.com)|172.18.0.8|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org1' to channel testchannel12106, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel12106.pb -o orderer.example.com:7050 -c testchannel12106 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:04:31.480 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:04:31.483 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:04:31.485 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:04:31.486 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org1 for channel testchannel12106
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel12106 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:04:31.757 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel12106': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application/org1 be at version 0, but it is currently at version 1
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org1> added to testchannel12106 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:04:33.816 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:04:33.819 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:04:33.821 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:04:33.821 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQU1sTEFOa3poQ01rODZ5aWNTdHdNRHN3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQk9SdFQveEZoejdFZHJ1cThiS2tuSm9RMkxGeTJ1blgKT2dMKzRUUnJsSHFmbVExcXYzb0tva3FuOExNcm9YRUtJRWVSR2l5VGtacFYvNmRVNkUwYTM4T2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUdXUUFuclhETU8vCjJzenZ6YUVxOS9pMURHSnJBTno5TkxPZlhpbVYwSFhHTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUdqM1lyTWUKa1E2SDkrTklZS0Q1UmZoSEdrUFU4MGpzYjduOTVJK05TWHNaQWlBWUZaNVo1Wk56eHgveFIyeTNRTTA2TG9sZQpaZlZSekRiL0xFaGZscE1pOWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQUt6bXJQVnBrdW9iZEt4TTVoM09veDh3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQk1sTS80bCtzZHN2SUQ1RDdrUDN0MGlES1ZhemZySmNkN1MzWnVla1dXcU5NTktHL0Y0QmxYOHZDRzRuR292cwpxRlErMzIxZFJvVmlKOFB4SzJCVnB1eWpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKWlpBQ2V0Y013Ny9hek8vTm9TcjMrTFVNWW1zQTNQMDBzNTllS1pYUWRjWXdDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnT2I4alF3Z1NoNW1CellLRXVpMVZwMlNoWmJ4aytmRHZJcWlvanBPLzU2Y0NJR0sxTHIxVXJGeGpGZkFpCmRFMkNPZU93ZlNmVEpUWHdUem5EZmJYU0JGU08KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU5ESE9FSy9GdmJqUjVqcTNac0ptRGN3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016TXdNRGswT0RBd1doY05NekF3TXpJNE1EazAKT0RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCRHg0RS9qeDFkeGFTcS9JR2RoQkN4cHRSSFlYVTE2SERyeXFoTWNDMUtVek1Ob2F1djNUV3FkbAo3cUxveW5JenpIdGdabnBDNWR1aWZrb0t3MzlVVXpHamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdicVAwVTR6Znp1dVFhcERrdlRqMGdrSUZySHkwYnZWOFNqMGxRV21FM0hnd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdLYURLemFsS3NVZ1FDSExqN3FIZ21LM0hhK3RaakRBN3YwbGVmTzJva3pBQ0lCWTZXY2J4Clk1cjJEc09HZXUxSjdlWjlxdlc1RUdFUW5zb1RkRnFnUEpRcgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileGIxVSY _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel12106>.[m[m[m
Step 8_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel12106-02 org2 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel12106-02 org2 org2
Step: 9_cli Test 'Add <org2> to channel <testchannel12106-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel12106-02 org2 org2 VERIFY: test-channel-add-org.sh testchannel12106-02 org2 org2
[1;36m
Add org2 to the testchannel12106-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel12106-02 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel12106-02 org2 7051 example.com[m[m[m
--2020-03-30 17:04:36--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:04:36--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:04:36--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel12106-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel12106-02.pb -o orderer.example.com:7050 -c testchannel12106-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:04:36.641 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:04:36.643 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:04:36.645 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:04:36.646 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel12106-02
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel12106-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:04:36.900 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel12106-02': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application/org2 be at version 0, but it is currently at version 1
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org2> added to testchannel12106-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:04:38.982 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:04:38.985 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:04:38.987 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:04:38.987 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRR204WXJWaVFIdmYzTUxZUmtnSDh0ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFeGtLc0NobFZYTUVPdGhPeEc3bkVKb0R3YXFobjZmRkwKK2k3YW1xL21QQ2FWcDRIUXYwREhCRU9zZlFUQThBQVJJSWZ1NUxtMDYwam1nSHZTaUdFdk9xTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FncGF0QXJMN3R6MTRhCk5EK1VGcDBlUnVnTDFvdTNoSy9JK0tDUFB2NVJ2WUl3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRTRwajdmNVkKaHlPV3o1T1dMWFlLbE9kS1NmZXBzYzlaVnZ2aE92TzBDL0VDSURRTFRUMmQ2TjhNcmgwaW5aT0NxdnlCN25tOApTQ2NXS3NwdDZBYkZZVDBUCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUGJ6WVhyRFAwTTVtbWtiNjEvbk5JakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKTm9tdWZqeTk2V2YvYWhXc3pXWm9BMnA4Y0ExZktRdzk3MUdLZDZtNkFNOTBVUFdoQTVmRS9TWTJ4MW4zQU9lOQpXR01LRStNMm9vTjJER1R5SHowNFE2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ2wKcTBDc3Z1M1BYaG8wUDVRV25SNUc2QXZXaTdlRXI4ajRvSTgrL2xHOWdqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJoQXROV0F1M1ZpVm5YYXA1cXpqVndjU2wvZTNvYWVNU0g0bEczcS9uNUdBSWdUQ2xPVTdUYk43SVh6d0NZCjRDWjB2enlocFRvTzFLTlpkbFg1ZVVtdVIyWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRFdyR05aUkpGNUFhVjVFSURxZzAyekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek16QXdPVFV5TURCYUZ3MHpNREF6TWpnd09UVXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVTWmx5blRqRFBTRzZzTWdSQjBsalZZQ2tQMkJrRnIyZGlqZUNnS2pvVVpqMFRKcGE3L0c5dWpILworUzRkbkh6SEtKRlE5b2VuYzlSRDFTb0gvZWNPRmFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQnoyZ1h6S1JEMDNWUVRVSUR6WW16Y3U0NjhIZ2JYSStOUXpwWVR4d0xrNFRBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFtbFpObjVlaTJKVFN1cStaYjNBekNsQkNTSGUvWi9WQjREVHoyUm96QkNNQ0lCSVVldTVxCnk4SGNDaE9QekJBd3ZzbWdzdmEvREhSbUphYjVZcVFDeVp3bwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileXxDb8o _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel12106-02>.[m[m[m
Step 9_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel12106 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel12106 org1 org2
Step: 10_cli Test 'Add <org2> to channel <testchannel12106> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel12106 org1 org2 VERIFY: test-channel-add-org.sh testchannel12106 org1 org2
[1;36m
Add org2 to the testchannel12106 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel12106 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel12106 org2 7051 example.com[m[m[m
--2020-03-30 17:04:41--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:04:41--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:04:41--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel12106, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel12106.pb -o orderer.example.com:7050 -c testchannel12106 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:04:41.873 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:04:41.875 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:04:41.877 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:04:41.878 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel12106
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel12106 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:04:42.175 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:04:42.191 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization org2 added to testchannel12106 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel12106 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:04:44.279 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:04:44.283 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-30 17:04:44.284 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-30 17:04:44.285 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRR204WXJWaVFIdmYzTUxZUmtnSDh0ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFeGtLc0NobFZYTUVPdGhPeEc3bkVKb0R3YXFobjZmRkwKK2k3YW1xL21QQ2FWcDRIUXYwREhCRU9zZlFUQThBQVJJSWZ1NUxtMDYwam1nSHZTaUdFdk9xTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FncGF0QXJMN3R6MTRhCk5EK1VGcDBlUnVnTDFvdTNoSy9JK0tDUFB2NVJ2WUl3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRTRwajdmNVkKaHlPV3o1T1dMWFlLbE9kS1NmZXBzYzlaVnZ2aE92TzBDL0VDSURRTFRUMmQ2TjhNcmgwaW5aT0NxdnlCN25tOApTQ2NXS3NwdDZBYkZZVDBUCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUGJ6WVhyRFAwTTVtbWtiNjEvbk5JakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKTm9tdWZqeTk2V2YvYWhXc3pXWm9BMnA4Y0ExZktRdzk3MUdLZDZtNkFNOTBVUFdoQTVmRS9TWTJ4MW4zQU9lOQpXR01LRStNMm9vTjJER1R5SHowNFE2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ2wKcTBDc3Z1M1BYaG8wUDVRV25SNUc2QXZXaTdlRXI4ajRvSTgrL2xHOWdqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJoQXROV0F1M1ZpVm5YYXA1cXpqVndjU2wvZTNvYWVNU0g0bEczcS9uNUdBSWdUQ2xPVTdUYk43SVh6d0NZCjRDWjB2enlocFRvTzFLTlpkbFg1ZVVtdVIyWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRFdyR05aUkpGNUFhVjVFSURxZzAyekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek16QXdPVFV5TURCYUZ3MHpNREF6TWpnd09UVXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVTWmx5blRqRFBTRzZzTWdSQjBsalZZQ2tQMkJrRnIyZGlqZUNnS2pvVVpqMFRKcGE3L0c5dWpILworUzRkbkh6SEtKRlE5b2VuYzlSRDFTb0gvZWNPRmFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQnoyZ1h6S1JEMDNWUVRVSUR6WW16Y3U0NjhIZ2JYSStOUXpwWVR4d0xrNFRBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFtbFpObjVlaTJKVFN1cStaYjNBekNsQkNTSGUvWi9WQjREVHoyUm96QkNNQ0lCSVVldTVxCnk4SGNDaE9QekJBd3ZzbWdzdmEvREhSbUphYjVZcVFDeVp3bwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileTAtDWN _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel12106>.[m[m[m
Step 10_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel12106-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel12106-02 org2 org1
Step: 11_cli Test 'Add <org1> to channel <testchannel12106-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel12106-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel12106-02 org2 org1
[1;36m
Add org1 to the testchannel12106-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel12106-02 org1
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel12106-02 org1 7051 example.com[m[m[m
--2020-03-30 17:04:46--  http://www.org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.105
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:04:47--  http://www.org1.example.com/msp/cacerts/ca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.105
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/cacerts/ca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:04:47--  http://www.org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.105
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org1' to channel testchannel12106-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel12106-02.pb -o orderer.example.com:7050 -c testchannel12106-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:04:47.090 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:04:47.093 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:04:47.096 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:04:47.096 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org1 for channel testchannel12106-02
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel12106-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:04:47.396 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:04:47.424 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization org1 added to testchannel12106-02 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel12106-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:04:49.556 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:04:49.558 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-30 17:04:49.560 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-30 17:04:49.560 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQU1sTEFOa3poQ01rODZ5aWNTdHdNRHN3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQk9SdFQveEZoejdFZHJ1cThiS2tuSm9RMkxGeTJ1blgKT2dMKzRUUnJsSHFmbVExcXYzb0tva3FuOExNcm9YRUtJRWVSR2l5VGtacFYvNmRVNkUwYTM4T2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUdXUUFuclhETU8vCjJzenZ6YUVxOS9pMURHSnJBTno5TkxPZlhpbVYwSFhHTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUdqM1lyTWUKa1E2SDkrTklZS0Q1UmZoSEdrUFU4MGpzYjduOTVJK05TWHNaQWlBWUZaNVo1Wk56eHgveFIyeTNRTTA2TG9sZQpaZlZSekRiL0xFaGZscE1pOWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQUt6bXJQVnBrdW9iZEt4TTVoM09veDh3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQk1sTS80bCtzZHN2SUQ1RDdrUDN0MGlES1ZhemZySmNkN1MzWnVla1dXcU5NTktHL0Y0QmxYOHZDRzRuR292cwpxRlErMzIxZFJvVmlKOFB4SzJCVnB1eWpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKWlpBQ2V0Y013Ny9hek8vTm9TcjMrTFVNWW1zQTNQMDBzNTllS1pYUWRjWXdDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnT2I4alF3Z1NoNW1CellLRXVpMVZwMlNoWmJ4aytmRHZJcWlvanBPLzU2Y0NJR0sxTHIxVXJGeGpGZkFpCmRFMkNPZU93ZlNmVEpUWHdUem5EZmJYU0JGU08KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU5ESE9FSy9GdmJqUjVqcTNac0ptRGN3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016TXdNRGswT0RBd1doY05NekF3TXpJNE1EazAKT0RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCRHg0RS9qeDFkeGFTcS9JR2RoQkN4cHRSSFlYVTE2SERyeXFoTWNDMUtVek1Ob2F1djNUV3FkbAo3cUxveW5JenpIdGdabnBDNWR1aWZrb0t3MzlVVXpHamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdicVAwVTR6Znp1dVFhcERrdlRqMGdrSUZySHkwYnZWOFNqMGxRV21FM0hnd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdLYURLemFsS3NVZ1FDSExqN3FIZ21LM0hhK3RaakRBN3YwbGVmTzJva3pBQ0lCWTZXY2J4Clk1cjJEc09HZXUxSjdlWjlxdlc1RUdFUW5zb1RkRnFnUEpRcgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/filewoMLLk _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel12106-02>.[m[m[m
Step 11_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel12106 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel12106 org1
Step: 12_cli Test 'Join <org1> to the <testchannel12106> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel12106 org1 VERIFY: test-join-channel.sh testchannel12106 org1
[1;36m
Joining  org2 to the testchannel12106 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel12106
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel12106[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=0139107b0eb4
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 17:04:52--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:04:52--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:04:52--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:04:52--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel12106
Execute: channel fetch 0 crypto-config/configtx/testchannel12106.pb -o orderer.example.com:7050 -c testchannel12106 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:04:52.360 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:04:52.364 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 17:04:52.436 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:04:52.497 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel12106 channel[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel12106> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:04:54.579 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 12_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel12106 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel12106 org2
Step: 13_cli Test 'Join <org2> to the <testchannel12106> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel12106 org2 VERIFY: test-join-channel.sh testchannel12106 org2
[1;36m
Joining  org2 to the testchannel12106 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel12106
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel12106[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=237bffccd21e
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 17:04:57--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:04:57--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:04:57--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:04:57--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel12106
Execute: channel fetch 0 crypto-config/configtx/testchannel12106.pb -o orderer.example.com:7050 -c testchannel12106 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
^C[34m2020-03-30 17:04:57.560 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: proposal failed (err: bad proposal response 500: cannot create ledger from genesis block: LedgerID already exists)
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel12106> channel...[m[m[m
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel10695 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel10695 org1
Step: 1_cli Test 'Create <testchannel10695> Channel in ORG1'
RUNTEST: create-channel.sh testchannel10695 org1 VERIFY: test-channel-exists.sh testchannel10695 org1
[1;36m
Creating the <testchannel10695> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel10695
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel10695[m[m[m
example.com

Create channel org1 testchannel10695
--2020-03-30 17:07:58--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:07:58--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:07:58--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:07:58--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 17:07:58.988 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 17:07:59.043 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:07:59.044 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:07:59.044 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 17:07:59.045 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 17:07:59.045 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 17:07:59.045 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 17:07:59.046 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 17:07:59.046 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:07:59.100 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:07:59.100 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:07:59.101 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 17:07:59.101 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:07:59.102 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 17:07:59.102 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:07:59.102 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:07:59.103 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:07:59.104 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 17:07:59.105 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:07:59.105 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:07:59.106 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:07:59.107 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 17:07:59.107 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 17:07:59.162 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:07:59.182 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel10695.pb -o orderer.example.com:7050 -c testchannel10695 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:07:59.251 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:07:59.253 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 17:07:59.255 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 17:07:59.255 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel10695
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel10695 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:07:59.574 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:07:59.587 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel10695> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel10695> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:08:01.695 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:08:01.697 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:08:01.699 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:08:01.699 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel10695",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T17:07:59Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileYeBHni _testchannel10695_
Expect: testchannel10695, got: testchannel10695
[1;32mOK: The channel <testchannel10695> exists and visible to org1[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel10695 org2
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel10695 org2
[1;34m
Verifing if the <testchannel10695> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:08:03.794 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:08:03.796 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file4uewLw _null_
Expect: testchannel10695, got: null
[1;32mOK: The channel <testchannel10695> does not exist and in not visible to org2[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel10695 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel10695 org1
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel10695 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel10695 org1
[1;36m
Creating the <^^^^^^testchannel10695> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel10695
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel10695[m[m[m
example.com

Create channel org1 ^^^^^^testchannel10695
--2020-03-30 17:08:06--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:08:06--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:08:06--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:08:06--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 17:08:06.500 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 17:08:06.558 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:08:06.558 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:08:06.559 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 17:08:06.559 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 17:08:06.559 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 17:08:06.560 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 17:08:06.560 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 17:08:06.560 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:08:06.615 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:08:06.615 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:08:06.616 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 17:08:06.616 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:08:06.617 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 17:08:06.617 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:08:06.617 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:08:06.618 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:08:06.619 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 17:08:06.620 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:08:06.622 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:08:06.623 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:08:06.624 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 17:08:06.624 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 17:08:06.681 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel10695' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel10695.pb -o orderer.example.com:7050 -c ^^^^^^testchannel10695 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:08:06.756 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:08:06.757 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel10695.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel10695.json: No such file or directory
>> Prepare config update from org1 for channel ^^^^^^testchannel10695
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel10695 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:08:06.925 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel10695' != '^^^^^^testchannel10695'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel10695> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:08:09.069 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:08:09.070 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileEAETt3 _null_
Expect: ^^^^^^testchannel10695, got: null
[1;32mOK: The channel <^^^^^^testchannel10695> does not exist and in not visible to org1[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel10695 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel10695 org2
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel10695 org2 VERIFY: test-channel-does-not-exist.sh testchannel10695 org2
[1;36m
Creating the <testchannel10695> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel10695
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel10695[m[m[m
example.com

Create channel org2 testchannel10695
--2020-03-30 17:08:11--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:08:11--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:08:11--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:08:11--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 17:08:11.967 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 17:08:12.098 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:08:12.100 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:08:12.101 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 17:08:12.101 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 17:08:12.102 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 17:08:12.102 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 17:08:12.103 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 17:08:12.103 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:08:12.173 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:08:12.174 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:08:12.174 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 17:08:12.175 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:08:12.175 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 17:08:12.175 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:08:12.176 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:08:12.177 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:08:12.177 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 17:08:12.178 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:08:12.178 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:08:12.179 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:08:12.180 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 17:08:12.180 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 17:08:12.236 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel10695.pb -o orderer.example.com:7050 -c testchannel10695 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:08:12.313 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:08:12.316 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel10695.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel10695.json: No such file or directory
>> Prepare config update from org2 for channel testchannel10695
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel10695 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:08:12.502 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel10695> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:08:14.642 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:08:14.645 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filef8NPzL _null_
Expect: testchannel10695, got: null
[1;32mOK: The channel <testchannel10695> does not exist and in not visible to org2[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel10695-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel10695-02 org2
Step: 5_cli Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel10695-02 org2 VERIFY: test-channel-exists.sh testchannel10695-02 org2
[1;36m
Creating the <testchannel10695-02> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel10695-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel10695-02[m[m[m
example.com

Create channel org2 testchannel10695-02
--2020-03-30 17:08:17--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:08:17--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:08:17--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:08:17--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 17:08:17.378 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 17:08:17.456 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:08:17.457 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:08:17.457 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 17:08:17.457 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 17:08:17.458 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 17:08:17.458 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 17:08:17.458 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 17:08:17.459 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:08:17.512 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:08:17.513 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:08:17.513 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 17:08:17.513 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:08:17.514 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 17:08:17.514 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:08:17.514 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:08:17.515 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:08:17.516 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 17:08:17.516 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:08:17.517 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:08:17.518 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:08:17.518 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 17:08:17.519 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 17:08:17.577 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:08:17.599 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel10695-02.pb -o orderer.example.com:7050 -c testchannel10695-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:08:17.670 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:08:17.672 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 17:08:17.675 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 17:08:17.675 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org2 for channel testchannel10695-02
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel10695-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:08:17.968 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:08:17.983 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel10695-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel10695-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:08:20.225 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:08:20.228 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:08:20.230 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:08:20.230 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel10695-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T17:08:17Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileF8yDkD _testchannel10695-02_
Expect: testchannel10695-02, got: testchannel10695-02
[1;32mOK: The channel <testchannel10695-02> exists and visible to org2[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel10695-02 org1
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel10695-02 org1
[1;34m
Verifing if the <testchannel10695-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:08:22.268 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:08:22.271 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filePayGvL _null_
Expect: testchannel10695-02, got: null
[1;32mOK: The channel <testchannel10695-02> does not exist and in not visible to org1[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel10695-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel10695-02 org1
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel10695-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel10695-02 org1
[1;36m
Creating the <testchannel10695-02> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel10695-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel10695-02[m[m[m
example.com

Create channel org1 testchannel10695-02
--2020-03-30 17:08:24--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:08:24--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:08:24--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:08:24--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 17:08:24.993 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 17:08:25.049 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:08:25.049 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:08:25.050 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 17:08:25.050 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 17:08:25.051 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 17:08:25.051 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 17:08:25.051 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 17:08:25.052 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:08:25.105 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:08:25.106 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:08:25.106 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 17:08:25.106 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:08:25.107 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 17:08:25.107 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:08:25.108 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:08:25.108 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:08:25.109 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 17:08:25.110 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:08:25.110 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:08:25.111 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:08:25.112 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 17:08:25.113 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 17:08:25.176 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel10695-02.pb -o orderer.example.com:7050 -c testchannel10695-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:08:25.249 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:08:25.252 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel10695-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel10695-02.json: No such file or directory
>> Prepare config update from org1 for channel testchannel10695-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel10695-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:08:25.427 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel10695-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:08:27.558 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:08:27.560 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileUi3uyh _null_
Expect: testchannel10695-02, got: null
[1;32mOK: The channel <testchannel10695-02> does not exist and in not visible to org1[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel10695 org1 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel10695 org1 org1
Step: 8_cli Test 'Add <org1> to channel <testchannel10695> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel10695 org1 org1 VERIFY: test-channel-add-org.sh testchannel10695 org1 org1
[1;36m
Add org1 to the testchannel10695 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel10695 org1
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel10695 org1 7051 example.com[m[m[m
--2020-03-30 17:08:30--  http://www.org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.18.0.8
Connecting to www.org1.example.com (www.org1.example.com)|172.18.0.8|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:08:30--  http://www.org1.example.com/msp/cacerts/ca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.18.0.8
Connecting to www.org1.example.com (www.org1.example.com)|172.18.0.8|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/cacerts/ca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:08:30--  http://www.org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.18.0.8
Connecting to www.org1.example.com (www.org1.example.com)|172.18.0.8|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org1' to channel testchannel10695, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel10695.pb -o orderer.example.com:7050 -c testchannel10695 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:08:30.319 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:08:30.322 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:08:30.324 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:08:30.324 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org1 for channel testchannel10695
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel10695 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:08:30.605 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel10695': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application/org1 be at version 0, but it is currently at version 1
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org1> added to testchannel10695 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:08:32.699 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:08:32.701 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:08:32.706 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:08:32.706 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQU1sTEFOa3poQ01rODZ5aWNTdHdNRHN3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQk9SdFQveEZoejdFZHJ1cThiS2tuSm9RMkxGeTJ1blgKT2dMKzRUUnJsSHFmbVExcXYzb0tva3FuOExNcm9YRUtJRWVSR2l5VGtacFYvNmRVNkUwYTM4T2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUdXUUFuclhETU8vCjJzenZ6YUVxOS9pMURHSnJBTno5TkxPZlhpbVYwSFhHTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUdqM1lyTWUKa1E2SDkrTklZS0Q1UmZoSEdrUFU4MGpzYjduOTVJK05TWHNaQWlBWUZaNVo1Wk56eHgveFIyeTNRTTA2TG9sZQpaZlZSekRiL0xFaGZscE1pOWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQUt6bXJQVnBrdW9iZEt4TTVoM09veDh3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQk1sTS80bCtzZHN2SUQ1RDdrUDN0MGlES1ZhemZySmNkN1MzWnVla1dXcU5NTktHL0Y0QmxYOHZDRzRuR292cwpxRlErMzIxZFJvVmlKOFB4SzJCVnB1eWpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKWlpBQ2V0Y013Ny9hek8vTm9TcjMrTFVNWW1zQTNQMDBzNTllS1pYUWRjWXdDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnT2I4alF3Z1NoNW1CellLRXVpMVZwMlNoWmJ4aytmRHZJcWlvanBPLzU2Y0NJR0sxTHIxVXJGeGpGZkFpCmRFMkNPZU93ZlNmVEpUWHdUem5EZmJYU0JGU08KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU5ESE9FSy9GdmJqUjVqcTNac0ptRGN3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016TXdNRGswT0RBd1doY05NekF3TXpJNE1EazAKT0RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCRHg0RS9qeDFkeGFTcS9JR2RoQkN4cHRSSFlYVTE2SERyeXFoTWNDMUtVek1Ob2F1djNUV3FkbAo3cUxveW5JenpIdGdabnBDNWR1aWZrb0t3MzlVVXpHamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdicVAwVTR6Znp1dVFhcERrdlRqMGdrSUZySHkwYnZWOFNqMGxRV21FM0hnd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdLYURLemFsS3NVZ1FDSExqN3FIZ21LM0hhK3RaakRBN3YwbGVmTzJva3pBQ0lCWTZXY2J4Clk1cjJEc09HZXUxSjdlWjlxdlc1RUdFUW5zb1RkRnFnUEpRcgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/file7GsRcI _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel10695>.[m[m[m
Step 8_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel10695-02 org2 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel10695-02 org2 org2
Step: 9_cli Test 'Add <org2> to channel <testchannel10695-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel10695-02 org2 org2 VERIFY: test-channel-add-org.sh testchannel10695-02 org2 org2
[1;36m
Add org2 to the testchannel10695-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel10695-02 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel10695-02 org2 7051 example.com[m[m[m
--2020-03-30 17:08:35--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:08:35--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:08:35--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel10695-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel10695-02.pb -o orderer.example.com:7050 -c testchannel10695-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:08:35.521 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:08:35.525 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:08:35.527 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:08:35.527 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel10695-02
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel10695-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:08:35.783 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel10695-02': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application/org2 be at version 0, but it is currently at version 1
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org2> added to testchannel10695-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:08:37.920 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:08:37.923 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:08:37.926 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:08:37.926 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRR204WXJWaVFIdmYzTUxZUmtnSDh0ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFeGtLc0NobFZYTUVPdGhPeEc3bkVKb0R3YXFobjZmRkwKK2k3YW1xL21QQ2FWcDRIUXYwREhCRU9zZlFUQThBQVJJSWZ1NUxtMDYwam1nSHZTaUdFdk9xTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FncGF0QXJMN3R6MTRhCk5EK1VGcDBlUnVnTDFvdTNoSy9JK0tDUFB2NVJ2WUl3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRTRwajdmNVkKaHlPV3o1T1dMWFlLbE9kS1NmZXBzYzlaVnZ2aE92TzBDL0VDSURRTFRUMmQ2TjhNcmgwaW5aT0NxdnlCN25tOApTQ2NXS3NwdDZBYkZZVDBUCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUGJ6WVhyRFAwTTVtbWtiNjEvbk5JakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKTm9tdWZqeTk2V2YvYWhXc3pXWm9BMnA4Y0ExZktRdzk3MUdLZDZtNkFNOTBVUFdoQTVmRS9TWTJ4MW4zQU9lOQpXR01LRStNMm9vTjJER1R5SHowNFE2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ2wKcTBDc3Z1M1BYaG8wUDVRV25SNUc2QXZXaTdlRXI4ajRvSTgrL2xHOWdqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJoQXROV0F1M1ZpVm5YYXA1cXpqVndjU2wvZTNvYWVNU0g0bEczcS9uNUdBSWdUQ2xPVTdUYk43SVh6d0NZCjRDWjB2enlocFRvTzFLTlpkbFg1ZVVtdVIyWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRFdyR05aUkpGNUFhVjVFSURxZzAyekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek16QXdPVFV5TURCYUZ3MHpNREF6TWpnd09UVXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVTWmx5blRqRFBTRzZzTWdSQjBsalZZQ2tQMkJrRnIyZGlqZUNnS2pvVVpqMFRKcGE3L0c5dWpILworUzRkbkh6SEtKRlE5b2VuYzlSRDFTb0gvZWNPRmFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQnoyZ1h6S1JEMDNWUVRVSUR6WW16Y3U0NjhIZ2JYSStOUXpwWVR4d0xrNFRBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFtbFpObjVlaTJKVFN1cStaYjNBekNsQkNTSGUvWi9WQjREVHoyUm96QkNNQ0lCSVVldTVxCnk4SGNDaE9QekJBd3ZzbWdzdmEvREhSbUphYjVZcVFDeVp3bwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/filep4305d _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel10695-02>.[m[m[m
Step 9_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel10695 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel10695 org1 org2
Step: 10_cli Test 'Add <org2> to channel <testchannel10695> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel10695 org1 org2 VERIFY: test-channel-add-org.sh testchannel10695 org1 org2
[1;36m
Add org2 to the testchannel10695 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel10695 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel10695 org2 7051 example.com[m[m[m
--2020-03-30 17:08:40--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:08:40--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:08:40--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel10695, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel10695.pb -o orderer.example.com:7050 -c testchannel10695 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:08:40.836 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:08:40.838 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:08:40.840 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:08:40.841 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel10695
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel10695 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:08:41.137 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:08:41.154 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization org2 added to testchannel10695 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel10695 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:08:43.265 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:08:43.268 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-30 17:08:43.270 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-30 17:08:43.270 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRR204WXJWaVFIdmYzTUxZUmtnSDh0ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFeGtLc0NobFZYTUVPdGhPeEc3bkVKb0R3YXFobjZmRkwKK2k3YW1xL21QQ2FWcDRIUXYwREhCRU9zZlFUQThBQVJJSWZ1NUxtMDYwam1nSHZTaUdFdk9xTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FncGF0QXJMN3R6MTRhCk5EK1VGcDBlUnVnTDFvdTNoSy9JK0tDUFB2NVJ2WUl3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRTRwajdmNVkKaHlPV3o1T1dMWFlLbE9kS1NmZXBzYzlaVnZ2aE92TzBDL0VDSURRTFRUMmQ2TjhNcmgwaW5aT0NxdnlCN25tOApTQ2NXS3NwdDZBYkZZVDBUCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUGJ6WVhyRFAwTTVtbWtiNjEvbk5JakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKTm9tdWZqeTk2V2YvYWhXc3pXWm9BMnA4Y0ExZktRdzk3MUdLZDZtNkFNOTBVUFdoQTVmRS9TWTJ4MW4zQU9lOQpXR01LRStNMm9vTjJER1R5SHowNFE2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ2wKcTBDc3Z1M1BYaG8wUDVRV25SNUc2QXZXaTdlRXI4ajRvSTgrL2xHOWdqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJoQXROV0F1M1ZpVm5YYXA1cXpqVndjU2wvZTNvYWVNU0g0bEczcS9uNUdBSWdUQ2xPVTdUYk43SVh6d0NZCjRDWjB2enlocFRvTzFLTlpkbFg1ZVVtdVIyWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRFdyR05aUkpGNUFhVjVFSURxZzAyekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek16QXdPVFV5TURCYUZ3MHpNREF6TWpnd09UVXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVTWmx5blRqRFBTRzZzTWdSQjBsalZZQ2tQMkJrRnIyZGlqZUNnS2pvVVpqMFRKcGE3L0c5dWpILworUzRkbkh6SEtKRlE5b2VuYzlSRDFTb0gvZWNPRmFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQnoyZ1h6S1JEMDNWUVRVSUR6WW16Y3U0NjhIZ2JYSStOUXpwWVR4d0xrNFRBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFtbFpObjVlaTJKVFN1cStaYjNBekNsQkNTSGUvWi9WQjREVHoyUm96QkNNQ0lCSVVldTVxCnk4SGNDaE9QekJBd3ZzbWdzdmEvREhSbUphYjVZcVFDeVp3bwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileoOCryF _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel10695>.[m[m[m
Step 10_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel10695-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel10695-02 org2 org1
Step: 11_cli Test 'Add <org1> to channel <testchannel10695-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel10695-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel10695-02 org2 org1
[1;36m
Add org1 to the testchannel10695-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel10695-02 org1
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel10695-02 org1 7051 example.com[m[m[m
--2020-03-30 17:08:46--  http://www.org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.105
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:08:46--  http://www.org1.example.com/msp/cacerts/ca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.105
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/cacerts/ca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:08:46--  http://www.org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.105
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org1' to channel testchannel10695-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel10695-02.pb -o orderer.example.com:7050 -c testchannel10695-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:08:46.115 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:08:46.118 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:08:46.120 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:08:46.121 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org1 for channel testchannel10695-02
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel10695-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:08:46.434 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:08:46.453 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization org1 added to testchannel10695-02 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel10695-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:08:48.538 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:08:48.545 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-30 17:08:48.546 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-30 17:08:48.547 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQU1sTEFOa3poQ01rODZ5aWNTdHdNRHN3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQk9SdFQveEZoejdFZHJ1cThiS2tuSm9RMkxGeTJ1blgKT2dMKzRUUnJsSHFmbVExcXYzb0tva3FuOExNcm9YRUtJRWVSR2l5VGtacFYvNmRVNkUwYTM4T2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUdXUUFuclhETU8vCjJzenZ6YUVxOS9pMURHSnJBTno5TkxPZlhpbVYwSFhHTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUdqM1lyTWUKa1E2SDkrTklZS0Q1UmZoSEdrUFU4MGpzYjduOTVJK05TWHNaQWlBWUZaNVo1Wk56eHgveFIyeTNRTTA2TG9sZQpaZlZSekRiL0xFaGZscE1pOWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQUt6bXJQVnBrdW9iZEt4TTVoM09veDh3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQk1sTS80bCtzZHN2SUQ1RDdrUDN0MGlES1ZhemZySmNkN1MzWnVla1dXcU5NTktHL0Y0QmxYOHZDRzRuR292cwpxRlErMzIxZFJvVmlKOFB4SzJCVnB1eWpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKWlpBQ2V0Y013Ny9hek8vTm9TcjMrTFVNWW1zQTNQMDBzNTllS1pYUWRjWXdDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnT2I4alF3Z1NoNW1CellLRXVpMVZwMlNoWmJ4aytmRHZJcWlvanBPLzU2Y0NJR0sxTHIxVXJGeGpGZkFpCmRFMkNPZU93ZlNmVEpUWHdUem5EZmJYU0JGU08KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU5ESE9FSy9GdmJqUjVqcTNac0ptRGN3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016TXdNRGswT0RBd1doY05NekF3TXpJNE1EazAKT0RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCRHg0RS9qeDFkeGFTcS9JR2RoQkN4cHRSSFlYVTE2SERyeXFoTWNDMUtVek1Ob2F1djNUV3FkbAo3cUxveW5JenpIdGdabnBDNWR1aWZrb0t3MzlVVXpHamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdicVAwVTR6Znp1dVFhcERrdlRqMGdrSUZySHkwYnZWOFNqMGxRV21FM0hnd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdLYURLemFsS3NVZ1FDSExqN3FIZ21LM0hhK3RaakRBN3YwbGVmTzJva3pBQ0lCWTZXY2J4Clk1cjJEc09HZXUxSjdlWjlxdlc1RUdFUW5zb1RkRnFnUEpRcgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/file8X1i1f _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel10695-02>.[m[m[m
Step 11_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel10695 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel10695 org1
Step: 12_cli Test 'Join <org1> to the <testchannel10695> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel10695 org1 VERIFY: test-join-channel.sh testchannel10695 org1
[1;36m
Joining  org1 to the testchannel10695 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel10695
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel10695[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=00ba7a397a30
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 17:08:51--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:08:51--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:08:51--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:08:51--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org1 to channel testchannel10695
Execute: channel fetch 0 crypto-config/configtx/testchannel10695.pb -o orderer.example.com:7050 -c testchannel10695 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:08:51.343 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:08:51.345 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 17:08:51.411 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:08:51.471 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org1 has been joined to testchannel10695 channel[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel10695> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:08:54.026 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel10695> channel[m[m[m
Step 12_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel10695 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel10695 org2
Step: 13_cli Test 'Join <org2> to the <testchannel10695> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel10695 org2 VERIFY: test-join-channel.sh testchannel10695 org2
[1;36m
Joining  org2 to the testchannel10695 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel10695
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel10695[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=0efa54af79e4
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 17:08:57--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:08:57--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:08:57--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:08:57--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel10695
Execute: channel fetch 0 crypto-config/configtx/testchannel10695.pb -o orderer.example.com:7050 -c testchannel10695 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:08:57.458 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:08:57.461 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 17:08:57.563 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:08:57.683 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel10695 channel[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel10695> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:09:00.411 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel10695> channel[m[m[m
Step 13_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel10695-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel10695-02 org1
Step: 14_cli Test 'Join <org1> to the <testchannel10695-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel10695-02 org1 VERIFY: test-join-channel.sh testchannel10695-02 org1
[1;36m
Joining  org1 to the testchannel10695-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel10695-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel10695-02[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=8771d7e1fb0f
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 17:09:03--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:09:03--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:09:03--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:09:03--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org1 to channel testchannel10695-02
Execute: channel fetch 0 crypto-config/configtx/testchannel10695-02.pb -o orderer.example.com:7050 -c testchannel10695-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:09:03.680 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:09:03.684 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 17:09:03.754 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:09:03.807 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org1 has been joined to testchannel10695-02 channel[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel10695-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:09:05.935 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel10695-02> channel[m[m[m
Step 14_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel10695-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel10695-02 org2
Step: 15_cli Test 'Join <org2> to the <testchannel10695-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel10695-02 org2 VERIFY: test-join-channel.sh testchannel10695-02 org2
[1;36m
Joining  org2 to the testchannel10695-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel10695-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel10695-02[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=3f7864d4336a
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 17:09:08--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:09:08--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:09:08--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:09:08--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel10695-02
Execute: channel fetch 0 crypto-config/configtx/testchannel10695-02.pb -o orderer.example.com:7050 -c testchannel10695-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:09:08.698 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:09:08.702 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 17:09:08.761 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:09:08.828 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel10695-02 channel[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel10695-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:09:10.937 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel10695-02> channel[m[m[m
Step 15_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel10695 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel10695 org1
Step: 16_cli Test 'Install test chaincode by <org1> to the <testchannel10695> channel'
RUNTEST: chaincode-install.sh testchannel10695 org1 VERIFY: test-chaincode-installed.sh testchannel10695 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in org1...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel10695 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel10695[m[m[m
[1;36m
Installing testchannel10695  chaincode in org1...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel10695'[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=c0e50d92592b
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel10695  /opt/chaincode/node/reference_testchannel10695 node 1.0
[34m2020-03-30 17:09:16.613 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-30 17:09:16.614 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-30 17:09:17.008 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode installed in org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel10695' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 16_cli: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel10695-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel10695-02 org2
Step: 17_cli Test 'Install test chaincode by <org2> to the <testchannel10695-02> channel'
RUNTEST: chaincode-install.sh testchannel10695-02 org2 VERIFY: test-chaincode-installed.sh testchannel10695-02 org2
[1;36m
Installing test chaincode in org2...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in org2...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel10695-02 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel10695-02[m[m[m
[1;36m
Installing testchannel10695-02  chaincode in org2...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel10695-02'[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=a1029491ea5b
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel10695-02  /opt/chaincode/node/reference_testchannel10695-02 node 1.0
[34m2020-03-30 17:09:24.553 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-30 17:09:24.554 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-30 17:09:24.591 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in org2[m[m[m
[1;34m
Verifing if the test chaincode installed in org2 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel10695-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel10695-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel10695-02, Id: 71b41461232de072a3a5ced3786a045b675ef5ce136716b21cef537e01fa7c96
Name: reference_testchannel10695, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel10695, Id: 9bcd6950f5f93be8487e307860e29df98394052fbe62c422c912782b246ce030
Name: reference_testchannel17865-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17865-02, Id: 1e545b23b162c7eab18b864739577db6f2178d450ca8400b84e790a77be730df
Name: reference_testchannel17865, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17865, Id: 4610dd105c1fd5af286001b82aabb689bd2ec58345b3c8474e834e8eae0e4956
Name: reference_testchannel29088-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel29088-02, Id: 6cc4fb0d2dc148f91f51fc066bec89b6798f685898d915cc34fdb5c44fdc3f3e
Name: reference_testchannel29088, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel29088, Id: ab924972ebc78695550f399712f447e92c6ad4a2c5c087e304e9ece1ec891c80
Name: reference_testchannel31130-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel31130-02, Id: 17f5c46056dcfe16fa58974f932a0567f3f8c057c09b255c0dec1277f0927fae
Name: reference_testchannel31130, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel31130, Id: 5904dcb791fa5972f57fec3c49b93ca8a286aa31e47e0ea7e65c03e77239dbfd
reference_testchannel10695-02
[1;32mOK: The test chaincode installed in org2[m[m[m
Step 17_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-instantiate.sh testchannel10695 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel10695 org1
Step: 18_cli Test 'Instantiate test chaincode by <org1> to the <testchannel10695> channel'
RUNTEST: chaincode-instantiate.sh testchannel10695 org1 VERIFY: test-chaincode-instantiated.sh testchannel10695 org1
[1;36m
Instantiate test chaincode in testchannel10695 in org1...[m[m[m
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel25553 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel25553 org1
Step: 1_cli Test 'Create <testchannel25553> Channel in ORG1'
RUNTEST: create-channel.sh testchannel25553 org1 VERIFY: test-channel-exists.sh testchannel25553 org1
[1;36m
Creating the <testchannel25553> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel25553
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel25553[m[m[m
example.com

Create channel org1 testchannel25553
--2020-03-30 17:10:41--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:10:41--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:10:42--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:10:42--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 17:10:42.095 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 17:10:42.187 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:10:42.187 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:10:42.188 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 17:10:42.188 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 17:10:42.188 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 17:10:42.189 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 17:10:42.189 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 17:10:42.189 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:10:42.247 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:10:42.248 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:10:42.248 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 17:10:42.248 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:10:42.249 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 17:10:42.249 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:10:42.249 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:10:42.250 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:10:42.251 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 17:10:42.251 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:10:42.252 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:10:42.253 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:10:42.253 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 17:10:42.254 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 17:10:42.312 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:10:42.331 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel25553.pb -o orderer.example.com:7050 -c testchannel25553 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:10:42.406 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:10:42.409 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 17:10:42.411 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 17:10:42.411 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel25553
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel25553 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:10:42.707 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:10:42.720 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel25553> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel25553> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:10:44.847 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:10:44.850 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:10:44.852 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:10:44.852 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel25553",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T17:10:42Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileCRNbzW _testchannel25553_
Expect: testchannel25553, got: testchannel25553
[1;32mOK: The channel <testchannel25553> exists and visible to org1[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel25553 org2
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel25553 org2
[1;34m
Verifing if the <testchannel25553> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:10:46.913 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:10:46.916 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file0jWE66 _null_
Expect: testchannel25553, got: null
[1;32mOK: The channel <testchannel25553> does not exist and in not visible to org2[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel25553 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel25553 org1
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel25553 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel25553 org1
[1;36m
Creating the <^^^^^^testchannel25553> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel25553
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel25553[m[m[m
example.com

Create channel org1 ^^^^^^testchannel25553
--2020-03-30 17:10:49--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:10:49--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:10:49--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:10:49--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 17:10:49.661 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 17:10:49.718 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:10:49.718 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:10:49.719 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 17:10:49.719 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 17:10:49.720 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 17:10:49.720 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 17:10:49.720 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 17:10:49.721 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:10:49.774 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:10:49.775 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:10:49.775 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 17:10:49.775 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:10:49.776 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 17:10:49.776 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:10:49.777 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:10:49.777 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:10:49.779 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 17:10:49.779 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:10:49.779 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:10:49.780 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:10:49.781 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 17:10:49.782 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 17:10:49.840 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel25553' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel25553.pb -o orderer.example.com:7050 -c ^^^^^^testchannel25553 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:10:49.917 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:10:49.919 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel25553.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel25553.json: No such file or directory
>> Prepare config update from org1 for channel ^^^^^^testchannel25553
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel25553 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:10:50.090 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel25553' != '^^^^^^testchannel25553'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel25553> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:10:52.284 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:10:52.285 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileDopJyB _null_
Expect: ^^^^^^testchannel25553, got: null
[1;32mOK: The channel <^^^^^^testchannel25553> does not exist and in not visible to org1[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel25553 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel25553 org2
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel25553 org2 VERIFY: test-channel-does-not-exist.sh testchannel25553 org2
[1;36m
Creating the <testchannel25553> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel25553
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel25553[m[m[m
example.com

Create channel org2 testchannel25553
--2020-03-30 17:10:54--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:10:54--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:10:54--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:10:54--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 17:10:55.015 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 17:10:55.071 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:10:55.071 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:10:55.072 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 17:10:55.072 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 17:10:55.073 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 17:10:55.073 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 17:10:55.074 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 17:10:55.074 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:10:55.127 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:10:55.127 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:10:55.128 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 17:10:55.128 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:10:55.128 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 17:10:55.129 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:10:55.129 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:10:55.130 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:10:55.131 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 17:10:55.132 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:10:55.132 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:10:55.136 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:10:55.138 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 17:10:55.139 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 17:10:55.200 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel25553.pb -o orderer.example.com:7050 -c testchannel25553 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:10:55.279 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:10:55.282 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel25553.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel25553.json: No such file or directory
>> Prepare config update from org2 for channel testchannel25553
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel25553 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:10:55.474 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel25553> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:10:57.652 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:10:57.655 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileK6ux7f _null_
Expect: testchannel25553, got: null
[1;32mOK: The channel <testchannel25553> does not exist and in not visible to org2[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel25553-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel25553-02 org2
Step: 5_cli Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel25553-02 org2 VERIFY: test-channel-exists.sh testchannel25553-02 org2
[1;36m
Creating the <testchannel25553-02> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel25553-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel25553-02[m[m[m
example.com

Create channel org2 testchannel25553-02
--2020-03-30 17:11:00--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:11:00--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:11:00--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:11:00--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 17:11:00.375 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 17:11:00.449 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:11:00.449 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:11:00.450 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 17:11:00.450 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 17:11:00.450 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 17:11:00.451 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 17:11:00.451 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 17:11:00.451 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:11:00.505 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:11:00.505 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:11:00.506 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 17:11:00.506 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:11:00.507 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 17:11:00.507 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:11:00.507 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:11:00.508 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:11:00.509 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 17:11:00.510 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:11:00.510 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:11:00.511 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:11:00.511 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 17:11:00.512 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 17:11:00.571 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:11:00.593 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel25553-02.pb -o orderer.example.com:7050 -c testchannel25553-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:11:00.663 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:11:00.666 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 17:11:00.669 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 17:11:00.669 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org2 for channel testchannel25553-02
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel25553-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:11:00.957 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:11:00.975 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel25553-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel25553-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:11:03.106 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:11:03.109 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:11:03.111 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:11:03.111 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel25553-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T17:11:00Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileAtmSn2 _testchannel25553-02_
Expect: testchannel25553-02, got: testchannel25553-02
[1;32mOK: The channel <testchannel25553-02> exists and visible to org2[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel25553-02 org1
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel25553-02 org1
[1;34m
Verifing if the <testchannel25553-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:11:05.258 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:11:05.260 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filefXOO6b _null_
Expect: testchannel25553-02, got: null
[1;32mOK: The channel <testchannel25553-02> does not exist and in not visible to org1[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel25553-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel25553-02 org1
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel25553-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel25553-02 org1
[1;36m
Creating the <testchannel25553-02> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel25553-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel25553-02[m[m[m
example.com

Create channel org1 testchannel25553-02
--2020-03-30 17:11:08--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:11:08--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:11:08--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:11:08--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 17:11:08.092 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 17:11:08.148 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:11:08.149 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:11:08.149 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 17:11:08.150 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 17:11:08.150 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 17:11:08.150 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 17:11:08.151 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 17:11:08.151 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:11:08.205 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:11:08.206 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:11:08.206 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 17:11:08.207 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:11:08.207 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 17:11:08.207 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:11:08.208 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:11:08.209 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:11:08.210 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 17:11:08.210 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:11:08.211 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:11:08.211 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:11:08.212 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 17:11:08.213 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 17:11:08.267 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel25553-02.pb -o orderer.example.com:7050 -c testchannel25553-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:11:08.343 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:11:08.346 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel25553-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel25553-02.json: No such file or directory
>> Prepare config update from org1 for channel testchannel25553-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel25553-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:11:08.552 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel25553-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:11:10.725 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:11:10.727 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileLRMsbZ _null_
Expect: testchannel25553-02, got: null
[1;32mOK: The channel <testchannel25553-02> does not exist and in not visible to org1[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel25553 org1 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel25553 org1 org1
Step: 8_cli Test 'Add <org1> to channel <testchannel25553> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel25553 org1 org1 VERIFY: test-channel-add-org.sh testchannel25553 org1 org1
[1;36m
Add org1 to the testchannel25553 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel25553 org1
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel25553 org1 7051 example.com[m[m[m
--2020-03-30 17:11:13--  http://www.org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.18.0.8
Connecting to www.org1.example.com (www.org1.example.com)|172.18.0.8|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:11:13--  http://www.org1.example.com/msp/cacerts/ca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.18.0.8
Connecting to www.org1.example.com (www.org1.example.com)|172.18.0.8|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/cacerts/ca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:11:13--  http://www.org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.18.0.8
Connecting to www.org1.example.com (www.org1.example.com)|172.18.0.8|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org1' to channel testchannel25553, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel25553.pb -o orderer.example.com:7050 -c testchannel25553 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:11:13.695 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:11:13.697 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:11:13.699 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:11:13.699 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org1 for channel testchannel25553
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel25553 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:11:13.958 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel25553': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application/org1 be at version 0, but it is currently at version 1
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org1> added to testchannel25553 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:11:16.008 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:11:16.010 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:11:16.012 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:11:16.012 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQU1sTEFOa3poQ01rODZ5aWNTdHdNRHN3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQk9SdFQveEZoejdFZHJ1cThiS2tuSm9RMkxGeTJ1blgKT2dMKzRUUnJsSHFmbVExcXYzb0tva3FuOExNcm9YRUtJRWVSR2l5VGtacFYvNmRVNkUwYTM4T2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUdXUUFuclhETU8vCjJzenZ6YUVxOS9pMURHSnJBTno5TkxPZlhpbVYwSFhHTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUdqM1lyTWUKa1E2SDkrTklZS0Q1UmZoSEdrUFU4MGpzYjduOTVJK05TWHNaQWlBWUZaNVo1Wk56eHgveFIyeTNRTTA2TG9sZQpaZlZSekRiL0xFaGZscE1pOWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQUt6bXJQVnBrdW9iZEt4TTVoM09veDh3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQk1sTS80bCtzZHN2SUQ1RDdrUDN0MGlES1ZhemZySmNkN1MzWnVla1dXcU5NTktHL0Y0QmxYOHZDRzRuR292cwpxRlErMzIxZFJvVmlKOFB4SzJCVnB1eWpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKWlpBQ2V0Y013Ny9hek8vTm9TcjMrTFVNWW1zQTNQMDBzNTllS1pYUWRjWXdDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnT2I4alF3Z1NoNW1CellLRXVpMVZwMlNoWmJ4aytmRHZJcWlvanBPLzU2Y0NJR0sxTHIxVXJGeGpGZkFpCmRFMkNPZU93ZlNmVEpUWHdUem5EZmJYU0JGU08KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU5ESE9FSy9GdmJqUjVqcTNac0ptRGN3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016TXdNRGswT0RBd1doY05NekF3TXpJNE1EazAKT0RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCRHg0RS9qeDFkeGFTcS9JR2RoQkN4cHRSSFlYVTE2SERyeXFoTWNDMUtVek1Ob2F1djNUV3FkbAo3cUxveW5JenpIdGdabnBDNWR1aWZrb0t3MzlVVXpHamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdicVAwVTR6Znp1dVFhcERrdlRqMGdrSUZySHkwYnZWOFNqMGxRV21FM0hnd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdLYURLemFsS3NVZ1FDSExqN3FIZ21LM0hhK3RaakRBN3YwbGVmTzJva3pBQ0lCWTZXY2J4Clk1cjJEc09HZXUxSjdlWjlxdlc1RUdFUW5zb1RkRnFnUEpRcgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/filegPmzvv _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel25553>.[m[m[m
Step 8_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel25553-02 org2 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel25553-02 org2 org2
Step: 9_cli Test 'Add <org2> to channel <testchannel25553-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel25553-02 org2 org2 VERIFY: test-channel-add-org.sh testchannel25553-02 org2 org2
[1;36m
Add org2 to the testchannel25553-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel25553-02 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel25553-02 org2 7051 example.com[m[m[m
--2020-03-30 17:11:18--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:11:18--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:11:18--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel25553-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel25553-02.pb -o orderer.example.com:7050 -c testchannel25553-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:11:18.782 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:11:18.786 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:11:18.788 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:11:18.789 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel25553-02
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel25553-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:11:19.052 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel25553-02': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application/org2 be at version 0, but it is currently at version 1
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org2> added to testchannel25553-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:11:21.167 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:11:21.170 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:11:21.172 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:11:21.172 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRR204WXJWaVFIdmYzTUxZUmtnSDh0ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFeGtLc0NobFZYTUVPdGhPeEc3bkVKb0R3YXFobjZmRkwKK2k3YW1xL21QQ2FWcDRIUXYwREhCRU9zZlFUQThBQVJJSWZ1NUxtMDYwam1nSHZTaUdFdk9xTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FncGF0QXJMN3R6MTRhCk5EK1VGcDBlUnVnTDFvdTNoSy9JK0tDUFB2NVJ2WUl3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRTRwajdmNVkKaHlPV3o1T1dMWFlLbE9kS1NmZXBzYzlaVnZ2aE92TzBDL0VDSURRTFRUMmQ2TjhNcmgwaW5aT0NxdnlCN25tOApTQ2NXS3NwdDZBYkZZVDBUCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUGJ6WVhyRFAwTTVtbWtiNjEvbk5JakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKTm9tdWZqeTk2V2YvYWhXc3pXWm9BMnA4Y0ExZktRdzk3MUdLZDZtNkFNOTBVUFdoQTVmRS9TWTJ4MW4zQU9lOQpXR01LRStNMm9vTjJER1R5SHowNFE2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ2wKcTBDc3Z1M1BYaG8wUDVRV25SNUc2QXZXaTdlRXI4ajRvSTgrL2xHOWdqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJoQXROV0F1M1ZpVm5YYXA1cXpqVndjU2wvZTNvYWVNU0g0bEczcS9uNUdBSWdUQ2xPVTdUYk43SVh6d0NZCjRDWjB2enlocFRvTzFLTlpkbFg1ZVVtdVIyWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRFdyR05aUkpGNUFhVjVFSURxZzAyekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek16QXdPVFV5TURCYUZ3MHpNREF6TWpnd09UVXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVTWmx5blRqRFBTRzZzTWdSQjBsalZZQ2tQMkJrRnIyZGlqZUNnS2pvVVpqMFRKcGE3L0c5dWpILworUzRkbkh6SEtKRlE5b2VuYzlSRDFTb0gvZWNPRmFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQnoyZ1h6S1JEMDNWUVRVSUR6WW16Y3U0NjhIZ2JYSStOUXpwWVR4d0xrNFRBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFtbFpObjVlaTJKVFN1cStaYjNBekNsQkNTSGUvWi9WQjREVHoyUm96QkNNQ0lCSVVldTVxCnk4SGNDaE9QekJBd3ZzbWdzdmEvREhSbUphYjVZcVFDeVp3bwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/file7i727V _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel25553-02>.[m[m[m
Step 9_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel25553 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel25553 org1 org2
Step: 10_cli Test 'Add <org2> to channel <testchannel25553> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel25553 org1 org2 VERIFY: test-channel-add-org.sh testchannel25553 org1 org2
[1;36m
Add org2 to the testchannel25553 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel25553 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel25553 org2 7051 example.com[m[m[m
--2020-03-30 17:11:23--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:11:23--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:11:23--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel25553, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel25553.pb -o orderer.example.com:7050 -c testchannel25553 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:11:24.067 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:11:24.070 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:11:24.071 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:11:24.072 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel25553
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel25553 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:11:24.364 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:11:24.382 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization org2 added to testchannel25553 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel25553 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:11:26.500 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:11:26.504 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-30 17:11:26.506 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-30 17:11:26.506 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRR204WXJWaVFIdmYzTUxZUmtnSDh0ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFeGtLc0NobFZYTUVPdGhPeEc3bkVKb0R3YXFobjZmRkwKK2k3YW1xL21QQ2FWcDRIUXYwREhCRU9zZlFUQThBQVJJSWZ1NUxtMDYwam1nSHZTaUdFdk9xTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FncGF0QXJMN3R6MTRhCk5EK1VGcDBlUnVnTDFvdTNoSy9JK0tDUFB2NVJ2WUl3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRTRwajdmNVkKaHlPV3o1T1dMWFlLbE9kS1NmZXBzYzlaVnZ2aE92TzBDL0VDSURRTFRUMmQ2TjhNcmgwaW5aT0NxdnlCN25tOApTQ2NXS3NwdDZBYkZZVDBUCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUGJ6WVhyRFAwTTVtbWtiNjEvbk5JakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKTm9tdWZqeTk2V2YvYWhXc3pXWm9BMnA4Y0ExZktRdzk3MUdLZDZtNkFNOTBVUFdoQTVmRS9TWTJ4MW4zQU9lOQpXR01LRStNMm9vTjJER1R5SHowNFE2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ2wKcTBDc3Z1M1BYaG8wUDVRV25SNUc2QXZXaTdlRXI4ajRvSTgrL2xHOWdqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJoQXROV0F1M1ZpVm5YYXA1cXpqVndjU2wvZTNvYWVNU0g0bEczcS9uNUdBSWdUQ2xPVTdUYk43SVh6d0NZCjRDWjB2enlocFRvTzFLTlpkbFg1ZVVtdVIyWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRFdyR05aUkpGNUFhVjVFSURxZzAyekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek16QXdPVFV5TURCYUZ3MHpNREF6TWpnd09UVXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVTWmx5blRqRFBTRzZzTWdSQjBsalZZQ2tQMkJrRnIyZGlqZUNnS2pvVVpqMFRKcGE3L0c5dWpILworUzRkbkh6SEtKRlE5b2VuYzlSRDFTb0gvZWNPRmFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQnoyZ1h6S1JEMDNWUVRVSUR6WW16Y3U0NjhIZ2JYSStOUXpwWVR4d0xrNFRBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFtbFpObjVlaTJKVFN1cStaYjNBekNsQkNTSGUvWi9WQjREVHoyUm96QkNNQ0lCSVVldTVxCnk4SGNDaE9QekJBd3ZzbWdzdmEvREhSbUphYjVZcVFDeVp3bwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileTbvBUn _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel25553>.[m[m[m
Step 10_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel25553-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel25553-02 org2 org1
Step: 11_cli Test 'Add <org1> to channel <testchannel25553-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel25553-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel25553-02 org2 org1
[1;36m
Add org1 to the testchannel25553-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel25553-02 org1
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel25553-02 org1 7051 example.com[m[m[m
--2020-03-30 17:11:29--  http://www.org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.105
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:11:29--  http://www.org1.example.com/msp/cacerts/ca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.105
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/cacerts/ca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:11:29--  http://www.org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.105
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org1' to channel testchannel25553-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel25553-02.pb -o orderer.example.com:7050 -c testchannel25553-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:11:29.297 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:11:29.300 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:11:29.302 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:11:29.302 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org1 for channel testchannel25553-02
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel25553-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:11:29.619 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:11:29.642 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization org1 added to testchannel25553-02 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel25553-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:11:31.749 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:11:31.752 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-30 17:11:31.753 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-30 17:11:31.753 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQU1sTEFOa3poQ01rODZ5aWNTdHdNRHN3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQk9SdFQveEZoejdFZHJ1cThiS2tuSm9RMkxGeTJ1blgKT2dMKzRUUnJsSHFmbVExcXYzb0tva3FuOExNcm9YRUtJRWVSR2l5VGtacFYvNmRVNkUwYTM4T2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUdXUUFuclhETU8vCjJzenZ6YUVxOS9pMURHSnJBTno5TkxPZlhpbVYwSFhHTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUdqM1lyTWUKa1E2SDkrTklZS0Q1UmZoSEdrUFU4MGpzYjduOTVJK05TWHNaQWlBWUZaNVo1Wk56eHgveFIyeTNRTTA2TG9sZQpaZlZSekRiL0xFaGZscE1pOWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQUt6bXJQVnBrdW9iZEt4TTVoM09veDh3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQk1sTS80bCtzZHN2SUQ1RDdrUDN0MGlES1ZhemZySmNkN1MzWnVla1dXcU5NTktHL0Y0QmxYOHZDRzRuR292cwpxRlErMzIxZFJvVmlKOFB4SzJCVnB1eWpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKWlpBQ2V0Y013Ny9hek8vTm9TcjMrTFVNWW1zQTNQMDBzNTllS1pYUWRjWXdDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnT2I4alF3Z1NoNW1CellLRXVpMVZwMlNoWmJ4aytmRHZJcWlvanBPLzU2Y0NJR0sxTHIxVXJGeGpGZkFpCmRFMkNPZU93ZlNmVEpUWHdUem5EZmJYU0JGU08KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU5ESE9FSy9GdmJqUjVqcTNac0ptRGN3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016TXdNRGswT0RBd1doY05NekF3TXpJNE1EazAKT0RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCRHg0RS9qeDFkeGFTcS9JR2RoQkN4cHRSSFlYVTE2SERyeXFoTWNDMUtVek1Ob2F1djNUV3FkbAo3cUxveW5JenpIdGdabnBDNWR1aWZrb0t3MzlVVXpHamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdicVAwVTR6Znp1dVFhcERrdlRqMGdrSUZySHkwYnZWOFNqMGxRV21FM0hnd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdLYURLemFsS3NVZ1FDSExqN3FIZ21LM0hhK3RaakRBN3YwbGVmTzJva3pBQ0lCWTZXY2J4Clk1cjJEc09HZXUxSjdlWjlxdlc1RUdFUW5zb1RkRnFnUEpRcgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileKhhYyY _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel25553-02>.[m[m[m
Step 11_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel25553 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel25553 org1
Step: 12_cli Test 'Join <org1> to the <testchannel25553> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel25553 org1 VERIFY: test-join-channel.sh testchannel25553 org1
[1;36m
Joining  org1 to the testchannel25553 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel25553
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel25553[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=62d9fc847431
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 17:11:34--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:11:34--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:11:34--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:11:34--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org1 to channel testchannel25553
Execute: channel fetch 0 crypto-config/configtx/testchannel25553.pb -o orderer.example.com:7050 -c testchannel25553 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:11:34.756 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:11:34.759 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 17:11:34.816 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:11:34.870 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org1 has been joined to testchannel25553 channel[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel25553> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:11:36.946 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel25553> channel[m[m[m
Step 12_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel25553 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel25553 org2
Step: 13_cli Test 'Join <org2> to the <testchannel25553> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel25553 org2 VERIFY: test-join-channel.sh testchannel25553 org2
[1;36m
Joining  org2 to the testchannel25553 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel25553
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel25553[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=44f4a03f4c9a
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 17:11:39--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:11:39--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:11:39--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:11:39--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel25553
Execute: channel fetch 0 crypto-config/configtx/testchannel25553.pb -o orderer.example.com:7050 -c testchannel25553 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:11:39.771 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:11:39.774 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 17:11:39.832 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:11:39.888 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel25553 channel[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel25553> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:11:41.953 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel25553> channel[m[m[m
Step 13_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel25553-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel25553-02 org1
Step: 14_cli Test 'Join <org1> to the <testchannel25553-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel25553-02 org1 VERIFY: test-join-channel.sh testchannel25553-02 org1
[1;36m
Joining  org1 to the testchannel25553-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel25553-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel25553-02[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=7fa76b68b360
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 17:11:45--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:11:45--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:11:45--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:11:45--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org1 to channel testchannel25553-02
Execute: channel fetch 0 crypto-config/configtx/testchannel25553-02.pb -o orderer.example.com:7050 -c testchannel25553-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:11:45.485 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:11:45.488 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 17:11:45.564 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:11:45.644 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org1 has been joined to testchannel25553-02 channel[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel25553-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:11:48.081 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel25553-02> channel[m[m[m
Step 14_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel25553-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel25553-02 org2
Step: 15_cli Test 'Join <org2> to the <testchannel25553-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel25553-02 org2 VERIFY: test-join-channel.sh testchannel25553-02 org2
[1;36m
Joining  org2 to the testchannel25553-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel25553-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel25553-02[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=5d7f0b1707d1
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 17:11:50--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:11:50--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:11:50--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:11:50--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel25553-02
Execute: channel fetch 0 crypto-config/configtx/testchannel25553-02.pb -o orderer.example.com:7050 -c testchannel25553-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:11:51.058 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:11:51.061 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 17:11:51.121 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:11:51.176 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel25553-02 channel[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel25553-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:11:53.596 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel25553-02> channel[m[m[m
Step 15_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel25553 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel25553 org1
Step: 16_cli Test 'Install test chaincode by <org1> to the <testchannel25553> channel'
RUNTEST: chaincode-install.sh testchannel25553 org1 VERIFY: test-chaincode-installed.sh testchannel25553 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in org1...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel25553 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel25553[m[m[m
[1;36m
Installing testchannel25553  chaincode in org1...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel25553'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=31f4216c919a
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel25553  /opt/chaincode/node/reference_testchannel25553 node 1.0
[34m2020-03-30 17:11:58.616 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-30 17:11:58.617 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-30 17:11:59.075 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode installed in org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel25553' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel25553, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel25553, Id: 8f14d3229b5ee14eb55b451ffe7ec8229ff4920d968b8a9922c82b3fe12c2dd4
reference_testchannel25553
[1;32mOK: The test chaincode installed in org1[m[m[m
Step 16_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel25553-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel25553-02 org2
Step: 17_cli Test 'Install test chaincode by <org2> to the <testchannel25553-02> channel'
RUNTEST: chaincode-install.sh testchannel25553-02 org2 VERIFY: test-chaincode-installed.sh testchannel25553-02 org2
[1;36m
Installing test chaincode in org2...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in org2...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel25553-02 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel25553-02[m[m[m
[1;36m
Installing testchannel25553-02  chaincode in org2...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel25553-02'[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=2aa83af0f669
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel25553-02  /opt/chaincode/node/reference_testchannel25553-02 node 1.0
[34m2020-03-30 17:12:07.032 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-30 17:12:07.032 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-30 17:12:07.143 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in org2[m[m[m
[1;34m
Verifing if the test chaincode installed in org2 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel25553-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel10695-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel10695-02, Id: 71b41461232de072a3a5ced3786a045b675ef5ce136716b21cef537e01fa7c96
Name: reference_testchannel10695, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel10695, Id: 9bcd6950f5f93be8487e307860e29df98394052fbe62c422c912782b246ce030
Name: reference_testchannel17865-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17865-02, Id: 1e545b23b162c7eab18b864739577db6f2178d450ca8400b84e790a77be730df
Name: reference_testchannel17865, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17865, Id: 4610dd105c1fd5af286001b82aabb689bd2ec58345b3c8474e834e8eae0e4956
Name: reference_testchannel25553-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel25553-02, Id: adf4be76f5dcc3074a9537ec663dcb5e55fc9931b2142da54484f8e5ea2de90a
Name: reference_testchannel29088-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel29088-02, Id: 6cc4fb0d2dc148f91f51fc066bec89b6798f685898d915cc34fdb5c44fdc3f3e
Name: reference_testchannel29088, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel29088, Id: ab924972ebc78695550f399712f447e92c6ad4a2c5c087e304e9ece1ec891c80
Name: reference_testchannel31130-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel31130-02, Id: 17f5c46056dcfe16fa58974f932a0567f3f8c057c09b255c0dec1277f0927fae
Name: reference_testchannel31130, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel31130, Id: 5904dcb791fa5972f57fec3c49b93ca8a286aa31e47e0ea7e65c03e77239dbfd
reference_testchannel25553-02
[1;32mOK: The test chaincode installed in org2[m[m[m
Step 17_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-instantiate.sh testchannel25553 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel25553 org1
Step: 18_cli Test 'Instantiate test chaincode by <org1> to the <testchannel25553> channel'
RUNTEST: chaincode-instantiate.sh testchannel25553 org1 VERIFY: test-chaincode-instantiated.sh testchannel25553 org1
[1;36m
Instantiate test chaincode in testchannel25553 in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-instantiate.sh testchannel25553 reference_testchannel25553[m[m[m
Instantiate chaincode testchannel25553 reference_testchannel25553 '[]' 1.0  
[31m2020-03-30 17:12:12.833 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel25553 channel by org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel25553' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel25553:

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 18_cli: exit code 1
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-invoke.sh testchannel25553 org1 reference_testchannel25553 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-query.sh testchannel25553 org1 reference_testchannel25553
Step: 19_cli Test 'Test chaincode invocation and query:  <org1> <-> <org2>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel25553 org1 reference_testchannel25553 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel25553 org1 reference_testchannel25553
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel17640 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel17640 org1
Step: 1_cli Test 'Create <testchannel17640> Channel in ORG1'
RUNTEST: create-channel.sh testchannel17640 org1 VERIFY: test-channel-exists.sh testchannel17640 org1
[1;36m
Creating the <testchannel17640> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel17640
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel17640[m[m[m
example.com

Create channel org1 testchannel17640
--2020-03-30 17:13:47--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:13:47--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:13:47--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:13:47--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 17:13:47.593 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 17:13:47.648 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:13:47.648 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:13:47.649 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 17:13:47.649 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 17:13:47.649 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 17:13:47.650 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 17:13:47.650 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 17:13:47.650 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:13:47.702 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:13:47.703 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:13:47.703 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 17:13:47.705 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:13:47.706 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 17:13:47.706 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:13:47.706 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:13:47.707 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:13:47.708 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 17:13:47.709 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:13:47.709 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:13:47.710 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:13:47.711 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 17:13:47.711 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 17:13:47.780 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:13:47.799 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel17640.pb -o orderer.example.com:7050 -c testchannel17640 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:13:47.870 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:13:47.872 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 17:13:47.874 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 17:13:47.875 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel17640
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel17640 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:13:48.164 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:13:48.178 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel17640> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel17640> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:13:50.420 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:13:50.423 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:13:50.425 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:13:50.426 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel17640",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T17:13:48Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileHzR2CS _testchannel17640_
Expect: testchannel17640, got: testchannel17640
[1;32mOK: The channel <testchannel17640> exists and visible to org1[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel17640 org2
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel17640 org2
[1;34m
Verifing if the <testchannel17640> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:13:52.655 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:13:52.659 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileAz9vt1 _null_
Expect: testchannel17640, got: null
[1;32mOK: The channel <testchannel17640> does not exist and in not visible to org2[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel17640 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel17640 org1
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel17640 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel17640 org1
[1;36m
Creating the <^^^^^^testchannel17640> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel17640
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel17640[m[m[m
example.com

Create channel org1 ^^^^^^testchannel17640
--2020-03-30 17:13:55--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:13:55--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:13:55--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:13:55--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 17:13:55.392 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 17:13:55.452 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:13:55.452 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:13:55.453 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 17:13:55.453 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 17:13:55.454 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 17:13:55.454 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 17:13:55.454 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 17:13:55.454 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:13:55.512 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:13:55.512 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:13:55.513 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 17:13:55.513 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:13:55.513 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 17:13:55.514 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:13:55.514 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:13:55.515 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:13:55.516 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 17:13:55.516 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:13:55.517 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:13:55.517 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:13:55.518 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 17:13:55.519 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 17:13:55.574 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel17640' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel17640.pb -o orderer.example.com:7050 -c ^^^^^^testchannel17640 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:13:55.647 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:13:55.649 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel17640.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel17640.json: No such file or directory
>> Prepare config update from org1 for channel ^^^^^^testchannel17640
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel17640 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:13:55.835 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel17640' != '^^^^^^testchannel17640'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel17640> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:13:57.987 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:13:57.989 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/filenwh9jU _null_
Expect: ^^^^^^testchannel17640, got: null
[1;32mOK: The channel <^^^^^^testchannel17640> does not exist and in not visible to org1[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel17640 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel17640 org2
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel17640 org2 VERIFY: test-channel-does-not-exist.sh testchannel17640 org2
[1;36m
Creating the <testchannel17640> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel17640
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel17640[m[m[m
example.com

Create channel org2 testchannel17640
--2020-03-30 17:14:00--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:14:00--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:14:00--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:14:00--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 17:14:00.747 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 17:14:00.806 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:14:00.806 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:14:00.807 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 17:14:00.807 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 17:14:00.808 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 17:14:00.808 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 17:14:00.808 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 17:14:00.809 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:14:00.864 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:14:00.865 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:14:00.865 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 17:14:00.866 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:14:00.866 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 17:14:00.866 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:14:00.867 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:14:00.867 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:14:00.868 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 17:14:00.869 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:14:00.869 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:14:00.870 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:14:00.871 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 17:14:00.871 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 17:14:00.932 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel17640.pb -o orderer.example.com:7050 -c testchannel17640 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:14:01.009 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:14:01.012 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel17640.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel17640.json: No such file or directory
>> Prepare config update from org2 for channel testchannel17640
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel17640 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:14:01.184 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel17640> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:14:03.304 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:14:03.307 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filelnrvUm _null_
Expect: testchannel17640, got: null
[1;32mOK: The channel <testchannel17640> does not exist and in not visible to org2[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel17640-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel17640-02 org2
Step: 5_cli Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel17640-02 org2 VERIFY: test-channel-exists.sh testchannel17640-02 org2
[1;36m
Creating the <testchannel17640-02> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel17640-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel17640-02[m[m[m
example.com

Create channel org2 testchannel17640-02
--2020-03-30 17:14:06--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:14:06--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:14:06--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:14:06--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 17:14:06.081 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 17:14:06.136 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:14:06.137 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:14:06.137 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 17:14:06.137 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 17:14:06.138 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 17:14:06.138 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 17:14:06.138 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 17:14:06.139 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:14:06.191 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:14:06.192 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:14:06.193 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 17:14:06.193 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:14:06.193 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 17:14:06.194 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:14:06.194 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:14:06.195 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:14:06.196 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 17:14:06.196 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:14:06.197 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:14:06.197 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:14:06.198 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 17:14:06.199 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 17:14:06.256 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:14:06.277 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel17640-02.pb -o orderer.example.com:7050 -c testchannel17640-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:14:06.347 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:14:06.350 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 17:14:06.352 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 17:14:06.353 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org2 for channel testchannel17640-02
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel17640-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:14:06.657 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:14:06.672 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel17640-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel17640-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:14:08.797 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:14:08.801 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:14:08.803 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:14:08.803 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel17640-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T17:14:06Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileimswEb _testchannel17640-02_
Expect: testchannel17640-02, got: testchannel17640-02
[1;32mOK: The channel <testchannel17640-02> exists and visible to org2[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel17640-02 org1
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel17640-02 org1
[1;34m
Verifing if the <testchannel17640-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:14:10.842 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:14:10.844 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filei2Mvxi _null_
Expect: testchannel17640-02, got: null
[1;32mOK: The channel <testchannel17640-02> does not exist and in not visible to org1[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel17640-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel17640-02 org1
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel17640-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel17640-02 org1
[1;36m
Creating the <testchannel17640-02> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel17640-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel17640-02[m[m[m
example.com

Create channel org1 testchannel17640-02
--2020-03-30 17:14:13--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:14:13--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:14:13--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:14:13--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 17:14:13.903 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 17:14:13.960 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:14:13.960 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:14:13.961 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 17:14:13.961 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 17:14:13.961 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 17:14:13.962 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 17:14:13.962 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 17:14:13.962 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:14:14.017 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 17:14:14.017 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 17:14:14.018 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 17:14:14.018 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 17:14:14.018 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 17:14:14.019 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:14:14.019 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:14:14.020 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:14:14.021 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 17:14:14.021 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 17:14:14.022 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 17:14:14.023 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 17:14:14.024 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 17:14:14.024 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 17:14:14.081 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel17640-02.pb -o orderer.example.com:7050 -c testchannel17640-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:14:14.153 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:14:14.156 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel17640-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel17640-02.json: No such file or directory
>> Prepare config update from org1 for channel testchannel17640-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel17640-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:14:14.323 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel17640-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:14:16.491 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:14:16.493 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileFWlud8 _null_
Expect: testchannel17640-02, got: null
[1;32mOK: The channel <testchannel17640-02> does not exist and in not visible to org1[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel17640 org1 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel17640 org1 org1
Step: 8_cli Test 'Add <org1> to channel <testchannel17640> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel17640 org1 org1 VERIFY: test-channel-add-org.sh testchannel17640 org1 org1
[1;36m
Add org1 to the testchannel17640 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel17640 org1
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel17640 org1 7051 example.com[m[m[m
--2020-03-30 17:14:19--  http://www.org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.18.0.8
Connecting to www.org1.example.com (www.org1.example.com)|172.18.0.8|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:14:19--  http://www.org1.example.com/msp/cacerts/ca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.18.0.8
Connecting to www.org1.example.com (www.org1.example.com)|172.18.0.8|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/cacerts/ca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:14:19--  http://www.org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.18.0.8
Connecting to www.org1.example.com (www.org1.example.com)|172.18.0.8|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org1' to channel testchannel17640, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel17640.pb -o orderer.example.com:7050 -c testchannel17640 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:14:19.249 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:14:19.252 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:14:19.254 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:14:19.254 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org1 for channel testchannel17640
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel17640 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:14:19.533 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel17640': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application/org1 be at version 0, but it is currently at version 1
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org1> added to testchannel17640 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:14:21.626 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:14:21.628 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:14:21.630 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:14:21.630 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQU1sTEFOa3poQ01rODZ5aWNTdHdNRHN3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQk9SdFQveEZoejdFZHJ1cThiS2tuSm9RMkxGeTJ1blgKT2dMKzRUUnJsSHFmbVExcXYzb0tva3FuOExNcm9YRUtJRWVSR2l5VGtacFYvNmRVNkUwYTM4T2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUdXUUFuclhETU8vCjJzenZ6YUVxOS9pMURHSnJBTno5TkxPZlhpbVYwSFhHTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUdqM1lyTWUKa1E2SDkrTklZS0Q1UmZoSEdrUFU4MGpzYjduOTVJK05TWHNaQWlBWUZaNVo1Wk56eHgveFIyeTNRTTA2TG9sZQpaZlZSekRiL0xFaGZscE1pOWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQUt6bXJQVnBrdW9iZEt4TTVoM09veDh3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQk1sTS80bCtzZHN2SUQ1RDdrUDN0MGlES1ZhemZySmNkN1MzWnVla1dXcU5NTktHL0Y0QmxYOHZDRzRuR292cwpxRlErMzIxZFJvVmlKOFB4SzJCVnB1eWpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKWlpBQ2V0Y013Ny9hek8vTm9TcjMrTFVNWW1zQTNQMDBzNTllS1pYUWRjWXdDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnT2I4alF3Z1NoNW1CellLRXVpMVZwMlNoWmJ4aytmRHZJcWlvanBPLzU2Y0NJR0sxTHIxVXJGeGpGZkFpCmRFMkNPZU93ZlNmVEpUWHdUem5EZmJYU0JGU08KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU5ESE9FSy9GdmJqUjVqcTNac0ptRGN3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016TXdNRGswT0RBd1doY05NekF3TXpJNE1EazAKT0RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCRHg0RS9qeDFkeGFTcS9JR2RoQkN4cHRSSFlYVTE2SERyeXFoTWNDMUtVek1Ob2F1djNUV3FkbAo3cUxveW5JenpIdGdabnBDNWR1aWZrb0t3MzlVVXpHamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdicVAwVTR6Znp1dVFhcERrdlRqMGdrSUZySHkwYnZWOFNqMGxRV21FM0hnd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdLYURLemFsS3NVZ1FDSExqN3FIZ21LM0hhK3RaakRBN3YwbGVmTzJva3pBQ0lCWTZXY2J4Clk1cjJEc09HZXUxSjdlWjlxdlc1RUdFUW5zb1RkRnFnUEpRcgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileCQbiKw _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel17640>.[m[m[m
Step 8_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel17640-02 org2 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel17640-02 org2 org2
Step: 9_cli Test 'Add <org2> to channel <testchannel17640-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel17640-02 org2 org2 VERIFY: test-channel-add-org.sh testchannel17640-02 org2 org2
[1;36m
Add org2 to the testchannel17640-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel17640-02 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel17640-02 org2 7051 example.com[m[m[m
--2020-03-30 17:14:24--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:14:24--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:14:24--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel17640-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel17640-02.pb -o orderer.example.com:7050 -c testchannel17640-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:14:24.503 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:14:24.506 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:14:24.508 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:14:24.508 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel17640-02
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel17640-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:14:24.772 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel17640-02': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application/org2 be at version 0, but it is currently at version 1
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org2> added to testchannel17640-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:14:26.879 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:14:26.881 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:14:26.883 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:14:26.884 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRR204WXJWaVFIdmYzTUxZUmtnSDh0ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFeGtLc0NobFZYTUVPdGhPeEc3bkVKb0R3YXFobjZmRkwKK2k3YW1xL21QQ2FWcDRIUXYwREhCRU9zZlFUQThBQVJJSWZ1NUxtMDYwam1nSHZTaUdFdk9xTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FncGF0QXJMN3R6MTRhCk5EK1VGcDBlUnVnTDFvdTNoSy9JK0tDUFB2NVJ2WUl3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRTRwajdmNVkKaHlPV3o1T1dMWFlLbE9kS1NmZXBzYzlaVnZ2aE92TzBDL0VDSURRTFRUMmQ2TjhNcmgwaW5aT0NxdnlCN25tOApTQ2NXS3NwdDZBYkZZVDBUCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUGJ6WVhyRFAwTTVtbWtiNjEvbk5JakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKTm9tdWZqeTk2V2YvYWhXc3pXWm9BMnA4Y0ExZktRdzk3MUdLZDZtNkFNOTBVUFdoQTVmRS9TWTJ4MW4zQU9lOQpXR01LRStNMm9vTjJER1R5SHowNFE2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ2wKcTBDc3Z1M1BYaG8wUDVRV25SNUc2QXZXaTdlRXI4ajRvSTgrL2xHOWdqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJoQXROV0F1M1ZpVm5YYXA1cXpqVndjU2wvZTNvYWVNU0g0bEczcS9uNUdBSWdUQ2xPVTdUYk43SVh6d0NZCjRDWjB2enlocFRvTzFLTlpkbFg1ZVVtdVIyWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRFdyR05aUkpGNUFhVjVFSURxZzAyekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek16QXdPVFV5TURCYUZ3MHpNREF6TWpnd09UVXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVTWmx5blRqRFBTRzZzTWdSQjBsalZZQ2tQMkJrRnIyZGlqZUNnS2pvVVpqMFRKcGE3L0c5dWpILworUzRkbkh6SEtKRlE5b2VuYzlSRDFTb0gvZWNPRmFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQnoyZ1h6S1JEMDNWUVRVSUR6WW16Y3U0NjhIZ2JYSStOUXpwWVR4d0xrNFRBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFtbFpObjVlaTJKVFN1cStaYjNBekNsQkNTSGUvWi9WQjREVHoyUm96QkNNQ0lCSVVldTVxCnk4SGNDaE9QekJBd3ZzbWdzdmEvREhSbUphYjVZcVFDeVp3bwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/file5H2h96 _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel17640-02>.[m[m[m
Step 9_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel17640 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel17640 org1 org2
Step: 10_cli Test 'Add <org2> to channel <testchannel17640> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel17640 org1 org2 VERIFY: test-channel-add-org.sh testchannel17640 org1 org2
[1;36m
Add org2 to the testchannel17640 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel17640 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel17640 org2 7051 example.com[m[m[m
--2020-03-30 17:14:29--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:14:29--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:14:29--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel17640, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel17640.pb -o orderer.example.com:7050 -c testchannel17640 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:14:29.791 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:14:29.794 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:14:29.799 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:14:29.799 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel17640
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel17640 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:14:30.127 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:14:30.143 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization org2 added to testchannel17640 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel17640 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:14:32.241 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:14:32.244 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-30 17:14:32.246 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-30 17:14:32.246 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRR204WXJWaVFIdmYzTUxZUmtnSDh0ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFeGtLc0NobFZYTUVPdGhPeEc3bkVKb0R3YXFobjZmRkwKK2k3YW1xL21QQ2FWcDRIUXYwREhCRU9zZlFUQThBQVJJSWZ1NUxtMDYwam1nSHZTaUdFdk9xTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FncGF0QXJMN3R6MTRhCk5EK1VGcDBlUnVnTDFvdTNoSy9JK0tDUFB2NVJ2WUl3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRTRwajdmNVkKaHlPV3o1T1dMWFlLbE9kS1NmZXBzYzlaVnZ2aE92TzBDL0VDSURRTFRUMmQ2TjhNcmgwaW5aT0NxdnlCN25tOApTQ2NXS3NwdDZBYkZZVDBUCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUGJ6WVhyRFAwTTVtbWtiNjEvbk5JakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKTm9tdWZqeTk2V2YvYWhXc3pXWm9BMnA4Y0ExZktRdzk3MUdLZDZtNkFNOTBVUFdoQTVmRS9TWTJ4MW4zQU9lOQpXR01LRStNMm9vTjJER1R5SHowNFE2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ2wKcTBDc3Z1M1BYaG8wUDVRV25SNUc2QXZXaTdlRXI4ajRvSTgrL2xHOWdqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJoQXROV0F1M1ZpVm5YYXA1cXpqVndjU2wvZTNvYWVNU0g0bEczcS9uNUdBSWdUQ2xPVTdUYk43SVh6d0NZCjRDWjB2enlocFRvTzFLTlpkbFg1ZVVtdVIyWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRFdyR05aUkpGNUFhVjVFSURxZzAyekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek16QXdPVFV5TURCYUZ3MHpNREF6TWpnd09UVXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVTWmx5blRqRFBTRzZzTWdSQjBsalZZQ2tQMkJrRnIyZGlqZUNnS2pvVVpqMFRKcGE3L0c5dWpILworUzRkbkh6SEtKRlE5b2VuYzlSRDFTb0gvZWNPRmFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQnoyZ1h6S1JEMDNWUVRVSUR6WW16Y3U0NjhIZ2JYSStOUXpwWVR4d0xrNFRBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFtbFpObjVlaTJKVFN1cStaYjNBekNsQkNTSGUvWi9WQjREVHoyUm96QkNNQ0lCSVVldTVxCnk4SGNDaE9QekJBd3ZzbWdzdmEvREhSbUphYjVZcVFDeVp3bwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileiLlshA _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel17640>.[m[m[m
Step 10_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel17640-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel17640-02 org2 org1
Step: 11_cli Test 'Add <org1> to channel <testchannel17640-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel17640-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel17640-02 org2 org1
[1;36m
Add org1 to the testchannel17640-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel17640-02 org1
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel17640-02 org1 7051 example.com[m[m[m
--2020-03-30 17:14:35--  http://www.org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.105
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:14:35--  http://www.org1.example.com/msp/cacerts/ca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.105
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/cacerts/ca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:14:35--  http://www.org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.105
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org1' to channel testchannel17640-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel17640-02.pb -o orderer.example.com:7050 -c testchannel17640-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:14:35.103 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:14:35.106 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 17:14:35.108 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 17:14:35.108 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org1 for channel testchannel17640-02
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel17640-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:14:35.428 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:14:35.448 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization org1 added to testchannel17640-02 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel17640-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:14:37.543 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:14:37.546 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-30 17:14:37.547 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-30 17:14:37.547 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQU1sTEFOa3poQ01rODZ5aWNTdHdNRHN3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQk9SdFQveEZoejdFZHJ1cThiS2tuSm9RMkxGeTJ1blgKT2dMKzRUUnJsSHFmbVExcXYzb0tva3FuOExNcm9YRUtJRWVSR2l5VGtacFYvNmRVNkUwYTM4T2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUdXUUFuclhETU8vCjJzenZ6YUVxOS9pMURHSnJBTno5TkxPZlhpbVYwSFhHTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUdqM1lyTWUKa1E2SDkrTklZS0Q1UmZoSEdrUFU4MGpzYjduOTVJK05TWHNaQWlBWUZaNVo1Wk56eHgveFIyeTNRTTA2TG9sZQpaZlZSekRiL0xFaGZscE1pOWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQUt6bXJQVnBrdW9iZEt4TTVoM09veDh3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQk1sTS80bCtzZHN2SUQ1RDdrUDN0MGlES1ZhemZySmNkN1MzWnVla1dXcU5NTktHL0Y0QmxYOHZDRzRuR292cwpxRlErMzIxZFJvVmlKOFB4SzJCVnB1eWpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKWlpBQ2V0Y013Ny9hek8vTm9TcjMrTFVNWW1zQTNQMDBzNTllS1pYUWRjWXdDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnT2I4alF3Z1NoNW1CellLRXVpMVZwMlNoWmJ4aytmRHZJcWlvanBPLzU2Y0NJR0sxTHIxVXJGeGpGZkFpCmRFMkNPZU93ZlNmVEpUWHdUem5EZmJYU0JGU08KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU5ESE9FSy9GdmJqUjVqcTNac0ptRGN3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016TXdNRGswT0RBd1doY05NekF3TXpJNE1EazAKT0RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCRHg0RS9qeDFkeGFTcS9JR2RoQkN4cHRSSFlYVTE2SERyeXFoTWNDMUtVek1Ob2F1djNUV3FkbAo3cUxveW5JenpIdGdabnBDNWR1aWZrb0t3MzlVVXpHamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdicVAwVTR6Znp1dVFhcERrdlRqMGdrSUZySHkwYnZWOFNqMGxRV21FM0hnd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdLYURLemFsS3NVZ1FDSExqN3FIZ21LM0hhK3RaakRBN3YwbGVmTzJva3pBQ0lCWTZXY2J4Clk1cjJEc09HZXUxSjdlWjlxdlc1RUdFUW5zb1RkRnFnUEpRcgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileIOHLYb _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel17640-02>.[m[m[m
Step 11_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel17640 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel17640 org1
Step: 12_cli Test 'Join <org1> to the <testchannel17640> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel17640 org1 VERIFY: test-join-channel.sh testchannel17640 org1
[1;36m
Joining  org1 to the testchannel17640 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel17640
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel17640[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=c2973b84485c
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 17:14:40--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:14:40--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:14:40--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:14:40--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org1 to channel testchannel17640
Execute: channel fetch 0 crypto-config/configtx/testchannel17640.pb -o orderer.example.com:7050 -c testchannel17640 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:14:40.357 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:14:40.360 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 17:14:40.426 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:14:40.486 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org1 has been joined to testchannel17640 channel[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel17640> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:14:42.685 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel17640> channel[m[m[m
Step 12_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel17640 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel17640 org2
Step: 13_cli Test 'Join <org2> to the <testchannel17640> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel17640 org2 VERIFY: test-join-channel.sh testchannel17640 org2
[1;36m
Joining  org2 to the testchannel17640 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel17640
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel17640[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=58167c4d1f17
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 17:14:46--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:14:46--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:14:46--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:14:46--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel17640
Execute: channel fetch 0 crypto-config/configtx/testchannel17640.pb -o orderer.example.com:7050 -c testchannel17640 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:14:46.168 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:14:46.171 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 17:14:46.254 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:14:46.342 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel17640 channel[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel17640> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:14:49.063 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel17640> channel[m[m[m
Step 13_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel17640-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel17640-02 org1
Step: 14_cli Test 'Join <org1> to the <testchannel17640-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel17640-02 org1 VERIFY: test-join-channel.sh testchannel17640-02 org1
[1;36m
Joining  org1 to the testchannel17640-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel17640-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel17640-02[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=71c27610fea7
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 17:14:52--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:14:52--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:14:52--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:14:52--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org1 to channel testchannel17640-02
Execute: channel fetch 0 crypto-config/configtx/testchannel17640-02.pb -o orderer.example.com:7050 -c testchannel17640-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:14:52.174 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:14:52.176 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 17:14:52.233 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:14:52.288 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org1 has been joined to testchannel17640-02 channel[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel17640-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:14:54.499 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel17640-02> channel[m[m[m
Step 14_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel17640-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel17640-02 org2
Step: 15_cli Test 'Join <org2> to the <testchannel17640-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel17640-02 org2 VERIFY: test-join-channel.sh testchannel17640-02 org2
[1;36m
Joining  org2 to the testchannel17640-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel17640-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel17640-02[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=0e48e5467f29
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 17:14:57--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:14:57--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:14:57--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 17:14:57--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel17640-02
Execute: channel fetch 0 crypto-config/configtx/testchannel17640-02.pb -o orderer.example.com:7050 -c testchannel17640-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 17:14:57.342 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:14:57.345 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 17:14:57.415 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 17:14:57.476 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel17640-02 channel[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel17640-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 17:14:59.554 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel17640-02> channel[m[m[m
Step 15_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel17640 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel17640 org1
Step: 16_cli Test 'Install test chaincode by <org1> to the <testchannel17640> channel'
RUNTEST: chaincode-install.sh testchannel17640 org1 VERIFY: test-chaincode-installed.sh testchannel17640 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in org1...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel17640 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel17640[m[m[m
[1;36m
Installing testchannel17640  chaincode in org1...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel17640'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=35e33c57e538
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel17640  /opt/chaincode/node/reference_testchannel17640 node 1.0
[34m2020-03-30 17:15:03.826 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-30 17:15:03.826 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-30 17:15:04.044 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode installed in org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel17640' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel17640, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17640, Id: 6e65705c305dc26d848ae39059e56edccfd8d66cacb2f4684123edf826b46b02
Name: reference_testchannel25553, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel25553, Id: 8f14d3229b5ee14eb55b451ffe7ec8229ff4920d968b8a9922c82b3fe12c2dd4
reference_testchannel17640
[1;32mOK: The test chaincode installed in org1[m[m[m
Step 16_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel17640-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel17640-02 org2
Step: 17_cli Test 'Install test chaincode by <org2> to the <testchannel17640-02> channel'
RUNTEST: chaincode-install.sh testchannel17640-02 org2 VERIFY: test-chaincode-installed.sh testchannel17640-02 org2
[1;36m
Installing test chaincode in org2...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in org2...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel17640-02 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel17640-02[m[m[m
[1;36m
Installing testchannel17640-02  chaincode in org2...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel17640-02'[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=04f00b9ef9e3
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel17640-02  /opt/chaincode/node/reference_testchannel17640-02 node 1.0
[34m2020-03-30 17:15:12.599 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-30 17:15:12.600 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-30 17:15:12.765 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in org2[m[m[m
[1;34m
Verifing if the test chaincode installed in org2 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel17640-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel10695-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel10695-02, Id: 71b41461232de072a3a5ced3786a045b675ef5ce136716b21cef537e01fa7c96
Name: reference_testchannel10695, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel10695, Id: 9bcd6950f5f93be8487e307860e29df98394052fbe62c422c912782b246ce030
Name: reference_testchannel17640-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17640-02, Id: 8f094ccb7ad7d85255752539c86fd8d2cf3af1fd6f89b25701a25bbcc29d5f08
Name: reference_testchannel17865-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17865-02, Id: 1e545b23b162c7eab18b864739577db6f2178d450ca8400b84e790a77be730df
Name: reference_testchannel17865, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17865, Id: 4610dd105c1fd5af286001b82aabb689bd2ec58345b3c8474e834e8eae0e4956
Name: reference_testchannel25553-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel25553-02, Id: adf4be76f5dcc3074a9537ec663dcb5e55fc9931b2142da54484f8e5ea2de90a
Name: reference_testchannel29088-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel29088-02, Id: 6cc4fb0d2dc148f91f51fc066bec89b6798f685898d915cc34fdb5c44fdc3f3e
Name: reference_testchannel29088, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel29088, Id: ab924972ebc78695550f399712f447e92c6ad4a2c5c087e304e9ece1ec891c80
Name: reference_testchannel31130-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel31130-02, Id: 17f5c46056dcfe16fa58974f932a0567f3f8c057c09b255c0dec1277f0927fae
Name: reference_testchannel31130, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel31130, Id: 5904dcb791fa5972f57fec3c49b93ca8a286aa31e47e0ea7e65c03e77239dbfd
reference_testchannel17640-02
[1;32mOK: The test chaincode installed in org2[m[m[m
Step 17_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-instantiate.sh testchannel17640 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel17640 org1
Step: 18_cli Test 'Instantiate test chaincode by <org1> to the <testchannel17640> channel'
RUNTEST: chaincode-instantiate.sh testchannel17640 org1 VERIFY: test-chaincode-instantiated.sh testchannel17640 org1
[1;36m
Instantiate test chaincode in testchannel17640 in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-instantiate.sh testchannel17640 reference_testchannel17640[m[m[m
Instantiate chaincode testchannel17640 reference_testchannel17640 '[]' 1.0  
[34m2020-03-30 17:15:18.843 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-30 17:15:18.844 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[1;32mOK: Test chaincode instantiated in testchannel17640 by org1[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel17640 channel by org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel17640' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel17640:
Name: reference_testchannel17640, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17640, Escc: escc, Vscc: vscc
reference_testchannel17640
[1;32mOK: The test chaincode installed in testchannel17640 channel by org1 org[m[m[m
Step 18_cli: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-invoke.sh testchannel17640 org1 reference_testchannel17640 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-query.sh testchannel17640 org1 reference_testchannel17640
Step: 19_cli Test 'Test chaincode invocation and query:  <org1> <-> <org2>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel17640 org1 reference_testchannel17640 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel17640 org1 reference_testchannel17640
[1;36m
Invoke test chaincode on the <testchannel17640> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-invoke.sh testchannel17640 reference_testchannel17640 '["put","testchannel17640","testchannel17640"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-invoke.sh  testchannel17640 reference_testchannel17640 '["put","testchannel17640","testchannel17640"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051 peer chaincode invoke -n reference_testchannel17640 -C testchannel17640 -c '{"Args":["put","testchannel17640","testchannel17640"]}'
[34m2020-03-30 17:16:12.123 UTC [chaincodeCmd] InitCmdFactory -> INFO 001[0m Retrieved channel (testchannel17640) orderer endpoint: orderer.example.com:7050
Error: endorsement failure during invoke. response: status:500 message:"cannot retrieve package for chaincode reference_testchannel17640/1.0, error open /var/hyperledger/production/chaincodes/reference_testchannel17640.1.0: no such file or directory" 
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;36m
Query test chaincode on the <testchannel17640> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel17640 reference_testchannel17640 '["range","testchannel17640"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel17640 reference_testchannel17640 '["range","testchannel17640"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051 peer chaincode query -n reference_testchannel17640 -C testchannel17640 -c '{"Args":["range","testchannel17640"]}'
Error: endorsement failure during query. response: status:500 message:"cannot retrieve package for chaincode reference_testchannel17640/1.0, error open /var/hyperledger/production/chaincodes/reference_testchannel17640.1.0: no such file or directory" 
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 19_cli: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel10161 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel10161 org1
Step: 1_cli Test 'Create <testchannel10161> Channel in ORG1'
RUNTEST: create-channel.sh testchannel10161 org1 VERIFY: test-channel-exists.sh testchannel10161 org1
[1;36m
Creating the <testchannel10161> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel10161
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel10161[m[m[m
example.com

Create channel org1 testchannel10161
--2020-03-30 18:31:34--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:31:34--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:31:34--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:31:34--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 18:31:34.170 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 18:31:34.230 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 18:31:34.231 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 18:31:34.231 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 18:31:34.232 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 18:31:34.232 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 18:31:34.232 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 18:31:34.233 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 18:31:34.233 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 18:31:34.288 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 18:31:34.289 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 18:31:34.289 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 18:31:34.290 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 18:31:34.290 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 18:31:34.290 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 18:31:34.291 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 18:31:34.292 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 18:31:34.293 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 18:31:34.293 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 18:31:34.293 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 18:31:34.294 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 18:31:34.295 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 18:31:34.296 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 18:31:34.386 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:31:34.417 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel10161.pb -o orderer.example.com:7050 -c testchannel10161 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:31:34.502 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:31:34.504 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 18:31:34.506 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 18:31:34.506 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel10161
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel10161 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:31:34.856 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:31:34.875 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel10161> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel10161> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:31:37.165 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:31:37.167 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 18:31:37.169 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 18:31:37.169 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel10161",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T18:31:34Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileqSEsVH _testchannel10161_
Expect: testchannel10161, got: testchannel10161
[1;32mOK: The channel <testchannel10161> exists and visible to org1[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel10161 org2
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel10161 org2
[1;34m
Verifing if the <testchannel10161> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:31:39.282 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:31:39.285 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileO527HM _null_
Expect: testchannel10161, got: null
[1;32mOK: The channel <testchannel10161> does not exist and in not visible to org2[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel10161 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel10161 org1
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel10161 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel10161 org1
[1;36m
Creating the <^^^^^^testchannel10161> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel10161
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel10161[m[m[m
example.com

Create channel org1 ^^^^^^testchannel10161
--2020-03-30 18:31:42--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:31:42--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:31:42--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:31:42--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 18:31:42.094 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 18:31:42.149 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 18:31:42.150 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 18:31:42.150 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 18:31:42.151 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 18:31:42.151 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 18:31:42.151 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 18:31:42.152 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 18:31:42.152 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 18:31:42.206 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 18:31:42.206 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 18:31:42.207 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 18:31:42.207 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 18:31:42.208 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 18:31:42.208 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 18:31:42.208 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 18:31:42.209 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 18:31:42.210 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 18:31:42.210 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 18:31:42.211 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 18:31:42.211 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 18:31:42.212 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 18:31:42.213 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 18:31:42.274 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel10161' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel10161.pb -o orderer.example.com:7050 -c ^^^^^^testchannel10161 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:31:42.350 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:31:42.353 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel10161.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel10161.json: No such file or directory
>> Prepare config update from org1 for channel ^^^^^^testchannel10161
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel10161 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:31:42.545 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel10161' != '^^^^^^testchannel10161'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel10161> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:31:44.720 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:31:44.722 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileXMEXHy _null_
Expect: ^^^^^^testchannel10161, got: null
[1;32mOK: The channel <^^^^^^testchannel10161> does not exist and in not visible to org1[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel10161 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel10161 org2
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel10161 org2 VERIFY: test-channel-does-not-exist.sh testchannel10161 org2
[1;36m
Creating the <testchannel10161> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel10161
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel10161[m[m[m
example.com

Create channel org2 testchannel10161
--2020-03-30 18:31:47--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:31:47--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:31:47--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:31:47--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 18:31:47.531 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 18:31:47.591 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 18:31:47.591 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 18:31:47.592 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 18:31:47.592 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 18:31:47.593 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 18:31:47.593 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 18:31:47.593 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 18:31:47.594 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 18:31:47.648 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 18:31:47.648 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 18:31:47.649 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 18:31:47.649 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 18:31:47.650 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 18:31:47.650 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 18:31:47.650 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 18:31:47.651 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 18:31:47.652 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 18:31:47.653 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 18:31:47.653 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 18:31:47.654 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 18:31:47.654 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 18:31:47.655 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 18:31:47.714 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel10161.pb -o orderer.example.com:7050 -c testchannel10161 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:31:47.792 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:31:47.795 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel10161.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel10161.json: No such file or directory
>> Prepare config update from org2 for channel testchannel10161
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel10161 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:31:48.023 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel10161> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:31:50.374 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:31:50.377 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filenfA6Lf _null_
Expect: testchannel10161, got: null
[1;32mOK: The channel <testchannel10161> does not exist and in not visible to org2[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel10161-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel10161-02 org2
Step: 5_cli Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel10161-02 org2 VERIFY: test-channel-exists.sh testchannel10161-02 org2
[1;36m
Creating the <testchannel10161-02> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel10161-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel10161-02[m[m[m
example.com

Create channel org2 testchannel10161-02
--2020-03-30 18:31:53--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:31:53--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:31:53--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:31:53--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 18:31:53.349 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 18:31:53.423 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 18:31:53.424 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 18:31:53.424 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 18:31:53.425 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 18:31:53.427 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 18:31:53.428 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 18:31:53.428 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 18:31:53.429 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 18:31:53.493 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 18:31:53.493 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 18:31:53.494 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 18:31:53.494 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 18:31:53.494 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 18:31:53.495 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 18:31:53.495 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 18:31:53.496 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 18:31:53.497 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 18:31:53.497 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 18:31:53.498 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 18:31:53.498 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 18:31:53.499 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 18:31:53.500 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 18:31:53.557 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:31:53.578 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel10161-02.pb -o orderer.example.com:7050 -c testchannel10161-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:31:53.648 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:31:53.650 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 18:31:53.652 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 18:31:53.653 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org2 for channel testchannel10161-02
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel10161-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:31:53.975 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:31:53.992 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel10161-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel10161-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:31:56.300 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:31:56.308 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 18:31:56.313 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 18:31:56.313 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel10161-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T18:31:53Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileAs9pSy _testchannel10161-02_
Expect: testchannel10161-02, got: testchannel10161-02
[1;32mOK: The channel <testchannel10161-02> exists and visible to org2[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel10161-02 org1
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel10161-02 org1
[1;34m
Verifing if the <testchannel10161-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:31:58.563 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:31:58.565 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file6OHamU _null_
Expect: testchannel10161-02, got: null
[1;32mOK: The channel <testchannel10161-02> does not exist and in not visible to org1[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel10161-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel10161-02 org1
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel10161-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel10161-02 org1
[1;36m
Creating the <testchannel10161-02> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel10161-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel10161-02[m[m[m
example.com

Create channel org1 testchannel10161-02
--2020-03-30 18:32:01--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:32:01--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:32:01--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:32:01--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 18:32:01.707 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 18:32:01.769 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 18:32:01.770 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 18:32:01.770 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 18:32:01.770 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 18:32:01.771 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 18:32:01.771 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 18:32:01.771 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 18:32:01.772 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 18:32:01.835 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 18:32:01.836 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 18:32:01.836 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 18:32:01.837 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 18:32:01.837 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 18:32:01.837 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 18:32:01.838 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 18:32:01.839 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 18:32:01.841 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 18:32:01.841 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 18:32:01.842 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 18:32:01.842 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 18:32:01.844 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 18:32:01.844 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 18:32:01.913 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel10161-02.pb -o orderer.example.com:7050 -c testchannel10161-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:32:02.011 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:32:02.014 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel10161-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel10161-02.json: No such file or directory
>> Prepare config update from org1 for channel testchannel10161-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel10161-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:32:02.218 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel10161-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:32:04.386 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:32:04.390 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filexh5I34 _null_
Expect: testchannel10161-02, got: null
[1;32mOK: The channel <testchannel10161-02> does not exist and in not visible to org1[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel10161 org1 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel10161 org1 org1
Step: 8_cli Test 'Add <org1> to channel <testchannel10161> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel10161 org1 org1 VERIFY: test-channel-add-org.sh testchannel10161 org1 org1
[1;36m
Add org1 to the testchannel10161 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel10161 org1
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel10161 org1 7051 example.com[m[m[m
--2020-03-30 18:32:07--  http://www.org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.18.0.8
Connecting to www.org1.example.com (www.org1.example.com)|172.18.0.8|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:32:07--  http://www.org1.example.com/msp/cacerts/ca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.18.0.8
Connecting to www.org1.example.com (www.org1.example.com)|172.18.0.8|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/cacerts/ca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:32:07--  http://www.org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.18.0.8
Connecting to www.org1.example.com (www.org1.example.com)|172.18.0.8|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org1' to channel testchannel10161, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel10161.pb -o orderer.example.com:7050 -c testchannel10161 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:32:07.391 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:32:07.395 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 18:32:07.397 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 18:32:07.398 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org1 for channel testchannel10161
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel10161 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:32:07.660 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel10161': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application/org1 be at version 0, but it is currently at version 1
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org1> added to testchannel10161 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:32:09.973 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:32:09.977 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 18:32:09.980 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 18:32:09.980 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQU1sTEFOa3poQ01rODZ5aWNTdHdNRHN3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQk9SdFQveEZoejdFZHJ1cThiS2tuSm9RMkxGeTJ1blgKT2dMKzRUUnJsSHFmbVExcXYzb0tva3FuOExNcm9YRUtJRWVSR2l5VGtacFYvNmRVNkUwYTM4T2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUdXUUFuclhETU8vCjJzenZ6YUVxOS9pMURHSnJBTno5TkxPZlhpbVYwSFhHTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUdqM1lyTWUKa1E2SDkrTklZS0Q1UmZoSEdrUFU4MGpzYjduOTVJK05TWHNaQWlBWUZaNVo1Wk56eHgveFIyeTNRTTA2TG9sZQpaZlZSekRiL0xFaGZscE1pOWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQUt6bXJQVnBrdW9iZEt4TTVoM09veDh3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQk1sTS80bCtzZHN2SUQ1RDdrUDN0MGlES1ZhemZySmNkN1MzWnVla1dXcU5NTktHL0Y0QmxYOHZDRzRuR292cwpxRlErMzIxZFJvVmlKOFB4SzJCVnB1eWpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKWlpBQ2V0Y013Ny9hek8vTm9TcjMrTFVNWW1zQTNQMDBzNTllS1pYUWRjWXdDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnT2I4alF3Z1NoNW1CellLRXVpMVZwMlNoWmJ4aytmRHZJcWlvanBPLzU2Y0NJR0sxTHIxVXJGeGpGZkFpCmRFMkNPZU93ZlNmVEpUWHdUem5EZmJYU0JGU08KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU5ESE9FSy9GdmJqUjVqcTNac0ptRGN3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016TXdNRGswT0RBd1doY05NekF3TXpJNE1EazAKT0RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCRHg0RS9qeDFkeGFTcS9JR2RoQkN4cHRSSFlYVTE2SERyeXFoTWNDMUtVek1Ob2F1djNUV3FkbAo3cUxveW5JenpIdGdabnBDNWR1aWZrb0t3MzlVVXpHamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdicVAwVTR6Znp1dVFhcERrdlRqMGdrSUZySHkwYnZWOFNqMGxRV21FM0hnd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdLYURLemFsS3NVZ1FDSExqN3FIZ21LM0hhK3RaakRBN3YwbGVmTzJva3pBQ0lCWTZXY2J4Clk1cjJEc09HZXUxSjdlWjlxdlc1RUdFUW5zb1RkRnFnUEpRcgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileSj8RVT _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel10161>.[m[m[m
Step 8_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel10161-02 org2 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel10161-02 org2 org2
Step: 9_cli Test 'Add <org2> to channel <testchannel10161-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel10161-02 org2 org2 VERIFY: test-channel-add-org.sh testchannel10161-02 org2 org2
[1;36m
Add org2 to the testchannel10161-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel10161-02 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel10161-02 org2 7051 example.com[m[m[m
--2020-03-30 18:32:13--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:32:13--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:32:13--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel10161-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel10161-02.pb -o orderer.example.com:7050 -c testchannel10161-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:32:13.126 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:32:13.131 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 18:32:13.133 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 18:32:13.134 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel10161-02
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel10161-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:32:13.546 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel10161-02': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application/org2 be at version 0, but it is currently at version 1
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org2> added to testchannel10161-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:32:15.904 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:32:15.907 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 18:32:15.909 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 18:32:15.910 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRR204WXJWaVFIdmYzTUxZUmtnSDh0ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFeGtLc0NobFZYTUVPdGhPeEc3bkVKb0R3YXFobjZmRkwKK2k3YW1xL21QQ2FWcDRIUXYwREhCRU9zZlFUQThBQVJJSWZ1NUxtMDYwam1nSHZTaUdFdk9xTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FncGF0QXJMN3R6MTRhCk5EK1VGcDBlUnVnTDFvdTNoSy9JK0tDUFB2NVJ2WUl3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRTRwajdmNVkKaHlPV3o1T1dMWFlLbE9kS1NmZXBzYzlaVnZ2aE92TzBDL0VDSURRTFRUMmQ2TjhNcmgwaW5aT0NxdnlCN25tOApTQ2NXS3NwdDZBYkZZVDBUCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUGJ6WVhyRFAwTTVtbWtiNjEvbk5JakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKTm9tdWZqeTk2V2YvYWhXc3pXWm9BMnA4Y0ExZktRdzk3MUdLZDZtNkFNOTBVUFdoQTVmRS9TWTJ4MW4zQU9lOQpXR01LRStNMm9vTjJER1R5SHowNFE2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ2wKcTBDc3Z1M1BYaG8wUDVRV25SNUc2QXZXaTdlRXI4ajRvSTgrL2xHOWdqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJoQXROV0F1M1ZpVm5YYXA1cXpqVndjU2wvZTNvYWVNU0g0bEczcS9uNUdBSWdUQ2xPVTdUYk43SVh6d0NZCjRDWjB2enlocFRvTzFLTlpkbFg1ZVVtdVIyWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRFdyR05aUkpGNUFhVjVFSURxZzAyekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek16QXdPVFV5TURCYUZ3MHpNREF6TWpnd09UVXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVTWmx5blRqRFBTRzZzTWdSQjBsalZZQ2tQMkJrRnIyZGlqZUNnS2pvVVpqMFRKcGE3L0c5dWpILworUzRkbkh6SEtKRlE5b2VuYzlSRDFTb0gvZWNPRmFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQnoyZ1h6S1JEMDNWUVRVSUR6WW16Y3U0NjhIZ2JYSStOUXpwWVR4d0xrNFRBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFtbFpObjVlaTJKVFN1cStaYjNBekNsQkNTSGUvWi9WQjREVHoyUm96QkNNQ0lCSVVldTVxCnk4SGNDaE9QekJBd3ZzbWdzdmEvREhSbUphYjVZcVFDeVp3bwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileryHk49 _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel10161-02>.[m[m[m
Step 9_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel10161 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel10161 org1 org2
Step: 10_cli Test 'Add <org2> to channel <testchannel10161> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel10161 org1 org2 VERIFY: test-channel-add-org.sh testchannel10161 org1 org2
[1;36m
Add org2 to the testchannel10161 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel10161 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel10161 org2 7051 example.com[m[m[m
--2020-03-30 18:32:18--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:32:18--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:32:18--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel10161, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel10161.pb -o orderer.example.com:7050 -c testchannel10161 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:32:18.803 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:32:18.806 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 18:32:18.808 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 18:32:18.808 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel10161
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel10161 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:32:19.104 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:32:19.137 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization org2 added to testchannel10161 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel10161 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:32:21.345 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:32:21.348 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-30 18:32:21.350 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-30 18:32:21.350 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRR204WXJWaVFIdmYzTUxZUmtnSDh0ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFeGtLc0NobFZYTUVPdGhPeEc3bkVKb0R3YXFobjZmRkwKK2k3YW1xL21QQ2FWcDRIUXYwREhCRU9zZlFUQThBQVJJSWZ1NUxtMDYwam1nSHZTaUdFdk9xTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FncGF0QXJMN3R6MTRhCk5EK1VGcDBlUnVnTDFvdTNoSy9JK0tDUFB2NVJ2WUl3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRTRwajdmNVkKaHlPV3o1T1dMWFlLbE9kS1NmZXBzYzlaVnZ2aE92TzBDL0VDSURRTFRUMmQ2TjhNcmgwaW5aT0NxdnlCN25tOApTQ2NXS3NwdDZBYkZZVDBUCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUGJ6WVhyRFAwTTVtbWtiNjEvbk5JakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKTm9tdWZqeTk2V2YvYWhXc3pXWm9BMnA4Y0ExZktRdzk3MUdLZDZtNkFNOTBVUFdoQTVmRS9TWTJ4MW4zQU9lOQpXR01LRStNMm9vTjJER1R5SHowNFE2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ2wKcTBDc3Z1M1BYaG8wUDVRV25SNUc2QXZXaTdlRXI4ajRvSTgrL2xHOWdqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJoQXROV0F1M1ZpVm5YYXA1cXpqVndjU2wvZTNvYWVNU0g0bEczcS9uNUdBSWdUQ2xPVTdUYk43SVh6d0NZCjRDWjB2enlocFRvTzFLTlpkbFg1ZVVtdVIyWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRFdyR05aUkpGNUFhVjVFSURxZzAyekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek16QXdPVFV5TURCYUZ3MHpNREF6TWpnd09UVXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVTWmx5blRqRFBTRzZzTWdSQjBsalZZQ2tQMkJrRnIyZGlqZUNnS2pvVVpqMFRKcGE3L0c5dWpILworUzRkbkh6SEtKRlE5b2VuYzlSRDFTb0gvZWNPRmFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQnoyZ1h6S1JEMDNWUVRVSUR6WW16Y3U0NjhIZ2JYSStOUXpwWVR4d0xrNFRBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFtbFpObjVlaTJKVFN1cStaYjNBekNsQkNTSGUvWi9WQjREVHoyUm96QkNNQ0lCSVVldTVxCnk4SGNDaE9QekJBd3ZzbWdzdmEvREhSbUphYjVZcVFDeVp3bwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/file9VRByG _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel10161>.[m[m[m
Step 10_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel10161-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel10161-02 org2 org1
Step: 11_cli Test 'Add <org1> to channel <testchannel10161-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel10161-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel10161-02 org2 org1
[1;36m
Add org1 to the testchannel10161-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel10161-02 org1
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel10161-02 org1 7051 example.com[m[m[m
--2020-03-30 18:32:24--  http://www.org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.105
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:32:24--  http://www.org1.example.com/msp/cacerts/ca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.105
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/cacerts/ca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:32:24--  http://www.org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.105
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org1' to channel testchannel10161-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel10161-02.pb -o orderer.example.com:7050 -c testchannel10161-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:32:24.375 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:32:24.378 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 18:32:24.381 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 18:32:24.382 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org1 for channel testchannel10161-02
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel10161-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:32:24.723 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:32:24.741 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization org1 added to testchannel10161-02 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel10161-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:32:26.891 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:32:26.895 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-30 18:32:26.896 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-30 18:32:26.897 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQU1sTEFOa3poQ01rODZ5aWNTdHdNRHN3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQk9SdFQveEZoejdFZHJ1cThiS2tuSm9RMkxGeTJ1blgKT2dMKzRUUnJsSHFmbVExcXYzb0tva3FuOExNcm9YRUtJRWVSR2l5VGtacFYvNmRVNkUwYTM4T2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUdXUUFuclhETU8vCjJzenZ6YUVxOS9pMURHSnJBTno5TkxPZlhpbVYwSFhHTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUdqM1lyTWUKa1E2SDkrTklZS0Q1UmZoSEdrUFU4MGpzYjduOTVJK05TWHNaQWlBWUZaNVo1Wk56eHgveFIyeTNRTTA2TG9sZQpaZlZSekRiL0xFaGZscE1pOWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQUt6bXJQVnBrdW9iZEt4TTVoM09veDh3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQk1sTS80bCtzZHN2SUQ1RDdrUDN0MGlES1ZhemZySmNkN1MzWnVla1dXcU5NTktHL0Y0QmxYOHZDRzRuR292cwpxRlErMzIxZFJvVmlKOFB4SzJCVnB1eWpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKWlpBQ2V0Y013Ny9hek8vTm9TcjMrTFVNWW1zQTNQMDBzNTllS1pYUWRjWXdDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnT2I4alF3Z1NoNW1CellLRXVpMVZwMlNoWmJ4aytmRHZJcWlvanBPLzU2Y0NJR0sxTHIxVXJGeGpGZkFpCmRFMkNPZU93ZlNmVEpUWHdUem5EZmJYU0JGU08KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU5ESE9FSy9GdmJqUjVqcTNac0ptRGN3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016TXdNRGswT0RBd1doY05NekF3TXpJNE1EazAKT0RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCRHg0RS9qeDFkeGFTcS9JR2RoQkN4cHRSSFlYVTE2SERyeXFoTWNDMUtVek1Ob2F1djNUV3FkbAo3cUxveW5JenpIdGdabnBDNWR1aWZrb0t3MzlVVXpHamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdicVAwVTR6Znp1dVFhcERrdlRqMGdrSUZySHkwYnZWOFNqMGxRV21FM0hnd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdLYURLemFsS3NVZ1FDSExqN3FIZ21LM0hhK3RaakRBN3YwbGVmTzJva3pBQ0lCWTZXY2J4Clk1cjJEc09HZXUxSjdlWjlxdlc1RUdFUW5zb1RkRnFnUEpRcgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileNMCBbG _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel10161-02>.[m[m[m
Step 11_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel10161 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel10161 org1
Step: 12_cli Test 'Join <org1> to the <testchannel10161> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel10161 org1 VERIFY: test-join-channel.sh testchannel10161 org1
[1;36m
Joining  org1 to the testchannel10161 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel10161
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel10161[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=e0753e75f055
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 18:32:29--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:32:29--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:32:29--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:32:29--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org1 to channel testchannel10161
Execute: channel fetch 0 crypto-config/configtx/testchannel10161.pb -o orderer.example.com:7050 -c testchannel10161 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:32:29.781 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:32:29.785 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 18:32:29.876 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:32:29.988 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org1 has been joined to testchannel10161 channel[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel10161> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:32:32.210 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel10161> channel[m[m[m
Step 12_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel10161 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel10161 org2
Step: 13_cli Test 'Join <org2> to the <testchannel10161> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel10161 org2 VERIFY: test-join-channel.sh testchannel10161 org2
[1;36m
Joining  org2 to the testchannel10161 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel10161
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel10161[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=0fe2517c028c
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 18:32:34--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:32:34--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:32:34--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:32:34--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel10161
Execute: channel fetch 0 crypto-config/configtx/testchannel10161.pb -o orderer.example.com:7050 -c testchannel10161 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:32:34.994 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:32:34.998 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 18:32:35.061 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:32:35.137 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel10161 channel[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel10161> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:32:37.318 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel10161> channel[m[m[m
Step 13_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel10161-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel10161-02 org1
Step: 14_cli Test 'Join <org1> to the <testchannel10161-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel10161-02 org1 VERIFY: test-join-channel.sh testchannel10161-02 org1
[1;36m
Joining  org1 to the testchannel10161-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel10161-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel10161-02[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=16357c44e9a7
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 18:32:40--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:32:40--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:32:40--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:32:40--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org1 to channel testchannel10161-02
Execute: channel fetch 0 crypto-config/configtx/testchannel10161-02.pb -o orderer.example.com:7050 -c testchannel10161-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:32:40.181 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:32:40.183 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 18:32:40.241 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:32:40.296 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org1 has been joined to testchannel10161-02 channel[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel10161-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:32:42.441 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel10161-02> channel[m[m[m
Step 14_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel10161-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel10161-02 org2
Step: 15_cli Test 'Join <org2> to the <testchannel10161-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel10161-02 org2 VERIFY: test-join-channel.sh testchannel10161-02 org2
[1;36m
Joining  org2 to the testchannel10161-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel10161-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel10161-02[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=dba7636b267b
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 18:32:45--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:32:45--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:32:45--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:32:45--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel10161-02
Execute: channel fetch 0 crypto-config/configtx/testchannel10161-02.pb -o orderer.example.com:7050 -c testchannel10161-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:32:45.182 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:32:45.186 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 18:32:45.245 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:32:45.301 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel10161-02 channel[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel10161-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:32:47.404 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel10161-02> channel[m[m[m
Step 15_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel10161 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel10161 org1
Step: 16_cli Test 'Install test chaincode by <org1> to the <testchannel10161> channel'
RUNTEST: chaincode-install.sh testchannel10161 org1 VERIFY: test-chaincode-installed.sh testchannel10161 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in org1...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel10161 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel10161[m[m[m
[1;36m
Installing testchannel10161  chaincode in org1...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel10161'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=c119b2ee87f1
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel10161  /opt/chaincode/node/reference_testchannel10161 node 1.0
[34m2020-03-30 18:32:51.744 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-30 18:32:51.745 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-30 18:32:52.028 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode installed in org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel10161' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel10161, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel10161, Id: 1ac34725a3abdc98d6a608fcdb3b8770e53ea87eba583019e9fd5a09a279c024
Name: reference_testchannel17640, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17640, Id: 6e65705c305dc26d848ae39059e56edccfd8d66cacb2f4684123edf826b46b02
Name: reference_testchannel25553, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel25553, Id: 8f14d3229b5ee14eb55b451ffe7ec8229ff4920d968b8a9922c82b3fe12c2dd4
reference_testchannel10161
[1;32mOK: The test chaincode installed in org1[m[m[m
Step 16_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel10161-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel10161-02 org2
Step: 17_cli Test 'Install test chaincode by <org2> to the <testchannel10161-02> channel'
RUNTEST: chaincode-install.sh testchannel10161-02 org2 VERIFY: test-chaincode-installed.sh testchannel10161-02 org2
[1;36m
Installing test chaincode in org2...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in org2...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel10161-02 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel10161-02[m[m[m
[1;36m
Installing testchannel10161-02  chaincode in org2...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel10161-02'[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=bf626b6f98ed
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel10161-02  /opt/chaincode/node/reference_testchannel10161-02 node 1.0
[34m2020-03-30 18:32:58.960 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-30 18:32:58.961 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-30 18:32:59.042 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in org2[m[m[m
[1;34m
Verifing if the test chaincode installed in org2 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel10161-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel10161-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel10161-02, Id: 45435117a2e4f8b38f5d621f8b11f02ad389d40e46d5dece84a8adcae21566a5
Name: reference_testchannel10695-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel10695-02, Id: 71b41461232de072a3a5ced3786a045b675ef5ce136716b21cef537e01fa7c96
Name: reference_testchannel10695, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel10695, Id: 9bcd6950f5f93be8487e307860e29df98394052fbe62c422c912782b246ce030
Name: reference_testchannel17640-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17640-02, Id: 8f094ccb7ad7d85255752539c86fd8d2cf3af1fd6f89b25701a25bbcc29d5f08
Name: reference_testchannel17865-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17865-02, Id: 1e545b23b162c7eab18b864739577db6f2178d450ca8400b84e790a77be730df
Name: reference_testchannel17865, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17865, Id: 4610dd105c1fd5af286001b82aabb689bd2ec58345b3c8474e834e8eae0e4956
Name: reference_testchannel25553-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel25553-02, Id: adf4be76f5dcc3074a9537ec663dcb5e55fc9931b2142da54484f8e5ea2de90a
Name: reference_testchannel29088-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel29088-02, Id: 6cc4fb0d2dc148f91f51fc066bec89b6798f685898d915cc34fdb5c44fdc3f3e
Name: reference_testchannel29088, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel29088, Id: ab924972ebc78695550f399712f447e92c6ad4a2c5c087e304e9ece1ec891c80
Name: reference_testchannel31130-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel31130-02, Id: 17f5c46056dcfe16fa58974f932a0567f3f8c057c09b255c0dec1277f0927fae
Name: reference_testchannel31130, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel31130, Id: 5904dcb791fa5972f57fec3c49b93ca8a286aa31e47e0ea7e65c03e77239dbfd
reference_testchannel10161-02
[1;32mOK: The test chaincode installed in org2[m[m[m
Step 17_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-instantiate.sh testchannel10161 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel10161 org1
Step: 18_cli Test 'Instantiate test chaincode by <org1> to the <testchannel10161> channel'
RUNTEST: chaincode-instantiate.sh testchannel10161 org1 VERIFY: test-chaincode-instantiated.sh testchannel10161 org1
[1;36m
Instantiate test chaincode in testchannel10161 in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-instantiate.sh testchannel10161 reference_testchannel10161[m[m[m
Instantiate chaincode testchannel10161 reference_testchannel10161 '[]' 1.0  
[34m2020-03-30 18:33:04.855 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-30 18:33:04.856 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[1;32mOK: Test chaincode instantiated in testchannel10161 by org1[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel10161 channel by org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel10161' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel10161:
Name: reference_testchannel10161, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel10161, Escc: escc, Vscc: vscc
reference_testchannel10161
[1;32mOK: The test chaincode installed in testchannel10161 channel by org1 org[m[m[m
Step 18_cli: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-invoke.sh testchannel10161 org1 reference_testchannel10161 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-query.sh testchannel10161 org1 reference_testchannel10161
Step: 19_cli Test 'Test chaincode invocation and query:  <org1> <-> <org2>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel10161 org1 reference_testchannel10161 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel10161 org1 reference_testchannel10161
[1;36m
Invoke test chaincode on the <testchannel10161> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-invoke.sh testchannel10161 reference_testchannel10161 '["put","testchannel10161","testchannel10161"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-invoke.sh  testchannel10161 reference_testchannel10161 '["put","testchannel10161","testchannel10161"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode invoke -n reference_testchannel10161 -C testchannel10161 -c '{"Args":["put","testchannel10161","testchannel10161"]}'
[34m2020-03-30 18:33:50.869 UTC [chaincodeCmd] InitCmdFactory -> INFO 001[0m Retrieved channel (testchannel10161) orderer endpoint: orderer.example.com:7050
[34m2020-03-30 18:33:50.930 UTC [chaincodeCmd] chaincodeInvokeOrQuery -> INFO 002[0m Chaincode invoke successful. result: status:200 
[1;32mOK: Chaincode reference_testchannel10161 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel10161> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel10161 reference_testchannel10161 '["range","testchannel10161"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel10161 reference_testchannel10161 '["range","testchannel10161"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051 peer chaincode query -n reference_testchannel10161 -C testchannel10161 -c '{"Args":["range","testchannel10161"]}'
Error: endorsement failure during query. response: status:500 message:"cannot retrieve package for chaincode reference_testchannel10161/1.0, error open /var/hyperledger/production/chaincodes/reference_testchannel10161.1.0: no such file or directory" 
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 19_cli: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel2856 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel2856 org1
Step: 1_cli Test 'Create <testchannel2856> Channel in ORG1'
RUNTEST: create-channel.sh testchannel2856 org1 VERIFY: test-channel-exists.sh testchannel2856 org1
[1;36m
Creating the <testchannel2856> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel2856
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel2856[m[m[m
example.com

Create channel org1 testchannel2856
--2020-03-30 18:35:02--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:35:02--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:35:02--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:35:02--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 18:35:02.133 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 18:35:02.192 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 18:35:02.193 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 18:35:02.193 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 18:35:02.194 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 18:35:02.194 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 18:35:02.194 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 18:35:02.195 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 18:35:02.195 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 18:35:02.253 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 18:35:02.254 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 18:35:02.254 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 18:35:02.254 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 18:35:02.255 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 18:35:02.255 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 18:35:02.256 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 18:35:02.256 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 18:35:02.257 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 18:35:02.258 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 18:35:02.258 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 18:35:02.259 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 18:35:02.260 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 18:35:02.263 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 18:35:02.365 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:35:02.414 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel2856.pb -o orderer.example.com:7050 -c testchannel2856 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:35:02.497 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:35:02.500 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 18:35:02.501 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 18:35:02.502 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel2856
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel2856 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:35:02.803 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:35:02.817 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel2856> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel2856> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:35:05.057 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:35:05.060 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 18:35:05.061 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 18:35:05.062 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel2856",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T18:35:02Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileDEI301 _testchannel2856_
Expect: testchannel2856, got: testchannel2856
[1;32mOK: The channel <testchannel2856> exists and visible to org1[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel2856 org2
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel2856 org2
[1;34m
Verifing if the <testchannel2856> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:35:07.190 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:35:07.193 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filenZXs8j _null_
Expect: testchannel2856, got: null
[1;32mOK: The channel <testchannel2856> does not exist and in not visible to org2[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel2856 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel2856 org1
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel2856 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel2856 org1
[1;36m
Creating the <^^^^^^testchannel2856> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel2856
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel2856[m[m[m
example.com

Create channel org1 ^^^^^^testchannel2856
--2020-03-30 18:35:09--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:35:09--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:35:09--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:35:09--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 18:35:10.098 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 18:35:10.159 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 18:35:10.160 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 18:35:10.160 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 18:35:10.161 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 18:35:10.161 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 18:35:10.161 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 18:35:10.162 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 18:35:10.162 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 18:35:10.221 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 18:35:10.222 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 18:35:10.222 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 18:35:10.223 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 18:35:10.223 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 18:35:10.224 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 18:35:10.224 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 18:35:10.225 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 18:35:10.226 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 18:35:10.227 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 18:35:10.227 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 18:35:10.228 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 18:35:10.229 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 18:35:10.230 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 18:35:10.289 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel2856' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel2856.pb -o orderer.example.com:7050 -c ^^^^^^testchannel2856 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:35:10.372 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:35:10.374 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel2856.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel2856.json: No such file or directory
>> Prepare config update from org1 for channel ^^^^^^testchannel2856
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel2856 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:35:10.562 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel2856' != '^^^^^^testchannel2856'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel2856> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:35:12.716 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:35:12.717 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileTKHEi3 _null_
Expect: ^^^^^^testchannel2856, got: null
[1;32mOK: The channel <^^^^^^testchannel2856> does not exist and in not visible to org1[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel2856 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel2856 org2
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel2856 org2 VERIFY: test-channel-does-not-exist.sh testchannel2856 org2
[1;36m
Creating the <testchannel2856> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel2856
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel2856[m[m[m
example.com

Create channel org2 testchannel2856
--2020-03-30 18:35:15--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:35:15--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:35:15--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:35:15--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 18:35:15.455 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 18:35:15.514 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 18:35:15.515 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 18:35:15.515 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 18:35:15.516 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 18:35:15.516 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 18:35:15.517 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 18:35:15.517 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 18:35:15.517 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 18:35:15.572 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 18:35:15.573 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 18:35:15.573 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 18:35:15.574 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 18:35:15.574 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 18:35:15.574 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 18:35:15.575 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 18:35:15.576 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 18:35:15.577 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 18:35:15.577 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 18:35:15.578 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 18:35:15.578 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 18:35:15.579 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 18:35:15.580 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 18:35:15.636 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel2856.pb -o orderer.example.com:7050 -c testchannel2856 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:35:15.714 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:35:15.719 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel2856.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel2856.json: No such file or directory
>> Prepare config update from org2 for channel testchannel2856
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel2856 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:35:15.891 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel2856> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:35:18.001 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:35:18.004 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileVacZxA _null_
Expect: testchannel2856, got: null
[1;32mOK: The channel <testchannel2856> does not exist and in not visible to org2[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel2856-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel2856-02 org2
Step: 5_cli Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel2856-02 org2 VERIFY: test-channel-exists.sh testchannel2856-02 org2
[1;36m
Creating the <testchannel2856-02> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel2856-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel2856-02[m[m[m
example.com

Create channel org2 testchannel2856-02
--2020-03-30 18:35:20--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:35:20--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:35:20--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:35:20--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 18:35:20.934 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 18:35:20.997 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 18:35:20.997 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 18:35:20.998 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 18:35:20.998 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 18:35:20.998 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 18:35:20.998 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 18:35:20.998 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 18:35:20.998 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 18:35:21.051 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 18:35:21.052 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 18:35:21.052 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 18:35:21.053 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 18:35:21.053 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 18:35:21.053 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 18:35:21.054 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 18:35:21.054 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 18:35:21.055 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-30 18:35:21.056 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 18:35:21.056 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 18:35:21.057 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 18:35:21.058 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-30 18:35:21.058 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 18:35:21.115 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:35:21.137 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel2856-02.pb -o orderer.example.com:7050 -c testchannel2856-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:35:21.209 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:35:21.212 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 18:35:21.214 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 18:35:21.214 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org2 for channel testchannel2856-02
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel2856-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:35:21.548 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:35:21.562 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel2856-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel2856-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:35:23.699 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:35:23.703 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 18:35:23.705 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 18:35:23.705 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel2856-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T18:35:21Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileWq4yev _testchannel2856-02_
Expect: testchannel2856-02, got: testchannel2856-02
[1;32mOK: The channel <testchannel2856-02> exists and visible to org2[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel2856-02 org1
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel2856-02 org1
[1;34m
Verifing if the <testchannel2856-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:35:25.703 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:35:25.706 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileEmSsWA _null_
Expect: testchannel2856-02, got: null
[1;32mOK: The channel <testchannel2856-02> does not exist and in not visible to org1[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel2856-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel2856-02 org1
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel2856-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel2856-02 org1
[1;36m
Creating the <testchannel2856-02> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel2856-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel2856-02[m[m[m
example.com

Create channel org1 testchannel2856-02
--2020-03-30 18:35:28--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:35:28--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:35:28--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:35:28--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-30 18:35:28.465 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-30 18:35:28.522 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 18:35:28.523 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 18:35:28.523 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-30 18:35:28.523 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-30 18:35:28.524 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-30 18:35:28.524 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-30 18:35:28.524 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-30 18:35:28.525 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 18:35:28.578 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-30 18:35:28.579 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-30 18:35:28.579 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-30 18:35:28.579 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-30 18:35:28.580 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-30 18:35:28.580 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 18:35:28.580 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 18:35:28.581 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 18:35:28.582 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-30 18:35:28.583 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-30 18:35:28.583 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-30 18:35:28.584 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-30 18:35:28.584 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-30 18:35:28.585 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-30 18:35:28.641 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel2856-02.pb -o orderer.example.com:7050 -c testchannel2856-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:35:28.726 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:35:28.729 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel2856-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel2856-02.json: No such file or directory
>> Prepare config update from org1 for channel testchannel2856-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel2856-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:35:28.905 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel2856-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:35:31.095 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:35:31.097 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filePh8bwi _null_
Expect: testchannel2856-02, got: null
[1;32mOK: The channel <testchannel2856-02> does not exist and in not visible to org1[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel2856 org1 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel2856 org1 org1
Step: 8_cli Test 'Add <org1> to channel <testchannel2856> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel2856 org1 org1 VERIFY: test-channel-add-org.sh testchannel2856 org1 org1
[1;36m
Add org1 to the testchannel2856 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel2856 org1
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel2856 org1 7051 example.com[m[m[m
--2020-03-30 18:35:33--  http://www.org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.18.0.8
Connecting to www.org1.example.com (www.org1.example.com)|172.18.0.8|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:35:33--  http://www.org1.example.com/msp/cacerts/ca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.18.0.8
Connecting to www.org1.example.com (www.org1.example.com)|172.18.0.8|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/cacerts/ca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:35:33--  http://www.org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.18.0.8
Connecting to www.org1.example.com (www.org1.example.com)|172.18.0.8|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org1' to channel testchannel2856, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel2856.pb -o orderer.example.com:7050 -c testchannel2856 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:35:33.817 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:35:33.819 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 18:35:33.821 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 18:35:33.822 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org1 for channel testchannel2856
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel2856 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:35:34.089 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel2856': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application/org1 be at version 0, but it is currently at version 1
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org1> added to testchannel2856 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:35:36.184 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:35:36.186 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 18:35:36.188 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 18:35:36.188 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQU1sTEFOa3poQ01rODZ5aWNTdHdNRHN3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQk9SdFQveEZoejdFZHJ1cThiS2tuSm9RMkxGeTJ1blgKT2dMKzRUUnJsSHFmbVExcXYzb0tva3FuOExNcm9YRUtJRWVSR2l5VGtacFYvNmRVNkUwYTM4T2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUdXUUFuclhETU8vCjJzenZ6YUVxOS9pMURHSnJBTno5TkxPZlhpbVYwSFhHTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUdqM1lyTWUKa1E2SDkrTklZS0Q1UmZoSEdrUFU4MGpzYjduOTVJK05TWHNaQWlBWUZaNVo1Wk56eHgveFIyeTNRTTA2TG9sZQpaZlZSekRiL0xFaGZscE1pOWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQUt6bXJQVnBrdW9iZEt4TTVoM09veDh3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQk1sTS80bCtzZHN2SUQ1RDdrUDN0MGlES1ZhemZySmNkN1MzWnVla1dXcU5NTktHL0Y0QmxYOHZDRzRuR292cwpxRlErMzIxZFJvVmlKOFB4SzJCVnB1eWpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKWlpBQ2V0Y013Ny9hek8vTm9TcjMrTFVNWW1zQTNQMDBzNTllS1pYUWRjWXdDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnT2I4alF3Z1NoNW1CellLRXVpMVZwMlNoWmJ4aytmRHZJcWlvanBPLzU2Y0NJR0sxTHIxVXJGeGpGZkFpCmRFMkNPZU93ZlNmVEpUWHdUem5EZmJYU0JGU08KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU5ESE9FSy9GdmJqUjVqcTNac0ptRGN3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016TXdNRGswT0RBd1doY05NekF3TXpJNE1EazAKT0RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCRHg0RS9qeDFkeGFTcS9JR2RoQkN4cHRSSFlYVTE2SERyeXFoTWNDMUtVek1Ob2F1djNUV3FkbAo3cUxveW5JenpIdGdabnBDNWR1aWZrb0t3MzlVVXpHamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdicVAwVTR6Znp1dVFhcERrdlRqMGdrSUZySHkwYnZWOFNqMGxRV21FM0hnd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdLYURLemFsS3NVZ1FDSExqN3FIZ21LM0hhK3RaakRBN3YwbGVmTzJva3pBQ0lCWTZXY2J4Clk1cjJEc09HZXUxSjdlWjlxdlc1RUdFUW5zb1RkRnFnUEpRcgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileXtrY6E _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel2856>.[m[m[m
Step 8_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel2856-02 org2 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel2856-02 org2 org2
Step: 9_cli Test 'Add <org2> to channel <testchannel2856-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel2856-02 org2 org2 VERIFY: test-channel-add-org.sh testchannel2856-02 org2 org2
[1;36m
Add org2 to the testchannel2856-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel2856-02 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel2856-02 org2 7051 example.com[m[m[m
--2020-03-30 18:35:38--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:35:38--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:35:38--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.18.0.4
Connecting to www.org2.example.com (www.org2.example.com)|172.18.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel2856-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel2856-02.pb -o orderer.example.com:7050 -c testchannel2856-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:35:39.041 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:35:39.044 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 18:35:39.046 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 18:35:39.046 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel2856-02
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel2856-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:35:39.304 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel2856-02': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application/org2 be at version 0, but it is currently at version 1
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org2> added to testchannel2856-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:35:41.466 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:35:41.470 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 18:35:41.472 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 18:35:41.472 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRR204WXJWaVFIdmYzTUxZUmtnSDh0ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFeGtLc0NobFZYTUVPdGhPeEc3bkVKb0R3YXFobjZmRkwKK2k3YW1xL21QQ2FWcDRIUXYwREhCRU9zZlFUQThBQVJJSWZ1NUxtMDYwam1nSHZTaUdFdk9xTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FncGF0QXJMN3R6MTRhCk5EK1VGcDBlUnVnTDFvdTNoSy9JK0tDUFB2NVJ2WUl3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRTRwajdmNVkKaHlPV3o1T1dMWFlLbE9kS1NmZXBzYzlaVnZ2aE92TzBDL0VDSURRTFRUMmQ2TjhNcmgwaW5aT0NxdnlCN25tOApTQ2NXS3NwdDZBYkZZVDBUCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUGJ6WVhyRFAwTTVtbWtiNjEvbk5JakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKTm9tdWZqeTk2V2YvYWhXc3pXWm9BMnA4Y0ExZktRdzk3MUdLZDZtNkFNOTBVUFdoQTVmRS9TWTJ4MW4zQU9lOQpXR01LRStNMm9vTjJER1R5SHowNFE2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ2wKcTBDc3Z1M1BYaG8wUDVRV25SNUc2QXZXaTdlRXI4ajRvSTgrL2xHOWdqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJoQXROV0F1M1ZpVm5YYXA1cXpqVndjU2wvZTNvYWVNU0g0bEczcS9uNUdBSWdUQ2xPVTdUYk43SVh6d0NZCjRDWjB2enlocFRvTzFLTlpkbFg1ZVVtdVIyWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRFdyR05aUkpGNUFhVjVFSURxZzAyekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek16QXdPVFV5TURCYUZ3MHpNREF6TWpnd09UVXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVTWmx5blRqRFBTRzZzTWdSQjBsalZZQ2tQMkJrRnIyZGlqZUNnS2pvVVpqMFRKcGE3L0c5dWpILworUzRkbkh6SEtKRlE5b2VuYzlSRDFTb0gvZWNPRmFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQnoyZ1h6S1JEMDNWUVRVSUR6WW16Y3U0NjhIZ2JYSStOUXpwWVR4d0xrNFRBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFtbFpObjVlaTJKVFN1cStaYjNBekNsQkNTSGUvWi9WQjREVHoyUm96QkNNQ0lCSVVldTVxCnk4SGNDaE9QekJBd3ZzbWdzdmEvREhSbUphYjVZcVFDeVp3bwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileMdQNX1 _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel2856-02>.[m[m[m
Step 9_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel2856 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel2856 org1 org2
Step: 10_cli Test 'Add <org2> to channel <testchannel2856> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel2856 org1 org2 VERIFY: test-channel-add-org.sh testchannel2856 org1 org2
[1;36m
Add org2 to the testchannel2856 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel2856 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel2856 org2 7051 example.com[m[m[m
--2020-03-30 18:35:44--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:35:44--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:35:44--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.104
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.104|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel2856, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel2856.pb -o orderer.example.com:7050 -c testchannel2856 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:35:44.367 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:35:44.370 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 18:35:44.372 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 18:35:44.373 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel2856
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel2856 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:35:44.682 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:35:44.715 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization org2 added to testchannel2856 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel2856 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:35:46.846 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:35:46.849 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-30 18:35:46.851 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-30 18:35:46.851 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRR204WXJWaVFIdmYzTUxZUmtnSDh0ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFeGtLc0NobFZYTUVPdGhPeEc3bkVKb0R3YXFobjZmRkwKK2k3YW1xL21QQ2FWcDRIUXYwREhCRU9zZlFUQThBQVJJSWZ1NUxtMDYwam1nSHZTaUdFdk9xTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FncGF0QXJMN3R6MTRhCk5EK1VGcDBlUnVnTDFvdTNoSy9JK0tDUFB2NVJ2WUl3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRTRwajdmNVkKaHlPV3o1T1dMWFlLbE9kS1NmZXBzYzlaVnZ2aE92TzBDL0VDSURRTFRUMmQ2TjhNcmgwaW5aT0NxdnlCN25tOApTQ2NXS3NwdDZBYkZZVDBUCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUGJ6WVhyRFAwTTVtbWtiNjEvbk5JakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKTm9tdWZqeTk2V2YvYWhXc3pXWm9BMnA4Y0ExZktRdzk3MUdLZDZtNkFNOTBVUFdoQTVmRS9TWTJ4MW4zQU9lOQpXR01LRStNMm9vTjJER1R5SHowNFE2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ2wKcTBDc3Z1M1BYaG8wUDVRV25SNUc2QXZXaTdlRXI4ajRvSTgrL2xHOWdqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJoQXROV0F1M1ZpVm5YYXA1cXpqVndjU2wvZTNvYWVNU0g0bEczcS9uNUdBSWdUQ2xPVTdUYk43SVh6d0NZCjRDWjB2enlocFRvTzFLTlpkbFg1ZVVtdVIyWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRFdyR05aUkpGNUFhVjVFSURxZzAyekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek16QXdPVFV5TURCYUZ3MHpNREF6TWpnd09UVXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVTWmx5blRqRFBTRzZzTWdSQjBsalZZQ2tQMkJrRnIyZGlqZUNnS2pvVVpqMFRKcGE3L0c5dWpILworUzRkbkh6SEtKRlE5b2VuYzlSRDFTb0gvZWNPRmFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQnoyZ1h6S1JEMDNWUVRVSUR6WW16Y3U0NjhIZ2JYSStOUXpwWVR4d0xrNFRBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFtbFpObjVlaTJKVFN1cStaYjNBekNsQkNTSGUvWi9WQjREVHoyUm96QkNNQ0lCSVVldTVxCnk4SGNDaE9QekJBd3ZzbWdzdmEvREhSbUphYjVZcVFDeVp3bwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileAvh04L _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel2856>.[m[m[m
Step 10_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel2856-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel2856-02 org2 org1
Step: 11_cli Test 'Add <org1> to channel <testchannel2856-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel2856-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel2856-02 org2 org1
[1;36m
Add org1 to the testchannel2856-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel2856-02 org1
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel2856-02 org1 7051 example.com[m[m[m
--2020-03-30 18:35:49--  http://www.org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.105
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:35:49--  http://www.org1.example.com/msp/cacerts/ca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.105
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/cacerts/ca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:35:49--  http://www.org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.105
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org1' to channel testchannel2856-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel2856-02.pb -o orderer.example.com:7050 -c testchannel2856-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:35:49.722 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:35:49.725 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 18:35:49.727 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 18:35:49.727 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org1 for channel testchannel2856-02
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel2856-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:35:50.107 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:35:50.127 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization org1 added to testchannel2856-02 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel2856-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:35:52.311 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:35:52.314 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-30 18:35:52.315 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-30 18:35:52.315 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQU1sTEFOa3poQ01rODZ5aWNTdHdNRHN3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQk9SdFQveEZoejdFZHJ1cThiS2tuSm9RMkxGeTJ1blgKT2dMKzRUUnJsSHFmbVExcXYzb0tva3FuOExNcm9YRUtJRWVSR2l5VGtacFYvNmRVNkUwYTM4T2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUdXUUFuclhETU8vCjJzenZ6YUVxOS9pMURHSnJBTno5TkxPZlhpbVYwSFhHTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUdqM1lyTWUKa1E2SDkrTklZS0Q1UmZoSEdrUFU4MGpzYjduOTVJK05TWHNaQWlBWUZaNVo1Wk56eHgveFIyeTNRTTA2TG9sZQpaZlZSekRiL0xFaGZscE1pOWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQUt6bXJQVnBrdW9iZEt4TTVoM09veDh3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQk1sTS80bCtzZHN2SUQ1RDdrUDN0MGlES1ZhemZySmNkN1MzWnVla1dXcU5NTktHL0Y0QmxYOHZDRzRuR292cwpxRlErMzIxZFJvVmlKOFB4SzJCVnB1eWpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKWlpBQ2V0Y013Ny9hek8vTm9TcjMrTFVNWW1zQTNQMDBzNTllS1pYUWRjWXdDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnT2I4alF3Z1NoNW1CellLRXVpMVZwMlNoWmJ4aytmRHZJcWlvanBPLzU2Y0NJR0sxTHIxVXJGeGpGZkFpCmRFMkNPZU93ZlNmVEpUWHdUem5EZmJYU0JGU08KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU5ESE9FSy9GdmJqUjVqcTNac0ptRGN3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016TXdNRGswT0RBd1doY05NekF3TXpJNE1EazAKT0RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCRHg0RS9qeDFkeGFTcS9JR2RoQkN4cHRSSFlYVTE2SERyeXFoTWNDMUtVek1Ob2F1djNUV3FkbAo3cUxveW5JenpIdGdabnBDNWR1aWZrb0t3MzlVVXpHamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdicVAwVTR6Znp1dVFhcERrdlRqMGdrSUZySHkwYnZWOFNqMGxRV21FM0hnd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdLYURLemFsS3NVZ1FDSExqN3FIZ21LM0hhK3RaakRBN3YwbGVmTzJva3pBQ0lCWTZXY2J4Clk1cjJEc09HZXUxSjdlWjlxdlc1RUdFUW5zb1RkRnFnUEpRcgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/file3xPyam _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel2856-02>.[m[m[m
Step 11_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel2856 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel2856 org1
Step: 12_cli Test 'Join <org1> to the <testchannel2856> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel2856 org1 VERIFY: test-join-channel.sh testchannel2856 org1
[1;36m
Joining  org1 to the testchannel2856 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel2856
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel2856[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=1a738f904e82
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 18:35:55--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:35:55--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:35:55--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:35:55--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org1 to channel testchannel2856
Execute: channel fetch 0 crypto-config/configtx/testchannel2856.pb -o orderer.example.com:7050 -c testchannel2856 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:35:55.174 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:35:55.176 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 18:35:55.234 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:35:55.307 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org1 has been joined to testchannel2856 channel[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel2856> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:35:57.414 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel2856> channel[m[m[m
Step 12_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel2856 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel2856 org2
Step: 13_cli Test 'Join <org2> to the <testchannel2856> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel2856 org2 VERIFY: test-join-channel.sh testchannel2856 org2
[1;36m
Joining  org2 to the testchannel2856 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel2856
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel2856[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=7c07ecf64224
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 18:36:00--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:36:00--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:36:00--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:36:00--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel2856
Execute: channel fetch 0 crypto-config/configtx/testchannel2856.pb -o orderer.example.com:7050 -c testchannel2856 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:36:00.316 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:36:00.320 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 18:36:00.496 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:36:00.611 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel2856 channel[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel2856> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:36:03.200 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel2856> channel[m[m[m
Step 13_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel2856-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel2856-02 org1
Step: 14_cli Test 'Join <org1> to the <testchannel2856-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel2856-02 org1 VERIFY: test-join-channel.sh testchannel2856-02 org1
[1;36m
Joining  org1 to the testchannel2856-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel2856-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel2856-02[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=87d61dd52a38
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 18:36:06--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:36:06--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:36:06--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:36:06--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org1 to channel testchannel2856-02
Execute: channel fetch 0 crypto-config/configtx/testchannel2856-02.pb -o orderer.example.com:7050 -c testchannel2856-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:36:06.484 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:36:06.488 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 18:36:06.549 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:36:06.618 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org1 has been joined to testchannel2856-02 channel[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel2856-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:36:09.081 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel2856-02> channel[m[m[m
Step 14_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel2856-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel2856-02 org2
Step: 15_cli Test 'Join <org2> to the <testchannel2856-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel2856-02 org2 VERIFY: test-join-channel.sh testchannel2856-02 org2
[1;36m
Joining  org2 to the testchannel2856-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel2856-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel2856-02[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=c74cd97bfeec
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-30 18:36:12--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:36:12--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:36:12--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-30 18:36:12--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.105
Connecting to www.example.com (www.example.com)|192.168.99.105|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel2856-02
Execute: channel fetch 0 crypto-config/configtx/testchannel2856-02.pb -o orderer.example.com:7050 -c testchannel2856-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-30 18:36:12.533 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:36:12.538 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 18:36:12.628 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:36:12.741 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel2856-02 channel[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel2856-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:36:15.502 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel2856-02> channel[m[m[m
Step 15_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel2856 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel2856 org1
Step: 16_cli Test 'Install test chaincode by <org1> to the <testchannel2856> channel'
RUNTEST: chaincode-install.sh testchannel2856 org1 VERIFY: test-chaincode-installed.sh testchannel2856 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in org1...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel2856 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel2856[m[m[m
[1;36m
Installing testchannel2856  chaincode in org1...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel2856'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=0911914e0341
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel2856  /opt/chaincode/node/reference_testchannel2856 node 1.0
[34m2020-03-30 18:36:20.854 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-30 18:36:20.856 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-30 18:36:21.121 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode installed in org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel2856' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel10161, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel10161, Id: 1ac34725a3abdc98d6a608fcdb3b8770e53ea87eba583019e9fd5a09a279c024
Name: reference_testchannel17640, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17640, Id: 6e65705c305dc26d848ae39059e56edccfd8d66cacb2f4684123edf826b46b02
Name: reference_testchannel25553, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel25553, Id: 8f14d3229b5ee14eb55b451ffe7ec8229ff4920d968b8a9922c82b3fe12c2dd4
Name: reference_testchannel2856, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel2856, Id: 7c696a853092cfcef26594df1f8b384f78b121d509751a2ab8ceb5af79bd9095
reference_testchannel2856
[1;32mOK: The test chaincode installed in org1[m[m[m
Step 16_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel2856-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel2856-02 org2
Step: 17_cli Test 'Install test chaincode by <org2> to the <testchannel2856-02> channel'
RUNTEST: chaincode-install.sh testchannel2856-02 org2 VERIFY: test-chaincode-installed.sh testchannel2856-02 org2
[1;36m
Installing test chaincode in org2...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in org2...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel2856-02 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel2856-02[m[m[m
[1;36m
Installing testchannel2856-02  chaincode in org2...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel2856-02'[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=d3568deaa0e6
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel2856-02  /opt/chaincode/node/reference_testchannel2856-02 node 1.0
[34m2020-03-30 18:36:29.529 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-30 18:36:29.530 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-30 18:36:29.685 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in org2[m[m[m
[1;34m
Verifing if the test chaincode installed in org2 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel2856-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel10161-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel10161-02, Id: 45435117a2e4f8b38f5d621f8b11f02ad389d40e46d5dece84a8adcae21566a5
Name: reference_testchannel10695-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel10695-02, Id: 71b41461232de072a3a5ced3786a045b675ef5ce136716b21cef537e01fa7c96
Name: reference_testchannel10695, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel10695, Id: 9bcd6950f5f93be8487e307860e29df98394052fbe62c422c912782b246ce030
Name: reference_testchannel17640-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17640-02, Id: 8f094ccb7ad7d85255752539c86fd8d2cf3af1fd6f89b25701a25bbcc29d5f08
Name: reference_testchannel17865-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17865-02, Id: 1e545b23b162c7eab18b864739577db6f2178d450ca8400b84e790a77be730df
Name: reference_testchannel17865, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17865, Id: 4610dd105c1fd5af286001b82aabb689bd2ec58345b3c8474e834e8eae0e4956
Name: reference_testchannel25553-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel25553-02, Id: adf4be76f5dcc3074a9537ec663dcb5e55fc9931b2142da54484f8e5ea2de90a
Name: reference_testchannel2856-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel2856-02, Id: 42321308d5f0b2af5ebe1f493ab771fbaa27f75a7dd3a4c0fa896cbfdccbf18a
Name: reference_testchannel29088-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel29088-02, Id: 6cc4fb0d2dc148f91f51fc066bec89b6798f685898d915cc34fdb5c44fdc3f3e
Name: reference_testchannel29088, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel29088, Id: ab924972ebc78695550f399712f447e92c6ad4a2c5c087e304e9ece1ec891c80
Name: reference_testchannel31130-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel31130-02, Id: 17f5c46056dcfe16fa58974f932a0567f3f8c057c09b255c0dec1277f0927fae
Name: reference_testchannel31130, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel31130, Id: 5904dcb791fa5972f57fec3c49b93ca8a286aa31e47e0ea7e65c03e77239dbfd
reference_testchannel2856-02
[1;32mOK: The test chaincode installed in org2[m[m[m
Step 17_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-instantiate.sh testchannel2856 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel2856 org1
Step: 18_cli Test 'Instantiate test chaincode by <org1> to the <testchannel2856> channel'
RUNTEST: chaincode-instantiate.sh testchannel2856 org1 VERIFY: test-chaincode-instantiated.sh testchannel2856 org1
[1;36m
Instantiate test chaincode in testchannel2856 in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-instantiate.sh testchannel2856 reference_testchannel2856[m[m[m
Instantiate chaincode testchannel2856 reference_testchannel2856 '[]' 1.0  
[34m2020-03-30 18:36:36.968 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-30 18:36:36.969 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[1;32mOK: Test chaincode instantiated in testchannel2856 by org1[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel2856 channel by org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel2856' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel2856:
Name: reference_testchannel2856, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel2856, Escc: escc, Vscc: vscc
reference_testchannel2856
[1;32mOK: The test chaincode installed in testchannel2856 channel by org1 org[m[m[m
Step 18_cli: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-invoke.sh testchannel2856 org1 reference_testchannel2856 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-query.sh testchannel2856 org1 reference_testchannel2856
Step: 19_cli Test 'Test chaincode invocation and query:  <org1> <-> <org2>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel2856 org1 reference_testchannel2856 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel2856 org1 reference_testchannel2856
[1;36m
Invoke test chaincode on the <testchannel2856> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-invoke.sh testchannel2856 reference_testchannel2856 '["put","testchannel2856","testchannel2856"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-invoke.sh  testchannel2856 reference_testchannel2856 '["put","testchannel2856","testchannel2856"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode invoke -n reference_testchannel2856 -C testchannel2856 -c '{"Args":["put","testchannel2856","testchannel2856"]}'
[34m2020-03-30 18:37:32.665 UTC [chaincodeCmd] InitCmdFactory -> INFO 001[0m Retrieved channel (testchannel2856) orderer endpoint: orderer.example.com:7050
[34m2020-03-30 18:37:32.744 UTC [chaincodeCmd] chaincodeInvokeOrQuery -> INFO 002[0m Chaincode invoke successful. result: status:200 
[1;32mOK: Chaincode reference_testchannel2856 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel2856> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel2856 reference_testchannel2856 '["range","testchannel2856"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel2856 reference_testchannel2856 '["range","testchannel2856"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode query -n reference_testchannel2856 -C testchannel2856 -c '{"Args":["range","testchannel2856"]}'
[{"key":"testchannel2856","value":"testchannel2856"}]
[1;32mOK: Chaincode reference_testchannel2856 invoked sucsessfuly.[m[m[m
Step 19_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel539 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel539 org1
Step: 1_api Test 'Create <testchannel539> Channel in ORG1'
RUNTEST: create-channel.sh testchannel539 org1 VERIFY: test-channel-exists.sh testchannel539 org1
[1;36mCreating testchannel539 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzUwN30.TajV1r_MvDIbCDoUR2py0U9r5HOBSEF4u5fZNlK_3kI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzUwN30.TajV1r_MvDIbCDoUR2py0U9r5HOBSEF4u5fZNlK_3kI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzUwN30.TajV1r_MvDIbCDoUR2py0U9r5HOBSEF4u5fZNlK_3kI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels {"channelId":"testchannel539","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzUwN30.TajV1r_MvDIbCDoUR2py0U9r5HOBSEF4u5fZNlK_3kI
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel539> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel539> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:38:32.872 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:38:32.875 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 18:38:32.877 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 18:38:32.877 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel539",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T18:38:30Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileEzGIPk _testchannel539_
Expect: testchannel539, got: testchannel539
[1;32mOK: The channel <testchannel539> exists and visible to org1[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel539 org2
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel539 org2
[1;34m
Verifing if the <testchannel539> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:38:35.208 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:38:35.211 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filezW1UJO _null_
Expect: testchannel539, got: null
[1;32mOK: The channel <testchannel539> does not exist and in not visible to org2[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel539 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel539 org1
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel539 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel539 org1
[1;36mCreating ^^^^^^testchannel539 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzUxN30.lSNWpCdG2bCajfqEK2Byk4vZr8W44Inz1L_WCKZ304c"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzUxN30.lSNWpCdG2bCajfqEK2Byk4vZr8W44Inz1L_WCKZ304c", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzUxN30.lSNWpCdG2bCajfqEK2Byk4vZr8W44Inz1L_WCKZ304c
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels {"channelId":"^^^^^^testchannel539","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzUxN30.lSNWpCdG2bCajfqEK2Byk4vZr8W44Inz1L_WCKZ304c
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel539\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel539\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel539\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel539> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:38:43.268 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:38:43.269 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileghhlI4 _null_
Expect: ^^^^^^testchannel539, got: null
[1;32mOK: The channel <^^^^^^testchannel539> does not exist and in not visible to org1[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel539 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel539 org2
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel539 org2 VERIFY: test-channel-does-not-exist.sh testchannel539 org2
[1;36mCreating testchannel539 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzUyNX0.f0E7FlrXDFJQyTRBWNRebu-D-s0qugZJ0KBcUCyRQGo"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzUyNX0.f0E7FlrXDFJQyTRBWNRebu-D-s0qugZJ0KBcUCyRQGo", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzUyNX0.f0E7FlrXDFJQyTRBWNRebu-D-s0qugZJ0KBcUCyRQGo
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels {"channelId":"testchannel539","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzUyNX0.f0E7FlrXDFJQyTRBWNRebu-D-s0qugZJ0KBcUCyRQGo
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel539> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:38:51.767 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:38:51.770 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filePXJMN2 _null_
Expect: testchannel539, got: null
[1;32mOK: The channel <testchannel539> does not exist and in not visible to org2[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel539-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel539-02 org2
Step: 5_api Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel539-02 org2 VERIFY: test-channel-exists.sh testchannel539-02 org2
[1;36mCreating testchannel539-02 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzUzNH0.PqpF8cBko4IH7WOUv9V_JOskDsCAYU8Vo8tuv1Oxt44"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzUzNH0.PqpF8cBko4IH7WOUv9V_JOskDsCAYU8Vo8tuv1Oxt44", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzUzNH0.PqpF8cBko4IH7WOUv9V_JOskDsCAYU8Vo8tuv1Oxt44
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels {"channelId":"testchannel539-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzUzNH0.PqpF8cBko4IH7WOUv9V_JOskDsCAYU8Vo8tuv1Oxt44
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel539-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel539-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:38:59.753 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:38:59.756 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 18:38:59.758 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 18:38:59.758 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel539-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T18:38:57Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/file7TqeGr _testchannel539-02_
Expect: testchannel539-02, got: testchannel539-02
[1;32mOK: The channel <testchannel539-02> exists and visible to org2[m[m[m
Step 5_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel539-02 org1
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel539-02 org1
[1;34m
Verifing if the <testchannel539-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:39:02.127 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:39:02.131 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileYTWbDK _null_
Expect: testchannel539-02, got: null
[1;32mOK: The channel <testchannel539-02> does not exist and in not visible to org1[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel539-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel539-02 org1
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel539-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel539-02 org1
[1;36mCreating testchannel539-02 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzU0NH0.JOhwJeWQigLUDqiX7om_ECzSDSsZHOaKgpQucT17GXI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzU0NH0.JOhwJeWQigLUDqiX7om_ECzSDSsZHOaKgpQucT17GXI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzU0NH0.JOhwJeWQigLUDqiX7om_ECzSDSsZHOaKgpQucT17GXI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels {"channelId":"testchannel539-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzU0NH0.JOhwJeWQigLUDqiX7om_ECzSDSsZHOaKgpQucT17GXI
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel539-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:39:10.035 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:39:10.038 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file8GroQc _null_
Expect: testchannel539-02, got: null
[1;32mOK: The channel <testchannel539-02> does not exist and in not visible to org1[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel539 org1 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel539 org1 org1
Step: 8_api Test 'Add <org1> to channel <testchannel539> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel539 org1 org1 VERIFY: test-channel-add-org.sh testchannel539 org1 org1
[1;36mAdd org1 to the testchannel539 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel539 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzU1Mn0.LiLA3kE0JLzTVSj2F8PrQWoVH1gKV0oVA0OTMb6K0pc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzU1Mn0.LiLA3kE0JLzTVSj2F8PrQWoVH1gKV0oVA0OTMb6K0pc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzU1Mn0.LiLA3kE0JLzTVSj2F8PrQWoVH1gKV0oVA0OTMb6K0pc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels/testchannel539/orgs {"orgId":"org1","orgIp":"192.168.99.105","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzU1Mn0.LiLA3kE0JLzTVSj2F8PrQWoVH1gKV0oVA0OTMb6K0pc
curlGetIt got _ "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/testchannel539_config.json'"500 _ result
body is "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/testchannel539_config.json'", code is 500
"ENOENT: no such file or directory, open '/usr/src/app/crypto-config/testchannel539_config.json'" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org1> added to testchannel539 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:39:24.377 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:39:24.380 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 18:39:24.381 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 18:39:24.382 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQU1sTEFOa3poQ01rODZ5aWNTdHdNRHN3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQk9SdFQveEZoejdFZHJ1cThiS2tuSm9RMkxGeTJ1blgKT2dMKzRUUnJsSHFmbVExcXYzb0tva3FuOExNcm9YRUtJRWVSR2l5VGtacFYvNmRVNkUwYTM4T2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUdXUUFuclhETU8vCjJzenZ6YUVxOS9pMURHSnJBTno5TkxPZlhpbVYwSFhHTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUdqM1lyTWUKa1E2SDkrTklZS0Q1UmZoSEdrUFU4MGpzYjduOTVJK05TWHNaQWlBWUZaNVo1Wk56eHgveFIyeTNRTTA2TG9sZQpaZlZSekRiL0xFaGZscE1pOWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQUt6bXJQVnBrdW9iZEt4TTVoM09veDh3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQk1sTS80bCtzZHN2SUQ1RDdrUDN0MGlES1ZhemZySmNkN1MzWnVla1dXcU5NTktHL0Y0QmxYOHZDRzRuR292cwpxRlErMzIxZFJvVmlKOFB4SzJCVnB1eWpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKWlpBQ2V0Y013Ny9hek8vTm9TcjMrTFVNWW1zQTNQMDBzNTllS1pYUWRjWXdDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnT2I4alF3Z1NoNW1CellLRXVpMVZwMlNoWmJ4aytmRHZJcWlvanBPLzU2Y0NJR0sxTHIxVXJGeGpGZkFpCmRFMkNPZU93ZlNmVEpUWHdUem5EZmJYU0JGU08KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU5ESE9FSy9GdmJqUjVqcTNac0ptRGN3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016TXdNRGswT0RBd1doY05NekF3TXpJNE1EazAKT0RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCRHg0RS9qeDFkeGFTcS9JR2RoQkN4cHRSSFlYVTE2SERyeXFoTWNDMUtVek1Ob2F1djNUV3FkbAo3cUxveW5JenpIdGdabnBDNWR1aWZrb0t3MzlVVXpHamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdicVAwVTR6Znp1dVFhcERrdlRqMGdrSUZySHkwYnZWOFNqMGxRV21FM0hnd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdLYURLemFsS3NVZ1FDSExqN3FIZ21LM0hhK3RaakRBN3YwbGVmTzJva3pBQ0lCWTZXY2J4Clk1cjJEc09HZXUxSjdlWjlxdlc1RUdFUW5zb1RkRnFnUEpRcgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/filejHkwt6 _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel539>.[m[m[m
Step 8_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel539-02 org2 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel539-02 org2 org2
Step: 9_api Test 'Add <org2> to channel <testchannel539-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel539-02 org2 org2 VERIFY: test-channel-add-org.sh testchannel539-02 org2 org2
[1;36mAdd org2 to the testchannel539-02 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel539-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzU2Nn0.xCrqVZAkxjc9hWNmEExUl_ua6I-J4Xv_cBdU8rSeh34"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzU2Nn0.xCrqVZAkxjc9hWNmEExUl_ua6I-J4Xv_cBdU8rSeh34", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzU2Nn0.xCrqVZAkxjc9hWNmEExUl_ua6I-J4Xv_cBdU8rSeh34
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels/testchannel539-02/orgs {"orgId":"org2","orgIp":"192.168.99.104","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzU2Nn0.xCrqVZAkxjc9hWNmEExUl_ua6I-J4Xv_cBdU8rSeh34
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org2 added to testchannel539-02 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel539-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:39:39.141 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:39:39.145 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 18:39:39.147 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 18:39:39.147 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRR204WXJWaVFIdmYzTUxZUmtnSDh0ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFeGtLc0NobFZYTUVPdGhPeEc3bkVKb0R3YXFobjZmRkwKK2k3YW1xL21QQ2FWcDRIUXYwREhCRU9zZlFUQThBQVJJSWZ1NUxtMDYwam1nSHZTaUdFdk9xTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FncGF0QXJMN3R6MTRhCk5EK1VGcDBlUnVnTDFvdTNoSy9JK0tDUFB2NVJ2WUl3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRTRwajdmNVkKaHlPV3o1T1dMWFlLbE9kS1NmZXBzYzlaVnZ2aE92TzBDL0VDSURRTFRUMmQ2TjhNcmgwaW5aT0NxdnlCN25tOApTQ2NXS3NwdDZBYkZZVDBUCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUGJ6WVhyRFAwTTVtbWtiNjEvbk5JakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKTm9tdWZqeTk2V2YvYWhXc3pXWm9BMnA4Y0ExZktRdzk3MUdLZDZtNkFNOTBVUFdoQTVmRS9TWTJ4MW4zQU9lOQpXR01LRStNMm9vTjJER1R5SHowNFE2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ2wKcTBDc3Z1M1BYaG8wUDVRV25SNUc2QXZXaTdlRXI4ajRvSTgrL2xHOWdqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJoQXROV0F1M1ZpVm5YYXA1cXpqVndjU2wvZTNvYWVNU0g0bEczcS9uNUdBSWdUQ2xPVTdUYk43SVh6d0NZCjRDWjB2enlocFRvTzFLTlpkbFg1ZVVtdVIyWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRFdyR05aUkpGNUFhVjVFSURxZzAyekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek16QXdPVFV5TURCYUZ3MHpNREF6TWpnd09UVXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVTWmx5blRqRFBTRzZzTWdSQjBsalZZQ2tQMkJrRnIyZGlqZUNnS2pvVVpqMFRKcGE3L0c5dWpILworUzRkbkh6SEtKRlE5b2VuYzlSRDFTb0gvZWNPRmFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQnoyZ1h6S1JEMDNWUVRVSUR6WW16Y3U0NjhIZ2JYSStOUXpwWVR4d0xrNFRBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFtbFpObjVlaTJKVFN1cStaYjNBekNsQkNTSGUvWi9WQjREVHoyUm96QkNNQ0lCSVVldTVxCnk4SGNDaE9QekJBd3ZzbWdzdmEvREhSbUphYjVZcVFDeVp3bwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileAQ4bvH _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel539-02>.[m[m[m
Step 9_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel539 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel539 org1 org2
Step: 10_api Test 'Add <org2> to channel <testchannel539> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel539 org1 org2 VERIFY: test-channel-add-org.sh testchannel539 org1 org2
[1;36mAdd org2 to the testchannel539 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel539 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzU4MX0.t3UfzB2YSJDB07q3tqdzFsCl6Ri8NEQ6sReoOI9q3Sc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzU4MX0.t3UfzB2YSJDB07q3tqdzFsCl6Ri8NEQ6sReoOI9q3Sc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzU4MX0.t3UfzB2YSJDB07q3tqdzFsCl6Ri8NEQ6sReoOI9q3Sc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels/testchannel539/orgs {"orgId":"org2","orgIp":"192.168.99.104","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzU4MX0.t3UfzB2YSJDB07q3tqdzFsCl6Ri8NEQ6sReoOI9q3Sc
curlGetIt got _ "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/testchannel539_config.json'"500 _ result
body is "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/testchannel539_config.json'", code is 500
"ENOENT: no such file or directory, open '/usr/src/app/crypto-config/testchannel539_config.json'" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org2> added to testchannel539 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:39:54.378 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:39:54.386 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filez2Rwhk _null_
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 10_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel539-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel539-02 org2 org1
Step: 11_api Test 'Add <org1> to channel <testchannel539-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel539-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel539-02 org2 org1
[1;36mAdd org1 to the testchannel539-02 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel539-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzU5N30.BVpLDb6NSgrhjwv8Ys-taaDroQxuqcGg7fLP2rgFjfQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzU5N30.BVpLDb6NSgrhjwv8Ys-taaDroQxuqcGg7fLP2rgFjfQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzU5N30.BVpLDb6NSgrhjwv8Ys-taaDroQxuqcGg7fLP2rgFjfQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels/testchannel539-02/orgs {"orgId":"org1","orgIp":"192.168.99.105","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzU5N30.BVpLDb6NSgrhjwv8Ys-taaDroQxuqcGg7fLP2rgFjfQ
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org1 added to testchannel539-02 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel539-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:40:12.539 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:40:12.542 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-30 18:40:12.545 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-30 18:40:12.545 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQU1sTEFOa3poQ01rODZ5aWNTdHdNRHN3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQk9SdFQveEZoejdFZHJ1cThiS2tuSm9RMkxGeTJ1blgKT2dMKzRUUnJsSHFmbVExcXYzb0tva3FuOExNcm9YRUtJRWVSR2l5VGtacFYvNmRVNkUwYTM4T2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUdXUUFuclhETU8vCjJzenZ6YUVxOS9pMURHSnJBTno5TkxPZlhpbVYwSFhHTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUdqM1lyTWUKa1E2SDkrTklZS0Q1UmZoSEdrUFU4MGpzYjduOTVJK05TWHNaQWlBWUZaNVo1Wk56eHgveFIyeTNRTTA2TG9sZQpaZlZSekRiL0xFaGZscE1pOWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQUt6bXJQVnBrdW9iZEt4TTVoM09veDh3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQk1sTS80bCtzZHN2SUQ1RDdrUDN0MGlES1ZhemZySmNkN1MzWnVla1dXcU5NTktHL0Y0QmxYOHZDRzRuR292cwpxRlErMzIxZFJvVmlKOFB4SzJCVnB1eWpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKWlpBQ2V0Y013Ny9hek8vTm9TcjMrTFVNWW1zQTNQMDBzNTllS1pYUWRjWXdDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnT2I4alF3Z1NoNW1CellLRXVpMVZwMlNoWmJ4aytmRHZJcWlvanBPLzU2Y0NJR0sxTHIxVXJGeGpGZkFpCmRFMkNPZU93ZlNmVEpUWHdUem5EZmJYU0JGU08KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU5ESE9FSy9GdmJqUjVqcTNac0ptRGN3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016TXdNRGswT0RBd1doY05NekF3TXpJNE1EazAKT0RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCRHg0RS9qeDFkeGFTcS9JR2RoQkN4cHRSSFlYVTE2SERyeXFoTWNDMUtVek1Ob2F1djNUV3FkbAo3cUxveW5JenpIdGdabnBDNWR1aWZrb0t3MzlVVXpHamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdicVAwVTR6Znp1dVFhcERrdlRqMGdrSUZySHkwYnZWOFNqMGxRV21FM0hnd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdLYURLemFsS3NVZ1FDSExqN3FIZ21LM0hhK3RaakRBN3YwbGVmTzJva3pBQ0lCWTZXY2J4Clk1cjJEc09HZXUxSjdlWjlxdlc1RUdFUW5zb1RkRnFnUEpRcgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileHhJXLn _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel539-02>.[m[m[m
Step 11_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel539 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel539 org1
Step: 12_api Test 'Join <org1> to the <testchannel539> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel539 org1 VERIFY: test-join-channel.sh testchannel539 org1
[1;36mJoining org1.example.com to the testchannel539 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel539 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzYxNX0.Hr9B7qPjvsNYD31xeCIs4ktC9_8RK_AfSYqgnPozTg4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzYxNX0.Hr9B7qPjvsNYD31xeCIs4ktC9_8RK_AfSYqgnPozTg4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzYxNX0.Hr9B7qPjvsNYD31xeCIs4ktC9_8RK_AfSYqgnPozTg4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels/testchannel539 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzYxNX0.Hr9B7qPjvsNYD31xeCIs4ktC9_8RK_AfSYqgnPozTg4
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel539> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:40:21.495 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel539> channel[m[m[m
Step 12_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel539 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel539 org2
Step: 13_api Test 'Join <org2> to the <testchannel539> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel539 org2 VERIFY: test-join-channel.sh testchannel539 org2
[1;36mJoining org2.example.com to the testchannel539 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel539 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzYyNH0.6j5aLHUz9G_jJtwfGDY4ezpk4fAoZFf4u1aQ7bV77oE"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzYyNH0.6j5aLHUz9G_jJtwfGDY4ezpk4fAoZFf4u1aQ7bV77oE", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzYyNH0.6j5aLHUz9G_jJtwfGDY4ezpk4fAoZFf4u1aQ7bV77oE
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels/testchannel539 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzYyNH0.6j5aLHUz9G_jJtwfGDY4ezpk4fAoZFf4u1aQ7bV77oE
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
join channel REST query returned: "Invalid results returned ::FORBIDDEN" 500 .
create_http_code = results
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel539> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:40:30.178 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 13_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel539-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel539-02 org1
Step: 14_api Test 'Join <org1> to the <testchannel539-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel539-02 org1 VERIFY: test-join-channel.sh testchannel539-02 org1
[1;36mJoining org1.example.com to the testchannel539-02 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel539-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzYzM30.RKeTyFPZ48wEiKx87CSaallE942BkFENNuHxYhjbPwU"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzYzM30.RKeTyFPZ48wEiKx87CSaallE942BkFENNuHxYhjbPwU", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzYzM30.RKeTyFPZ48wEiKx87CSaallE942BkFENNuHxYhjbPwU
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels/testchannel539-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzYzM30.RKeTyFPZ48wEiKx87CSaallE942BkFENNuHxYhjbPwU
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel539-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:42:37.827 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel539-02> channel[m[m[m
Step 14_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel539-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel539-02 org2
Step: 15_api Test 'Join <org2> to the <testchannel539-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel539-02 org2 VERIFY: test-join-channel.sh testchannel539-02 org2
[1;36mJoining org2.example.com to the testchannel539-02 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel539-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5Mzc2MH0.mxnbf2CYlMmWPhrBzkydMjrgGL27hCBKq8_neRZOam8"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5Mzc2MH0.mxnbf2CYlMmWPhrBzkydMjrgGL27hCBKq8_neRZOam8", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5Mzc2MH0.mxnbf2CYlMmWPhrBzkydMjrgGL27hCBKq8_neRZOam8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels/testchannel539-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5Mzc2MH0.mxnbf2CYlMmWPhrBzkydMjrgGL27hCBKq8_neRZOam8
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel539-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:42:44.735 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel539-02> channel[m[m[m
Step 15_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel539 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel539 org1
Step: 16_api Test 'Install test chaincode by <org1> to the <testchannel539> channel'
RUNTEST: chaincode-install.sh testchannel539 org1 VERIFY: test-chaincode-installed.sh testchannel539 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5Mzc2N30.xgWhoE6aAeLXyTdg9F_b7kdtm0Hrz24gspytDmQQXj4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5Mzc2N30.xgWhoE6aAeLXyTdg9F_b7kdtm0Hrz24gspytDmQQXj4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5Mzc2N30.xgWhoE6aAeLXyTdg9F_b7kdtm0Hrz24gspytDmQQXj4
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel539/chaincode-reference.js (deflated 27%)
adding: reference_testchannel539/index.js (deflated 27%)
adding: reference_testchannel539/package.json (deflated 41%)
adding: reference_testchannel539/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12276 Ð¼Ð°Ñ€ 30 21:42 /tmp/reference_testchannel539.zip
/tmp/reference_testchannel539.zip
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel539:1.0 successfully installed""
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode installed in org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel539' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel10161, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel10161, Id: 1ac34725a3abdc98d6a608fcdb3b8770e53ea87eba583019e9fd5a09a279c024
Name: reference_testchannel17640, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17640, Id: 6e65705c305dc26d848ae39059e56edccfd8d66cacb2f4684123edf826b46b02
Name: reference_testchannel25553, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel25553, Id: 8f14d3229b5ee14eb55b451ffe7ec8229ff4920d968b8a9922c82b3fe12c2dd4
Name: reference_testchannel2856, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel2856, Id: 7c696a853092cfcef26594df1f8b384f78b121d509751a2ab8ceb5af79bd9095
Name: reference_testchannel539, Version: 1.0, Path: /tmp/reference_testchannel539, Id: 4f5f1975b39cbf2c4e1ba710fa24ecadd14421578738e766963fcb9d70f349e6
reference_testchannel539
[1;32mOK: The test chaincode installed in org1[m[m[m
Step 16_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel539-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel539-02 org2
Step: 17_api Test 'Install test chaincode by <org2> to the <testchannel539-02> channel'
RUNTEST: chaincode-install.sh testchannel539-02 org2 VERIFY: test-chaincode-installed.sh testchannel539-02 org2
[1;36m
Installing test chaincode in org2...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5Mzc3NH0.9IpSVOD60BNkQf7HXz3ZV93-uxYozC13MM8TK5nFSHw"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5Mzc3NH0.9IpSVOD60BNkQf7HXz3ZV93-uxYozC13MM8TK5nFSHw", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5Mzc3NH0.9IpSVOD60BNkQf7HXz3ZV93-uxYozC13MM8TK5nFSHw
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel539-02/chaincode-reference.js (deflated 27%)
adding: reference_testchannel539-02/index.js (deflated 27%)
adding: reference_testchannel539-02/package.json (deflated 41%)
adding: reference_testchannel539-02/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12300 Ð¼Ð°Ñ€ 30 21:42 /tmp/reference_testchannel539-02.zip
/tmp/reference_testchannel539-02.zip
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel539-02:1.0 successfully installed""
[1;32mOK: Test chaincode installed in org2[m[m[m
[1;34m
Verifing if the test chaincode installed in org2 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel539-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel10161-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel10161-02, Id: 45435117a2e4f8b38f5d621f8b11f02ad389d40e46d5dece84a8adcae21566a5
Name: reference_testchannel10695-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel10695-02, Id: 71b41461232de072a3a5ced3786a045b675ef5ce136716b21cef537e01fa7c96
Name: reference_testchannel10695, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel10695, Id: 9bcd6950f5f93be8487e307860e29df98394052fbe62c422c912782b246ce030
Name: reference_testchannel17640-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17640-02, Id: 8f094ccb7ad7d85255752539c86fd8d2cf3af1fd6f89b25701a25bbcc29d5f08
Name: reference_testchannel17865-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17865-02, Id: 1e545b23b162c7eab18b864739577db6f2178d450ca8400b84e790a77be730df
Name: reference_testchannel17865, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17865, Id: 4610dd105c1fd5af286001b82aabb689bd2ec58345b3c8474e834e8eae0e4956
Name: reference_testchannel25553-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel25553-02, Id: adf4be76f5dcc3074a9537ec663dcb5e55fc9931b2142da54484f8e5ea2de90a
Name: reference_testchannel2856-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel2856-02, Id: 42321308d5f0b2af5ebe1f493ab771fbaa27f75a7dd3a4c0fa896cbfdccbf18a
Name: reference_testchannel29088-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel29088-02, Id: 6cc4fb0d2dc148f91f51fc066bec89b6798f685898d915cc34fdb5c44fdc3f3e
Name: reference_testchannel29088, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel29088, Id: ab924972ebc78695550f399712f447e92c6ad4a2c5c087e304e9ece1ec891c80
Name: reference_testchannel31130-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel31130-02, Id: 17f5c46056dcfe16fa58974f932a0567f3f8c057c09b255c0dec1277f0927fae
Name: reference_testchannel31130, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel31130, Id: 5904dcb791fa5972f57fec3c49b93ca8a286aa31e47e0ea7e65c03e77239dbfd
Name: reference_testchannel539-02, Version: 1.0, Path: /tmp/reference_testchannel539-02, Id: 9f264ccc78ab21dc8fa90ded1fefed8c529d5ea838f326b92e8c8f39cf7ad13d
reference_testchannel539-02
[1;32mOK: The test chaincode installed in org2[m[m[m
Step 17_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-instantiate.sh testchannel539 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel539 org1
Step: 18_api Test 'Instantiate test chaincode by <org1> to the <testchannel539> channel'
RUNTEST: chaincode-instantiate.sh testchannel539 org1 VERIFY: test-chaincode-instantiated.sh testchannel539 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5Mzc4Mn0.y1ACsDM3qWYDiDPXRLOqgLWNXbwjCPY3VSxn01cDdm8"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5Mzc4Mn0.y1ACsDM3qWYDiDPXRLOqgLWNXbwjCPY3VSxn01cDdm8", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5Mzc4Mn0.y1ACsDM3qWYDiDPXRLOqgLWNXbwjCPY3VSxn01cDdm8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels/testchannel539/chaincodes {"channelId":"testchannel539","chaincodeId":"reference_testchannel539","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5Mzc4Mn0.y1ACsDM3qWYDiDPXRLOqgLWNXbwjCPY3VSxn01cDdm8
curlGetIt got _ {"txid":"7c610c39a3e7ab042f6f36b6562759699311e3b2a1cdb3fab0996af0ff0fd10f","status":"VALID","blockNumber":"1"}200 _ result
body is {"txid":"7c610c39a3e7ab042f6f36b6562759699311e3b2a1cdb3fab0996af0ff0fd10f","status":"VALID","blockNumber":"1"}, code is 200
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel539 channel by org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel539' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel539:
Name: reference_testchannel539, Version: 1.0, Path: /tmp/reference_testchannel539, Input: <nil>, Escc: escc, Vscc: vscc
reference_testchannel539
[1;32mOK: The test chaincode installed in testchannel539 channel by org1 org[m[m[m
Step 18_api: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-invoke.sh testchannel539 org1 reference_testchannel539 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-query.sh testchannel539 org1 reference_testchannel539
Step: 19_api Test 'Test chaincode invocation and query:  <org1> <-> <org2>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel539 org1 reference_testchannel539 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel539 org1 reference_testchannel539
[1;36m
Invoke test chaincode on the <testchannel539> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzgzN30.-xgzLRTSNIdb-1i3acIoQX8iEfZu4mFYft2uFUMKo80"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzgzN30.-xgzLRTSNIdb-1i3acIoQX8iEfZu4mFYft2uFUMKo80", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzgzN30.-xgzLRTSNIdb-1i3acIoQX8iEfZu4mFYft2uFUMKo80
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels/testchannel539/chaincodes/reference_testchannel539 {"fcn":"put","args":["testchannel539","testchannel539"],"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5MzgzN30.-xgzLRTSNIdb-1i3acIoQX8iEfZu4mFYft2uFUMKo80
curlGetIt got _ {"txid":"f5471394da36a1bee9d2f47727a6d6a8f4aaf9fa59df870443b64397049af80f","status":"VALID","blockNumber":"2"}200 _ result
body is {"txid":"f5471394da36a1bee9d2f47727a6d6a8f4aaf9fa59df870443b64397049af80f","status":"VALID","blockNumber":"2"}, code is 200
[1;32mOK: Chaincode reference_testchannel539 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel539> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel539 reference_testchannel539 '["range","testchannel539"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel539 reference_testchannel539 '["range","testchannel539"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051 peer chaincode query -n reference_testchannel539 -C testchannel539 -c '{"Args":["range","testchannel539"]}'
Error: error endorsing query: rpc error: code = Unknown desc = access denied: channel [testchannel539] creator org [org2] - proposal response: <nil>
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 19_api: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel6055 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel6055 org1
Step: 1_api Test 'Create <testchannel6055> Channel in ORG1'
RUNTEST: create-channel.sh testchannel6055 org1 VERIFY: test-channel-exists.sh testchannel6055 org1
[1;36mCreating testchannel6055 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDE4N30.hECTXRVFXoVZNZPsxlae0X9H2_rcQR3U3gWpOQtHc_A"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDE4N30.hECTXRVFXoVZNZPsxlae0X9H2_rcQR3U3gWpOQtHc_A", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDE4N30.hECTXRVFXoVZNZPsxlae0X9H2_rcQR3U3gWpOQtHc_A
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels {"channelId":"testchannel6055","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDE4N30.hECTXRVFXoVZNZPsxlae0X9H2_rcQR3U3gWpOQtHc_A
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel6055> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel6055> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:49:53.031 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:49:53.034 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 18:49:53.036 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 18:49:53.036 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel6055",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T18:49:50Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filet0YG7g _testchannel6055_
Expect: testchannel6055, got: testchannel6055
[1;32mOK: The channel <testchannel6055> exists and visible to org1[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel6055 org2
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel6055 org2
[1;34m
Verifing if the <testchannel6055> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:49:55.204 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:49:55.207 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileUsjNqQ _null_
Expect: testchannel6055, got: null
[1;32mOK: The channel <testchannel6055> does not exist and in not visible to org2[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel6055 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel6055 org1
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel6055 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel6055 org1
[1;36mCreating ^^^^^^testchannel6055 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDE5N30.vsOrClvr_zARSalq52ftrju9ebo1GSVs2p5YxmPeriU"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDE5N30.vsOrClvr_zARSalq52ftrju9ebo1GSVs2p5YxmPeriU", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDE5N30.vsOrClvr_zARSalq52ftrju9ebo1GSVs2p5YxmPeriU
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels {"channelId":"^^^^^^testchannel6055","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDE5N30.vsOrClvr_zARSalq52ftrju9ebo1GSVs2p5YxmPeriU
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel6055\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel6055\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel6055\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel6055> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:50:03.069 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:50:03.070 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/file6E8KI2 _null_
Expect: ^^^^^^testchannel6055, got: null
[1;32mOK: The channel <^^^^^^testchannel6055> does not exist and in not visible to org1[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel6055 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel6055 org2
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel6055 org2 VERIFY: test-channel-does-not-exist.sh testchannel6055 org2
[1;36mCreating testchannel6055 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDIwNX0.5jjqOj9RBWYh4UPqoYvGmSpjNX9mHAdiz99LqOh3EII"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDIwNX0.5jjqOj9RBWYh4UPqoYvGmSpjNX9mHAdiz99LqOh3EII", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDIwNX0.5jjqOj9RBWYh4UPqoYvGmSpjNX9mHAdiz99LqOh3EII
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels {"channelId":"testchannel6055","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDIwNX0.5jjqOj9RBWYh4UPqoYvGmSpjNX9mHAdiz99LqOh3EII
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel6055> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:50:10.612 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:50:10.615 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileOLk5bS _null_
Expect: testchannel6055, got: null
[1;32mOK: The channel <testchannel6055> does not exist and in not visible to org2[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel6055-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel6055-02 org2
Step: 5_api Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel6055-02 org2 VERIFY: test-channel-exists.sh testchannel6055-02 org2
[1;36mCreating testchannel6055-02 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDIxMn0.dYEeRE5YPtXGEJAWakny7ksmguTOqEL3Zu6XGtx5b1c"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDIxMn0.dYEeRE5YPtXGEJAWakny7ksmguTOqEL3Zu6XGtx5b1c", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDIxMn0.dYEeRE5YPtXGEJAWakny7ksmguTOqEL3Zu6XGtx5b1c
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels {"channelId":"testchannel6055-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDIxMn0.dYEeRE5YPtXGEJAWakny7ksmguTOqEL3Zu6XGtx5b1c
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel6055-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel6055-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:50:18.374 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:50:18.377 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 18:50:18.380 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 18:50:18.380 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel6055-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T18:50:15Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileenxpjY _testchannel6055-02_
Expect: testchannel6055-02, got: testchannel6055-02
[1;32mOK: The channel <testchannel6055-02> exists and visible to org2[m[m[m
Step 5_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel6055-02 org1
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel6055-02 org1
[1;34m
Verifing if the <testchannel6055-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:50:20.530 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:50:20.532 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileRIwCMc _null_
Expect: testchannel6055-02, got: null
[1;32mOK: The channel <testchannel6055-02> does not exist and in not visible to org1[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel6055-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel6055-02 org1
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel6055-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel6055-02 org1
[1;36mCreating testchannel6055-02 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDIyM30.oiVUozRyugultwKv6q1BYge96m0to-3HTZY6AuvVzS4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDIyM30.oiVUozRyugultwKv6q1BYge96m0to-3HTZY6AuvVzS4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDIyM30.oiVUozRyugultwKv6q1BYge96m0to-3HTZY6AuvVzS4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels {"channelId":"testchannel6055-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDIyM30.oiVUozRyugultwKv6q1BYge96m0to-3HTZY6AuvVzS4
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel6055-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:50:28.279 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:50:28.282 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file59WCsi _null_
Expect: testchannel6055-02, got: null
[1;32mOK: The channel <testchannel6055-02> does not exist and in not visible to org1[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel6055 org1 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel6055 org1 org1
Step: 8_api Test 'Add <org1> to channel <testchannel6055> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel6055 org1 org1 VERIFY: test-channel-add-org.sh testchannel6055 org1 org1
[1;36mAdd org1 to the testchannel6055 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel6055 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDIzMH0.zKTprcgbqweVSK5zmuu3xcwojeU8sk-QwJPWqTSKcEY"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDIzMH0.zKTprcgbqweVSK5zmuu3xcwojeU8sk-QwJPWqTSKcEY", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDIzMH0.zKTprcgbqweVSK5zmuu3xcwojeU8sk-QwJPWqTSKcEY
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels/testchannel6055/orgs {"orgId":"org1","orgIp":"192.168.99.105","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDIzMH0.zKTprcgbqweVSK5zmuu3xcwojeU8sk-QwJPWqTSKcEY
curlGetIt got _ "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/testchannel6055_config.json'"500 _ result
body is "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/testchannel6055_config.json'", code is 500
"ENOENT: no such file or directory, open '/usr/src/app/crypto-config/testchannel6055_config.json'" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org1> added to testchannel6055 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:50:42.160 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:50:42.162 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 18:50:42.163 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 18:50:42.164 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQU1sTEFOa3poQ01rODZ5aWNTdHdNRHN3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQk9SdFQveEZoejdFZHJ1cThiS2tuSm9RMkxGeTJ1blgKT2dMKzRUUnJsSHFmbVExcXYzb0tva3FuOExNcm9YRUtJRWVSR2l5VGtacFYvNmRVNkUwYTM4T2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUdXUUFuclhETU8vCjJzenZ6YUVxOS9pMURHSnJBTno5TkxPZlhpbVYwSFhHTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUdqM1lyTWUKa1E2SDkrTklZS0Q1UmZoSEdrUFU4MGpzYjduOTVJK05TWHNaQWlBWUZaNVo1Wk56eHgveFIyeTNRTTA2TG9sZQpaZlZSekRiL0xFaGZscE1pOWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQUt6bXJQVnBrdW9iZEt4TTVoM09veDh3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQk1sTS80bCtzZHN2SUQ1RDdrUDN0MGlES1ZhemZySmNkN1MzWnVla1dXcU5NTktHL0Y0QmxYOHZDRzRuR292cwpxRlErMzIxZFJvVmlKOFB4SzJCVnB1eWpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKWlpBQ2V0Y013Ny9hek8vTm9TcjMrTFVNWW1zQTNQMDBzNTllS1pYUWRjWXdDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnT2I4alF3Z1NoNW1CellLRXVpMVZwMlNoWmJ4aytmRHZJcWlvanBPLzU2Y0NJR0sxTHIxVXJGeGpGZkFpCmRFMkNPZU93ZlNmVEpUWHdUem5EZmJYU0JGU08KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU5ESE9FSy9GdmJqUjVqcTNac0ptRGN3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016TXdNRGswT0RBd1doY05NekF3TXpJNE1EazAKT0RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCRHg0RS9qeDFkeGFTcS9JR2RoQkN4cHRSSFlYVTE2SERyeXFoTWNDMUtVek1Ob2F1djNUV3FkbAo3cUxveW5JenpIdGdabnBDNWR1aWZrb0t3MzlVVXpHamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdicVAwVTR6Znp1dVFhcERrdlRqMGdrSUZySHkwYnZWOFNqMGxRV21FM0hnd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdLYURLemFsS3NVZ1FDSExqN3FIZ21LM0hhK3RaakRBN3YwbGVmTzJva3pBQ0lCWTZXY2J4Clk1cjJEc09HZXUxSjdlWjlxdlc1RUdFUW5zb1RkRnFnUEpRcgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/filewXk6tX _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel6055>.[m[m[m
Step 8_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel6055-02 org2 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel6055-02 org2 org2
Step: 9_api Test 'Add <org2> to channel <testchannel6055-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel6055-02 org2 org2 VERIFY: test-channel-add-org.sh testchannel6055-02 org2 org2
[1;36mAdd org2 to the testchannel6055-02 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel6055-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDI0NH0.VfJzujwOC4I5Bikq7hqFRFK6xTSB55zUg-vSWhW7Gik"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDI0NH0.VfJzujwOC4I5Bikq7hqFRFK6xTSB55zUg-vSWhW7Gik", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDI0NH0.VfJzujwOC4I5Bikq7hqFRFK6xTSB55zUg-vSWhW7Gik
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels/testchannel6055-02/orgs {"orgId":"org2","orgIp":"192.168.99.104","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDI0NH0.VfJzujwOC4I5Bikq7hqFRFK6xTSB55zUg-vSWhW7Gik
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org2 added to testchannel6055-02 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel6055-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:50:56.983 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:50:56.987 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 18:50:56.989 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 18:50:56.989 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRR204WXJWaVFIdmYzTUxZUmtnSDh0ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFeGtLc0NobFZYTUVPdGhPeEc3bkVKb0R3YXFobjZmRkwKK2k3YW1xL21QQ2FWcDRIUXYwREhCRU9zZlFUQThBQVJJSWZ1NUxtMDYwam1nSHZTaUdFdk9xTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FncGF0QXJMN3R6MTRhCk5EK1VGcDBlUnVnTDFvdTNoSy9JK0tDUFB2NVJ2WUl3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRTRwajdmNVkKaHlPV3o1T1dMWFlLbE9kS1NmZXBzYzlaVnZ2aE92TzBDL0VDSURRTFRUMmQ2TjhNcmgwaW5aT0NxdnlCN25tOApTQ2NXS3NwdDZBYkZZVDBUCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUGJ6WVhyRFAwTTVtbWtiNjEvbk5JakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKTm9tdWZqeTk2V2YvYWhXc3pXWm9BMnA4Y0ExZktRdzk3MUdLZDZtNkFNOTBVUFdoQTVmRS9TWTJ4MW4zQU9lOQpXR01LRStNMm9vTjJER1R5SHowNFE2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ2wKcTBDc3Z1M1BYaG8wUDVRV25SNUc2QXZXaTdlRXI4ajRvSTgrL2xHOWdqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJoQXROV0F1M1ZpVm5YYXA1cXpqVndjU2wvZTNvYWVNU0g0bEczcS9uNUdBSWdUQ2xPVTdUYk43SVh6d0NZCjRDWjB2enlocFRvTzFLTlpkbFg1ZVVtdVIyWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRFdyR05aUkpGNUFhVjVFSURxZzAyekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek16QXdPVFV5TURCYUZ3MHpNREF6TWpnd09UVXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVTWmx5blRqRFBTRzZzTWdSQjBsalZZQ2tQMkJrRnIyZGlqZUNnS2pvVVpqMFRKcGE3L0c5dWpILworUzRkbkh6SEtKRlE5b2VuYzlSRDFTb0gvZWNPRmFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQnoyZ1h6S1JEMDNWUVRVSUR6WW16Y3U0NjhIZ2JYSStOUXpwWVR4d0xrNFRBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFtbFpObjVlaTJKVFN1cStaYjNBekNsQkNTSGUvWi9WQjREVHoyUm96QkNNQ0lCSVVldTVxCnk4SGNDaE9QekJBd3ZzbWdzdmEvREhSbUphYjVZcVFDeVp3bwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileVJ7Sfs _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel6055-02>.[m[m[m
Step 9_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel6055 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel6055 org1 org2
Step: 10_api Test 'Add <org2> to channel <testchannel6055> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel6055 org1 org2 VERIFY: test-channel-add-org.sh testchannel6055 org1 org2
[1;36mAdd org2 to the testchannel6055 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel6055 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDI1OX0.bFm7sTY9Zru46p90Mxcf_lhQ8jZX_0QyE9t_HBJ72O4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDI1OX0.bFm7sTY9Zru46p90Mxcf_lhQ8jZX_0QyE9t_HBJ72O4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDI1OX0.bFm7sTY9Zru46p90Mxcf_lhQ8jZX_0QyE9t_HBJ72O4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels/testchannel6055/orgs {"orgId":"org2","orgIp":"192.168.99.104","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDI1OX0.bFm7sTY9Zru46p90Mxcf_lhQ8jZX_0QyE9t_HBJ72O4
curlGetIt got _ "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/testchannel6055_config.json'"500 _ result
body is "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/testchannel6055_config.json'", code is 500
"ENOENT: no such file or directory, open '/usr/src/app/crypto-config/testchannel6055_config.json'" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org2> added to testchannel6055 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:51:12.099 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:51:12.102 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filedSyFA0 _null_
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 10_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel6055-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel6055-02 org2 org1
Step: 11_api Test 'Add <org1> to channel <testchannel6055-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel6055-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel6055-02 org2 org1
[1;36mAdd org1 to the testchannel6055-02 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel6055-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDI3NX0.ffrcNUx-o6rRz6-vPsjl0i1cGOSKKSmtnecFDGFLJW0"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDI3NX0.ffrcNUx-o6rRz6-vPsjl0i1cGOSKKSmtnecFDGFLJW0", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDI3NX0.ffrcNUx-o6rRz6-vPsjl0i1cGOSKKSmtnecFDGFLJW0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel21707 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel21707 org1
Step: 1_api Test 'Create <testchannel21707> Channel in ORG1'
RUNTEST: create-channel.sh testchannel21707 org1 VERIFY: test-channel-exists.sh testchannel21707 org1
[1;36mCreating testchannel21707 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDQwOH0.yWEaa_jYm78n778waCVxSwL2-vM9Uzn-ClIagrcIgsQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDQwOH0.yWEaa_jYm78n778waCVxSwL2-vM9Uzn-ClIagrcIgsQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDQwOH0.yWEaa_jYm78n778waCVxSwL2-vM9Uzn-ClIagrcIgsQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels {"channelId":"testchannel21707","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDQwOH0.yWEaa_jYm78n778waCVxSwL2-vM9Uzn-ClIagrcIgsQ
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel21707> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel21707> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:53:34.516 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:53:34.518 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 18:53:34.519 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 18:53:34.519 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel21707",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T18:53:31Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileSlQOv4 _testchannel21707_
Expect: testchannel21707, got: testchannel21707
[1;32mOK: The channel <testchannel21707> exists and visible to org1[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel21707 org2
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel21707 org2
[1;34m
Verifing if the <testchannel21707> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:53:36.609 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:53:36.612 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/files0g2Pg _null_
Expect: testchannel21707, got: null
[1;32mOK: The channel <testchannel21707> does not exist and in not visible to org2[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel21707 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel21707 org1
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel21707 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel21707 org1
[1;36mCreating ^^^^^^testchannel21707 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDQxOH0.x2W9EYledszJ9Qa6dXnTnqwUQs75KyEto-Pig-j1YoA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDQxOH0.x2W9EYledszJ9Qa6dXnTnqwUQs75KyEto-Pig-j1YoA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDQxOH0.x2W9EYledszJ9Qa6dXnTnqwUQs75KyEto-Pig-j1YoA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels {"channelId":"^^^^^^testchannel21707","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDQxOH0.x2W9EYledszJ9Qa6dXnTnqwUQs75KyEto-Pig-j1YoA
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel21707\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel21707\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel21707\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel21707> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:53:44.417 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:53:44.419 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileLAefQn _null_
Expect: ^^^^^^testchannel21707, got: null
[1;32mOK: The channel <^^^^^^testchannel21707> does not exist and in not visible to org1[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel21707 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel21707 org2
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel21707 org2 VERIFY: test-channel-does-not-exist.sh testchannel21707 org2
[1;36mCreating testchannel21707 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDQyNn0.uhTQPAe_Ahs_yZ41w5Ht10FgpsEy0Mg3VaPgNnUKsf4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDQyNn0.uhTQPAe_Ahs_yZ41w5Ht10FgpsEy0Mg3VaPgNnUKsf4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDQyNn0.uhTQPAe_Ahs_yZ41w5Ht10FgpsEy0Mg3VaPgNnUKsf4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels {"channelId":"testchannel21707","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDQyNn0.uhTQPAe_Ahs_yZ41w5Ht10FgpsEy0Mg3VaPgNnUKsf4
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel21707> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:53:52.823 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:53:52.827 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file0wPN47 _null_
Expect: testchannel21707, got: null
[1;32mOK: The channel <testchannel21707> does not exist and in not visible to org2[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel21707-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel21707-02 org2
Step: 5_api Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel21707-02 org2 VERIFY: test-channel-exists.sh testchannel21707-02 org2
[1;36mCreating testchannel21707-02 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDQzNX0.hnaKs9UTGiH_6WxHJ_ak7rMY6hpjBMR_JxR4CKSspCI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDQzNX0.hnaKs9UTGiH_6WxHJ_ak7rMY6hpjBMR_JxR4CKSspCI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDQzNX0.hnaKs9UTGiH_6WxHJ_ak7rMY6hpjBMR_JxR4CKSspCI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels {"channelId":"testchannel21707-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDQzNX0.hnaKs9UTGiH_6WxHJ_ak7rMY6hpjBMR_JxR4CKSspCI
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel21707-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel21707-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:54:00.919 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:54:00.921 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 18:54:00.923 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 18:54:00.923 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel21707-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T18:53:58Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filelEc2AL _testchannel21707-02_
Expect: testchannel21707-02, got: testchannel21707-02
[1;32mOK: The channel <testchannel21707-02> exists and visible to org2[m[m[m
Step 5_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel21707-02 org1
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel21707-02 org1
[1;34m
Verifing if the <testchannel21707-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:54:03.227 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:54:03.230 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file4LE840 _null_
Expect: testchannel21707-02, got: null
[1;32mOK: The channel <testchannel21707-02> does not exist and in not visible to org1[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel21707-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel21707-02 org1
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel21707-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel21707-02 org1
[1;36mCreating testchannel21707-02 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDQ0Nn0.ArpO_K6EODWpQohje-dHAKM3ju5PA5J-ARxQBInBIgY"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDQ0Nn0.ArpO_K6EODWpQohje-dHAKM3ju5PA5J-ARxQBInBIgY", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDQ0Nn0.ArpO_K6EODWpQohje-dHAKM3ju5PA5J-ARxQBInBIgY
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels {"channelId":"testchannel21707-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDQ0Nn0.ArpO_K6EODWpQohje-dHAKM3ju5PA5J-ARxQBInBIgY
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel21707-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:54:11.784 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:54:11.786 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filerSToYX _null_
Expect: testchannel21707-02, got: null
[1;32mOK: The channel <testchannel21707-02> does not exist and in not visible to org1[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel21707 org1 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel21707 org1 org1
Step: 8_api Test 'Add <org1> to channel <testchannel21707> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel21707 org1 org1 VERIFY: test-channel-add-org.sh testchannel21707 org1 org1
[1;36mAdd org1 to the testchannel21707 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel21707 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDQ1NH0.UxhGzUv8Mv-00foLjOuTu7tRhN62ag2DBjdQ3BVp8sM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDQ1NH0.UxhGzUv8Mv-00foLjOuTu7tRhN62ag2DBjdQ3BVp8sM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDQ1NH0.UxhGzUv8Mv-00foLjOuTu7tRhN62ag2DBjdQ3BVp8sM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels/testchannel21707/orgs {"orgId":"org1","orgIp":"192.168.99.105","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDQ1NH0.UxhGzUv8Mv-00foLjOuTu7tRhN62ag2DBjdQ3BVp8sM
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org1 added to testchannel21707 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel21707 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:54:26.586 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:54:26.588 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 18:54:26.590 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 18:54:26.590 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQU1sTEFOa3poQ01rODZ5aWNTdHdNRHN3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQk9SdFQveEZoejdFZHJ1cThiS2tuSm9RMkxGeTJ1blgKT2dMKzRUUnJsSHFmbVExcXYzb0tva3FuOExNcm9YRUtJRWVSR2l5VGtacFYvNmRVNkUwYTM4T2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUdXUUFuclhETU8vCjJzenZ6YUVxOS9pMURHSnJBTno5TkxPZlhpbVYwSFhHTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUdqM1lyTWUKa1E2SDkrTklZS0Q1UmZoSEdrUFU4MGpzYjduOTVJK05TWHNaQWlBWUZaNVo1Wk56eHgveFIyeTNRTTA2TG9sZQpaZlZSekRiL0xFaGZscE1pOWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQUt6bXJQVnBrdW9iZEt4TTVoM09veDh3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQk1sTS80bCtzZHN2SUQ1RDdrUDN0MGlES1ZhemZySmNkN1MzWnVla1dXcU5NTktHL0Y0QmxYOHZDRzRuR292cwpxRlErMzIxZFJvVmlKOFB4SzJCVnB1eWpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKWlpBQ2V0Y013Ny9hek8vTm9TcjMrTFVNWW1zQTNQMDBzNTllS1pYUWRjWXdDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnT2I4alF3Z1NoNW1CellLRXVpMVZwMlNoWmJ4aytmRHZJcWlvanBPLzU2Y0NJR0sxTHIxVXJGeGpGZkFpCmRFMkNPZU93ZlNmVEpUWHdUem5EZmJYU0JGU08KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU5ESE9FSy9GdmJqUjVqcTNac0ptRGN3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016TXdNRGswT0RBd1doY05NekF3TXpJNE1EazAKT0RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCRHg0RS9qeDFkeGFTcS9JR2RoQkN4cHRSSFlYVTE2SERyeXFoTWNDMUtVek1Ob2F1djNUV3FkbAo3cUxveW5JenpIdGdabnBDNWR1aWZrb0t3MzlVVXpHamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdicVAwVTR6Znp1dVFhcERrdlRqMGdrSUZySHkwYnZWOFNqMGxRV21FM0hnd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdLYURLemFsS3NVZ1FDSExqN3FIZ21LM0hhK3RaakRBN3YwbGVmTzJva3pBQ0lCWTZXY2J4Clk1cjJEc09HZXUxSjdlWjlxdlc1RUdFUW5zb1RkRnFnUEpRcgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/filemPs3Ls _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel21707>.[m[m[m
Step 8_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel21707-02 org2 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel21707-02 org2 org2
Step: 9_api Test 'Add <org2> to channel <testchannel21707-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel21707-02 org2 org2 VERIFY: test-channel-add-org.sh testchannel21707-02 org2 org2
[1;36mAdd org2 to the testchannel21707-02 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel21707-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDQ2OX0.MSy7Do8XRSjQQFh4a3o83BuvtqArVgMN1hvcb_YFr-E"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDQ2OX0.MSy7Do8XRSjQQFh4a3o83BuvtqArVgMN1hvcb_YFr-E", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDQ2OX0.MSy7Do8XRSjQQFh4a3o83BuvtqArVgMN1hvcb_YFr-E
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels/testchannel21707-02/orgs {"orgId":"org2","orgIp":"192.168.99.104","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDQ2OX0.MSy7Do8XRSjQQFh4a3o83BuvtqArVgMN1hvcb_YFr-E
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org2 added to testchannel21707-02 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel21707-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:54:42.591 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:54:42.595 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 18:54:42.597 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 18:54:42.598 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRR204WXJWaVFIdmYzTUxZUmtnSDh0ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFeGtLc0NobFZYTUVPdGhPeEc3bkVKb0R3YXFobjZmRkwKK2k3YW1xL21QQ2FWcDRIUXYwREhCRU9zZlFUQThBQVJJSWZ1NUxtMDYwam1nSHZTaUdFdk9xTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FncGF0QXJMN3R6MTRhCk5EK1VGcDBlUnVnTDFvdTNoSy9JK0tDUFB2NVJ2WUl3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRTRwajdmNVkKaHlPV3o1T1dMWFlLbE9kS1NmZXBzYzlaVnZ2aE92TzBDL0VDSURRTFRUMmQ2TjhNcmgwaW5aT0NxdnlCN25tOApTQ2NXS3NwdDZBYkZZVDBUCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUGJ6WVhyRFAwTTVtbWtiNjEvbk5JakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKTm9tdWZqeTk2V2YvYWhXc3pXWm9BMnA4Y0ExZktRdzk3MUdLZDZtNkFNOTBVUFdoQTVmRS9TWTJ4MW4zQU9lOQpXR01LRStNMm9vTjJER1R5SHowNFE2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ2wKcTBDc3Z1M1BYaG8wUDVRV25SNUc2QXZXaTdlRXI4ajRvSTgrL2xHOWdqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJoQXROV0F1M1ZpVm5YYXA1cXpqVndjU2wvZTNvYWVNU0g0bEczcS9uNUdBSWdUQ2xPVTdUYk43SVh6d0NZCjRDWjB2enlocFRvTzFLTlpkbFg1ZVVtdVIyWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRFdyR05aUkpGNUFhVjVFSURxZzAyekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek16QXdPVFV5TURCYUZ3MHpNREF6TWpnd09UVXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVTWmx5blRqRFBTRzZzTWdSQjBsalZZQ2tQMkJrRnIyZGlqZUNnS2pvVVpqMFRKcGE3L0c5dWpILworUzRkbkh6SEtKRlE5b2VuYzlSRDFTb0gvZWNPRmFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQnoyZ1h6S1JEMDNWUVRVSUR6WW16Y3U0NjhIZ2JYSStOUXpwWVR4d0xrNFRBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFtbFpObjVlaTJKVFN1cStaYjNBekNsQkNTSGUvWi9WQjREVHoyUm96QkNNQ0lCSVVldTVxCnk4SGNDaE9QekJBd3ZzbWdzdmEvREhSbUphYjVZcVFDeVp3bwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/filelwIDX1 _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel21707-02>.[m[m[m
Step 9_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel21707 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel21707 org1 org2
Step: 10_api Test 'Add <org2> to channel <testchannel21707> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel21707 org1 org2 VERIFY: test-channel-add-org.sh testchannel21707 org1 org2
[1;36mAdd org2 to the testchannel21707 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel21707 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDQ4NX0.kFTBrZfmDjDB0Whr0FQtpBBdIA2iBuz8SVjFFYX39Qc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDQ4NX0.kFTBrZfmDjDB0Whr0FQtpBBdIA2iBuz8SVjFFYX39Qc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDQ4NX0.kFTBrZfmDjDB0Whr0FQtpBBdIA2iBuz8SVjFFYX39Qc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels/testchannel21707/orgs {"orgId":"org2","orgIp":"192.168.99.104","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDQ4NX0.kFTBrZfmDjDB0Whr0FQtpBBdIA2iBuz8SVjFFYX39Qc
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org2 added to testchannel21707 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel21707 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:54:58.029 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:54:58.033 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-30 18:54:58.035 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-30 18:54:58.035 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRR204WXJWaVFIdmYzTUxZUmtnSDh0ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFeGtLc0NobFZYTUVPdGhPeEc3bkVKb0R3YXFobjZmRkwKK2k3YW1xL21QQ2FWcDRIUXYwREhCRU9zZlFUQThBQVJJSWZ1NUxtMDYwam1nSHZTaUdFdk9xTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FncGF0QXJMN3R6MTRhCk5EK1VGcDBlUnVnTDFvdTNoSy9JK0tDUFB2NVJ2WUl3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRTRwajdmNVkKaHlPV3o1T1dMWFlLbE9kS1NmZXBzYzlaVnZ2aE92TzBDL0VDSURRTFRUMmQ2TjhNcmgwaW5aT0NxdnlCN25tOApTQ2NXS3NwdDZBYkZZVDBUCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUGJ6WVhyRFAwTTVtbWtiNjEvbk5JakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKTm9tdWZqeTk2V2YvYWhXc3pXWm9BMnA4Y0ExZktRdzk3MUdLZDZtNkFNOTBVUFdoQTVmRS9TWTJ4MW4zQU9lOQpXR01LRStNMm9vTjJER1R5SHowNFE2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ2wKcTBDc3Z1M1BYaG8wUDVRV25SNUc2QXZXaTdlRXI4ajRvSTgrL2xHOWdqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJoQXROV0F1M1ZpVm5YYXA1cXpqVndjU2wvZTNvYWVNU0g0bEczcS9uNUdBSWdUQ2xPVTdUYk43SVh6d0NZCjRDWjB2enlocFRvTzFLTlpkbFg1ZVVtdVIyWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRFdyR05aUkpGNUFhVjVFSURxZzAyekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek16QXdPVFV5TURCYUZ3MHpNREF6TWpnd09UVXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVTWmx5blRqRFBTRzZzTWdSQjBsalZZQ2tQMkJrRnIyZGlqZUNnS2pvVVpqMFRKcGE3L0c5dWpILworUzRkbkh6SEtKRlE5b2VuYzlSRDFTb0gvZWNPRmFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQnoyZ1h6S1JEMDNWUVRVSUR6WW16Y3U0NjhIZ2JYSStOUXpwWVR4d0xrNFRBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFtbFpObjVlaTJKVFN1cStaYjNBekNsQkNTSGUvWi9WQjREVHoyUm96QkNNQ0lCSVVldTVxCnk4SGNDaE9QekJBd3ZzbWdzdmEvREhSbUphYjVZcVFDeVp3bwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileGIA3Iq _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel21707>.[m[m[m
Step 10_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel21707-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel21707-02 org2 org1
Step: 11_api Test 'Add <org1> to channel <testchannel21707-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel21707-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel21707-02 org2 org1
[1;36mAdd org1 to the testchannel21707-02 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel21707-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDUwMH0.6wMDXJuhBrKCtBNX8A0wNU5qrmtFTwmLqKtaNQsYTQg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDUwMH0.6wMDXJuhBrKCtBNX8A0wNU5qrmtFTwmLqKtaNQsYTQg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDUwMH0.6wMDXJuhBrKCtBNX8A0wNU5qrmtFTwmLqKtaNQsYTQg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels/testchannel21707-02/orgs {"orgId":"org1","orgIp":"192.168.99.105","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDUwMH0.6wMDXJuhBrKCtBNX8A0wNU5qrmtFTwmLqKtaNQsYTQg
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org1 added to testchannel21707-02 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel21707-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:55:13.252 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 18:55:13.255 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-30 18:55:13.257 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-30 18:55:13.257 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQU1sTEFOa3poQ01rODZ5aWNTdHdNRHN3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQk9SdFQveEZoejdFZHJ1cThiS2tuSm9RMkxGeTJ1blgKT2dMKzRUUnJsSHFmbVExcXYzb0tva3FuOExNcm9YRUtJRWVSR2l5VGtacFYvNmRVNkUwYTM4T2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUdXUUFuclhETU8vCjJzenZ6YUVxOS9pMURHSnJBTno5TkxPZlhpbVYwSFhHTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUdqM1lyTWUKa1E2SDkrTklZS0Q1UmZoSEdrUFU4MGpzYjduOTVJK05TWHNaQWlBWUZaNVo1Wk56eHgveFIyeTNRTTA2TG9sZQpaZlZSekRiL0xFaGZscE1pOWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQUt6bXJQVnBrdW9iZEt4TTVoM09veDh3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQk1sTS80bCtzZHN2SUQ1RDdrUDN0MGlES1ZhemZySmNkN1MzWnVla1dXcU5NTktHL0Y0QmxYOHZDRzRuR292cwpxRlErMzIxZFJvVmlKOFB4SzJCVnB1eWpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKWlpBQ2V0Y013Ny9hek8vTm9TcjMrTFVNWW1zQTNQMDBzNTllS1pYUWRjWXdDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnT2I4alF3Z1NoNW1CellLRXVpMVZwMlNoWmJ4aytmRHZJcWlvanBPLzU2Y0NJR0sxTHIxVXJGeGpGZkFpCmRFMkNPZU93ZlNmVEpUWHdUem5EZmJYU0JGU08KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU5ESE9FSy9GdmJqUjVqcTNac0ptRGN3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016TXdNRGswT0RBd1doY05NekF3TXpJNE1EazAKT0RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCRHg0RS9qeDFkeGFTcS9JR2RoQkN4cHRSSFlYVTE2SERyeXFoTWNDMUtVek1Ob2F1djNUV3FkbAo3cUxveW5JenpIdGdabnBDNWR1aWZrb0t3MzlVVXpHamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdicVAwVTR6Znp1dVFhcERrdlRqMGdrSUZySHkwYnZWOFNqMGxRV21FM0hnd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdLYURLemFsS3NVZ1FDSExqN3FIZ21LM0hhK3RaakRBN3YwbGVmTzJva3pBQ0lCWTZXY2J4Clk1cjJEc09HZXUxSjdlWjlxdlc1RUdFUW5zb1RkRnFnUEpRcgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileo5cPdg _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel21707-02>.[m[m[m
Step 11_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel21707 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel21707 org1
Step: 12_api Test 'Join <org1> to the <testchannel21707> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel21707 org1 VERIFY: test-join-channel.sh testchannel21707 org1
[1;36mJoining org1.example.com to the testchannel21707 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel21707 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDUxNX0.txu8DhDExPEZ_L0iv19ZPkHCTdyEit6jqCKqFN9ZX28"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDUxNX0.txu8DhDExPEZ_L0iv19ZPkHCTdyEit6jqCKqFN9ZX28", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDUxNX0.txu8DhDExPEZ_L0iv19ZPkHCTdyEit6jqCKqFN9ZX28
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels/testchannel21707 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDUxNX0.txu8DhDExPEZ_L0iv19ZPkHCTdyEit6jqCKqFN9ZX28
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel21707> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:55:20.509 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel21707> channel[m[m[m
Step 12_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel21707 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel21707 org2
Step: 13_api Test 'Join <org2> to the <testchannel21707> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel21707 org2 VERIFY: test-join-channel.sh testchannel21707 org2
[1;36mJoining org2.example.com to the testchannel21707 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel21707 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDUyMn0.IHijohHN82kq1c306g0f6iINk8kVJQfK92xWJJQGHHI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDUyMn0.IHijohHN82kq1c306g0f6iINk8kVJQfK92xWJJQGHHI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDUyMn0.IHijohHN82kq1c306g0f6iINk8kVJQfK92xWJJQGHHI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels/testchannel21707 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDUyMn0.IHijohHN82kq1c306g0f6iINk8kVJQfK92xWJJQGHHI
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel21707> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:57:27.514 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel21707> channel[m[m[m
Step 13_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel21707-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel21707-02 org1
Step: 14_api Test 'Join <org1> to the <testchannel21707-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel21707-02 org1 VERIFY: test-join-channel.sh testchannel21707-02 org1
[1;36mJoining org1.example.com to the testchannel21707-02 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel21707-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDY1MH0.mt44Y7j0uwvQWImCLZhMe867Jnm9_PWsN5NxZSMRVjc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDY1MH0.mt44Y7j0uwvQWImCLZhMe867Jnm9_PWsN5NxZSMRVjc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDY1MH0.mt44Y7j0uwvQWImCLZhMe867Jnm9_PWsN5NxZSMRVjc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels/testchannel21707-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDY1MH0.mt44Y7j0uwvQWImCLZhMe867Jnm9_PWsN5NxZSMRVjc
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel21707-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:59:35.157 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel21707-02> channel[m[m[m
Step 14_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel21707-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel21707-02 org2
Step: 15_api Test 'Join <org2> to the <testchannel21707-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel21707-02 org2 VERIFY: test-join-channel.sh testchannel21707-02 org2
[1;36mJoining org2.example.com to the testchannel21707-02 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel21707-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDc3OH0.0e3UUfrywuo2-685Rc-63sEHCnqaZ3pdpA2aC_tamr0"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDc3OH0.0e3UUfrywuo2-685Rc-63sEHCnqaZ3pdpA2aC_tamr0", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDc3OH0.0e3UUfrywuo2-685Rc-63sEHCnqaZ3pdpA2aC_tamr0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels/testchannel21707-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDc3OH0.0e3UUfrywuo2-685Rc-63sEHCnqaZ3pdpA2aC_tamr0
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel21707-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 18:59:43.438 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel21707-02> channel[m[m[m
Step 15_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel21707 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel21707 org1
Step: 16_api Test 'Install test chaincode by <org1> to the <testchannel21707> channel'
RUNTEST: chaincode-install.sh testchannel21707 org1 VERIFY: test-chaincode-installed.sh testchannel21707 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDc4NX0.sI3cri_tJbt11GChR2-AK6f8M5mcFxCntO7EcUQCVW0"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDc4NX0.sI3cri_tJbt11GChR2-AK6f8M5mcFxCntO7EcUQCVW0", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDc4NX0.sI3cri_tJbt11GChR2-AK6f8M5mcFxCntO7EcUQCVW0
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel21707/chaincode-reference.js (deflated 27%)
adding: reference_testchannel21707/index.js (deflated 27%)
adding: reference_testchannel21707/package.json (deflated 41%)
adding: reference_testchannel21707/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12292 Ð¼Ð°Ñ€ 30 21:59 /tmp/reference_testchannel21707.zip
/tmp/reference_testchannel21707.zip
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel21707:1.0 successfully installed""
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode installed in org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel21707' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel10161, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel10161, Id: 1ac34725a3abdc98d6a608fcdb3b8770e53ea87eba583019e9fd5a09a279c024
Name: reference_testchannel17640, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17640, Id: 6e65705c305dc26d848ae39059e56edccfd8d66cacb2f4684123edf826b46b02
Name: reference_testchannel21707, Version: 1.0, Path: /tmp/reference_testchannel21707, Id: b84e89c2b8fdfe1d6ca1d72ef93af6a3636e5a6ff29c395676b04045a8febf8f
Name: reference_testchannel25553, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel25553, Id: 8f14d3229b5ee14eb55b451ffe7ec8229ff4920d968b8a9922c82b3fe12c2dd4
Name: reference_testchannel2856, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel2856, Id: 7c696a853092cfcef26594df1f8b384f78b121d509751a2ab8ceb5af79bd9095
Name: reference_testchannel539, Version: 1.0, Path: /tmp/reference_testchannel539, Id: 4f5f1975b39cbf2c4e1ba710fa24ecadd14421578738e766963fcb9d70f349e6
reference_testchannel21707
[1;32mOK: The test chaincode installed in org1[m[m[m
Step 16_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel21707-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel21707-02 org2
Step: 17_api Test 'Install test chaincode by <org2> to the <testchannel21707-02> channel'
RUNTEST: chaincode-install.sh testchannel21707-02 org2 VERIFY: test-chaincode-installed.sh testchannel21707-02 org2
[1;36m
Installing test chaincode in org2...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDc5M30.qrL-zsX0pmqBJEBiLnMkULY7p8dozqX8e96pj6n0Er4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDc5M30.qrL-zsX0pmqBJEBiLnMkULY7p8dozqX8e96pj6n0Er4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDc5M30.qrL-zsX0pmqBJEBiLnMkULY7p8dozqX8e96pj6n0Er4
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel21707-02/chaincode-reference.js (deflated 27%)
adding: reference_testchannel21707-02/index.js (deflated 27%)
adding: reference_testchannel21707-02/package.json (deflated 41%)
adding: reference_testchannel21707-02/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12316 Ð¼Ð°Ñ€ 30 21:59 /tmp/reference_testchannel21707-02.zip
/tmp/reference_testchannel21707-02.zip
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel21707-02:1.0 successfully installed""
[1;32mOK: Test chaincode installed in org2[m[m[m
[1;34m
Verifing if the test chaincode installed in org2 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel21707-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel10161-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel10161-02, Id: 45435117a2e4f8b38f5d621f8b11f02ad389d40e46d5dece84a8adcae21566a5
Name: reference_testchannel10695-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel10695-02, Id: 71b41461232de072a3a5ced3786a045b675ef5ce136716b21cef537e01fa7c96
Name: reference_testchannel10695, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel10695, Id: 9bcd6950f5f93be8487e307860e29df98394052fbe62c422c912782b246ce030
Name: reference_testchannel17640-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17640-02, Id: 8f094ccb7ad7d85255752539c86fd8d2cf3af1fd6f89b25701a25bbcc29d5f08
Name: reference_testchannel17865-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17865-02, Id: 1e545b23b162c7eab18b864739577db6f2178d450ca8400b84e790a77be730df
Name: reference_testchannel17865, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17865, Id: 4610dd105c1fd5af286001b82aabb689bd2ec58345b3c8474e834e8eae0e4956
Name: reference_testchannel21707-02, Version: 1.0, Path: /tmp/reference_testchannel21707-02, Id: 8dedb939f760de2916ec1316027a68156d9900c4cc3f10ea5b43bb9605d13310
Name: reference_testchannel25553-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel25553-02, Id: adf4be76f5dcc3074a9537ec663dcb5e55fc9931b2142da54484f8e5ea2de90a
Name: reference_testchannel2856-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel2856-02, Id: 42321308d5f0b2af5ebe1f493ab771fbaa27f75a7dd3a4c0fa896cbfdccbf18a
Name: reference_testchannel29088-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel29088-02, Id: 6cc4fb0d2dc148f91f51fc066bec89b6798f685898d915cc34fdb5c44fdc3f3e
Name: reference_testchannel29088, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel29088, Id: ab924972ebc78695550f399712f447e92c6ad4a2c5c087e304e9ece1ec891c80
Name: reference_testchannel31130-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel31130-02, Id: 17f5c46056dcfe16fa58974f932a0567f3f8c057c09b255c0dec1277f0927fae
Name: reference_testchannel31130, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel31130, Id: 5904dcb791fa5972f57fec3c49b93ca8a286aa31e47e0ea7e65c03e77239dbfd
Name: reference_testchannel539-02, Version: 1.0, Path: /tmp/reference_testchannel539-02, Id: 9f264ccc78ab21dc8fa90ded1fefed8c529d5ea838f326b92e8c8f39cf7ad13d
reference_testchannel21707-02
[1;32mOK: The test chaincode installed in org2[m[m[m
Step 17_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-instantiate.sh testchannel21707 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel21707 org1
Step: 18_api Test 'Instantiate test chaincode by <org1> to the <testchannel21707> channel'
RUNTEST: chaincode-instantiate.sh testchannel21707 org1 VERIFY: test-chaincode-instantiated.sh testchannel21707 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDgwMX0.tdOu5dX64uUTKMM3s9VcgO1O-tDHhthDYFzk7qOdq2E"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDgwMX0.tdOu5dX64uUTKMM3s9VcgO1O-tDHhthDYFzk7qOdq2E", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDgwMX0.tdOu5dX64uUTKMM3s9VcgO1O-tDHhthDYFzk7qOdq2E
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels/testchannel21707/chaincodes {"channelId":"testchannel21707","chaincodeId":"reference_testchannel21707","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDgwMX0.tdOu5dX64uUTKMM3s9VcgO1O-tDHhthDYFzk7qOdq2E
curlGetIt got _ {"txid":"5842018228e62780dbe35f11bb35094a28bb30d8d941b7bae9774813a509479c","status":"VALID","blockNumber":"3"}200 _ result
body is {"txid":"5842018228e62780dbe35f11bb35094a28bb30d8d941b7bae9774813a509479c","status":"VALID","blockNumber":"3"}, code is 200
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel21707 channel by org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel21707' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel21707:
Name: reference_testchannel21707, Version: 1.0, Path: /tmp/reference_testchannel21707, Input: <nil>, Escc: escc, Vscc: vscc
reference_testchannel21707
[1;32mOK: The test chaincode installed in testchannel21707 channel by org1 org[m[m[m
Step 18_api: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-invoke.sh testchannel21707 org1 reference_testchannel21707 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-query.sh testchannel21707 org1 reference_testchannel21707
Step: 19_api Test 'Test chaincode invocation and query:  <org1> <-> <org2>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel21707 org1 reference_testchannel21707 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel21707 org1 reference_testchannel21707
[1;36m
Invoke test chaincode on the <testchannel21707> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDg1NH0.r_3V7OlTZgBEkrbcWH0wJJRhg-u4S2pA-WAXui1qmo8"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDg1NH0.r_3V7OlTZgBEkrbcWH0wJJRhg-u4S2pA-WAXui1qmo8", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDg1NH0.r_3V7OlTZgBEkrbcWH0wJJRhg-u4S2pA-WAXui1qmo8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels/testchannel21707/chaincodes/reference_testchannel21707 {"fcn":"put","args":["testchannel21707","testchannel21707"],"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NDg1NH0.r_3V7OlTZgBEkrbcWH0wJJRhg-u4S2pA-WAXui1qmo8
curlGetIt got _ {"txid":"2845c396c24f476fbb2352c3e31a8a6eaf1c65abfc1f6be3d025349178399cb8","status":"VALID","blockNumber":"4"}200 _ result
body is {"txid":"2845c396c24f476fbb2352c3e31a8a6eaf1c65abfc1f6be3d025349178399cb8","status":"VALID","blockNumber":"4"}, code is 200
[1;32mOK: Chaincode reference_testchannel21707 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel21707> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel21707 reference_testchannel21707 '["range","testchannel21707"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel21707 reference_testchannel21707 '["range","testchannel21707"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051 peer chaincode query -n reference_testchannel21707 -C testchannel21707 -c '{"Args":["range","testchannel21707"]}'
Error: endorsement failure during query. response: status:500 message:"cannot retrieve package for chaincode reference_testchannel21707/1.0, error open /var/hyperledger/production/chaincodes/reference_testchannel21707.1.0: no such file or directory" 
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
Step 19_api: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel16467 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel16467 org1
Step: 1_api Test 'Create <testchannel16467> Channel in ORG1'
RUNTEST: create-channel.sh testchannel16467 org1 VERIFY: test-channel-exists.sh testchannel16467 org1
[1;36mCreating testchannel16467 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTA1M30.wx3kSAzc19GH-9EpU5fjU8bY1F2ZZok5rk3SWwWyUMg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTA1M30.wx3kSAzc19GH-9EpU5fjU8bY1F2ZZok5rk3SWwWyUMg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTA1M30.wx3kSAzc19GH-9EpU5fjU8bY1F2ZZok5rk3SWwWyUMg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels {"channelId":"testchannel16467","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTA1M30.wx3kSAzc19GH-9EpU5fjU8bY1F2ZZok5rk3SWwWyUMg
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel16467> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel16467> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 19:04:20.024 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 19:04:20.027 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 19:04:20.029 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 19:04:20.029 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel16467",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T19:04:17Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileiNEFd2 _testchannel16467_
Expect: testchannel16467, got: testchannel16467
[1;32mOK: The channel <testchannel16467> exists and visible to org1[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel16467 org2
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel16467 org2
[1;34m
Verifing if the <testchannel16467> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 19:04:22.299 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 19:04:22.303 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filec3PKVo _null_
Expect: testchannel16467, got: null
[1;32mOK: The channel <testchannel16467> does not exist and in not visible to org2[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel16467 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel16467 org1
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel16467 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel16467 org1
[1;36mCreating ^^^^^^testchannel16467 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTA2NH0.Cc9cW89kCEDz82oLHHJTdDN29FppQQG3WQLbVf7HRN4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTA2NH0.Cc9cW89kCEDz82oLHHJTdDN29FppQQG3WQLbVf7HRN4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTA2NH0.Cc9cW89kCEDz82oLHHJTdDN29FppQQG3WQLbVf7HRN4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels {"channelId":"^^^^^^testchannel16467","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTA2NH0.Cc9cW89kCEDz82oLHHJTdDN29FppQQG3WQLbVf7HRN4
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel16467\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel16467\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel16467\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel16467> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 19:04:30.267 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 19:04:30.269 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/file3v76WF _null_
Expect: ^^^^^^testchannel16467, got: null
[1;32mOK: The channel <^^^^^^testchannel16467> does not exist and in not visible to org1[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel16467 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel16467 org2
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel16467 org2 VERIFY: test-channel-does-not-exist.sh testchannel16467 org2
[1;36mCreating testchannel16467 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTA3M30.ZvA6GzCSGPS6eo0p0gBTCKL_hVvAJbS3yddtq-m4_Vw"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTA3M30.ZvA6GzCSGPS6eo0p0gBTCKL_hVvAJbS3yddtq-m4_Vw", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTA3M30.ZvA6GzCSGPS6eo0p0gBTCKL_hVvAJbS3yddtq-m4_Vw
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels {"channelId":"testchannel16467","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTA3M30.ZvA6GzCSGPS6eo0p0gBTCKL_hVvAJbS3yddtq-m4_Vw
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel16467> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 19:04:39.015 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 19:04:39.018 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileS7oxMX _null_
Expect: testchannel16467, got: null
[1;32mOK: The channel <testchannel16467> does not exist and in not visible to org2[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel16467-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel16467-02 org2
Step: 5_api Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel16467-02 org2 VERIFY: test-channel-exists.sh testchannel16467-02 org2
[1;36mCreating testchannel16467-02 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTA4MX0.Xrv3E4H0iokL0_eQMtsUnpfSBB2ZstPL1VEiwmEWWYo"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTA4MX0.Xrv3E4H0iokL0_eQMtsUnpfSBB2ZstPL1VEiwmEWWYo", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTA4MX0.Xrv3E4H0iokL0_eQMtsUnpfSBB2ZstPL1VEiwmEWWYo
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels {"channelId":"testchannel16467-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTA4MX0.Xrv3E4H0iokL0_eQMtsUnpfSBB2ZstPL1VEiwmEWWYo
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel16467-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel16467-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 19:04:47.734 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 19:04:47.737 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 19:04:47.738 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 19:04:47.739 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel16467-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T19:04:44Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filejkkfa0 _testchannel16467-02_
Expect: testchannel16467-02, got: testchannel16467-02
[1;32mOK: The channel <testchannel16467-02> exists and visible to org2[m[m[m
Step 5_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel16467-02 org1
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel16467-02 org1
[1;34m
Verifing if the <testchannel16467-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 19:04:50.058 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 19:04:50.061 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filedRlZot _null_
Expect: testchannel16467-02, got: null
[1;32mOK: The channel <testchannel16467-02> does not exist and in not visible to org1[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel16467-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel16467-02 org1
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel16467-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel16467-02 org1
[1;36mCreating testchannel16467-02 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTA5Mn0.iEnyxsWFXb8lxqaXjn7Lue8UStdNI00_Aa7Is3CkLLc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTA5Mn0.iEnyxsWFXb8lxqaXjn7Lue8UStdNI00_Aa7Is3CkLLc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTA5Mn0.iEnyxsWFXb8lxqaXjn7Lue8UStdNI00_Aa7Is3CkLLc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels {"channelId":"testchannel16467-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTA5Mn0.iEnyxsWFXb8lxqaXjn7Lue8UStdNI00_Aa7Is3CkLLc
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel16467-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 19:04:59.045 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 19:04:59.048 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileOZ0hVT _null_
Expect: testchannel16467-02, got: null
[1;32mOK: The channel <testchannel16467-02> does not exist and in not visible to org1[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel16467 org1 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel16467 org1 org1
Step: 8_api Test 'Add <org1> to channel <testchannel16467> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel16467 org1 org1 VERIFY: test-channel-add-org.sh testchannel16467 org1 org1
[1;36mAdd org1 to the testchannel16467 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel16467 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTEwMX0.A_c43TLoT86KvVVHpbYBzXuZef0EegffC0laTv1dzgo"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTEwMX0.A_c43TLoT86KvVVHpbYBzXuZef0EegffC0laTv1dzgo", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTEwMX0.A_c43TLoT86KvVVHpbYBzXuZef0EegffC0laTv1dzgo
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels/testchannel16467/orgs {"orgId":"org1","orgIp":"192.168.99.105","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTEwMX0.A_c43TLoT86KvVVHpbYBzXuZef0EegffC0laTv1dzgo
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org1 added to testchannel16467 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel16467 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 19:05:14.060 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 19:05:14.062 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 19:05:14.064 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 19:05:14.064 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQU1sTEFOa3poQ01rODZ5aWNTdHdNRHN3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQk9SdFQveEZoejdFZHJ1cThiS2tuSm9RMkxGeTJ1blgKT2dMKzRUUnJsSHFmbVExcXYzb0tva3FuOExNcm9YRUtJRWVSR2l5VGtacFYvNmRVNkUwYTM4T2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUdXUUFuclhETU8vCjJzenZ6YUVxOS9pMURHSnJBTno5TkxPZlhpbVYwSFhHTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUdqM1lyTWUKa1E2SDkrTklZS0Q1UmZoSEdrUFU4MGpzYjduOTVJK05TWHNaQWlBWUZaNVo1Wk56eHgveFIyeTNRTTA2TG9sZQpaZlZSekRiL0xFaGZscE1pOWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQUt6bXJQVnBrdW9iZEt4TTVoM09veDh3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQk1sTS80bCtzZHN2SUQ1RDdrUDN0MGlES1ZhemZySmNkN1MzWnVla1dXcU5NTktHL0Y0QmxYOHZDRzRuR292cwpxRlErMzIxZFJvVmlKOFB4SzJCVnB1eWpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKWlpBQ2V0Y013Ny9hek8vTm9TcjMrTFVNWW1zQTNQMDBzNTllS1pYUWRjWXdDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnT2I4alF3Z1NoNW1CellLRXVpMVZwMlNoWmJ4aytmRHZJcWlvanBPLzU2Y0NJR0sxTHIxVXJGeGpGZkFpCmRFMkNPZU93ZlNmVEpUWHdUem5EZmJYU0JGU08KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU5ESE9FSy9GdmJqUjVqcTNac0ptRGN3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016TXdNRGswT0RBd1doY05NekF3TXpJNE1EazAKT0RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCRHg0RS9qeDFkeGFTcS9JR2RoQkN4cHRSSFlYVTE2SERyeXFoTWNDMUtVek1Ob2F1djNUV3FkbAo3cUxveW5JenpIdGdabnBDNWR1aWZrb0t3MzlVVXpHamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdicVAwVTR6Znp1dVFhcERrdlRqMGdrSUZySHkwYnZWOFNqMGxRV21FM0hnd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdLYURLemFsS3NVZ1FDSExqN3FIZ21LM0hhK3RaakRBN3YwbGVmTzJva3pBQ0lCWTZXY2J4Clk1cjJEc09HZXUxSjdlWjlxdlc1RUdFUW5zb1RkRnFnUEpRcgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/filekuNr0w _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel16467>.[m[m[m
Step 8_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel16467-02 org2 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel16467-02 org2 org2
Step: 9_api Test 'Add <org2> to channel <testchannel16467-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel16467-02 org2 org2 VERIFY: test-channel-add-org.sh testchannel16467-02 org2 org2
[1;36mAdd org2 to the testchannel16467-02 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel16467-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTExNn0.UggJrgGrc1ayv5iQ4g4XyqOff3iRUs5KSt7WoY7GzUM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTExNn0.UggJrgGrc1ayv5iQ4g4XyqOff3iRUs5KSt7WoY7GzUM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTExNn0.UggJrgGrc1ayv5iQ4g4XyqOff3iRUs5KSt7WoY7GzUM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels/testchannel16467-02/orgs {"orgId":"org2","orgIp":"192.168.99.104","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTExNn0.UggJrgGrc1ayv5iQ4g4XyqOff3iRUs5KSt7WoY7GzUM
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org2 added to testchannel16467-02 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel16467-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 19:05:29.748 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 19:05:29.750 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 19:05:29.752 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 19:05:29.753 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRR204WXJWaVFIdmYzTUxZUmtnSDh0ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFeGtLc0NobFZYTUVPdGhPeEc3bkVKb0R3YXFobjZmRkwKK2k3YW1xL21QQ2FWcDRIUXYwREhCRU9zZlFUQThBQVJJSWZ1NUxtMDYwam1nSHZTaUdFdk9xTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FncGF0QXJMN3R6MTRhCk5EK1VGcDBlUnVnTDFvdTNoSy9JK0tDUFB2NVJ2WUl3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRTRwajdmNVkKaHlPV3o1T1dMWFlLbE9kS1NmZXBzYzlaVnZ2aE92TzBDL0VDSURRTFRUMmQ2TjhNcmgwaW5aT0NxdnlCN25tOApTQ2NXS3NwdDZBYkZZVDBUCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUGJ6WVhyRFAwTTVtbWtiNjEvbk5JakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKTm9tdWZqeTk2V2YvYWhXc3pXWm9BMnA4Y0ExZktRdzk3MUdLZDZtNkFNOTBVUFdoQTVmRS9TWTJ4MW4zQU9lOQpXR01LRStNMm9vTjJER1R5SHowNFE2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ2wKcTBDc3Z1M1BYaG8wUDVRV25SNUc2QXZXaTdlRXI4ajRvSTgrL2xHOWdqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJoQXROV0F1M1ZpVm5YYXA1cXpqVndjU2wvZTNvYWVNU0g0bEczcS9uNUdBSWdUQ2xPVTdUYk43SVh6d0NZCjRDWjB2enlocFRvTzFLTlpkbFg1ZVVtdVIyWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRFdyR05aUkpGNUFhVjVFSURxZzAyekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek16QXdPVFV5TURCYUZ3MHpNREF6TWpnd09UVXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVTWmx5blRqRFBTRzZzTWdSQjBsalZZQ2tQMkJrRnIyZGlqZUNnS2pvVVpqMFRKcGE3L0c5dWpILworUzRkbkh6SEtKRlE5b2VuYzlSRDFTb0gvZWNPRmFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQnoyZ1h6S1JEMDNWUVRVSUR6WW16Y3U0NjhIZ2JYSStOUXpwWVR4d0xrNFRBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFtbFpObjVlaTJKVFN1cStaYjNBekNsQkNTSGUvWi9WQjREVHoyUm96QkNNQ0lCSVVldTVxCnk4SGNDaE9QekJBd3ZzbWdzdmEvREhSbUphYjVZcVFDeVp3bwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileHNjYAY _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel16467-02>.[m[m[m
Step 9_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel16467 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel16467 org1 org2
Step: 10_api Test 'Add <org2> to channel <testchannel16467> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel16467 org1 org2 VERIFY: test-channel-add-org.sh testchannel16467 org1 org2
[1;36mAdd org2 to the testchannel16467 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel16467 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTEzMn0.wRcW2RoTLIutSzTEnNNMtBpPPVv59wRXy-IQDiiIt5M"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTEzMn0.wRcW2RoTLIutSzTEnNNMtBpPPVv59wRXy-IQDiiIt5M", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTEzMn0.wRcW2RoTLIutSzTEnNNMtBpPPVv59wRXy-IQDiiIt5M
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels/testchannel16467/orgs {"orgId":"org2","orgIp":"192.168.99.104","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTEzMn0.wRcW2RoTLIutSzTEnNNMtBpPPVv59wRXy-IQDiiIt5M
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org2 added to testchannel16467 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel16467 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 19:05:46.246 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 19:05:46.249 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-30 19:05:46.251 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-30 19:05:46.252 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRR204WXJWaVFIdmYzTUxZUmtnSDh0ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFeGtLc0NobFZYTUVPdGhPeEc3bkVKb0R3YXFobjZmRkwKK2k3YW1xL21QQ2FWcDRIUXYwREhCRU9zZlFUQThBQVJJSWZ1NUxtMDYwam1nSHZTaUdFdk9xTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FncGF0QXJMN3R6MTRhCk5EK1VGcDBlUnVnTDFvdTNoSy9JK0tDUFB2NVJ2WUl3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRTRwajdmNVkKaHlPV3o1T1dMWFlLbE9kS1NmZXBzYzlaVnZ2aE92TzBDL0VDSURRTFRUMmQ2TjhNcmgwaW5aT0NxdnlCN25tOApTQ2NXS3NwdDZBYkZZVDBUCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUGJ6WVhyRFAwTTVtbWtiNjEvbk5JakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKTm9tdWZqeTk2V2YvYWhXc3pXWm9BMnA4Y0ExZktRdzk3MUdLZDZtNkFNOTBVUFdoQTVmRS9TWTJ4MW4zQU9lOQpXR01LRStNMm9vTjJER1R5SHowNFE2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ2wKcTBDc3Z1M1BYaG8wUDVRV25SNUc2QXZXaTdlRXI4ajRvSTgrL2xHOWdqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJoQXROV0F1M1ZpVm5YYXA1cXpqVndjU2wvZTNvYWVNU0g0bEczcS9uNUdBSWdUQ2xPVTdUYk43SVh6d0NZCjRDWjB2enlocFRvTzFLTlpkbFg1ZVVtdVIyWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRFdyR05aUkpGNUFhVjVFSURxZzAyekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek16QXdPVFV5TURCYUZ3MHpNREF6TWpnd09UVXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVTWmx5blRqRFBTRzZzTWdSQjBsalZZQ2tQMkJrRnIyZGlqZUNnS2pvVVpqMFRKcGE3L0c5dWpILworUzRkbkh6SEtKRlE5b2VuYzlSRDFTb0gvZWNPRmFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQnoyZ1h6S1JEMDNWUVRVSUR6WW16Y3U0NjhIZ2JYSStOUXpwWVR4d0xrNFRBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFtbFpObjVlaTJKVFN1cStaYjNBekNsQkNTSGUvWi9WQjREVHoyUm96QkNNQ0lCSVVldTVxCnk4SGNDaE9QekJBd3ZzbWdzdmEvREhSbUphYjVZcVFDeVp3bwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/filesKIRn8 _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel16467>.[m[m[m
Step 10_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel16467-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel16467-02 org2 org1
Step: 11_api Test 'Add <org1> to channel <testchannel16467-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel16467-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel16467-02 org2 org1
[1;36mAdd org1 to the testchannel16467-02 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel16467-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTE0OH0.dqMUQEQ149JqiHHFXv7ZpEHkgAuhHTMGoP11Gb_PHTM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTE0OH0.dqMUQEQ149JqiHHFXv7ZpEHkgAuhHTMGoP11Gb_PHTM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTE0OH0.dqMUQEQ149JqiHHFXv7ZpEHkgAuhHTMGoP11Gb_PHTM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels/testchannel16467-02/orgs {"orgId":"org1","orgIp":"192.168.99.105","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTE0OH0.dqMUQEQ149JqiHHFXv7ZpEHkgAuhHTMGoP11Gb_PHTM
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org1 added to testchannel16467-02 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel16467-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 19:06:00.923 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 19:06:00.926 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-30 19:06:00.928 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-30 19:06:00.928 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQU1sTEFOa3poQ01rODZ5aWNTdHdNRHN3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQk9SdFQveEZoejdFZHJ1cThiS2tuSm9RMkxGeTJ1blgKT2dMKzRUUnJsSHFmbVExcXYzb0tva3FuOExNcm9YRUtJRWVSR2l5VGtacFYvNmRVNkUwYTM4T2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUdXUUFuclhETU8vCjJzenZ6YUVxOS9pMURHSnJBTno5TkxPZlhpbVYwSFhHTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUdqM1lyTWUKa1E2SDkrTklZS0Q1UmZoSEdrUFU4MGpzYjduOTVJK05TWHNaQWlBWUZaNVo1Wk56eHgveFIyeTNRTTA2TG9sZQpaZlZSekRiL0xFaGZscE1pOWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQUt6bXJQVnBrdW9iZEt4TTVoM09veDh3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQk1sTS80bCtzZHN2SUQ1RDdrUDN0MGlES1ZhemZySmNkN1MzWnVla1dXcU5NTktHL0Y0QmxYOHZDRzRuR292cwpxRlErMzIxZFJvVmlKOFB4SzJCVnB1eWpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKWlpBQ2V0Y013Ny9hek8vTm9TcjMrTFVNWW1zQTNQMDBzNTllS1pYUWRjWXdDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnT2I4alF3Z1NoNW1CellLRXVpMVZwMlNoWmJ4aytmRHZJcWlvanBPLzU2Y0NJR0sxTHIxVXJGeGpGZkFpCmRFMkNPZU93ZlNmVEpUWHdUem5EZmJYU0JGU08KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU5ESE9FSy9GdmJqUjVqcTNac0ptRGN3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016TXdNRGswT0RBd1doY05NekF3TXpJNE1EazAKT0RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCRHg0RS9qeDFkeGFTcS9JR2RoQkN4cHRSSFlYVTE2SERyeXFoTWNDMUtVek1Ob2F1djNUV3FkbAo3cUxveW5JenpIdGdabnBDNWR1aWZrb0t3MzlVVXpHamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdicVAwVTR6Znp1dVFhcERrdlRqMGdrSUZySHkwYnZWOFNqMGxRV21FM0hnd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdLYURLemFsS3NVZ1FDSExqN3FIZ21LM0hhK3RaakRBN3YwbGVmTzJva3pBQ0lCWTZXY2J4Clk1cjJEc09HZXUxSjdlWjlxdlc1RUdFUW5zb1RkRnFnUEpRcgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/filecffqgA _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel16467-02>.[m[m[m
Step 11_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel16467 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel16467 org1
Step: 12_api Test 'Join <org1> to the <testchannel16467> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel16467 org1 VERIFY: test-join-channel.sh testchannel16467 org1
[1;36mJoining org1.example.com to the testchannel16467 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel16467 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTE2M30.yyYJaz7MY4AtPZHupzF6pTQORH1WpJdlwqObvuQH15Y"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTE2M30.yyYJaz7MY4AtPZHupzF6pTQORH1WpJdlwqObvuQH15Y", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTE2M30.yyYJaz7MY4AtPZHupzF6pTQORH1WpJdlwqObvuQH15Y
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels/testchannel16467 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTE2M30.yyYJaz7MY4AtPZHupzF6pTQORH1WpJdlwqObvuQH15Y
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel16467> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 19:06:08.348 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel16467> channel[m[m[m
Step 12_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel16467 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel16467 org2
Step: 13_api Test 'Join <org2> to the <testchannel16467> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel16467 org2 VERIFY: test-join-channel.sh testchannel16467 org2
[1;36mJoining org2.example.com to the testchannel16467 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel16467 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTE3MH0.QK4XPcdqZtsnye7gts1pWytontuqStptC23852I801A"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTE3MH0.QK4XPcdqZtsnye7gts1pWytontuqStptC23852I801A", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTE3MH0.QK4XPcdqZtsnye7gts1pWytontuqStptC23852I801A
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels/testchannel16467 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTE3MH0.QK4XPcdqZtsnye7gts1pWytontuqStptC23852I801A
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel16467> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 19:08:14.947 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel16467> channel[m[m[m
Step 13_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel16467-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel16467-02 org1
Step: 14_api Test 'Join <org1> to the <testchannel16467-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel16467-02 org1 VERIFY: test-join-channel.sh testchannel16467-02 org1
[1;36mJoining org1.example.com to the testchannel16467-02 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel16467-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTI5N30.YTtwcrjGSyd9h21eEkM3ZG0aYKaQIo80Y4V2A9ryasA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTI5N30.YTtwcrjGSyd9h21eEkM3ZG0aYKaQIo80Y4V2A9ryasA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTI5N30.YTtwcrjGSyd9h21eEkM3ZG0aYKaQIo80Y4V2A9ryasA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels/testchannel16467-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTI5N30.YTtwcrjGSyd9h21eEkM3ZG0aYKaQIo80Y4V2A9ryasA
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel16467-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 19:10:21.298 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel16467-02> channel[m[m[m
Step 14_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel16467-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel16467-02 org2
Step: 15_api Test 'Join <org2> to the <testchannel16467-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel16467-02 org2 VERIFY: test-join-channel.sh testchannel16467-02 org2
[1;36mJoining org2.example.com to the testchannel16467-02 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel16467-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTQyM30.7pYcHy3kSDL-O7s-pMZ67vUkij9M1XB6_hQ2BL6XgYQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTQyM30.7pYcHy3kSDL-O7s-pMZ67vUkij9M1XB6_hQ2BL6XgYQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTQyM30.7pYcHy3kSDL-O7s-pMZ67vUkij9M1XB6_hQ2BL6XgYQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels/testchannel16467-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTQyM30.7pYcHy3kSDL-O7s-pMZ67vUkij9M1XB6_hQ2BL6XgYQ
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel16467-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 19:10:28.581 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel16467-02> channel[m[m[m
Step 15_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel16467 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel16467 org1
Step: 16_api Test 'Install test chaincode by <org1> to the <testchannel16467> channel'
RUNTEST: chaincode-install.sh testchannel16467 org1 VERIFY: test-chaincode-installed.sh testchannel16467 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTQzMX0.vOY99z4fXaSP-eYYGw4IQ8fY8JsSOZ6sh5tZEu5o7DQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTQzMX0.vOY99z4fXaSP-eYYGw4IQ8fY8JsSOZ6sh5tZEu5o7DQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTQzMX0.vOY99z4fXaSP-eYYGw4IQ8fY8JsSOZ6sh5tZEu5o7DQ
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel16467/chaincode-reference.js (deflated 27%)
adding: reference_testchannel16467/index.js (deflated 27%)
adding: reference_testchannel16467/package.json (deflated 41%)
adding: reference_testchannel16467/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12292 Ð¼Ð°Ñ€ 30 22:10 /tmp/reference_testchannel16467.zip
/tmp/reference_testchannel16467.zip
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel16467:1.0 successfully installed""
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode installed in org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel16467' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel10161, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel10161, Id: 1ac34725a3abdc98d6a608fcdb3b8770e53ea87eba583019e9fd5a09a279c024
Name: reference_testchannel16467, Version: 1.0, Path: /tmp/reference_testchannel16467, Id: f4ee6cec3371fd434240d3473b8d569b293846def7570cef1168dcf821f41513
Name: reference_testchannel17640, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17640, Id: 6e65705c305dc26d848ae39059e56edccfd8d66cacb2f4684123edf826b46b02
Name: reference_testchannel21707, Version: 1.0, Path: /tmp/reference_testchannel21707, Id: b84e89c2b8fdfe1d6ca1d72ef93af6a3636e5a6ff29c395676b04045a8febf8f
Name: reference_testchannel25553, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel25553, Id: 8f14d3229b5ee14eb55b451ffe7ec8229ff4920d968b8a9922c82b3fe12c2dd4
Name: reference_testchannel2856, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel2856, Id: 7c696a853092cfcef26594df1f8b384f78b121d509751a2ab8ceb5af79bd9095
Name: reference_testchannel539, Version: 1.0, Path: /tmp/reference_testchannel539, Id: 4f5f1975b39cbf2c4e1ba710fa24ecadd14421578738e766963fcb9d70f349e6
reference_testchannel16467
[1;32mOK: The test chaincode installed in org1[m[m[m
Step 16_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel16467-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel16467-02 org2
Step: 17_api Test 'Install test chaincode by <org2> to the <testchannel16467-02> channel'
RUNTEST: chaincode-install.sh testchannel16467-02 org2 VERIFY: test-chaincode-installed.sh testchannel16467-02 org2
[1;36m
Installing test chaincode in org2...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTQzOH0.FbGmUp1rlf8Ik3C7Pi9uWS-s_6QO8Wm58_5YkLCXxto"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTQzOH0.FbGmUp1rlf8Ik3C7Pi9uWS-s_6QO8Wm58_5YkLCXxto", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTQzOH0.FbGmUp1rlf8Ik3C7Pi9uWS-s_6QO8Wm58_5YkLCXxto
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel16467-02/chaincode-reference.js (deflated 27%)
adding: reference_testchannel16467-02/index.js (deflated 27%)
adding: reference_testchannel16467-02/package.json (deflated 41%)
adding: reference_testchannel16467-02/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12316 Ð¼Ð°Ñ€ 30 22:10 /tmp/reference_testchannel16467-02.zip
/tmp/reference_testchannel16467-02.zip
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel16467-02:1.0 successfully installed""
[1;32mOK: Test chaincode installed in org2[m[m[m
[1;34m
Verifing if the test chaincode installed in org2 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel16467-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel10161-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel10161-02, Id: 45435117a2e4f8b38f5d621f8b11f02ad389d40e46d5dece84a8adcae21566a5
Name: reference_testchannel10695-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel10695-02, Id: 71b41461232de072a3a5ced3786a045b675ef5ce136716b21cef537e01fa7c96
Name: reference_testchannel10695, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel10695, Id: 9bcd6950f5f93be8487e307860e29df98394052fbe62c422c912782b246ce030
Name: reference_testchannel16467-02, Version: 1.0, Path: /tmp/reference_testchannel16467-02, Id: c1256f2769934b85e8597d16872a8ba0c9df56992e09a5997bec10e97f50d0db
Name: reference_testchannel17640-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17640-02, Id: 8f094ccb7ad7d85255752539c86fd8d2cf3af1fd6f89b25701a25bbcc29d5f08
Name: reference_testchannel17865-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17865-02, Id: 1e545b23b162c7eab18b864739577db6f2178d450ca8400b84e790a77be730df
Name: reference_testchannel17865, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17865, Id: 4610dd105c1fd5af286001b82aabb689bd2ec58345b3c8474e834e8eae0e4956
Name: reference_testchannel21707-02, Version: 1.0, Path: /tmp/reference_testchannel21707-02, Id: 8dedb939f760de2916ec1316027a68156d9900c4cc3f10ea5b43bb9605d13310
Name: reference_testchannel25553-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel25553-02, Id: adf4be76f5dcc3074a9537ec663dcb5e55fc9931b2142da54484f8e5ea2de90a
Name: reference_testchannel2856-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel2856-02, Id: 42321308d5f0b2af5ebe1f493ab771fbaa27f75a7dd3a4c0fa896cbfdccbf18a
Name: reference_testchannel29088-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel29088-02, Id: 6cc4fb0d2dc148f91f51fc066bec89b6798f685898d915cc34fdb5c44fdc3f3e
Name: reference_testchannel29088, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel29088, Id: ab924972ebc78695550f399712f447e92c6ad4a2c5c087e304e9ece1ec891c80
Name: reference_testchannel31130-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel31130-02, Id: 17f5c46056dcfe16fa58974f932a0567f3f8c057c09b255c0dec1277f0927fae
Name: reference_testchannel31130, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel31130, Id: 5904dcb791fa5972f57fec3c49b93ca8a286aa31e47e0ea7e65c03e77239dbfd
Name: reference_testchannel539-02, Version: 1.0, Path: /tmp/reference_testchannel539-02, Id: 9f264ccc78ab21dc8fa90ded1fefed8c529d5ea838f326b92e8c8f39cf7ad13d
reference_testchannel16467-02
[1;32mOK: The test chaincode installed in org2[m[m[m
Step 17_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-instantiate.sh testchannel16467 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel16467 org1
Step: 18_api Test 'Instantiate test chaincode by <org1> to the <testchannel16467> channel'
RUNTEST: chaincode-instantiate.sh testchannel16467 org1 VERIFY: test-chaincode-instantiated.sh testchannel16467 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTQ0Nn0.rMhEG95hsmVDNIDiIUIGQkTEQmWBMOfXJv3SrJU3KqE"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTQ0Nn0.rMhEG95hsmVDNIDiIUIGQkTEQmWBMOfXJv3SrJU3KqE", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTQ0Nn0.rMhEG95hsmVDNIDiIUIGQkTEQmWBMOfXJv3SrJU3KqE
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels/testchannel16467/chaincodes {"channelId":"testchannel16467","chaincodeId":"reference_testchannel16467","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTQ0Nn0.rMhEG95hsmVDNIDiIUIGQkTEQmWBMOfXJv3SrJU3KqE
curlGetIt got _ {"txid":"baf141e48309ba31047bc46ebcbe4aef0c48d1cb90a55560a52745f1142fcdba","status":"VALID","blockNumber":"3"}200 _ result
body is {"txid":"baf141e48309ba31047bc46ebcbe4aef0c48d1cb90a55560a52745f1142fcdba","status":"VALID","blockNumber":"3"}, code is 200
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel16467 channel by org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel16467' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel16467:
Name: reference_testchannel16467, Version: 1.0, Path: /tmp/reference_testchannel16467, Input: <nil>, Escc: escc, Vscc: vscc
reference_testchannel16467
[1;32mOK: The test chaincode installed in testchannel16467 channel by org1 org[m[m[m
Step 18_api: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-invoke.sh testchannel16467 org1 reference_testchannel16467 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-query.sh testchannel16467 org1 reference_testchannel16467
Step: 19_api Test 'Test chaincode invocation and query:  <org1> <-> <org2>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel16467 org1 reference_testchannel16467 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel16467 org1 reference_testchannel16467
[1;36m
Invoke test chaincode on the <testchannel16467> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTUwMH0.AeWo3ZydxM6jpos0VAIkOO63B4BXMghz2Po4k4Oa0nY"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTUwMH0.AeWo3ZydxM6jpos0VAIkOO63B4BXMghz2Po4k4Oa0nY", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTUwMH0.AeWo3ZydxM6jpos0VAIkOO63B4BXMghz2Po4k4Oa0nY
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels/testchannel16467/chaincodes/reference_testchannel16467 {"fcn":"put","args":["testchannel16467","testchannel16467"],"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTUwMH0.AeWo3ZydxM6jpos0VAIkOO63B4BXMghz2Po4k4Oa0nY
curlGetIt got _ {"txid":"642498564aaeca6eca461d6cc6c8bd7d40239d48dbfed2d54aa628dd003de3f0","status":"VALID","blockNumber":"4"}200 _ result
body is {"txid":"642498564aaeca6eca461d6cc6c8bd7d40239d48dbfed2d54aa628dd003de3f0","status":"VALID","blockNumber":"4"}, code is 200
[1;32mOK: Chaincode reference_testchannel16467 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel16467> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel16467 reference_testchannel16467 '["range","testchannel16467"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel16467 reference_testchannel16467 '["range","testchannel16467"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode query -n reference_testchannel16467 -C testchannel16467 -c '{"Args":["range","testchannel16467"]}'
[{"key":"testchannel16467","value":"testchannel16467"}]
[1;32mOK: Chaincode reference_testchannel16467 invoked sucsessfuly.[m[m[m
Step 19_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel16560 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel16560 org1
Step: 1_api Test 'Create <testchannel16560> Channel in ORG1'
RUNTEST: create-channel.sh testchannel16560 org1 VERIFY: test-channel-exists.sh testchannel16560 org1
[1;36mCreating testchannel16560 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTgwMX0.mfCFJwB99b2F7xy2_cB-SfP_3FKequN9IdoxLhvYUAA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTgwMX0.mfCFJwB99b2F7xy2_cB-SfP_3FKequN9IdoxLhvYUAA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTgwMX0.mfCFJwB99b2F7xy2_cB-SfP_3FKequN9IdoxLhvYUAA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels {"channelId":"testchannel16560","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTgwMX0.mfCFJwB99b2F7xy2_cB-SfP_3FKequN9IdoxLhvYUAA
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel16560> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel16560> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 19:16:47.325 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 19:16:47.327 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 19:16:47.329 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 19:16:47.330 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel16560",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T19:16:44Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/file4dvFHg _testchannel16560_
Expect: testchannel16560, got: testchannel16560
[1;32mOK: The channel <testchannel16560> exists and visible to org1[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel16560 org2
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel16560 org2
[1;34m
Verifing if the <testchannel16560> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 19:16:49.375 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 19:16:49.379 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileHwOxUx _null_
Expect: testchannel16560, got: null
[1;32mOK: The channel <testchannel16560> does not exist and in not visible to org2[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel16560 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel16560 org1
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel16560 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel16560 org1
[1;36mCreating ^^^^^^testchannel16560 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTgxMX0.kEzKb7QZm7Sde2OyaYFvdw2QeUjYD-kD-GhiMO3PKTs"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTgxMX0.kEzKb7QZm7Sde2OyaYFvdw2QeUjYD-kD-GhiMO3PKTs", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTgxMX0.kEzKb7QZm7Sde2OyaYFvdw2QeUjYD-kD-GhiMO3PKTs
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels {"channelId":"^^^^^^testchannel16560","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTgxMX0.kEzKb7QZm7Sde2OyaYFvdw2QeUjYD-kD-GhiMO3PKTs
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel16560\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel16560\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel16560\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel16560> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 19:16:57.187 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 19:16:57.188 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileIdcK3O _null_
Expect: ^^^^^^testchannel16560, got: null
[1;32mOK: The channel <^^^^^^testchannel16560> does not exist and in not visible to org1[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel16560 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel16560 org2
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel16560 org2 VERIFY: test-channel-does-not-exist.sh testchannel16560 org2
[1;36mCreating testchannel16560 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTgxOX0.jvHEb4I4qKSFbyxDoxZSxBQXQD5yf-4VphRIHZXBInA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTgxOX0.jvHEb4I4qKSFbyxDoxZSxBQXQD5yf-4VphRIHZXBInA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTgxOX0.jvHEb4I4qKSFbyxDoxZSxBQXQD5yf-4VphRIHZXBInA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels {"channelId":"testchannel16560","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTgxOX0.jvHEb4I4qKSFbyxDoxZSxBQXQD5yf-4VphRIHZXBInA
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel16560> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 19:17:05.304 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 19:17:05.306 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file0RCwDd _null_
Expect: testchannel16560, got: null
[1;32mOK: The channel <testchannel16560> does not exist and in not visible to org2[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel16560-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel16560-02 org2
Step: 5_api Test 'Create another channel in ORG2'
RUNTEST: create-channel.sh testchannel16560-02 org2 VERIFY: test-channel-exists.sh testchannel16560-02 org2
[1;36mCreating testchannel16560-02 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTgyN30.W_q_6Ky_VElXIv0-NkEl6H-dffqGqf1c9TZ8PG2_0zg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTgyN30.W_q_6Ky_VElXIv0-NkEl6H-dffqGqf1c9TZ8PG2_0zg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTgyN30.W_q_6Ky_VElXIv0-NkEl6H-dffqGqf1c9TZ8PG2_0zg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels {"channelId":"testchannel16560-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTgyN30.W_q_6Ky_VElXIv0-NkEl6H-dffqGqf1c9TZ8PG2_0zg
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel16560-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel16560-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 19:17:15.972 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 19:17:15.978 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-30 19:17:15.982 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-30 19:17:15.983 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel16560-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-30T19:17:11Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileRlcsuI _testchannel16560-02_
Expect: testchannel16560-02, got: testchannel16560-02
[1;32mOK: The channel <testchannel16560-02> exists and visible to org2[m[m[m
Step 5_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel16560-02 org1
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel16560-02 org1
[1;34m
Verifing if the <testchannel16560-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 19:17:19.643 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 19:17:19.652 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filelrKn7K _null_
Expect: testchannel16560-02, got: null
[1;32mOK: The channel <testchannel16560-02> does not exist and in not visible to org1[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel16560-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel16560-02 org1
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel16560-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel16560-02 org1
[1;36mCreating testchannel16560-02 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTg0NH0.El884VMZGo0boT-6rGVG9Spt5QqlVhmANobDpMI00Cg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTg0NH0.El884VMZGo0boT-6rGVG9Spt5QqlVhmANobDpMI00Cg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTg0NH0.El884VMZGo0boT-6rGVG9Spt5QqlVhmANobDpMI00Cg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels {"channelId":"testchannel16560-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTg0NH0.El884VMZGo0boT-6rGVG9Spt5QqlVhmANobDpMI00Cg
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel16560-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 19:17:34.276 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 19:17:34.280 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileesAETa _null_
Expect: testchannel16560-02, got: null
[1;32mOK: The channel <testchannel16560-02> does not exist and in not visible to org1[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel16560 org1 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel16560 org1 org1
Step: 8_api Test 'Add <org1> to channel <testchannel16560> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel16560 org1 org1 VERIFY: test-channel-add-org.sh testchannel16560 org1 org1
[1;36mAdd org1 to the testchannel16560 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel16560 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTg1OH0.lEMEQ-0v6xp56fXPnLsddn3XUnUh9q8IJ0GEWhZ56no"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTg1OH0.lEMEQ-0v6xp56fXPnLsddn3XUnUh9q8IJ0GEWhZ56no", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTg1OH0.lEMEQ-0v6xp56fXPnLsddn3XUnUh9q8IJ0GEWhZ56no
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels/testchannel16560/orgs {"orgId":"org1","orgIp":"192.168.99.105","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTg1OH0.lEMEQ-0v6xp56fXPnLsddn3XUnUh9q8IJ0GEWhZ56no
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org1 added to testchannel16560 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel16560 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 19:17:53.028 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 19:17:53.031 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 19:17:53.033 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 19:17:53.033 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQU1sTEFOa3poQ01rODZ5aWNTdHdNRHN3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQk9SdFQveEZoejdFZHJ1cThiS2tuSm9RMkxGeTJ1blgKT2dMKzRUUnJsSHFmbVExcXYzb0tva3FuOExNcm9YRUtJRWVSR2l5VGtacFYvNmRVNkUwYTM4T2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUdXUUFuclhETU8vCjJzenZ6YUVxOS9pMURHSnJBTno5TkxPZlhpbVYwSFhHTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUdqM1lyTWUKa1E2SDkrTklZS0Q1UmZoSEdrUFU4MGpzYjduOTVJK05TWHNaQWlBWUZaNVo1Wk56eHgveFIyeTNRTTA2TG9sZQpaZlZSekRiL0xFaGZscE1pOWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQUt6bXJQVnBrdW9iZEt4TTVoM09veDh3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQk1sTS80bCtzZHN2SUQ1RDdrUDN0MGlES1ZhemZySmNkN1MzWnVla1dXcU5NTktHL0Y0QmxYOHZDRzRuR292cwpxRlErMzIxZFJvVmlKOFB4SzJCVnB1eWpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKWlpBQ2V0Y013Ny9hek8vTm9TcjMrTFVNWW1zQTNQMDBzNTllS1pYUWRjWXdDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnT2I4alF3Z1NoNW1CellLRXVpMVZwMlNoWmJ4aytmRHZJcWlvanBPLzU2Y0NJR0sxTHIxVXJGeGpGZkFpCmRFMkNPZU93ZlNmVEpUWHdUem5EZmJYU0JGU08KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU5ESE9FSy9GdmJqUjVqcTNac0ptRGN3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016TXdNRGswT0RBd1doY05NekF3TXpJNE1EazAKT0RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCRHg0RS9qeDFkeGFTcS9JR2RoQkN4cHRSSFlYVTE2SERyeXFoTWNDMUtVek1Ob2F1djNUV3FkbAo3cUxveW5JenpIdGdabnBDNWR1aWZrb0t3MzlVVXpHamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdicVAwVTR6Znp1dVFhcERrdlRqMGdrSUZySHkwYnZWOFNqMGxRV21FM0hnd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdLYURLemFsS3NVZ1FDSExqN3FIZ21LM0hhK3RaakRBN3YwbGVmTzJva3pBQ0lCWTZXY2J4Clk1cjJEc09HZXUxSjdlWjlxdlc1RUdFUW5zb1RkRnFnUEpRcgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/file4uX3H5 _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel16560>.[m[m[m
Step 8_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel16560-02 org2 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel16560-02 org2 org2
Step: 9_api Test 'Add <org2> to channel <testchannel16560-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel16560-02 org2 org2 VERIFY: test-channel-add-org.sh testchannel16560-02 org2 org2
[1;36mAdd org2 to the testchannel16560-02 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel16560-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTg3NX0.ZM_jdDGEnXN2XP3a8bHGPbXNugedJZArEBY6dAO0AcI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTg3NX0.ZM_jdDGEnXN2XP3a8bHGPbXNugedJZArEBY6dAO0AcI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTg3NX0.ZM_jdDGEnXN2XP3a8bHGPbXNugedJZArEBY6dAO0AcI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels/testchannel16560-02/orgs {"orgId":"org2","orgIp":"192.168.99.104","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTg3NX0.ZM_jdDGEnXN2XP3a8bHGPbXNugedJZArEBY6dAO0AcI
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org2 added to testchannel16560-02 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel16560-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 19:18:08.035 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 19:18:08.038 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-30 19:18:08.040 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-30 19:18:08.040 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRR204WXJWaVFIdmYzTUxZUmtnSDh0ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFeGtLc0NobFZYTUVPdGhPeEc3bkVKb0R3YXFobjZmRkwKK2k3YW1xL21QQ2FWcDRIUXYwREhCRU9zZlFUQThBQVJJSWZ1NUxtMDYwam1nSHZTaUdFdk9xTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FncGF0QXJMN3R6MTRhCk5EK1VGcDBlUnVnTDFvdTNoSy9JK0tDUFB2NVJ2WUl3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRTRwajdmNVkKaHlPV3o1T1dMWFlLbE9kS1NmZXBzYzlaVnZ2aE92TzBDL0VDSURRTFRUMmQ2TjhNcmgwaW5aT0NxdnlCN25tOApTQ2NXS3NwdDZBYkZZVDBUCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUGJ6WVhyRFAwTTVtbWtiNjEvbk5JakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKTm9tdWZqeTk2V2YvYWhXc3pXWm9BMnA4Y0ExZktRdzk3MUdLZDZtNkFNOTBVUFdoQTVmRS9TWTJ4MW4zQU9lOQpXR01LRStNMm9vTjJER1R5SHowNFE2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ2wKcTBDc3Z1M1BYaG8wUDVRV25SNUc2QXZXaTdlRXI4ajRvSTgrL2xHOWdqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJoQXROV0F1M1ZpVm5YYXA1cXpqVndjU2wvZTNvYWVNU0g0bEczcS9uNUdBSWdUQ2xPVTdUYk43SVh6d0NZCjRDWjB2enlocFRvTzFLTlpkbFg1ZVVtdVIyWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRFdyR05aUkpGNUFhVjVFSURxZzAyekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek16QXdPVFV5TURCYUZ3MHpNREF6TWpnd09UVXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVTWmx5blRqRFBTRzZzTWdSQjBsalZZQ2tQMkJrRnIyZGlqZUNnS2pvVVpqMFRKcGE3L0c5dWpILworUzRkbkh6SEtKRlE5b2VuYzlSRDFTb0gvZWNPRmFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQnoyZ1h6S1JEMDNWUVRVSUR6WW16Y3U0NjhIZ2JYSStOUXpwWVR4d0xrNFRBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFtbFpObjVlaTJKVFN1cStaYjNBekNsQkNTSGUvWi9WQjREVHoyUm96QkNNQ0lCSVVldTVxCnk4SGNDaE9QekJBd3ZzbWdzdmEvREhSbUphYjVZcVFDeVp3bwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/file85t9ZS _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel16560-02>.[m[m[m
Step 9_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel16560 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel16560 org1 org2
Step: 10_api Test 'Add <org2> to channel <testchannel16560> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel16560 org1 org2 VERIFY: test-channel-add-org.sh testchannel16560 org1 org2
[1;36mAdd org2 to the testchannel16560 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel16560 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTg5MH0.u9EzlMD0HiE4H26dXbMK9FoOwswPKByBM-gbGuFTbNQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTg5MH0.u9EzlMD0HiE4H26dXbMK9FoOwswPKByBM-gbGuFTbNQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTg5MH0.u9EzlMD0HiE4H26dXbMK9FoOwswPKByBM-gbGuFTbNQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels/testchannel16560/orgs {"orgId":"org2","orgIp":"192.168.99.104","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTg5MH0.u9EzlMD0HiE4H26dXbMK9FoOwswPKByBM-gbGuFTbNQ
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org2 added to testchannel16560 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel16560 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 19:18:22.408 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 19:18:22.413 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-30 19:18:22.415 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-30 19:18:22.416 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRR204WXJWaVFIdmYzTUxZUmtnSDh0ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFeGtLc0NobFZYTUVPdGhPeEc3bkVKb0R3YXFobjZmRkwKK2k3YW1xL21QQ2FWcDRIUXYwREhCRU9zZlFUQThBQVJJSWZ1NUxtMDYwam1nSHZTaUdFdk9xTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FncGF0QXJMN3R6MTRhCk5EK1VGcDBlUnVnTDFvdTNoSy9JK0tDUFB2NVJ2WUl3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRTRwajdmNVkKaHlPV3o1T1dMWFlLbE9kS1NmZXBzYzlaVnZ2aE92TzBDL0VDSURRTFRUMmQ2TjhNcmgwaW5aT0NxdnlCN25tOApTQ2NXS3NwdDZBYkZZVDBUCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUGJ6WVhyRFAwTTVtbWtiNjEvbk5JakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TXpBd09UVXlNREJhRncwek1EQXpNamd3T1RVeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKTm9tdWZqeTk2V2YvYWhXc3pXWm9BMnA4Y0ExZktRdzk3MUdLZDZtNkFNOTBVUFdoQTVmRS9TWTJ4MW4zQU9lOQpXR01LRStNMm9vTjJER1R5SHowNFE2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ2wKcTBDc3Z1M1BYaG8wUDVRV25SNUc2QXZXaTdlRXI4ajRvSTgrL2xHOWdqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJoQXROV0F1M1ZpVm5YYXA1cXpqVndjU2wvZTNvYWVNU0g0bEczcS9uNUdBSWdUQ2xPVTdUYk43SVh6d0NZCjRDWjB2enlocFRvTzFLTlpkbFg1ZVVtdVIyWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRFdyR05aUkpGNUFhVjVFSURxZzAyekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek16QXdPVFV5TURCYUZ3MHpNREF6TWpnd09UVXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVTWmx5blRqRFBTRzZzTWdSQjBsalZZQ2tQMkJrRnIyZGlqZUNnS2pvVVpqMFRKcGE3L0c5dWpILworUzRkbkh6SEtKRlE5b2VuYzlSRDFTb0gvZWNPRmFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQnoyZ1h6S1JEMDNWUVRVSUR6WW16Y3U0NjhIZ2JYSStOUXpwWVR4d0xrNFRBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFtbFpObjVlaTJKVFN1cStaYjNBekNsQkNTSGUvWi9WQjREVHoyUm96QkNNQ0lCSVVldTVxCnk4SGNDaE9QekJBd3ZzbWdzdmEvREhSbUphYjVZcVFDeVp3bwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/filepiJHsQ _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel16560>.[m[m[m
Step 10_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel16560-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel16560-02 org2 org1
Step: 11_api Test 'Add <org1> to channel <testchannel16560-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel16560-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel16560-02 org2 org1
[1;36mAdd org1 to the testchannel16560-02 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel16560-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTkwNH0.4dslokscA5Xj1fJ44q2F2w5_q7le_osus3lD_mjsU4s"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTkwNH0.4dslokscA5Xj1fJ44q2F2w5_q7le_osus3lD_mjsU4s", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTkwNH0.4dslokscA5Xj1fJ44q2F2w5_q7le_osus3lD_mjsU4s
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels/testchannel16560-02/orgs {"orgId":"org1","orgIp":"192.168.99.105","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTkwNH0.4dslokscA5Xj1fJ44q2F2w5_q7le_osus3lD_mjsU4s
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org1 added to testchannel16560-02 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel16560-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 19:18:36.960 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-30 19:18:36.965 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-30 19:18:36.968 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-30 19:18:36.969 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQU1sTEFOa3poQ01rODZ5aWNTdHdNRHN3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQk9SdFQveEZoejdFZHJ1cThiS2tuSm9RMkxGeTJ1blgKT2dMKzRUUnJsSHFmbVExcXYzb0tva3FuOExNcm9YRUtJRWVSR2l5VGtacFYvNmRVNkUwYTM4T2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUdXUUFuclhETU8vCjJzenZ6YUVxOS9pMURHSnJBTno5TkxPZlhpbVYwSFhHTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUdqM1lyTWUKa1E2SDkrTklZS0Q1UmZoSEdrUFU4MGpzYjduOTVJK05TWHNaQWlBWUZaNVo1Wk56eHgveFIyeTNRTTA2TG9sZQpaZlZSekRiL0xFaGZscE1pOWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQUt6bXJQVnBrdW9iZEt4TTVoM09veDh3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpNd01EazBPREF3V2hjTk16QXdNekk0TURrME9EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQk1sTS80bCtzZHN2SUQ1RDdrUDN0MGlES1ZhemZySmNkN1MzWnVla1dXcU5NTktHL0Y0QmxYOHZDRzRuR292cwpxRlErMzIxZFJvVmlKOFB4SzJCVnB1eWpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKWlpBQ2V0Y013Ny9hek8vTm9TcjMrTFVNWW1zQTNQMDBzNTllS1pYUWRjWXdDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnT2I4alF3Z1NoNW1CellLRXVpMVZwMlNoWmJ4aytmRHZJcWlvanBPLzU2Y0NJR0sxTHIxVXJGeGpGZkFpCmRFMkNPZU93ZlNmVEpUWHdUem5EZmJYU0JGU08KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU5ESE9FSy9GdmJqUjVqcTNac0ptRGN3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016TXdNRGswT0RBd1doY05NekF3TXpJNE1EazAKT0RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCRHg0RS9qeDFkeGFTcS9JR2RoQkN4cHRSSFlYVTE2SERyeXFoTWNDMUtVek1Ob2F1djNUV3FkbAo3cUxveW5JenpIdGdabnBDNWR1aWZrb0t3MzlVVXpHamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdicVAwVTR6Znp1dVFhcERrdlRqMGdrSUZySHkwYnZWOFNqMGxRV21FM0hnd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdLYURLemFsS3NVZ1FDSExqN3FIZ21LM0hhK3RaakRBN3YwbGVmTzJva3pBQ0lCWTZXY2J4Clk1cjJEc09HZXUxSjdlWjlxdlc1RUdFUW5zb1RkRnFnUEpRcgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileVsrWl5 _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel16560-02>.[m[m[m
Step 11_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel16560 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel16560 org1
Step: 12_api Test 'Join <org1> to the <testchannel16560> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel16560 org1 VERIFY: test-join-channel.sh testchannel16560 org1
[1;36mJoining org1.example.com to the testchannel16560 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel16560 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTkxOX0.tAE4CcYTILqgj1vix3LXzqWQ67mrYLTc6yWWgtt8tOI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTkxOX0.tAE4CcYTILqgj1vix3LXzqWQ67mrYLTc6yWWgtt8tOI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTkxOX0.tAE4CcYTILqgj1vix3LXzqWQ67mrYLTc6yWWgtt8tOI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels/testchannel16560 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTkxOX0.tAE4CcYTILqgj1vix3LXzqWQ67mrYLTc6yWWgtt8tOI
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel16560> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 19:18:44.279 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel16560> channel[m[m[m
Step 12_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel16560 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel16560 org2
Step: 13_api Test 'Join <org2> to the <testchannel16560> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel16560 org2 VERIFY: test-join-channel.sh testchannel16560 org2
[1;36mJoining org2.example.com to the testchannel16560 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel16560 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTkyNn0.OqY4Xn2PLS_ERaQr3KHzZjX7qhnT0YsjYdjppMvZ_pY"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTkyNn0.OqY4Xn2PLS_ERaQr3KHzZjX7qhnT0YsjYdjppMvZ_pY", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTkyNn0.OqY4Xn2PLS_ERaQr3KHzZjX7qhnT0YsjYdjppMvZ_pY
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels/testchannel16560 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NTkyNn0.OqY4Xn2PLS_ERaQr3KHzZjX7qhnT0YsjYdjppMvZ_pY
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel16560> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 19:20:51.338 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel16560> channel[m[m[m
Step 13_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel16560-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel16560-02 org1
Step: 14_api Test 'Join <org1> to the <testchannel16560-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel16560-02 org1 VERIFY: test-join-channel.sh testchannel16560-02 org1
[1;36mJoining org1.example.com to the testchannel16560-02 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel16560-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NjA1NH0.yciCU6JpJJakCBoNEDBUJ-5m2LUucdxhFvMP888d5fc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NjA1NH0.yciCU6JpJJakCBoNEDBUJ-5m2LUucdxhFvMP888d5fc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NjA1NH0.yciCU6JpJJakCBoNEDBUJ-5m2LUucdxhFvMP888d5fc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels/testchannel16560-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NjA1NH0.yciCU6JpJJakCBoNEDBUJ-5m2LUucdxhFvMP888d5fc
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel16560-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 19:22:58.973 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel16560-02> channel[m[m[m
Step 14_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel16560-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel16560-02 org2
Step: 15_api Test 'Join <org2> to the <testchannel16560-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel16560-02 org2 VERIFY: test-join-channel.sh testchannel16560-02 org2
[1;36mJoining org2.example.com to the testchannel16560-02 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel16560-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NjE4MX0.VwyI6dqiIcKGhyyb8q2w9vyTNXYaW8PCHwkXfMFAQDQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NjE4MX0.VwyI6dqiIcKGhyyb8q2w9vyTNXYaW8PCHwkXfMFAQDQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NjE4MX0.VwyI6dqiIcKGhyyb8q2w9vyTNXYaW8PCHwkXfMFAQDQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels/testchannel16560-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NjE4MX0.VwyI6dqiIcKGhyyb8q2w9vyTNXYaW8PCHwkXfMFAQDQ
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel16560-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-30 19:23:06.715 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel16560-02> channel[m[m[m
Step 15_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel16560 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel16560 org1
Step: 16_api Test 'Install test chaincode by <org1> to the <testchannel16560> channel'
RUNTEST: chaincode-install.sh testchannel16560 org1 VERIFY: test-chaincode-installed.sh testchannel16560 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NjE4OX0.kDZtHX1SMCkPhqwoyPHn6bDXP0tMqDurKZzegHG4TDw"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NjE4OX0.kDZtHX1SMCkPhqwoyPHn6bDXP0tMqDurKZzegHG4TDw", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NjE4OX0.kDZtHX1SMCkPhqwoyPHn6bDXP0tMqDurKZzegHG4TDw
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel16560/chaincode-reference.js (deflated 27%)
adding: reference_testchannel16560/index.js (deflated 27%)
adding: reference_testchannel16560/package.json (deflated 41%)
adding: reference_testchannel16560/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12292 Ð¼Ð°Ñ€ 30 22:23 /tmp/reference_testchannel16560.zip
/tmp/reference_testchannel16560.zip
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel16560:1.0 successfully installed""
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode installed in org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel16560' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel10161, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel10161, Id: 1ac34725a3abdc98d6a608fcdb3b8770e53ea87eba583019e9fd5a09a279c024
Name: reference_testchannel16467, Version: 1.0, Path: /tmp/reference_testchannel16467, Id: f4ee6cec3371fd434240d3473b8d569b293846def7570cef1168dcf821f41513
Name: reference_testchannel16560, Version: 1.0, Path: /tmp/reference_testchannel16560, Id: eff9e09f3d81f515890569c6cf42b68c0d23088c23f759de4c9768e033632733
Name: reference_testchannel17640, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17640, Id: 6e65705c305dc26d848ae39059e56edccfd8d66cacb2f4684123edf826b46b02
Name: reference_testchannel21707, Version: 1.0, Path: /tmp/reference_testchannel21707, Id: b84e89c2b8fdfe1d6ca1d72ef93af6a3636e5a6ff29c395676b04045a8febf8f
Name: reference_testchannel25553, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel25553, Id: 8f14d3229b5ee14eb55b451ffe7ec8229ff4920d968b8a9922c82b3fe12c2dd4
Name: reference_testchannel2856, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel2856, Id: 7c696a853092cfcef26594df1f8b384f78b121d509751a2ab8ceb5af79bd9095
Name: reference_testchannel539, Version: 1.0, Path: /tmp/reference_testchannel539, Id: 4f5f1975b39cbf2c4e1ba710fa24ecadd14421578738e766963fcb9d70f349e6
reference_testchannel16560
[1;32mOK: The test chaincode installed in org1[m[m[m
Step 16_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel16560-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel16560-02 org2
Step: 17_api Test 'Install test chaincode by <org2> to the <testchannel16560-02> channel'
RUNTEST: chaincode-install.sh testchannel16560-02 org2 VERIFY: test-chaincode-installed.sh testchannel16560-02 org2
[1;36m
Installing test chaincode in org2...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NjE5OH0.wUi-exnYmYfYxVRZH7z7lPhKbHDma8nkDOlkxyvc3Mg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NjE5OH0.wUi-exnYmYfYxVRZH7z7lPhKbHDma8nkDOlkxyvc3Mg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NjE5OH0.wUi-exnYmYfYxVRZH7z7lPhKbHDma8nkDOlkxyvc3Mg
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel16560-02/chaincode-reference.js (deflated 27%)
adding: reference_testchannel16560-02/index.js (deflated 27%)
adding: reference_testchannel16560-02/package.json (deflated 41%)
adding: reference_testchannel16560-02/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12316 Ð¼Ð°Ñ€ 30 22:23 /tmp/reference_testchannel16560-02.zip
/tmp/reference_testchannel16560-02.zip
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel16560-02:1.0 successfully installed""
[1;32mOK: Test chaincode installed in org2[m[m[m
[1;34m
Verifing if the test chaincode installed in org2 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel16560-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel10161-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel10161-02, Id: 45435117a2e4f8b38f5d621f8b11f02ad389d40e46d5dece84a8adcae21566a5
Name: reference_testchannel10695-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel10695-02, Id: 71b41461232de072a3a5ced3786a045b675ef5ce136716b21cef537e01fa7c96
Name: reference_testchannel10695, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel10695, Id: 9bcd6950f5f93be8487e307860e29df98394052fbe62c422c912782b246ce030
Name: reference_testchannel16467-02, Version: 1.0, Path: /tmp/reference_testchannel16467-02, Id: c1256f2769934b85e8597d16872a8ba0c9df56992e09a5997bec10e97f50d0db
Name: reference_testchannel16560-02, Version: 1.0, Path: /tmp/reference_testchannel16560-02, Id: 9eacac0d2a7c72e15dce0a75c9af390be407629034eb2743981d10b2a0e45db4
Name: reference_testchannel17640-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17640-02, Id: 8f094ccb7ad7d85255752539c86fd8d2cf3af1fd6f89b25701a25bbcc29d5f08
Name: reference_testchannel17865-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17865-02, Id: 1e545b23b162c7eab18b864739577db6f2178d450ca8400b84e790a77be730df
Name: reference_testchannel17865, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel17865, Id: 4610dd105c1fd5af286001b82aabb689bd2ec58345b3c8474e834e8eae0e4956
Name: reference_testchannel21707-02, Version: 1.0, Path: /tmp/reference_testchannel21707-02, Id: 8dedb939f760de2916ec1316027a68156d9900c4cc3f10ea5b43bb9605d13310
Name: reference_testchannel25553-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel25553-02, Id: adf4be76f5dcc3074a9537ec663dcb5e55fc9931b2142da54484f8e5ea2de90a
Name: reference_testchannel2856-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel2856-02, Id: 42321308d5f0b2af5ebe1f493ab771fbaa27f75a7dd3a4c0fa896cbfdccbf18a
Name: reference_testchannel29088-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel29088-02, Id: 6cc4fb0d2dc148f91f51fc066bec89b6798f685898d915cc34fdb5c44fdc3f3e
Name: reference_testchannel29088, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel29088, Id: ab924972ebc78695550f399712f447e92c6ad4a2c5c087e304e9ece1ec891c80
Name: reference_testchannel31130-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel31130-02, Id: 17f5c46056dcfe16fa58974f932a0567f3f8c057c09b255c0dec1277f0927fae
Name: reference_testchannel31130, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel31130, Id: 5904dcb791fa5972f57fec3c49b93ca8a286aa31e47e0ea7e65c03e77239dbfd
Name: reference_testchannel539-02, Version: 1.0, Path: /tmp/reference_testchannel539-02, Id: 9f264ccc78ab21dc8fa90ded1fefed8c529d5ea838f326b92e8c8f39cf7ad13d
reference_testchannel16560-02
[1;32mOK: The test chaincode installed in org2[m[m[m
Step 17_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-instantiate.sh testchannel16560 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel16560 org1
Step: 18_api Test 'Instantiate test chaincode by <org1> to the <testchannel16560> channel'
RUNTEST: chaincode-instantiate.sh testchannel16560 org1 VERIFY: test-chaincode-instantiated.sh testchannel16560 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NjIwNn0.IqciE7O7ocK4Hb5vUCvPnW9_1kdRb4pYFGnnNRsb7og"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NjIwNn0.IqciE7O7ocK4Hb5vUCvPnW9_1kdRb4pYFGnnNRsb7og", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NjIwNn0.IqciE7O7ocK4Hb5vUCvPnW9_1kdRb4pYFGnnNRsb7og
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels/testchannel16560/chaincodes {"channelId":"testchannel16560","chaincodeId":"reference_testchannel16560","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NjIwNn0.IqciE7O7ocK4Hb5vUCvPnW9_1kdRb4pYFGnnNRsb7og
curlGetIt got _ {"txid":"36130568b90b2aafeafffd6906c2c085644e504977dbe32cc394356c06d094f8","status":"VALID","blockNumber":"3"}200 _ result
body is {"txid":"36130568b90b2aafeafffd6906c2c085644e504977dbe32cc394356c06d094f8","status":"VALID","blockNumber":"3"}, code is 200
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel16560 channel by org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel16560' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel16560:
Name: reference_testchannel16560, Version: 1.0, Path: /tmp/reference_testchannel16560, Input: <nil>, Escc: escc, Vscc: vscc
reference_testchannel16560
[1;32mOK: The test chaincode installed in testchannel16560 channel by org1 org[m[m[m
Step 18_api: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-invoke.sh testchannel16560 org1 reference_testchannel16560 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-query.sh testchannel16560 org1 reference_testchannel16560
Step: 19_api Test 'Test chaincode invocation and query:  <org1> <-> <org2>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel16560 org1 reference_testchannel16560 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel16560 org1 reference_testchannel16560
[1;36m
Invoke test chaincode on the <testchannel16560> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NjI2N30.OKoAYE536M0d2clcNoAGVeC84kSjz1HL_-n7v5Xyrs8"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NjI2N30.OKoAYE536M0d2clcNoAGVeC84kSjz1HL_-n7v5Xyrs8", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NjI2N30.OKoAYE536M0d2clcNoAGVeC84kSjz1HL_-n7v5Xyrs8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.105:4000/channels/testchannel16560/chaincodes/reference_testchannel16560 {"fcn":"put","args":["testchannel16560","testchannel16560"],"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTU5NjI2N30.OKoAYE536M0d2clcNoAGVeC84kSjz1HL_-n7v5Xyrs8
curlGetIt got _ {"txid":"36c12cbe64dfa38678a9b7f77a52f004d9bed974318ece430967be8e936e4449","status":"VALID","blockNumber":"4"}200 _ result
body is {"txid":"36c12cbe64dfa38678a9b7f77a52f004d9bed974318ece430967be8e936e4449","status":"VALID","blockNumber":"4"}, code is 200
[1;32mOK: Chaincode reference_testchannel16560 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel16560> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel16560 reference_testchannel16560 '["range","testchannel16560"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel16560 reference_testchannel16560 '["range","testchannel16560"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode query -n reference_testchannel16560 -C testchannel16560 -c '{"Args":["range","testchannel16560"]}'
[{"key":"testchannel16560","value":"testchannel16560"}]
[1;32mOK: Chaincode reference_testchannel16560 invoked sucsessfuly.[m[m[m
Step 19_api: exit code 0
