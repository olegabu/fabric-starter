Arguments passed: cli,api org1 org2
Arguments required: Fabric test interface (cli|api|...)  First organization  Second organization
scenarioArgsParse: args required: 3 Fabric test interface (cli|api|...)  First organization  Second organization args passed: 3 cli,api org1 org2
NO_RED_OUTPUT=false ./create-channel.sh reference_testchannel11156 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh reference_testchannel11156 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 1_testchannel11156 Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: create-channel.sh reference_testchannel11156 org1 VERIFY: test-channel-exists.sh reference_testchannel11156 org1
[1;36m
Creating the [reference_testchannel11156] channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh reference_testchannel11156
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh reference_testchannel11156[m[m[m
example.com

Create channel org1 reference_testchannel11156
--2020-04-07 13:41:34--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:41:34--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:41:34--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:41:34--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-04-07 13:41:34.493 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-04-07 13:41:34.555 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-07 13:41:34.555 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-07 13:41:34.555 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-04-07 13:41:34.555 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-04-07 13:41:34.555 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-04-07 13:41:34.555 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-04-07 13:41:34.555 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-04-07 13:41:34.555 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-07 13:41:34.608 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-07 13:41:34.608 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-07 13:41:34.608 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-04-07 13:41:34.608 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-07 13:41:34.608 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-04-07 13:41:34.608 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-07 13:41:34.608 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-07 13:41:34.608 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-07 13:41:34.609 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-04-07 13:41:34.609 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-07 13:41:34.609 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-07 13:41:34.609 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-07 13:41:34.610 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-04-07 13:41:34.610 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-04-07 13:41:34.702 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID 'reference_testchannel11156' contains illegal characters
Execute: channel fetch config crypto-config/configtx/reference_testchannel11156.pb -o orderer.example.com:7050 -c reference_testchannel11156 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-07 13:41:34.774 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:41:34.775 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/reference_testchannel11156.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/reference_testchannel11156.json: No such file or directory
>> Prepare config update from org1 for channel reference_testchannel11156
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c reference_testchannel11156 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-07 13:41:34.950 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel2868' != 'reference_testchannel11156'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/03-add-join-test/fs_network_test.log for logs.[m[m[m
[1;35m
Verifing if the [reference_testchannel11156] channel exists in [org1.example.com][m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-07 13:41:36.005 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:41:36.007 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/filejK85zD _null_
Expect: reference_testchannel11156, got: null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/03-add-join-test/fs_network_test.log for logs.[m[m[m
Step 1_testchannel11156: exit code 1
NO_RED_OUTPUT=false ./create-channel.sh reference_testchannel11156-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh reference_testchannel11156-02 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 2_testchannel11156 Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: create-channel.sh reference_testchannel11156-02 org2 VERIFY: test-channel-exists.sh reference_testchannel11156-02 org2
[1;36m
Creating the [reference_testchannel11156-02] channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-create.sh reference_testchannel11156-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh reference_testchannel11156-02[m[m[m
example.com

Create channel org2 reference_testchannel11156-02
--2020-04-07 13:41:38--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:41:38--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:41:38--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:41:38--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-04-07 13:41:38.402 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-04-07 13:41:38.456 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-07 13:41:38.456 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-07 13:41:38.456 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-04-07 13:41:38.456 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-04-07 13:41:38.456 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-04-07 13:41:38.456 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-04-07 13:41:38.456 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-04-07 13:41:38.456 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-07 13:41:38.517 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-07 13:41:38.517 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-07 13:41:38.518 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-04-07 13:41:38.518 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-07 13:41:38.518 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-04-07 13:41:38.518 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-07 13:41:38.518 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-07 13:41:38.518 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-07 13:41:38.518 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-04-07 13:41:38.518 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-07 13:41:38.519 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-07 13:41:38.519 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-07 13:41:38.519 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-04-07 13:41:38.519 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-04-07 13:41:38.578 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID 'reference_testchannel11156-02' contains illegal characters
Execute: channel fetch config crypto-config/configtx/reference_testchannel11156-02.pb -o orderer.example.com:7050 -c reference_testchannel11156-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-07 13:41:38.650 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:41:38.651 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/reference_testchannel11156-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/reference_testchannel11156-02.json: No such file or directory
>> Prepare config update from org2 for channel reference_testchannel11156-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c reference_testchannel11156-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-07 13:41:38.827 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel2868' != 'reference_testchannel11156-02'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/03-add-join-test/fs_network_test.log for logs.[m[m[m
[1;35m
Verifing if the [reference_testchannel11156-02] channel exists in [org2.example.com][m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-07 13:41:39.859 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:41:39.860 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/filepdWuJz _null_
Expect: reference_testchannel11156-02, got: null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/03-add-join-test/fs_network_test.log for logs.[m[m[m
Step 2_testchannel11156: exit code 1
NO_RED_OUTPUT=true ./add-org-to-channel.sh reference_testchannel11156 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh reference_testchannel11156 org1 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 3_testchannel11156 Test(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: add-org-to-channel.sh reference_testchannel11156 org1 org2 VERIFY: test-channel-add-org.sh reference_testchannel11156 org1 org2
[1;36m
Add [org2] to the [reference_testchannel11156] channel[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh reference_testchannel11156 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh reference_testchannel11156 org2 7051 example.com[m[m[m
--2020-04-07 13:41:41--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.19.0.14
Connecting to www.org2.example.com (www.org2.example.com)|172.19.0.14|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:41:42--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.19.0.14
Connecting to www.org2.example.com (www.org2.example.com)|172.19.0.14|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:41:42--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.19.0.14
Connecting to www.org2.example.com (www.org2.example.com)|172.19.0.14|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel reference_testchannel11156, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/reference_testchannel11156.pb -o orderer.example.com:7050 -c reference_testchannel11156 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-07 13:41:42.081 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:41:42.083 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/reference_testchannel11156.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/reference_testchannel11156.json: No such file or directory
>> Prepare config update from org2 for channel reference_testchannel11156
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c reference_testchannel11156 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-07 13:41:42.275 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel2868' != 'reference_testchannel11156'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/03-add-join-test/fs_network_test.log for logs.[m[m[m
[1;35m
Verifing if the [org2] added to [reference_testchannel11156][m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-07 13:41:43.363 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:41:43.365 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/file0Eogpi _null_
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/03-add-join-test/fs_network_test.log for logs.[m[m[m
Step 3_testchannel11156: exit code 1
NO_RED_OUTPUT=true ./add-org-to-channel.sh reference_testchannel11156-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh reference_testchannel11156-02 org2 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 4_testchannel11156 Test(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: add-org-to-channel.sh reference_testchannel11156-02 org2 org1 VERIFY: test-channel-add-org.sh reference_testchannel11156-02 org2 org1
[1;36m
Add [org1] to the [reference_testchannel11156-02] channel[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-add-org.sh reference_testchannel11156-02 org1
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh reference_testchannel11156-02 org1 7051 example.com[m[m[m
--2020-04-07 13:41:45--  http://www.org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.19.0.7
Connecting to www.org1.example.com (www.org1.example.com)|172.19.0.7|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:41:45--  http://www.org1.example.com/msp/cacerts/ca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.19.0.7
Connecting to www.org1.example.com (www.org1.example.com)|172.19.0.7|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/cacerts/ca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:41:45--  http://www.org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.19.0.7
Connecting to www.org1.example.com (www.org1.example.com)|172.19.0.7|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org1' to channel reference_testchannel11156-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/reference_testchannel11156-02.pb -o orderer.example.com:7050 -c reference_testchannel11156-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-07 13:41:45.881 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:41:45.882 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/reference_testchannel11156-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/reference_testchannel11156-02.json: No such file or directory
>> Prepare config update from org1 for channel reference_testchannel11156-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c reference_testchannel11156-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-07 13:41:46.063 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel2868' != 'reference_testchannel11156-02'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/03-add-join-test/fs_network_test.log for logs.[m[m[m
[1;35m
Verifing if the [org1] added to [reference_testchannel11156-02][m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-07 13:41:47.148 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:41:47.149 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileADpAab _null_
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/03-add-join-test/fs_network_test.log for logs.[m[m[m
Step 4_testchannel11156: exit code 1
NO_RED_OUTPUT=true ./join-channel.sh reference_testchannel11156 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh reference_testchannel11156 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 5_testchannel11156 Test(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: join-channel.sh reference_testchannel11156 org1 VERIFY: test-join-channel.sh reference_testchannel11156 org1
[1;36m
Joining [org1] to the [reference_testchannel11156] channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh reference_testchannel11156
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh reference_testchannel11156[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=420efdc77ac5
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-04-07 13:41:49--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:41:49--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:41:49--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:41:49--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org1 to channel reference_testchannel11156
Execute: channel fetch 0 crypto-config/configtx/reference_testchannel11156.pb -o orderer.example.com:7050 -c reference_testchannel11156 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-07 13:41:49.669 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:41:49.671 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
[34m2020-04-07 13:41:49.728 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: genesis block file not found open crypto-config/configtx/reference_testchannel11156.pb: no such file or directory
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/03-add-join-test/fs_network_test.log for logs.[m[m[m
[1;35m
Verifing if the [org1] has joined the [reference_testchannel11156] channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-07 13:41:50.714 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/03-add-join-test/fs_network_test.log for logs.[m[m[m
Step 5_testchannel11156: exit code 1
NO_RED_OUTPUT=true ./join-channel.sh reference_testchannel11156 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh reference_testchannel11156 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 6_testchannel11156 Test(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: join-channel.sh reference_testchannel11156 org2 VERIFY: test-join-channel.sh reference_testchannel11156 org2
[1;36m
Joining [org2] to the [reference_testchannel11156] channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-join.sh reference_testchannel11156
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh reference_testchannel11156[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:8051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=664e5c20791f
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-04-07 13:41:53--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:41:53--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:41:53--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:41:53--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel reference_testchannel11156
Execute: channel fetch 0 crypto-config/configtx/reference_testchannel11156.pb -o orderer.example.com:7050 -c reference_testchannel11156 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-07 13:41:53.187 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:41:53.189 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
[34m2020-04-07 13:41:53.250 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: genesis block file not found open crypto-config/configtx/reference_testchannel11156.pb: no such file or directory
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/03-add-join-test/fs_network_test.log for logs.[m[m[m
[1;35m
Verifing if the [org2] has joined the [reference_testchannel11156] channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-07 13:41:54.292 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/03-add-join-test/fs_network_test.log for logs.[m[m[m
Step 6_testchannel11156: exit code 1
NO_RED_OUTPUT=true ./join-channel.sh reference_testchannel11156-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh reference_testchannel11156-02 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 7_testchannel11156 Test(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: join-channel.sh reference_testchannel11156-02 org1 VERIFY: test-join-channel.sh reference_testchannel11156-02 org1
[1;36m
Joining [org1] to the [reference_testchannel11156-02] channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh reference_testchannel11156-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh reference_testchannel11156-02[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-07 13:41:55.707 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Step 7_testchannel11156: exit code 1
NO_RED_OUTPUT=true ./join-channel.sh reference_testchannel11156-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh reference_testchannel11156-02 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 8_testchannel11156 Test(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: join-channel.sh reference_testchannel11156-02 org2 VERIFY: test-join-channel.sh reference_testchannel11156-02 org2
Arguments passed: cli,api org1 org2
Arguments required: Fabric test interface (cli|api|...)  First organization  Second organization
scenarioArgsParse: args required: 3 Fabric test interface (cli|api|...)  First organization  Second organization args passed: 3 cli,api org1 org2
NO_RED_OUTPUT=false ./create-channel.sh reference_testchannel13045 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh reference_testchannel13045 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 1_testchannel13045 Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: create-channel.sh reference_testchannel13045 org1 VERIFY: test-channel-exists.sh reference_testchannel13045 org1
[1;36m
Creating the [reference_testchannel13045] channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh reference_testchannel13045
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh reference_testchannel13045[m[m[m
example.com

Create channel org1 reference_testchannel13045
--2020-04-07 13:42:26--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:42:26--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:42:26--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:42:26--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-04-07 13:42:26.259 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-04-07 13:42:26.313 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-07 13:42:26.313 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-07 13:42:26.313 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-04-07 13:42:26.313 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-04-07 13:42:26.313 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-04-07 13:42:26.313 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-04-07 13:42:26.314 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-04-07 13:42:26.314 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-07 13:42:26.365 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-07 13:42:26.365 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-07 13:42:26.365 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-04-07 13:42:26.365 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-07 13:42:26.365 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-04-07 13:42:26.365 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-07 13:42:26.365 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-07 13:42:26.365 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-07 13:42:26.366 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-04-07 13:42:26.366 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-07 13:42:26.366 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-07 13:42:26.366 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-07 13:42:26.366 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-04-07 13:42:26.366 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-04-07 13:42:26.431 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID 'reference_testchannel13045' contains illegal characters
Execute: channel fetch config crypto-config/configtx/reference_testchannel13045.pb -o orderer.example.com:7050 -c reference_testchannel13045 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-07 13:42:26.524 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:42:26.527 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/reference_testchannel13045.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/reference_testchannel13045.json: No such file or directory
>> Prepare config update from org1 for channel reference_testchannel13045
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c reference_testchannel13045 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-07 13:42:26.704 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel2868' != 'reference_testchannel13045'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/03-add-join-test/fs_network_test.log for logs.[m[m[m
[1;35m
Verifing if the [reference_testchannel13045] channel exists in [org1.example.com][m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-07 13:42:27.706 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:42:27.708 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/file9zrmmB _null_
Expect: reference_testchannel13045, got: null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/03-add-join-test/fs_network_test.log for logs.[m[m[m
Step 1_testchannel13045: exit code 1
NO_RED_OUTPUT=false ./create-channel.sh reference_testchannel13045-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh reference_testchannel13045-02 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 2_testchannel13045 Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: create-channel.sh reference_testchannel13045-02 org2 VERIFY: test-channel-exists.sh reference_testchannel13045-02 org2
[1;36m
Creating the [reference_testchannel13045-02] channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-create.sh reference_testchannel13045-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh reference_testchannel13045-02[m[m[m
example.com

Create channel org2 reference_testchannel13045-02
--2020-04-07 13:42:29--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:42:29--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:42:29--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:42:29--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-04-07 13:42:29.972 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-04-07 13:42:30.027 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-07 13:42:30.027 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-07 13:42:30.027 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-04-07 13:42:30.027 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-04-07 13:42:30.027 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-04-07 13:42:30.028 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-04-07 13:42:30.028 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-04-07 13:42:30.028 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-07 13:42:30.082 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-07 13:42:30.082 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-07 13:42:30.082 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-04-07 13:42:30.082 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-07 13:42:30.082 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-04-07 13:42:30.082 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-07 13:42:30.082 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-07 13:42:30.083 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-07 13:42:30.083 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-04-07 13:42:30.083 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-07 13:42:30.083 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-07 13:42:30.084 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-07 13:42:30.084 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-04-07 13:42:30.085 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-04-07 13:42:30.154 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID 'reference_testchannel13045-02' contains illegal characters
Execute: channel fetch config crypto-config/configtx/reference_testchannel13045-02.pb -o orderer.example.com:7050 -c reference_testchannel13045-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-07 13:42:30.227 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:42:30.228 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/reference_testchannel13045-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/reference_testchannel13045-02.json: No such file or directory
>> Prepare config update from org2 for channel reference_testchannel13045-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c reference_testchannel13045-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-07 13:42:30.398 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel2868' != 'reference_testchannel13045-02'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/03-add-join-test/fs_network_test.log for logs.[m[m[m
[1;35m
Verifing if the [reference_testchannel13045-02] channel exists in [org2.example.com][m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-07 13:42:31.493 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:42:31.496 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/filei69eRq _null_
Expect: reference_testchannel13045-02, got: null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/03-add-join-test/fs_network_test.log for logs.[m[m[m
Step 2_testchannel13045: exit code 1
NO_RED_OUTPUT=true ./add-org-to-channel.sh reference_testchannel13045 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh reference_testchannel13045 org1 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 3_testchannel13045 Test(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: add-org-to-channel.sh reference_testchannel13045 org1 org2 VERIFY: test-channel-add-org.sh reference_testchannel13045 org1 org2
[1;36m
Add [org2] to the [reference_testchannel13045] channel[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh reference_testchannel13045 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh reference_testchannel13045 org2 7051 example.com[m[m[m
^C[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/03-add-join-test/fs_network_test.log for logs.[m[m[m
[1;35m
Verifing if the [org2] added to [reference_testchannel13045][m[m[m
queryContainerNetworkSettings returns: 8051
Arguments passed: cli org1 org2
Arguments required: Fabric test interface (cli|api|...)  First organization  Second organization
scenarioArgsParse: args required: 3 Fabric test interface (cli|api|...)  First organization  Second organization args passed: 3 cli org1 org2
NO_RED_OUTPUT=false ./create-channel.sh testchannel3190 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel3190 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 1_cli Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: create-channel.sh testchannel3190 org1 VERIFY: test-channel-exists.sh testchannel3190 org1
[1;36m
Creating the [testchannel3190] channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel3190
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel3190[m[m[m
example.com

Create channel org1 testchannel3190
--2020-04-07 13:45:12--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:45:12--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:45:12--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:45:12--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-04-07 13:45:12.406 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-04-07 13:45:12.457 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-07 13:45:12.457 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-07 13:45:12.457 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-04-07 13:45:12.457 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-04-07 13:45:12.457 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-04-07 13:45:12.457 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-04-07 13:45:12.457 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-04-07 13:45:12.457 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-07 13:45:12.528 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-07 13:45:12.528 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-07 13:45:12.528 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-04-07 13:45:12.528 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-07 13:45:12.528 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-04-07 13:45:12.528 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-07 13:45:12.528 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-07 13:45:12.529 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-07 13:45:12.530 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-04-07 13:45:12.530 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-07 13:45:12.530 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-07 13:45:12.531 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-07 13:45:12.532 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-04-07 13:45:12.532 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-04-07 13:45:12.610 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:45:12.647 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel3190.pb -o orderer.example.com:7050 -c testchannel3190 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-07 13:45:12.748 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:45:12.750 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-04-07 13:45:12.751 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-04-07 13:45:12.751 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel3190
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel3190 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-07 13:45:13.117 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:45:13.127 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel [testchannel3190] creation run sucsessfuly.[m[m[m
[1;35m
Verifing if the [testchannel3190] channel exists in [org1.example.com][m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-07 13:45:14.113 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:45:14.115 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-04-07 13:45:14.116 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-04-07 13:45:14.116 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel3190",
"epoch": "0",
"extension": null,
"timestamp": "2020-04-07T13:45:13Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileQEkdcL _testchannel3190_
Expect: testchannel3190, got: testchannel3190
[1;32mOK: The channel [testchannel3190] exists and visible to [org1][m[m[m
Step 1_cli: exit code 0
NO_RED_OUTPUT=false ./create-channel.sh testchannel3190-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel3190-02 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 2_cli Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: create-channel.sh testchannel3190-02 org2 VERIFY: test-channel-exists.sh testchannel3190-02 org2
[1;36m
Creating the [testchannel3190-02] channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-create.sh testchannel3190-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel3190-02[m[m[m
example.com

Create channel org2 testchannel3190-02
--2020-04-07 13:45:16--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:45:16--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:45:16--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:45:16--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-04-07 13:45:16.499 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-04-07 13:45:16.560 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-07 13:45:16.560 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-07 13:45:16.560 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-04-07 13:45:16.560 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-04-07 13:45:16.560 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-04-07 13:45:16.560 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-04-07 13:45:16.561 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-04-07 13:45:16.561 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-07 13:45:16.614 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-07 13:45:16.614 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-07 13:45:16.614 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-04-07 13:45:16.614 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-07 13:45:16.614 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-04-07 13:45:16.614 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-07 13:45:16.614 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-07 13:45:16.614 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-07 13:45:16.615 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-04-07 13:45:16.615 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-07 13:45:16.615 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-07 13:45:16.615 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-07 13:45:16.616 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-04-07 13:45:16.616 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-04-07 13:45:16.673 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:45:16.705 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel3190-02.pb -o orderer.example.com:7050 -c testchannel3190-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-07 13:45:16.783 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:45:16.785 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-04-07 13:45:16.786 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-04-07 13:45:16.786 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org2 for channel testchannel3190-02
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel3190-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-07 13:45:17.100 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:45:17.110 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel [testchannel3190-02] creation run sucsessfuly.[m[m[m
[1;35m
Verifing if the [testchannel3190-02] channel exists in [org2.example.com][m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-07 13:45:18.135 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:45:18.137 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-04-07 13:45:18.138 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-04-07 13:45:18.138 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel3190-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-04-07T13:45:17Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileHNjd5V _testchannel3190-02_
Expect: testchannel3190-02, got: testchannel3190-02
[1;32mOK: The channel [testchannel3190-02] exists and visible to [org2][m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true ./add-org-to-channel.sh testchannel3190 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel3190 org1 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 3_cli Test(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel3190 org1 org2 VERIFY: test-channel-add-org.sh testchannel3190 org1 org2
[1;36m
Add [org2] to the [testchannel3190] channel[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel3190 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel3190 org2 7051 example.com[m[m[m
--2020-04-07 13:45:20--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.19.0.14
Connecting to www.org2.example.com (www.org2.example.com)|172.19.0.14|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:45:20--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.19.0.14
Connecting to www.org2.example.com (www.org2.example.com)|172.19.0.14|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:45:20--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.19.0.14
Connecting to www.org2.example.com (www.org2.example.com)|172.19.0.14|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel3190, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel3190.pb -o orderer.example.com:7050 -c testchannel3190 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-07 13:45:20.760 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:45:20.762 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-04-07 13:45:20.763 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-04-07 13:45:20.763 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel3190
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel3190 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-07 13:45:21.081 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:45:21.094 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization [org2] added to [testchannel3190] channel[m[m[m
[1;35m
Verifing if the [org2] added to [testchannel3190][m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-07 13:45:22.217 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:45:22.219 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-04-07 13:45:22.220 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-04-07 13:45:22.220 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQU03TW1PSzF2WUdLMiszS2ZZcW5oam93Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekl1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TkRBMk1EYzBPVEF3V2hjTk16QXdOREEwTURjME9UQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1pNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQkJwc2ZEQ2NHRXZPenVsTTF2L2FyYkdyVlA5TEtzaVkKRU1TcWVrNEpxSFQwdXBMWmU0YWxzRkxJME4zRi92NDJQU1ZJTk85N3ZST3JtanplYWRUdExXV2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUhDaENPK1RsbHB2CmVKSWc5TzQwQlBpWFlSQnpYRDcreEdIZ1lGKy93K2hXTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUJjYzJMbWkKQUtxbVMrQytCV0xSRGVqU2o0RlloQk12Y05IYlBJQnAxSUZKQWlBYzZVOThHNitOZ3ZKWWZrNlNobmQ3L2IrWgpiUHdsa3l3K3dIQVptQW9WcGc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZlZ0F3SUJBZ0lRZEJYMjJrdTVnZW1QU1FqeHRUNldXREFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREEwTURZd056UTVNREJhRncwek1EQTBNRFF3TnpRNU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKelMrWk1JZjZoNHB1dVUxYjluanFzNFZ3WVQ4YStIMlN5TXYwUDN5T25jY2ptd0VSaTFOUStVMkZYVTBkcFBJVgpjOTVFWFYwbDNGTStHbVMzUkM2OXZLTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQncKb1Fqdms1WmFiM2lTSVBUdU5BVDRsMkVRYzF3Ky9zUmg0R0JmdjhQb1ZqQUtCZ2dxaGtqT1BRUURBZ05JQURCRgpBaUVBeXlHYlBlNG5HZkR2QmJ2STZlYVJVZzN1OG15ekRHT1pQS1p2WmE5bWxVUUNJSDhiOVkzUkthSTEwUXJFCk5PRUZld1RqRi9vM2xDei92U1VqZWJRN0xIT1IKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU5ManpNdVpEZXU2S0hhdGF0RUNTYWN3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpJdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd05EQTJNRGMwT1RBd1doY05NekF3TkRBME1EYzAKT1RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCSzdqVEFabVF1UlJkUTlGZ0dpa3FheUhDdjVWeWx6WmxvSVdtQUE2eFFENGgvS1NlWHNzTTZQVQo2YjZ3dGREOVRCN3BCUnVxNm8zYWQzVm80OEJObVdpamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWcrZTBSQjJBcTNHMXZpQjFLYzBnWWJNOEt3TmZDVUh6S0VwYzJkbzcvT2U4d0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdOU0NCbnMrc1ZZQkh4dTBCTlJNZFJlOFF5K2tiams1NmhFUkwyUWkyU3BjQ0lIV3c5WXdSCktqdVhySHNZSUlvcW5iSllsUHhWenVLdmhpVXM4RnZJVDF5ZgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileSfQTh1 _org2_
org2
[1;32mOK: Organization [org2] is in the channel [testchannel3190][m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true ./add-org-to-channel.sh testchannel3190-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel3190-02 org2 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 4_cli Test(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel3190-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel3190-02 org2 org1
[1;36m
Add [org1] to the [testchannel3190-02] channel[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-add-org.sh testchannel3190-02 org1
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel3190-02 org1 7051 example.com[m[m[m
--2020-04-07 13:45:24--  http://www.org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.19.0.7
Connecting to www.org1.example.com (www.org1.example.com)|172.19.0.7|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:45:24--  http://www.org1.example.com/msp/cacerts/ca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.19.0.7
Connecting to www.org1.example.com (www.org1.example.com)|172.19.0.7|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/cacerts/ca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:45:24--  http://www.org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.19.0.7
Connecting to www.org1.example.com (www.org1.example.com)|172.19.0.7|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org1' to channel testchannel3190-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel3190-02.pb -o orderer.example.com:7050 -c testchannel3190-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-07 13:45:24.891 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:45:24.892 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-04-07 13:45:24.894 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-04-07 13:45:24.894 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org1 for channel testchannel3190-02
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel3190-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-07 13:45:25.213 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:45:25.226 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization [org1] added to [testchannel3190-02] channel[m[m[m
[1;35m
Verifing if the [org1] added to [testchannel3190-02][m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-07 13:45:26.177 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:45:26.179 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-04-07 13:45:26.180 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-04-07 13:45:26.180 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWIrZ0F3SUJBZ0lRUW9CV1ArRElsWUVBcHJrRlU0RDYvREFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NUzVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREEwTURZd056UTVNREJhRncwek1EQTBNRFF3TnpRNU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeExtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFWnVucGhMNnpWUWpZUGtKR2xrRko0RTJObDEzRkh0aUQKQTEvd0lCV1BqdUJZVkNhcmJsVjh0M3ZEbHZjVE10SmdKWnl3QVExUnJrRitMbURvbDVHMGpxTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnUGlBQUVOZGRqZmVTCmMzS00vMm42QkpmWjM5Vndhb21KRmx2MjRMaS9qb1V3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQU1IY2dmUWwKNlFJQi9oNU5jeVpRaU5GS2RUTDdjT0lZVnk5Szdod1FXbDBuQWlBelJnaHQySGpPUmtQTEpNclJYWk5ORHUyYQpnZkY3QXpzYjZYeWlLOGZ4T0E9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVakNDQWZpZ0F3SUJBZ0lSQU9QeTVWUWJtMzFhUVZLQlVFQXUzR2N3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TkRBMk1EYzBPVEF3V2hjTk16QXdOREEwTURjME9UQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQkJaK3JLeWROOVpHeEFqNGFjY0VUOUFZTDRaR2ZKTzZMOTBPM3VWTTcyMUhWR1ZhY1VvdjBEaHp4dnVMREpsZgpzejlNYjduUlBnaFdJRm1yWUREVnhNV2piVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKUGlBQUVOZGRqZmVTYzNLTS8ybjZCSmZaMzlWd2FvbUpGbHYyNExpL2pvVXdDZ1lJS29aSXpqMEVBd0lEU0FBdwpSUUloQUt4S1NldEtReUZHQmpyMWhUZHRPY1VFMmZ0VWNZSkpiM2lZbDBxaklkWkZBaUJ0S1RzUjNHNGZyalRXCk1hMWhNZkRqVGpKTlVIYitEa2k1ZjYwYXlOMnBCQT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRTkxCdXlwUk14c1NPN2piczFSUkV0akFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBME1EWXdOelE1TURCYUZ3MHpNREEwTURRd056UTUKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN4TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN4TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVCS1VDQVErblczbnNlNmN0cFRYcGhSZEZTRXJXTmpzR2RiWWZ4STRVajZ5SzhZcVUvdUw3S0ZabQpYR01uK0g1YkxUNnJUT3ByT3llckRvTjNZRXFWNnFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDREMxWjVIMUhnR1JiNnduZG9NVFZNN0ErNHVMYm84RGNoMVJSc09hbXBnQURBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFuUFIxQmljd1JxaU00VXhEcWlaaXRscmRHajdBVUtMM2RVTDRGbGZ4c3FrQ0lHZ0JEREpSCjFXVHQrN255d09SZWo1cEU1d01UVXNhOStrbGJjUUlrTXB6aQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/filearuGAj _org1_
org1
[1;32mOK: Organization [org1] is in the channel [testchannel3190-02][m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=true ./join-channel.sh testchannel3190 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel3190 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 5_cli Test(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: join-channel.sh testchannel3190 org1 VERIFY: test-join-channel.sh testchannel3190 org1
[1;36m
Joining [org1] to the [testchannel3190] channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel3190
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel3190[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=8d97fb462377
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-04-07 13:45:28--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:45:28--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:45:28--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:45:28--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org1 to channel testchannel3190
Execute: channel fetch 0 crypto-config/configtx/testchannel3190.pb -o orderer.example.com:7050 -c testchannel3190 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-07 13:45:28.765 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:45:28.767 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-04-07 13:45:28.826 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:45:28.953 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization [org1] joined to [testchannel3190] channel[m[m[m
[1;35m
Verifing if the [org1] has joined the [testchannel3190] channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-07 13:45:30.095 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The [org1] has joined the [testchannel3190] channel[m[m[m
Step 5_cli: exit code 0
NO_RED_OUTPUT=true ./join-channel.sh testchannel3190 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel3190 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 6_cli Test(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: join-channel.sh testchannel3190 org2 VERIFY: test-join-channel.sh testchannel3190 org2
[1;36m
Joining [org2] to the [testchannel3190] channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-join.sh testchannel3190
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel3190[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:8051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=757049486db6
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-04-07 13:45:32--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:45:32--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:45:32--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:45:32--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel3190
Execute: channel fetch 0 crypto-config/configtx/testchannel3190.pb -o orderer.example.com:7050 -c testchannel3190 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-07 13:45:32.395 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:45:32.396 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-04-07 13:45:32.456 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:45:32.617 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization [org2] joined to [testchannel3190] channel[m[m[m
[1;35m
Verifing if the [org2] has joined the [testchannel3190] channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-07 13:45:33.732 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The [org2] has joined the [testchannel3190] channel[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true ./join-channel.sh testchannel3190-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel3190-02 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 7_cli Test(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: join-channel.sh testchannel3190-02 org1 VERIFY: test-join-channel.sh testchannel3190-02 org1
[1;36m
Joining [org1] to the [testchannel3190-02] channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel3190-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel3190-02[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=a74bbce157c4
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-04-07 13:45:36--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:45:36--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:45:36--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:45:36--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org1 to channel testchannel3190-02
Execute: channel fetch 0 crypto-config/configtx/testchannel3190-02.pb -o orderer.example.com:7050 -c testchannel3190-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-07 13:45:36.265 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:45:36.267 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-04-07 13:45:36.325 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:45:36.459 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization [org1] joined to [testchannel3190-02] channel[m[m[m
[1;35m
Verifing if the [org1] has joined the [testchannel3190-02] channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-07 13:45:37.512 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The [org1] has joined the [testchannel3190-02] channel[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=true ./join-channel.sh testchannel3190-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel3190-02 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 8_cli Test(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: join-channel.sh testchannel3190-02 org2 VERIFY: test-join-channel.sh testchannel3190-02 org2
[1;36m
Joining [org2] to the [testchannel3190-02] channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-join.sh testchannel3190-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel3190-02[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:8051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=c6acb1b6c043
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-04-07 13:45:39--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:45:39--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:45:39--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-07 13:45:39--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel3190-02
Execute: channel fetch 0 crypto-config/configtx/testchannel3190-02.pb -o orderer.example.com:7050 -c testchannel3190-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-07 13:45:39.950 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:45:39.953 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-04-07 13:45:40.014 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:45:40.217 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization [org2] joined to [testchannel3190-02] channel[m[m[m
[1;35m
Verifing if the [org2] has joined the [testchannel3190-02] channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-07 13:45:41.295 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The [org2] has joined the [testchannel3190-02] channel[m[m[m
Step 8_cli: exit code 0
Arguments passed: api org1 org2
Arguments required: Fabric test interface (cli|api|...)  First organization  Second organization
scenarioArgsParse: args required: 3 Fabric test interface (cli|api|...)  First organization  Second organization args passed: 3 api org1 org2
NO_RED_OUTPUT=false ./create-channel.sh testchannel12071 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel12071 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 1_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: create-channel.sh testchannel12071 org1 VERIFY: test-channel-exists.sh testchannel12071 org1
[1;36mCreating [testchannel12071] channel in [org1.example.com] using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzI2M30.epUB6qGO-3o5AtawtCyATeyNd9qbCvflxGmt3mF7Q04"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzI2M30.epUB6qGO-3o5AtawtCyATeyNd9qbCvflxGmt3mF7Q04", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzI2M30.epUB6qGO-3o5AtawtCyATeyNd9qbCvflxGmt3mF7Q04
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel12071","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzI2M30.epUB6qGO-3o5AtawtCyATeyNd9qbCvflxGmt3mF7Q04
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel [testchannel12071] creation run sucsessfuly.[m[m[m
[1;35m
Verifing if the [testchannel12071] channel exists in [org1.example.com][m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-07 13:47:45.916 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:47:45.919 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-04-07 13:47:45.920 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-04-07 13:47:45.920 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel12071",
"epoch": "0",
"extension": null,
"timestamp": "2020-04-07T13:47:44Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileuDmCNl _testchannel12071_
Expect: testchannel12071, got: testchannel12071
[1;32mOK: The channel [testchannel12071] exists and visible to [org1][m[m[m
Step 1_api: exit code 0
NO_RED_OUTPUT=false ./create-channel.sh testchannel12071-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel12071-02 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 2_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: create-channel.sh testchannel12071-02 org2 VERIFY: test-channel-exists.sh testchannel12071-02 org2
[1;36mCreating [testchannel12071-02] channel in [org2.example.com] using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzI2Nn0.b6fcd7Gwubo_q6KNhxg8bNOPt5E0JYPpA97xxzChkOw"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzI2Nn0.b6fcd7Gwubo_q6KNhxg8bNOPt5E0JYPpA97xxzChkOw", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzI2Nn0.b6fcd7Gwubo_q6KNhxg8bNOPt5E0JYPpA97xxzChkOw
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel12071-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzI2Nn0.b6fcd7Gwubo_q6KNhxg8bNOPt5E0JYPpA97xxzChkOw
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}}}] 200
[1;32mOK: Channel [testchannel12071-02] creation run sucsessfuly.[m[m[m
[1;35m
Verifing if the [testchannel12071-02] channel exists in [org2.example.com][m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-07 13:47:48.598 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:47:48.601 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-04-07 13:47:48.603 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-04-07 13:47:48.603 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel12071-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-04-07T13:47:47Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileKjhREW _testchannel12071-02_
Expect: testchannel12071-02, got: testchannel12071-02
[1;32mOK: The channel [testchannel12071-02] exists and visible to [org2][m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true ./add-org-to-channel.sh testchannel12071 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel12071 org1 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 3_api Test(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel12071 org1 org2 VERIFY: test-channel-add-org.sh testchannel12071 org1 org2
[1;36mAdd [org2] to the [testchannel12071] channel using API[m[m[m
[1;36mAdd [org2] to the [testchannel12071] channel using API[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzI2OX0.QqW2WX3nkNG61o2YfCG6G-HRVECkkdAM4paJDY7kLFg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzI2OX0.QqW2WX3nkNG61o2YfCG6G-HRVECkkdAM4paJDY7kLFg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzI2OX0.QqW2WX3nkNG61o2YfCG6G-HRVECkkdAM4paJDY7kLFg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel12071/orgs {"orgId":"org2","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzI2OX0.QqW2WX3nkNG61o2YfCG6G-HRVECkkdAM4paJDY7kLFg
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization [org2] added to [testchannel12071] channel[m[m[m
[1;35m
Verifing if the [org2] added to [testchannel12071][m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-07 13:47:51.593 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:47:51.596 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-04-07 13:47:51.597 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-04-07 13:47:51.598 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQU03TW1PSzF2WUdLMiszS2ZZcW5oam93Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekl1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TkRBMk1EYzBPVEF3V2hjTk16QXdOREEwTURjME9UQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1pNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQkJwc2ZEQ2NHRXZPenVsTTF2L2FyYkdyVlA5TEtzaVkKRU1TcWVrNEpxSFQwdXBMWmU0YWxzRkxJME4zRi92NDJQU1ZJTk85N3ZST3JtanplYWRUdExXV2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUhDaENPK1RsbHB2CmVKSWc5TzQwQlBpWFlSQnpYRDcreEdIZ1lGKy93K2hXTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUJjYzJMbWkKQUtxbVMrQytCV0xSRGVqU2o0RlloQk12Y05IYlBJQnAxSUZKQWlBYzZVOThHNitOZ3ZKWWZrNlNobmQ3L2IrWgpiUHdsa3l3K3dIQVptQW9WcGc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZlZ0F3SUJBZ0lRZEJYMjJrdTVnZW1QU1FqeHRUNldXREFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREEwTURZd056UTVNREJhRncwek1EQTBNRFF3TnpRNU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKelMrWk1JZjZoNHB1dVUxYjluanFzNFZ3WVQ4YStIMlN5TXYwUDN5T25jY2ptd0VSaTFOUStVMkZYVTBkcFBJVgpjOTVFWFYwbDNGTStHbVMzUkM2OXZLTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQncKb1Fqdms1WmFiM2lTSVBUdU5BVDRsMkVRYzF3Ky9zUmg0R0JmdjhQb1ZqQUtCZ2dxaGtqT1BRUURBZ05JQURCRgpBaUVBeXlHYlBlNG5HZkR2QmJ2STZlYVJVZzN1OG15ekRHT1pQS1p2WmE5bWxVUUNJSDhiOVkzUkthSTEwUXJFCk5PRUZld1RqRi9vM2xDei92U1VqZWJRN0xIT1IKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU5ManpNdVpEZXU2S0hhdGF0RUNTYWN3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpJdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd05EQTJNRGMwT1RBd1doY05NekF3TkRBME1EYzAKT1RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCSzdqVEFabVF1UlJkUTlGZ0dpa3FheUhDdjVWeWx6WmxvSVdtQUE2eFFENGgvS1NlWHNzTTZQVQo2YjZ3dGREOVRCN3BCUnVxNm8zYWQzVm80OEJObVdpamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWcrZTBSQjJBcTNHMXZpQjFLYzBnWWJNOEt3TmZDVUh6S0VwYzJkbzcvT2U4d0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdOU0NCbnMrc1ZZQkh4dTBCTlJNZFJlOFF5K2tiams1NmhFUkwyUWkyU3BjQ0lIV3c5WXdSCktqdVhySHNZSUlvcW5iSllsUHhWenVLdmhpVXM4RnZJVDF5ZgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileKG0jF6 _org2_
org2
[1;32mOK: Organization [org2] is in the channel [testchannel12071][m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true ./add-org-to-channel.sh testchannel12071-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel12071-02 org2 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 4_api Test(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel12071-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel12071-02 org2 org1
[1;36mAdd [org1] to the [testchannel12071-02] channel using API[m[m[m
[1;36mAdd [org1] to the [testchannel12071-02] channel using API[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzI3Mn0.A_uDiO86RMxqcsbjlLcrhIEfKP0d0mDONou_QHQvHyg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzI3Mn0.A_uDiO86RMxqcsbjlLcrhIEfKP0d0mDONou_QHQvHyg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzI3Mn0.A_uDiO86RMxqcsbjlLcrhIEfKP0d0mDONou_QHQvHyg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel12071-02/orgs {"orgId":"org1","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzI3Mn0.A_uDiO86RMxqcsbjlLcrhIEfKP0d0mDONou_QHQvHyg
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization [org1] added to [testchannel12071-02] channel[m[m[m
[1;35m
Verifing if the [org1] added to [testchannel12071-02][m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-07 13:47:55.138 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:47:55.147 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-04-07 13:47:55.149 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-04-07 13:47:55.149 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWIrZ0F3SUJBZ0lRUW9CV1ArRElsWUVBcHJrRlU0RDYvREFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NUzVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREEwTURZd056UTVNREJhRncwek1EQTBNRFF3TnpRNU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeExtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFWnVucGhMNnpWUWpZUGtKR2xrRko0RTJObDEzRkh0aUQKQTEvd0lCV1BqdUJZVkNhcmJsVjh0M3ZEbHZjVE10SmdKWnl3QVExUnJrRitMbURvbDVHMGpxTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnUGlBQUVOZGRqZmVTCmMzS00vMm42QkpmWjM5Vndhb21KRmx2MjRMaS9qb1V3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQU1IY2dmUWwKNlFJQi9oNU5jeVpRaU5GS2RUTDdjT0lZVnk5Szdod1FXbDBuQWlBelJnaHQySGpPUmtQTEpNclJYWk5ORHUyYQpnZkY3QXpzYjZYeWlLOGZ4T0E9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVakNDQWZpZ0F3SUJBZ0lSQU9QeTVWUWJtMzFhUVZLQlVFQXUzR2N3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TkRBMk1EYzBPVEF3V2hjTk16QXdOREEwTURjME9UQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQkJaK3JLeWROOVpHeEFqNGFjY0VUOUFZTDRaR2ZKTzZMOTBPM3VWTTcyMUhWR1ZhY1VvdjBEaHp4dnVMREpsZgpzejlNYjduUlBnaFdJRm1yWUREVnhNV2piVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKUGlBQUVOZGRqZmVTYzNLTS8ybjZCSmZaMzlWd2FvbUpGbHYyNExpL2pvVXdDZ1lJS29aSXpqMEVBd0lEU0FBdwpSUUloQUt4S1NldEtReUZHQmpyMWhUZHRPY1VFMmZ0VWNZSkpiM2lZbDBxaklkWkZBaUJ0S1RzUjNHNGZyalRXCk1hMWhNZkRqVGpKTlVIYitEa2k1ZjYwYXlOMnBCQT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRTkxCdXlwUk14c1NPN2piczFSUkV0akFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBME1EWXdOelE1TURCYUZ3MHpNREEwTURRd056UTUKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN4TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN4TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVCS1VDQVErblczbnNlNmN0cFRYcGhSZEZTRXJXTmpzR2RiWWZ4STRVajZ5SzhZcVUvdUw3S0ZabQpYR01uK0g1YkxUNnJUT3ByT3llckRvTjNZRXFWNnFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDREMxWjVIMUhnR1JiNnduZG9NVFZNN0ErNHVMYm84RGNoMVJSc09hbXBnQURBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFuUFIxQmljd1JxaU00VXhEcWlaaXRscmRHajdBVUtMM2RVTDRGbGZ4c3FrQ0lHZ0JEREpSCjFXVHQrN255d09SZWo1cEU1d01UVXNhOStrbGJjUUlrTXB6aQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/filevx8w0V _org1_
org1
[1;32mOK: Organization [org1] is in the channel [testchannel12071-02][m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=true ./join-channel.sh testchannel12071 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel12071 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 5_api Test(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: join-channel.sh testchannel12071 org1 VERIFY: test-join-channel.sh testchannel12071 org1
[1;36mJoining org1.example.com to the [testchannel12071] channel using API...[m[m[m
[1;36mJoining org1.example.com to the [testchannel12071] channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzI3NX0.QLMYw_BoW1NVAzlArJqtHxhHeYKrpnIcIFUYpiGtnaY"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzI3NX0.QLMYw_BoW1NVAzlArJqtHxhHeYKrpnIcIFUYpiGtnaY", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzI3NX0.QLMYw_BoW1NVAzlArJqtHxhHeYKrpnIcIFUYpiGtnaY
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel12071 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzI3NX0.QLMYw_BoW1NVAzlArJqtHxhHeYKrpnIcIFUYpiGtnaY
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/03-add-join-test/fs_network_test.log for logs.[m[m[m
[1;35m
Verifing if the [org1] has joined the [testchannel12071] channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-07 13:47:57.008 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The [org1] has joined the [testchannel12071] channel[m[m[m
Step 5_api: exit code 0
NO_RED_OUTPUT=true ./join-channel.sh testchannel12071 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel12071 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 6_api Test(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: join-channel.sh testchannel12071 org2 VERIFY: test-join-channel.sh testchannel12071 org2
[1;36mJoining org2.example.com to the [testchannel12071] channel using API...[m[m[m
[1;36mJoining org2.example.com to the [testchannel12071] channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzI3N30.cBfZT4dJbtpucuSzW-Vm7FEVnblQ5qaiV7Wq6ng0Vrg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzI3N30.cBfZT4dJbtpucuSzW-Vm7FEVnblQ5qaiV7Wq6ng0Vrg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzI3N30.cBfZT4dJbtpucuSzW-Vm7FEVnblQ5qaiV7Wq6ng0Vrg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel12071 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzI3N30.cBfZT4dJbtpucuSzW-Vm7FEVnblQ5qaiV7Wq6ng0Vrg
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/03-add-join-test/fs_network_test.log for logs.[m[m[m
[1;35m
Verifing if the [org2] has joined the [testchannel12071] channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-07 13:48:08.152 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The [org2] has joined the [testchannel12071] channel[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true ./join-channel.sh testchannel12071-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel12071-02 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 7_api Test(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: join-channel.sh testchannel12071-02 org1 VERIFY: test-join-channel.sh testchannel12071-02 org1
[1;36mJoining org1.example.com to the [testchannel12071-02] channel using API...[m[m[m
[1;36mJoining org1.example.com to the [testchannel12071-02] channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzI4OH0.hs6y6l21NdRh_AV8rhk08y7qrTzFVSQK9RV-hHATqQQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzI4OH0.hs6y6l21NdRh_AV8rhk08y7qrTzFVSQK9RV-hHATqQQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzI4OH0.hs6y6l21NdRh_AV8rhk08y7qrTzFVSQK9RV-hHATqQQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel12071-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzI4OH0.hs6y6l21NdRh_AV8rhk08y7qrTzFVSQK9RV-hHATqQQ
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/03-add-join-test/fs_network_test.log for logs.[m[m[m
[1;35m
Verifing if the [org1] has joined the [testchannel12071-02] channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-07 13:48:19.271 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The [org1] has joined the [testchannel12071-02] channel[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=true ./join-channel.sh testchannel12071-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel12071-02 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 8_api Test(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: join-channel.sh testchannel12071-02 org2 VERIFY: test-join-channel.sh testchannel12071-02 org2
[1;36mJoining org2.example.com to the [testchannel12071-02] channel using API...[m[m[m
[1;36mJoining org2.example.com to the [testchannel12071-02] channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzI5OX0.Oq1ZBrf8zXXrouc5eReH1bEsIZnprGhyoZwo3rvu7ZY"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzI5OX0.Oq1ZBrf8zXXrouc5eReH1bEsIZnprGhyoZwo3rvu7ZY", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzI5OX0.Oq1ZBrf8zXXrouc5eReH1bEsIZnprGhyoZwo3rvu7ZY
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel12071-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzI5OX0.Oq1ZBrf8zXXrouc5eReH1bEsIZnprGhyoZwo3rvu7ZY
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/03-add-join-test/fs_network_test.log for logs.[m[m[m
[1;35m
Verifing if the [org2] has joined the [testchannel12071-02] channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-07 13:48:21.004 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The [org2] has joined the [testchannel12071-02] channel[m[m[m
Step 8_api: exit code 0
Arguments passed: api org1 org2
Arguments required: Fabric test interface (cli|api|...)  First organization  Second organization
scenarioArgsParse: args required: 3 Fabric test interface (cli|api|...)  First organization  Second organization args passed: 3 api org1 org2
NO_RED_OUTPUT=false ./create-channel.sh testchannel27485 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel27485 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 1_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: create-channel.sh testchannel27485 org1 VERIFY: test-channel-exists.sh testchannel27485 org1
[1;36mCreating [testchannel27485] channel in [org1.example.com] using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzgxNn0.2JkV7hlqLIIzHmOCEvlVd6kJxoWXBQiusTG6pFw0kyw"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzgxNn0.2JkV7hlqLIIzHmOCEvlVd6kJxoWXBQiusTG6pFw0kyw", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzgxNn0.2JkV7hlqLIIzHmOCEvlVd6kJxoWXBQiusTG6pFw0kyw
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel27485","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzgxNn0.2JkV7hlqLIIzHmOCEvlVd6kJxoWXBQiusTG6pFw0kyw
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel [testchannel27485] creation run sucsessfuly.[m[m[m
[1;35m
Verifing if the [testchannel27485] channel exists in [org1.example.com][m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-07 13:56:58.262 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:56:58.264 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-04-07 13:56:58.265 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-04-07 13:56:58.265 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel27485",
"epoch": "0",
"extension": null,
"timestamp": "2020-04-07T13:56:57Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filem3PbP2 _testchannel27485_
Expect: testchannel27485, got: testchannel27485
[1;32mOK: The channel [testchannel27485] exists and visible to [org1][m[m[m
Step 1_api: exit code 0
NO_RED_OUTPUT=false ./create-channel.sh testchannel27485-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel27485-02 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 2_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: create-channel.sh testchannel27485-02 org2 VERIFY: test-channel-exists.sh testchannel27485-02 org2
[1;36mCreating [testchannel27485-02] channel in [org2.example.com] using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzgxOH0.GfubNphIPMG0q80DklPg2g7TzEavSurE-EYbXFkLTJo"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzgxOH0.GfubNphIPMG0q80DklPg2g7TzEavSurE-EYbXFkLTJo", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzgxOH0.GfubNphIPMG0q80DklPg2g7TzEavSurE-EYbXFkLTJo
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel27485-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzgxOH0.GfubNphIPMG0q80DklPg2g7TzEavSurE-EYbXFkLTJo
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}}}] 200
[1;32mOK: Channel [testchannel27485-02] creation run sucsessfuly.[m[m[m
[1;35m
Verifing if the [testchannel27485-02] channel exists in [org2.example.com][m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-07 13:57:01.023 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:57:01.025 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-04-07 13:57:01.029 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-04-07 13:57:01.029 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel27485-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-04-07T13:56:59Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filevnTFML _testchannel27485-02_
Expect: testchannel27485-02, got: testchannel27485-02
[1;32mOK: The channel [testchannel27485-02] exists and visible to [org2][m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true ./add-org-to-channel.sh testchannel27485 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel27485 org1 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 3_api Test(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel27485 org1 org2 VERIFY: test-channel-add-org.sh testchannel27485 org1 org2
[1;36mAdd [org2] to the [testchannel27485] channel using API[m[m[m
[1;36mAdd [org2] to the [testchannel27485] channel using API[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzgyMX0.P9RPiDfKpIz-1QSK6uzaReZ7ORaQyxSUKqaQ9UUk00k"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzgyMX0.P9RPiDfKpIz-1QSK6uzaReZ7ORaQyxSUKqaQ9UUk00k", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzgyMX0.P9RPiDfKpIz-1QSK6uzaReZ7ORaQyxSUKqaQ9UUk00k
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel27485/orgs {"orgId":"org2","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzgyMX0.P9RPiDfKpIz-1QSK6uzaReZ7ORaQyxSUKqaQ9UUk00k
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization [org2] added to [testchannel27485] channel[m[m[m
[1;35m
Verifing if the [org2] added to [testchannel27485][m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-07 13:57:04.372 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:57:04.375 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-04-07 13:57:04.376 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-04-07 13:57:04.376 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQU03TW1PSzF2WUdLMiszS2ZZcW5oam93Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekl1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TkRBMk1EYzBPVEF3V2hjTk16QXdOREEwTURjME9UQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1pNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQkJwc2ZEQ2NHRXZPenVsTTF2L2FyYkdyVlA5TEtzaVkKRU1TcWVrNEpxSFQwdXBMWmU0YWxzRkxJME4zRi92NDJQU1ZJTk85N3ZST3JtanplYWRUdExXV2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUhDaENPK1RsbHB2CmVKSWc5TzQwQlBpWFlSQnpYRDcreEdIZ1lGKy93K2hXTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUJjYzJMbWkKQUtxbVMrQytCV0xSRGVqU2o0RlloQk12Y05IYlBJQnAxSUZKQWlBYzZVOThHNitOZ3ZKWWZrNlNobmQ3L2IrWgpiUHdsa3l3K3dIQVptQW9WcGc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZlZ0F3SUJBZ0lRZEJYMjJrdTVnZW1QU1FqeHRUNldXREFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREEwTURZd056UTVNREJhRncwek1EQTBNRFF3TnpRNU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKelMrWk1JZjZoNHB1dVUxYjluanFzNFZ3WVQ4YStIMlN5TXYwUDN5T25jY2ptd0VSaTFOUStVMkZYVTBkcFBJVgpjOTVFWFYwbDNGTStHbVMzUkM2OXZLTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQncKb1Fqdms1WmFiM2lTSVBUdU5BVDRsMkVRYzF3Ky9zUmg0R0JmdjhQb1ZqQUtCZ2dxaGtqT1BRUURBZ05JQURCRgpBaUVBeXlHYlBlNG5HZkR2QmJ2STZlYVJVZzN1OG15ekRHT1pQS1p2WmE5bWxVUUNJSDhiOVkzUkthSTEwUXJFCk5PRUZld1RqRi9vM2xDei92U1VqZWJRN0xIT1IKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU5ManpNdVpEZXU2S0hhdGF0RUNTYWN3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpJdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd05EQTJNRGMwT1RBd1doY05NekF3TkRBME1EYzAKT1RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCSzdqVEFabVF1UlJkUTlGZ0dpa3FheUhDdjVWeWx6WmxvSVdtQUE2eFFENGgvS1NlWHNzTTZQVQo2YjZ3dGREOVRCN3BCUnVxNm8zYWQzVm80OEJObVdpamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWcrZTBSQjJBcTNHMXZpQjFLYzBnWWJNOEt3TmZDVUh6S0VwYzJkbzcvT2U4d0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdOU0NCbnMrc1ZZQkh4dTBCTlJNZFJlOFF5K2tiams1NmhFUkwyUWkyU3BjQ0lIV3c5WXdSCktqdVhySHNZSUlvcW5iSllsUHhWenVLdmhpVXM4RnZJVDF5ZgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileg4s0HY _org2_
org2
[1;32mOK: Organization [org2] is in the channel [testchannel27485][m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true ./add-org-to-channel.sh testchannel27485-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel27485-02 org2 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 4_api Test(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel27485-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel27485-02 org2 org1
[1;36mAdd [org1] to the [testchannel27485-02] channel using API[m[m[m
[1;36mAdd [org1] to the [testchannel27485-02] channel using API[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzgyNX0.chsAiIlJ-eL1WacKOPgG3WmawUtadNP2iEPyGqGxeUs"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzgyNX0.chsAiIlJ-eL1WacKOPgG3WmawUtadNP2iEPyGqGxeUs", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzgyNX0.chsAiIlJ-eL1WacKOPgG3WmawUtadNP2iEPyGqGxeUs
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel27485-02/orgs {"orgId":"org1","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzgyNX0.chsAiIlJ-eL1WacKOPgG3WmawUtadNP2iEPyGqGxeUs
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization [org1] added to [testchannel27485-02] channel[m[m[m
[1;35m
Verifing if the [org1] added to [testchannel27485-02][m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-07 13:57:07.391 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-07 13:57:07.394 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-04-07 13:57:07.396 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-04-07 13:57:07.396 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWIrZ0F3SUJBZ0lRUW9CV1ArRElsWUVBcHJrRlU0RDYvREFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NUzVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREEwTURZd056UTVNREJhRncwek1EQTBNRFF3TnpRNU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeExtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFWnVucGhMNnpWUWpZUGtKR2xrRko0RTJObDEzRkh0aUQKQTEvd0lCV1BqdUJZVkNhcmJsVjh0M3ZEbHZjVE10SmdKWnl3QVExUnJrRitMbURvbDVHMGpxTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnUGlBQUVOZGRqZmVTCmMzS00vMm42QkpmWjM5Vndhb21KRmx2MjRMaS9qb1V3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQU1IY2dmUWwKNlFJQi9oNU5jeVpRaU5GS2RUTDdjT0lZVnk5Szdod1FXbDBuQWlBelJnaHQySGpPUmtQTEpNclJYWk5ORHUyYQpnZkY3QXpzYjZYeWlLOGZ4T0E9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVakNDQWZpZ0F3SUJBZ0lSQU9QeTVWUWJtMzFhUVZLQlVFQXUzR2N3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TkRBMk1EYzBPVEF3V2hjTk16QXdOREEwTURjME9UQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQkJaK3JLeWROOVpHeEFqNGFjY0VUOUFZTDRaR2ZKTzZMOTBPM3VWTTcyMUhWR1ZhY1VvdjBEaHp4dnVMREpsZgpzejlNYjduUlBnaFdJRm1yWUREVnhNV2piVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKUGlBQUVOZGRqZmVTYzNLTS8ybjZCSmZaMzlWd2FvbUpGbHYyNExpL2pvVXdDZ1lJS29aSXpqMEVBd0lEU0FBdwpSUUloQUt4S1NldEtReUZHQmpyMWhUZHRPY1VFMmZ0VWNZSkpiM2lZbDBxaklkWkZBaUJ0S1RzUjNHNGZyalRXCk1hMWhNZkRqVGpKTlVIYitEa2k1ZjYwYXlOMnBCQT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRTkxCdXlwUk14c1NPN2piczFSUkV0akFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBME1EWXdOelE1TURCYUZ3MHpNREEwTURRd056UTUKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN4TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN4TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVCS1VDQVErblczbnNlNmN0cFRYcGhSZEZTRXJXTmpzR2RiWWZ4STRVajZ5SzhZcVUvdUw3S0ZabQpYR01uK0g1YkxUNnJUT3ByT3llckRvTjNZRXFWNnFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDREMxWjVIMUhnR1JiNnduZG9NVFZNN0ErNHVMYm84RGNoMVJSc09hbXBnQURBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFuUFIxQmljd1JxaU00VXhEcWlaaXRscmRHajdBVUtMM2RVTDRGbGZ4c3FrQ0lHZ0JEREpSCjFXVHQrN255d09SZWo1cEU1d01UVXNhOStrbGJjUUlrTXB6aQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileRL4tIq _org1_
org1
[1;32mOK: Organization [org1] is in the channel [testchannel27485-02][m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=true ./join-channel.sh testchannel27485 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel27485 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 5_api Test(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: join-channel.sh testchannel27485 org1 VERIFY: test-join-channel.sh testchannel27485 org1
[1;36mJoining org1.example.com to the [testchannel27485] channel using API...[m[m[m
[1;36mJoining org1.example.com to the [testchannel27485] channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzgyOH0.G0kBXfJ8qACKx99jKD_IWgjooOcK5PHj-Y0oexS6L9M"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzgyOH0.G0kBXfJ8qACKx99jKD_IWgjooOcK5PHj-Y0oexS6L9M", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzgyOH0.G0kBXfJ8qACKx99jKD_IWgjooOcK5PHj-Y0oexS6L9M
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel27485 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzgyOH0.G0kBXfJ8qACKx99jKD_IWgjooOcK5PHj-Y0oexS6L9M
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/03-add-join-test/fs_network_test.log for logs.[m[m[m
[1;35m
Verifing if the [org1] has joined the [testchannel27485] channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-07 13:57:09.252 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The [org1] has joined the [testchannel27485] channel[m[m[m
Step 5_api: exit code 0
NO_RED_OUTPUT=true ./join-channel.sh testchannel27485 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel27485 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 6_api Test(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: join-channel.sh testchannel27485 org2 VERIFY: test-join-channel.sh testchannel27485 org2
[1;36mJoining org2.example.com to the [testchannel27485] channel using API...[m[m[m
[1;36mJoining org2.example.com to the [testchannel27485] channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzgyOX0.8Yq5ipMQdV1QKG1WE_IaiuOTaBxmJ5xEYsgCquG93vA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzgyOX0.8Yq5ipMQdV1QKG1WE_IaiuOTaBxmJ5xEYsgCquG93vA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzgyOX0.8Yq5ipMQdV1QKG1WE_IaiuOTaBxmJ5xEYsgCquG93vA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel27485 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2NzgyOX0.8Yq5ipMQdV1QKG1WE_IaiuOTaBxmJ5xEYsgCquG93vA
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/03-add-join-test/fs_network_test.log for logs.[m[m[m
[1;35m
Verifing if the [org2] has joined the [testchannel27485] channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-07 13:57:20.369 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The [org2] has joined the [testchannel27485] channel[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true ./join-channel.sh testchannel27485-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel27485-02 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 7_api Test(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: join-channel.sh testchannel27485-02 org1 VERIFY: test-join-channel.sh testchannel27485-02 org1
[1;36mJoining org1.example.com to the [testchannel27485-02] channel using API...[m[m[m
[1;36mJoining org1.example.com to the [testchannel27485-02] channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2Nzg0MH0.BBwxyDW2yIZY80NpkuPYjdHTP66sZEXY3YYapYBJl7E"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2Nzg0MH0.BBwxyDW2yIZY80NpkuPYjdHTP66sZEXY3YYapYBJl7E", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2Nzg0MH0.BBwxyDW2yIZY80NpkuPYjdHTP66sZEXY3YYapYBJl7E
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel27485-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2Nzg0MH0.BBwxyDW2yIZY80NpkuPYjdHTP66sZEXY3YYapYBJl7E
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/03-add-join-test/fs_network_test.log for logs.[m[m[m
[1;35m
Verifing if the [org1] has joined the [testchannel27485-02] channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-07 13:57:31.469 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The [org1] has joined the [testchannel27485-02] channel[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=true ./join-channel.sh testchannel27485-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel27485-02 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 8_api Test(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: join-channel.sh testchannel27485-02 org2 VERIFY: test-join-channel.sh testchannel27485-02 org2
[1;36mJoining org2.example.com to the [testchannel27485-02] channel using API...[m[m[m
[1;36mJoining org2.example.com to the [testchannel27485-02] channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2Nzg1MX0.z-bnNf-ztwBk8w5D0uh_sZV3OOJdY0FLVaAcv9n7bNE"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2Nzg1MX0.z-bnNf-ztwBk8w5D0uh_sZV3OOJdY0FLVaAcv9n7bNE", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2Nzg1MX0.z-bnNf-ztwBk8w5D0uh_sZV3OOJdY0FLVaAcv9n7bNE
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel27485-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NjI2Nzg1MX0.z-bnNf-ztwBk8w5D0uh_sZV3OOJdY0FLVaAcv9n7bNE
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/03-add-join-test/fs_network_test.log for logs.[m[m[m
[1;35m
Verifing if the [org2] has joined the [testchannel27485-02] channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-07 13:57:33.090 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The [org2] has joined the [testchannel27485-02] channel[m[m[m
Step 8_api: exit code 0
